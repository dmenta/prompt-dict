import{a as y}from"./chunk-57LMCCTW.js";import"./chunk-JHNVVYYG.js";import{i as S}from"./chunk-WFBA5KNS.js";import{b as f,c as b,e as h,k as g,l as P}from"./chunk-CGHR5CX3.js";import"./chunk-TPASMASA.js";import{Ab as r,R as o,Wa as s,Xa as a,Ya as p,Za as u,cb as c,gc as v,qa as m,ua as l,ya as d}from"./chunk-I6ZPJPS5.js";var D=class n{notificationService=o(g);router=o(h);route=o(b);persist=o(P);data=v(this.route.data);prompts=r(()=>this.data().item.prompts);titulo=r(()=>this.data().item.name);subtitulo=r(()=>this.resolvedSubtitulo(this.prompts().length,this.data().type.lowercase));borrable=r(()=>this.prompts().length<=0);constructor(t){t.setTitle(`${this.data()?.item.name} | ${this.data()?.type.title} | Prompter`)}onDelete(t){t.stopPropagation(),this.borrable()&&(this.data()?.type.lowercase==="etiqueta"?this.persist.deleteTag(this.data()?.item.name).then(()=>{this.notificationService.success("Etiqueta eliminada."),this.router.navigate(["/"])}):this.persist.deleteCategory(this.data()?.item.name).then(()=>{this.notificationService.success("Categor\xEDa eliminada."),this.router.navigate(["/"])}))}resolvedSubtitulo(t,e){return`${t===0?"Ning\xFAn prompt asociado":t===1?"1 prompt asociado":`${t.toFixed(0)} prompts asociados`} a esta ${e}`}static \u0275fac=function(e){return new(e||n)(l(f))};static \u0275cmp=d({type:n,selectors:[["pd-prompts"]],hostAttrs:[1,"w-full"],decls:3,vars:4,consts:[["pd-section-header","",3,"delete","titulo","subtitulo","enabled"],[1,"flex","flex-row","w-full"],["pd-prompts-list","",1,"p-4",3,"prompts"]],template:function(e,i){e&1&&(a(0,"header",0),c("delete",function(N){return i.onDelete(N)}),p(),a(1,"div",1),u(2,"ul",2),p()),e&2&&(s("titulo",i.titulo())("subtitulo",i.subtitulo())("enabled",i.borrable()),m(2),s("prompts",i.prompts()))},dependencies:[y,S],encapsulation:2})};export{D as Prompts};
