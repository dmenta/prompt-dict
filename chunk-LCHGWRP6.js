import{a as y}from"./chunk-CS4VNWDP.js";import"./chunk-MAT2S25T.js";import{i as S}from"./chunk-POV2OSQA.js";import{b,c as f,e as g,k as v,l as P}from"./chunk-6SNPESNM.js";import"./chunk-KAYDDCMO.js";import{Ab as r,R as o,Wa as s,Xa as a,Ya as p,Za as u,cb as c,gc as h,qa as m,ua as l,ya as d}from"./chunk-XLGPZSE3.js";var D=class n{notificationService=o(v);router=o(g);route=o(f);persist=o(P);data=h(this.route.data);prompts=r(()=>this.data().item.prompts);titulo=r(()=>this.data().item.name);subtitulo=r(()=>this.resolvedSubtitulo(this.prompts().length,this.data().type.lowercase));borrable=r(()=>this.prompts().length<=0);constructor(t){t.setTitle(`${this.data()?.item.name} | ${this.data()?.type.title} | Prompter`)}onDelete(t){t.stopPropagation(),this.borrable()&&(this.data()?.type.lowercase==="etiqueta"?this.persist.deleteTag(this.data()?.item.name).subscribe(()=>{this.notificationService.success("Etiqueta eliminada."),this.router.navigate(["/"])}):this.persist.deleteCategory(this.data()?.item.name).subscribe(()=>{this.notificationService.success("Categor\xEDa eliminada."),this.router.navigate(["/"])}))}resolvedSubtitulo(t,e){return`${t===0?"Ning\xFAn prompt asociado":t===1?"1 prompt asociado":`${t.toFixed(0)} prompts asociados`} a esta ${e}`}static \u0275fac=function(e){return new(e||n)(l(b))};static \u0275cmp=d({type:n,selectors:[["pd-prompts"]],hostAttrs:[1,"w-full"],decls:3,vars:4,consts:[["pd-section-header","",3,"delete","titulo","subtitulo","enabled"],[1,"flex","flex-row","w-full"],["pd-prompts-list","",1,"p-4",3,"prompts"]],template:function(e,i){e&1&&(a(0,"header",0),c("delete",function(N){return i.onDelete(N)}),p(),a(1,"div",1),u(2,"ul",2),p()),e&2&&(s("titulo",i.titulo())("subtitulo",i.subtitulo())("enabled",i.borrable()),m(2),s("prompts",i.prompts()))},dependencies:[y,S],encapsulation:2})};export{D as Prompts};
