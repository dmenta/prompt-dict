import{a as C}from"./chunk-T4IIE2DQ.js";import{A as i,G as u,J as g,K as v,L as p,M as y,N as h,O as r,ma as l,n,pa as P,ra as T,t as c,x as f,ya as b,z as d}from"./chunk-5IZH2XXH.js";var S=(s,o)=>o.id;function L(s,o){if(s&1&&r(0,"pd-display-prompt",1),s&2){let t=o.$implicit;p("prompt",t),u("tabindex",1)}}var m=class s{info=l(null);prompts=l([]);static \u0275fac=function(t){return new(t||s)};static \u0275cmp=i({type:s,selectors:[["pd-prompts-list"]],inputs:{info:[1,"info"],prompts:[1,"prompts"]},decls:3,vars:0,consts:[[1,"space-y-2","p-4","flex","flex-col","h-full","overflow-y-auto",2,"scroll-snap-type","y mandatory"],[2,"scroll-margin-top",".25rem","; scroll-snap-align","start",3,"prompt"]],template:function(t,e){t&1&&(y(0,"div",0),g(1,L,1,2,"pd-display-prompt",1,S),h()),t&2&&(f(),v(e.prompts()))},dependencies:[C],encapsulation:2})};var D=class s{constructor(o){this.title=o;this.activatedRoute.queryParams.subscribe(t=>{if(t.search){let e=t.search.trim().toLowerCase();this.title.setTitle(`B\xFAsqueda | Resultado para '${e}'`),this.prompts.set(this.persistService.search(e).prompts||[])}else if(t.tag){let e=this.persistService.tags().filter(x=>x.slug===t.tag);this.title.setTitle(`Etiqueta | ${e[0].text}`);let a=e[0].prompts||[];this.prompts.set(a)}else if(t.category){let{info:e,prompts:a}=this.persistService.byCategory(t.category);e?(this.title.setTitle(`Categor\xEDa | ${e.name}`),this.prompts.set(a)):(this.title.setTitle("Categor\xEDa no encontrada"),this.prompts.set([]))}else this.prompts.set(this.persistService.prompts()),this.title.setTitle("Todos los prompts")})}persistService=n(b);activatedRoute=n(T);prompts=c([]);static \u0275fac=function(t){return new(t||s)(d(P))};static \u0275cmp=i({type:s,selectors:[["pd-prompts"]],decls:1,vars:1,consts:[[3,"prompts"]],template:function(t,e){t&1&&r(0,"pd-prompts-list",0),t&2&&p("prompts",e.prompts())},dependencies:[m],encapsulation:2})};export{D as Prompts};
