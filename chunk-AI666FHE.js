import{a as k,f as w,k as E}from"./chunk-JFO7NQ7A.js";import{b as _,c as b,e as S,k as D,l as C}from"./chunk-56MKBBLP.js";import"./chunk-TPASMASA.js";import{Ab as g,R as a,Ua as v,Va as y,Wa as l,Xa as n,Ya as s,Za as h,ca as m,cb as f,eb as P,gc as T,qa as c,ua as d,ya as u}from"./chunk-I6ZPJPS5.js";var F=(o,e)=>e.key;function x(o,e){if(o&1&&h(0,"li",3),o&2){let t=e.$implicit,r=P();l("label",t.label)("value",r.prompt()[t.key])}}var M=class o{notificationService=a(D);persistService=a(C);url=m(window.location.href);route=a(b);router=a(S);data=T(this.route.data);copyService=a(k);prompt=g(()=>this.data().prompt);displayProperties=[{label:"T\xEDtulo",key:"titulo"},{label:"Texto",key:"prompt"},{label:"Descripci\xF3n",key:"descripcion"},{label:"Autor",key:"autor"},{label:"Categor\xEDa",key:"categoria"},{label:"Creado",key:"fecha_creacion"},{label:"Etiquetas",key:"tags"},{label:"ID",key:"id"}];constructor(e){e.setTitle(`${this.prompt().titulo} | Prompter`)}onDelete(e){e.stopPropagation(),this.persistService.deletePrompt(this.prompt().id).then(()=>{this.notificationService.success("Prompt eliminado"),this.router.navigate(["/"])}).catch(t=>{this.notificationService.warn("Error al eliminar el prompt: "+t.message)})}onCopyPrompt(e){e.stopPropagation(),this.copyService.copy(this.prompt().prompt)}async onShare(e){if(e.stopPropagation(),!navigator.canShare){this.copyService.copy(this.url());return}let t=this.prompt(),r=this.url(),p={title:"Prompter",text:t.titulo,url:r};if(navigator.canShare(p))try{await navigator.share(p)}catch(i){console.warn("Error al compartir el prompt:",i)}else this.copyService.copy(this.url())}static \u0275fac=function(t){return new(t||o)(d(_))};static \u0275cmp=u({type:o,selectors:[["pd-prompt-detail"]],hostAttrs:[1,"w-full"],decls:5,vars:1,consts:[["pd-detail-header","",3,"delete","copyPrompt","share","titulo"],[1,"px-6","py-6","w-full"],[1,"divide-y-[0.5px]","divide-gray-500/50","space-y-2"],["pd-key-value-item","",3,"label","value"]],template:function(t,r){t&1&&(n(0,"header",0),f("delete",function(i){return r.onDelete(i)})("copyPrompt",function(i){return r.onCopyPrompt(i)})("share",function(i){return r.onShare(i)}),s(),n(1,"div",1)(2,"ul",2),v(3,x,1,2,"li",3,F),s()()),t&2&&(l("titulo",r.prompt().titulo),c(3),y(r.displayProperties))},dependencies:[w,E],encapsulation:2})};export{M as PromptDetail};
