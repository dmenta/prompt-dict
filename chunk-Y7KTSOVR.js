import{a as T}from"./chunk-WT7NN2W6.js";import{A as i,G as u,J as g,K as v,L as r,M as y,N as P,O as m,la as l,n as a,oa as h,qa as C,t as c,x as f,xa as b,z as d}from"./chunk-XUFONYM2.js";var N=(s,o)=>o.id;function S(s,o){if(s&1&&m(0,"pd-display-prompt",1),s&2){let t=o.$implicit;r("prompt",t),u("tabindex",1)}}var n=class s{info=l(null);prompts=l([]);static \u0275fac=function(t){return new(t||s)};static \u0275cmp=i({type:s,selectors:[["pd-prompts-list"]],inputs:{info:[1,"info"],prompts:[1,"prompts"]},decls:3,vars:0,consts:[[1,"space-y-2","mt-1","p-4","flex","flex-col","h-full","overflow-y-auto",2,"scroll-snap-type","y mandatory"],[2,"scroll-snap-align","start",3,"prompt"]],template:function(t,e){t&1&&(y(0,"div",0),g(1,S,1,2,"pd-display-prompt",1,N),P()),t&2&&(f(),v(e.prompts()))},dependencies:[T],encapsulation:2})};var D=class s{constructor(o){this.title=o;this.activatedRoute.queryParams.subscribe(t=>{if(t.search){let e=t.search.toLowerCase();this.prompts.set(this.persistService.prompts().filter(p=>p.prompt.toLowerCase().includes(e)))}else if(t.tag){let e=this.persistService.tags().filter(x=>x.slug===t.tag);this.title.setTitle(`Etiqueta | ${e[0].text}`);let p=e[0].prompts||[];this.prompts.set(p)}else if(t.category){let{info:e,prompts:p}=this.persistService.promptsOfCategory(t.category);e?(this.title.setTitle(`Categor\xEDa | ${e.name}`),this.prompts.set(p)):(this.title.setTitle("Categor\xEDa no encontrada"),this.prompts.set([]))}else this.prompts.set(this.persistService.prompts()),this.title.setTitle("Todos los prompts")})}persistService=a(b);activatedRoute=a(C);prompts=c([]);static \u0275fac=function(t){return new(t||s)(d(h))};static \u0275cmp=i({type:s,selectors:[["pd-prompts"]],decls:1,vars:1,consts:[[3,"prompts"]],template:function(t,e){t&1&&m(0,"pd-prompts-list",0),t&2&&r("prompts",e.prompts())},dependencies:[n],encapsulation:2})};export{D as Prompts};
