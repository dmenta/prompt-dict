var _k=Object.defineProperty,Ek=Object.defineProperties;var Ik=Object.getOwnPropertyDescriptors;var VD=Object.getOwnPropertySymbols;var wk=Object.prototype.hasOwnProperty,Dk=Object.prototype.propertyIsEnumerable;var jD=(n,e,t)=>e in n?_k(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,k=(n,e)=>{for(var t in e||={})wk.call(e,t)&&jD(n,t,e[t]);if(VD)for(var t of VD(e))Dk.call(e,t)&&jD(n,t,e[t]);return n},W=(n,e)=>Ek(n,Ik(e));function q(n){return typeof n=="function"}function ig(n){return q(n?.lift)}function ae(n){return e=>{if(ig(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Oo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var cl=Oo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ti(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Pe=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(q(r))try{r()}catch(o){e=o instanceof cl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{UD(o)}catch(s){e=e??[],s instanceof cl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new cl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)UD(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ti(t,e)}remove(e){let{_finalizers:t}=this;t&&Ti(t,e),e instanceof n&&e._removeParent(this)}};Pe.EMPTY=(()=>{let n=new Pe;return n.closed=!0,n})();var og=Pe.EMPTY;function ul(n){return n instanceof Pe||n&&"closed"in n&&q(n.remove)&&q(n.add)&&q(n.unsubscribe)}function UD(n){q(n)?n():n.unsubscribe()}var sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Fo={setTimeout(n,e,...t){let{delegate:r}=Fo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Fo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ll(n){Fo.setTimeout(()=>{let{onUnhandledError:e}=sn;if(e)e(n);else throw n})}function Ga(){}var BD=sg("C",void 0,void 0);function $D(n){return sg("E",void 0,n)}function HD(n){return sg("N",n,void 0)}function sg(n,e,t){return{kind:n,value:e,error:t}}var Ci=null;function Lo(n){if(sn.useDeprecatedSynchronousErrorHandling){let e=!Ci;if(e&&(Ci={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Ci;if(Ci=null,t)throw r}}else n()}function qD(n){sn.useDeprecatedSynchronousErrorHandling&&Ci&&(Ci.errorThrown=!0,Ci.error=n)}var bi=class extends Pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ul(e)&&e.add(this)):this.destination=bk}static create(e,t,r){return new Vo(e,t,r)}next(e){this.isStopped?cg(HD(e),this):this._next(e)}error(e){this.isStopped?cg($D(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?cg(BD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Tk=Function.prototype.bind;function ag(n,e){return Tk.call(n,e)}var ug=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){dl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){dl(r)}else dl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){dl(t)}}},Vo=class extends bi{constructor(e,t,r){super();let i;if(q(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&sn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ag(e.next,o),error:e.error&&ag(e.error,o),complete:e.complete&&ag(e.complete,o)}):i=e}this.destination=new ug(i)}};function dl(n){sn.useDeprecatedSynchronousErrorHandling?qD(n):ll(n)}function Ck(n){throw n}function cg(n,e){let{onStoppedNotification:t}=sn;t&&Fo.setTimeout(()=>t(n,e))}var bk={closed:!0,next:Ga,error:Ck,complete:Ga};function ie(n,e,t,r,i){return new lg(n,e,t,r,i)}var lg=class extends bi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ce(n,e){return ae((t,r)=>{let i=0;t.subscribe(ie(r,o=>{r.next(n.call(e,o,i++))}))})}function Mt(n,e){return ae((t,r)=>{let i=0;t.subscribe(ie(r,o=>n.call(e,o,i++)&&r.next(o)))})}var jo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Lt(n){return n}function dg(...n){return hg(n)}function hg(n){return n.length===0?Lt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var J=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=Ak(t)?t:new Vo(t,r,i);return Lo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=zD(r),new r((i,o)=>{let s=new Vo({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[jo](){return this}pipe(...t){return hg(t)(this)}toPromise(t){return t=zD(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function zD(n){var e;return(e=n??sn.Promise)!==null&&e!==void 0?e:Promise}function Sk(n){return n&&q(n.next)&&q(n.error)&&q(n.complete)}function Ak(n){return n&&n instanceof bi||Sk(n)&&ul(n)}function Uo(){return ae((n,e)=>{let t=null;n._refCount++;let r=ie(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Bo=class extends J{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ig(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pe;let t=this.getSubject();e.add(this.source.subscribe(ie(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pe.EMPTY)}return e}refCount(){return Uo()(this)}};var GD=Oo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ve=(()=>{class n extends J{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new hl(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new GD}next(t){Lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?og:(this.currentObservers=null,o.push(t),new Pe(()=>{this.currentObservers=null,Ti(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new J;return t.source=this,t}}return n.create=(e,t)=>new hl(e,t),n})(),hl=class extends Ve{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:og}};var ct=class extends Ve{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var fg={now(){return(fg.delegate||Date).now()},delegate:void 0};var fl=class extends Pe{constructor(e,t){super()}schedule(e,t=0){return this}};var Wa={setInterval(n,e,...t){let{delegate:r}=Wa;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Wa;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var $o=class extends fl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Wa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Wa.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ti(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Ho=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Ho.now=fg.now;var qo=class extends Ho{constructor(e,t=Ho.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Pr=new qo($o),pg=Pr;var pl=class extends $o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var gl=class extends qo{};var gg=new gl(pl);var Pt=new J(n=>n.complete());function ml(n){return n&&q(n.schedule)}function WD(n){return n[n.length-1]}function yl(n){return q(WD(n))?n.pop():void 0}function kr(n){return ml(WD(n))?n.pop():void 0}function mg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function QD(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function KD(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Si(n){return this instanceof Si?(this.v=n,this):new Si(n)}function YD(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(I){return Promise.resolve(I).then(y,p)}}function a(y,I){r[y]&&(i[y]=function(S){return new Promise(function(R,x){o.push([y,S,R,x])>1||u(y,S)})},I&&(i[y]=I(i[y])))}function u(y,I){try{l(r[y](I))}catch(S){g(o[0][3],S)}}function l(y){y.value instanceof Si?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,I){y(I),o.shift(),o.length&&u(o[0][0],o[0][1])}}function ZD(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof KD=="function"?KD(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var zo=n=>n&&typeof n.length=="number"&&typeof n!="function";function vl(n){return q(n?.then)}function _l(n){return q(n[jo])}function El(n){return Symbol.asyncIterator&&q(n?.[Symbol.asyncIterator])}function Il(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Rk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var wl=Rk();function Dl(n){return q(n?.[wl])}function Tl(n){return YD(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Si(t.read());if(i)return yield Si(void 0);yield yield Si(r)}}finally{t.releaseLock()}})}function Cl(n){return q(n?.getReader)}function be(n){if(n instanceof J)return n;if(n!=null){if(_l(n))return Nk(n);if(zo(n))return Mk(n);if(vl(n))return Pk(n);if(El(n))return JD(n);if(Dl(n))return kk(n);if(Cl(n))return xk(n)}throw Il(n)}function Nk(n){return new J(e=>{let t=n[jo]();if(q(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Mk(n){return new J(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function Pk(n){return new J(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ll)})}function kk(n){return new J(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function JD(n){return new J(e=>{Ok(n,e).catch(t=>e.error(t))})}function xk(n){return JD(Tl(n))}function Ok(n,e){var t,r,i,o;return QD(this,void 0,void 0,function*(){try{for(t=ZD(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function kt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function xr(n,e=0){return ae((t,r)=>{t.subscribe(ie(r,i=>kt(r,n,()=>r.next(i),e),()=>kt(r,n,()=>r.complete(),e),i=>kt(r,n,()=>r.error(i),e)))})}function Or(n,e=0){return ae((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function XD(n,e){return be(n).pipe(Or(e),xr(e))}function eT(n,e){return be(n).pipe(Or(e),xr(e))}function tT(n,e){return new J(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function nT(n,e){return new J(t=>{let r;return kt(t,e,()=>{r=n[wl](),kt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>q(r?.return)&&r.return()})}function bl(n,e){if(!n)throw new Error("Iterable cannot be null");return new J(t=>{kt(t,e,()=>{let r=n[Symbol.asyncIterator]();kt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function rT(n,e){return bl(Tl(n),e)}function iT(n,e){if(n!=null){if(_l(n))return XD(n,e);if(zo(n))return tT(n,e);if(vl(n))return eT(n,e);if(El(n))return bl(n,e);if(Dl(n))return nT(n,e);if(Cl(n))return rT(n,e)}throw Il(n)}function Re(n,e){return e?iT(n,e):be(n)}function Z(...n){let e=kr(n);return Re(n,e)}function Go(n,e){let t=q(n)?n:()=>n,r=i=>i.error(t());return new J(e?i=>e.schedule(r,0,i):r)}function yg(n){return!!n&&(n instanceof J||q(n.lift)&&q(n.subscribe))}var Zn=Oo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function oT(n){return n instanceof Date&&!isNaN(n)}var{isArray:Fk}=Array;function Lk(n,e){return Fk(e)?n(...e):n(e)}function Wo(n){return ce(e=>Lk(n,e))}var{isArray:Vk}=Array,{getPrototypeOf:jk,prototype:Uk,keys:Bk}=Object;function Sl(n){if(n.length===1){let e=n[0];if(Vk(e))return{args:e,keys:null};if($k(e)){let t=Bk(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function $k(n){return n&&typeof n=="object"&&jk(n)===Uk}function Al(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Rl(...n){let e=kr(n),t=yl(n),{args:r,keys:i}=Sl(n);if(r.length===0)return Re([],e);let o=new J(Hk(r,e,i?s=>Al(i,s):Lt));return t?o.pipe(Wo(t)):o}function Hk(n,e,t=Lt){return r=>{sT(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)sT(e,()=>{let l=Re(n[u],e),h=!1;l.subscribe(ie(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function sT(n,e,t){n?kt(t,n,e):e()}function aT(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=S=>l<r?I(S):u.push(S),I=S=>{o&&e.next(S),l++;let R=!1;be(t(S,h++)).subscribe(ie(e,x=>{i?.(x),o?y(x):e.next(x)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let x=u.shift();s?kt(e,s,()=>I(x)):I(x)}g()}catch(x){e.error(x)}}))};return n.subscribe(ie(e,y,()=>{p=!0,g()})),()=>{a?.()}}function ke(n,e,t=1/0){return q(e)?ke((r,i)=>ce((o,s)=>e(r,o,i,s))(be(n(r,i))),t):(typeof e=="number"&&(t=e),ae((r,i)=>aT(r,i,n,t)))}function Ko(n=1/0){return ke(Lt,n)}function cT(){return Ko(1)}function Qo(...n){return cT()(Re(n,kr(n)))}function Ka(n){return new J(e=>{be(n()).subscribe(e)})}function vg(...n){let e=yl(n),{args:t,keys:r}=Sl(n),i=new J(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;be(t[h]).subscribe(ie(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Al(r,a):a),o.complete())}))}});return e?i.pipe(Wo(e)):i}var qk=["addListener","removeListener"],zk=["addEventListener","removeEventListener"],Gk=["on","off"];function _g(n,e,t,r){if(q(t)&&(r=t,t=void 0),r)return _g(n,e,t).pipe(Wo(r));let[i,o]=Qk(n)?zk.map(s=>a=>n[s](e,a,t)):Wk(n)?qk.map(uT(n,e)):Kk(n)?Gk.map(uT(n,e)):[];if(!i&&zo(n))return ke(s=>_g(s,e,t))(be(n));if(!i)throw new TypeError("Invalid event target");return new J(s=>{let a=(...u)=>s.next(1<u.length?u:u[0]);return i(a),()=>o(a)})}function uT(n,e){return t=>r=>n[t](e,r)}function Wk(n){return q(n.addListener)&&q(n.removeListener)}function Kk(n){return q(n.on)&&q(n.off)}function Qk(n){return q(n.addEventListener)&&q(n.removeEventListener)}function lT(n=0,e,t=pg){let r=-1;return e!=null&&(ml(e)?t=e:r=e),new J(i=>{let o=oT(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Jn(n){return ae((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ie(t,void 0,void 0,s=>{o=be(n(s,Jn(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function dT(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(ie(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Ai(n,e){return q(e)?ke(n,e,1):ke(n,1)}function Yk(n,e=Pr){return ae((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function u(){let l=s+n,h=e.now();if(h<l){i=this.schedule(void 0,l-h),r.add(i);return}a()}t.subscribe(ie(r,l=>{o=l,s=e.now(),i||(i=e.schedule(u,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function Fr(n){return ae((e,t)=>{let r=!1;e.subscribe(ie(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Xn(n){return n<=0?()=>Pt:ae((e,t)=>{let r=0;e.subscribe(ie(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Nl(n=Zk){return ae((e,t)=>{let r=!1;e.subscribe(ie(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Zk(){return new Zn}function Qa(n){return ae((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function er(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Mt((i,o)=>n(i,o,r)):Lt,Xn(1),t?Fr(e):Nl(()=>new Zn))}function Yo(n){return n<=0?()=>Pt:ae((e,t)=>{let r=[];e.subscribe(ie(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Eg(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Mt((i,o)=>n(i,o,r)):Lt,Yo(1),t?Fr(e):Nl(()=>new Zn))}function Ig(n,e){return ae(dT(n,e,arguments.length>=2,!0))}function wg(...n){let e=kr(n);return ae((t,r)=>{(e?Qo(n,t,e):Qo(n,t)).subscribe(r)})}function Wt(n,e){return ae((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ie(r,u=>{i?.unsubscribe();let l=0,h=o++;be(n(u,h)).subscribe(i=ie(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ml(n){return ae((e,t)=>{be(n).subscribe(ie(t,()=>t.complete(),Ga)),!t.closed&&e.subscribe(t)})}function nt(n,e,t){let r=q(n)||e||t?{next:n,error:e,complete:t}:n;return r?ae((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ie(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Lt}function hT(n,e){return ae((t,r)=>{let{leading:i=!0,trailing:o=!1}=e??{},s=!1,a=null,u=null,l=!1,h=()=>{u?.unsubscribe(),u=null,o&&(y(),l&&r.complete())},p=()=>{u=null,l&&r.complete()},g=I=>u=be(n(I)).subscribe(ie(r,h,p)),y=()=>{if(s){s=!1;let I=a;a=null,r.next(I),!l&&g(I)}};t.subscribe(ie(r,I=>{s=!0,a=I,!(u&&!u.closed)&&(i?y():g(I))},()=>{l=!0,!(o&&s&&u&&!u.closed)&&r.complete()}))})}function Jk(n,e=Pr,t){let r=lT(n,e);return hT(()=>r,t)}var Dg;function Pl(){return Dg}function An(n){let e=Dg;return Dg=n,e}var fT=Symbol("NotFound");function Zo(n){return n===fT||n?.name==="\u0275NotFound"}function Ll(n,e){return Object.is(n,e)}var Ye=null,kl=!1,Tg=1,Xk=null,It=Symbol("SIGNAL");function K(n){let e=Ye;return Ye=n,e}function Vl(){return Ye}var Lr={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Jo(n){if(kl)throw new Error("");if(Ye===null)return;Ye.consumerOnSignalRead(n);let e=Ye.nextProducerIndex++;if(Bl(Ye),e<Ye.producerNode.length&&Ye.producerNode[e]!==n&&Za(Ye)){let t=Ye.producerNode[e];Ul(t,Ye.producerIndexOfThis[e])}Ye.producerNode[e]!==n&&(Ye.producerNode[e]=n,Ye.producerIndexOfThis[e]=Za(Ye)?gT(n,Ye,e):0),Ye.producerLastReadVersion[e]=n.version}function pT(){Tg++}function jl(n){if(!(Za(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Tg)){if(!n.producerMustRecompute(n)&&!Xo(n)){Fl(n);return}n.producerRecomputeValue(n),Fl(n)}}function Cg(n){if(n.liveConsumerNode===void 0)return;let e=kl;kl=!0;try{for(let t of n.liveConsumerNode)t.dirty||ex(t)}finally{kl=e}}function bg(){return Ye?.consumerAllowSignalWrites!==!1}function ex(n){n.dirty=!0,Cg(n),n.consumerMarkedDirty?.(n)}function Fl(n){n.dirty=!1,n.lastCleanEpoch=Tg}function Vr(n){return n&&(n.nextProducerIndex=0),K(n)}function Ri(n,e){if(K(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Za(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Ul(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Xo(n){Bl(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(jl(t),r!==t.version))return!0}return!1}function es(n){if(Bl(n),Za(n))for(let e=0;e<n.producerNode.length;e++)Ul(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function gT(n,e,t){if(mT(n),n.liveConsumerNode.length===0&&yT(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=gT(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Ul(n,e){if(mT(n),n.liveConsumerNode.length===1&&yT(n))for(let r=0;r<n.producerNode.length;r++)Ul(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Bl(i),i.producerIndexOfThis[r]=e}}function Za(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Bl(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function mT(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function yT(n){return n.producerNode!==void 0}function $l(n){Xk?.(n)}function Hl(n,e){let t=Object.create(tx);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(jl(t),Jo(t),t.value===Ya)throw t.error;return t.value};return r[It]=t,$l(t),r}var xl=Symbol("UNSET"),Ol=Symbol("COMPUTING"),Ya=Symbol("ERRORED"),tx=W(k({},Lr),{value:xl,dirty:!0,error:null,equal:Ll,kind:"computed",producerMustRecompute(n){return n.value===xl||n.value===Ol},producerRecomputeValue(n){if(n.value===Ol)throw new Error("");let e=n.value;n.value=Ol;let t=Vr(n),r,i=!1;try{r=n.computation(),K(null),i=e!==xl&&e!==Ya&&r!==Ya&&n.equal(e,r)}catch(o){r=Ya,n.error=o}finally{Ri(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function nx(){throw new Error}var vT=nx;function _T(n){vT(n)}function Sg(n){vT=n}var rx=null;function Ag(n,e){let t=Object.create(ql);t.value=n,e!==void 0&&(t.equal=e);let r=()=>ET(t);return r[It]=t,$l(t),[r,s=>ts(t,s),s=>Rg(t,s)]}function ET(n){return Jo(n),n.value}function ts(n,e){bg()||_T(n),n.equal(n.value,e)||(n.value=e,ix(n))}function Rg(n,e){bg()||_T(n),ts(n,e(n.value))}var ql=W(k({},Lr),{equal:Ll,value:void 0,kind:"signal"});function ix(n){n.version++,pT(),Cg(n),rx?.(n)}function IT(n){let e=K(null);try{return n()}finally{K(e)}}var Ql="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",V=class extends Error{code;constructor(e,t){super(xi(e,t)),this.code=e}};function ox(n){return`NG0${Math.abs(n)}`}function xi(n,e){return`${ox(n)}${e?": "+e:""}`}var rc=globalThis;function ve(n){for(let e in n)if(n[e]===ve)return e;throw Error("")}function TT(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function nr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(nr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Yl(n,e){return n?e?`${n} ${e}`:n:e||""}var sx=ve({__forward_ref__:ve});function an(n){return n.__forward_ref__=an,n.toString=function(){return nr(this())},n}function Ze(n){return Bg(n)?n():n}function Bg(n){return typeof n=="function"&&n.hasOwnProperty(sx)&&n.__forward_ref__===an}function CT(n,e){n==null&&$g(e,n,null,"!=")}function $g(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function U(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function rr(n){return{providers:n.providers||[],imports:n.imports||[]}}function ic(n){return ax(n,Zl)}function Hg(n){return ic(n)!==null}function ax(n,e){return n.hasOwnProperty(e)&&n[e]||null}function cx(n){let e=n?.[Zl]??null;return e||null}function Mg(n){return n&&n.hasOwnProperty(Gl)?n[Gl]:null}var Zl=ve({\u0275prov:ve}),Gl=ve({\u0275inj:ve}),j=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=U({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function qg(n){return n&&!!n.\u0275providers}var zg=ve({\u0275cmp:ve}),Gg=ve({\u0275dir:ve}),Wg=ve({\u0275pipe:ve}),Kg=ve({\u0275mod:ve}),ec=ve({\u0275fac:ve}),Oi=ve({__NG_ELEMENT_ID__:ve}),wT=ve({__NG_ENV_ID__:ve});function Fi(n){return typeof n=="string"?n:n==null?"":String(n)}function Wl(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Fi(n)}var Qg=ve({ngErrorCode:ve}),bT=ve({ngErrorMessage:ve}),Xa=ve({ngTokenPath:ve});function Yg(n,e){return ST("",-200,e)}function Jl(n,e){throw new V(-201,!1)}function ux(n,e){n[Xa]??=[];let t=n[Xa],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(CT(e.provide,"Token with multi: true should have a provide property"),r=Wl(e.provide)):r=Wl(e),t[0]!==r&&n[Xa].unshift(r)}function lx(n,e){let t=n[Xa],r=n[Qg],i=n[bT]||n.message;return n.message=hx(i,r,t,e),n}function ST(n,e,t){let r=new V(e,n);return r[Qg]=e,r[bT]=n,t&&(r[Xa]=t),r}function dx(n){return n[Qg]}function hx(n,e,t=[],r=null){let i="";t&&t.length>1&&(i=` Path: ${t.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return xi(e,`${n}${o}${i}`)}var Pg;function AT(){return Pg}function wt(n){let e=Pg;return Pg=n,e}function Zg(n,e,t){let r=ic(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Jl(n,"Injector")}var fx={},Ni=fx,kg="__NG_DI_FLAG__",xg=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Mi(t)||0;try{return this.injector.get(e,r&8?null:Ni,r)}catch(i){if(Zo(i))return i;throw i}}};function px(n,e=0){let t=Pl();if(t===void 0)throw new V(-203,!1);if(t===null)return Zg(n,void 0,e);{let r=gx(e),i=t.retrieve(n,r);if(Zo(i)){if(r.optional)return null;throw i}return i}}function ne(n,e=0){return(AT()||px)(Ze(n),e)}function M(n,e){return ne(n,Mi(e))}function Mi(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function gx(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Og(n){let e=[];for(let t=0;t<n.length;t++){let r=Ze(n[t]);if(Array.isArray(r)){if(r.length===0)throw new V(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=mx(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(ne(i,o))}else e.push(ne(r))}return e}function RT(n,e){return n[kg]=e,n.prototype[kg]=e,n}function mx(n){return n[kg]}function jr(n,e){let t=n.hasOwnProperty(ec);return t?n[ec]:null}function NT(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function MT(n){return n.flat(Number.POSITIVE_INFINITY)}function Xl(n,e){n.forEach(t=>Array.isArray(t)?Xl(t,e):e(t))}function Jg(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function oc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function PT(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function kT(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function ed(n,e,t){let r=rs(n,e);return r>=0?n[r|1]=t:(r=~r,kT(n,r,e,t)),r}function td(n,e){let t=rs(n,e);if(t>=0)return n[t|1]}function rs(n,e){return yx(n,e,1)}function yx(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var cn={},Dt=[],ir=new j(""),Xg=new j("",-1),em=new j(""),tc=class{get(e,t=Ni){if(t===Ni){let i=ST("",-201);throw i.name="\u0275NotFound",i}return t}};function tm(n){return n[Kg]||null}function or(n){return n[zg]||null}function sc(n){return n[Gg]||null}function nm(n){return n[Wg]||null}function un(n){return{\u0275providers:n}}function xT(n){return un([{provide:ir,multi:!0,useValue:n}])}function OT(...n){return{\u0275providers:nd(!0,n),\u0275fromNgModule:!0}}function nd(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Xl(e,s=>{let a=s;Kl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&FT(i,o),t}function FT(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];rm(i,o=>{e(o,r)})}}function Kl(n,e,t,r){if(n=Ze(n),!n)return!1;let i=null,o=Mg(n),s=!o&&or(n);if(!o&&!s){let u=n.ngModule;if(o=Mg(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Kl(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Xl(o.imports,h=>{Kl(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&FT(l,e)}if(!a){let l=jr(i)||(()=>new i);e({provide:i,useFactory:l,deps:Dt},i),e({provide:em,useValue:i,multi:!0},i),e({provide:ir,useValue:()=>ne(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;rm(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function rm(n,e){for(let t of n)qg(t)&&(t=t.\u0275providers),Array.isArray(t)?rm(t,e):e(t)}var vx=ve({provide:String,useValue:ve});function LT(n){return n!==null&&typeof n=="object"&&vx in n}function _x(n){return!!(n&&n.useExisting)}function Ex(n){return!!(n&&n.useFactory)}function Pi(n){return typeof n=="function"}function VT(n){return!!n.useClass}var ac=new j(""),zl={},DT={},Ng;function cc(){return Ng===void 0&&(Ng=new tc),Ng}var je=class{},ki=class extends je{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Lg(e,s=>this.processProvider(s)),this.records.set(Xg,ns(void 0,this)),i.has("environment")&&this.records.set(je,ns(void 0,this));let o=this.records.get(ac);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(em,Dt,{self:!0}))}retrieve(e,t){let r=Mi(t)||0;try{return this.get(e,Ni,r)}catch(i){if(Zo(i))return i;throw i}}destroy(){Ja(this),this._destroyed=!0;let e=K(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),K(e)}}onDestroy(e){return Ja(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ja(this);let t=An(this),r=wt(void 0),i;try{return e()}finally{An(t),wt(r)}}get(e,t=Ni,r){if(Ja(this),e.hasOwnProperty(wT))return e[wT](this);let i=Mi(r),o,s=An(this),a=wt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=Cx(e)&&ic(e);h&&this.injectableDefInScope(h)?l=ns(Fg(e),zl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?cc():this.parent;return t=i&8&&t===Ni?null:t,u.get(e,t)}catch(u){let l=dx(u);throw l===-200||l===-201?new V(l,null):u}finally{wt(a),An(s)}}resolveInjectorInitializers(){let e=K(null),t=An(this),r=wt(void 0),i;try{let o=this.get(ir,Dt,{self:!0});for(let s of o)s()}finally{An(t),wt(r),K(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(nr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ze(e);let t=Pi(e)?e:Ze(e&&e.provide),r=wx(e);if(!Pi(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ns(void 0,zl,!0),i.factory=()=>Og(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=K(null);try{if(t.value===DT)throw Yg(nr(e));return t.value===zl&&(t.value=DT,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&Tx(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{K(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ze(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Fg(n){let e=ic(n),t=e!==null?e.factory:jr(n);if(t!==null)return t;if(n instanceof j)throw new V(204,!1);if(n instanceof Function)return Ix(n);throw new V(204,!1)}function Ix(n){if(n.length>0)throw new V(204,!1);let t=cx(n);return t!==null?()=>t.factory(n):()=>new n}function wx(n){if(LT(n))return ns(void 0,n.useValue);{let e=im(n);return ns(e,zl)}}function im(n,e,t){let r;if(Pi(n)){let i=Ze(n);return jr(i)||Fg(i)}else if(LT(n))r=()=>Ze(n.useValue);else if(Ex(n))r=()=>n.useFactory(...Og(n.deps||[]));else if(_x(n))r=(i,o)=>ne(Ze(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Ze(n&&(n.useClass||n.provide));if(Dx(n))r=()=>new i(...Og(n.deps));else return jr(i)||Fg(i)}return r}function Ja(n){if(n.destroyed)throw new V(205,!1)}function ns(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Dx(n){return!!n.deps}function Tx(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Cx(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Lg(n,e){for(let t of n)Array.isArray(t)?Lg(t,e):t&&qg(t)?Lg(t.\u0275providers,e):e(t)}function Je(n,e){let t;n instanceof ki?(Ja(n),t=n):t=new xg(n);let r,i=An(t),o=wt(void 0);try{return e()}finally{An(i),wt(o)}}function jT(){return AT()!==void 0||Pl()!=null}var ln=0,B=1,Q=2,qe=3,Qt=4,Tt=5,Li=6,is=7,Be=8,jt=9,Rn=10,Se=11,os=12,om=13,Vi=14,Ct=15,Br=16,ji=17,Nn=18,uc=19,sm=20,tr=21,rd=22,sr=23,Ut=24,Ui=25,De=26,UT=1,$r=6,Hr=7,lc=8,Bi=9,Xe=10;function Mn(n){return Array.isArray(n)&&typeof n[UT]=="object"}function dn(n){return Array.isArray(n)&&n[UT]===!0}function am(n){return(n.flags&4)!==0}function qr(n){return n.componentOffset>-1}function id(n){return(n.flags&1)===1}function hn(n){return!!n.template}function ss(n){return(n[Q]&512)!==0}function Pn(n){return(n[Q]&256)===256}var BT="svg",$T="math";function Yt(n){for(;Array.isArray(n);)n=n[ln];return n}function od(n,e){return Yt(e[n])}function fn(n,e){return Yt(e[n.index])}function $i(n,e){return n.data[e]}function cm(n,e){return n[e]}function um(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Zt(n,e){let t=e[n];return Mn(t)?t:t[ln]}function HT(n){return(n[Q]&4)===4}function sd(n){return(n[Q]&128)===128}function qT(n){return dn(n[qe])}function pn(n,e){return e==null?null:n[e]}function lm(n){n[ji]=0}function dm(n){n[Q]&1024||(n[Q]|=1024,sd(n)&&zr(n))}function hm(n,e){for(;n>0;)e=e[Vi],n--;return e}function dc(n){return!!(n[Q]&9216||n[Ut]?.dirty)}function ad(n){n[Rn].changeDetectionScheduler?.notify(8),n[Q]&64&&(n[Q]|=1024),dc(n)&&zr(n)}function zr(n){n[Rn].changeDetectionScheduler?.notify(0);let e=Ur(n);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!sd(e)));)e=Ur(e)}function hc(n,e){if(Pn(n))throw new V(911,!1);n[tr]===null&&(n[tr]=[]),n[tr].push(e)}function cd(n,e){if(n[tr]===null)return;let t=n[tr].indexOf(e);t!==-1&&n[tr].splice(t,1)}function Ur(n){let e=n[qe];return dn(e)?e[qe]:e}function fm(n){return n[is]??=[]}function pm(n){return n.cleanup??=[]}function zT(n,e,t,r){let i=fm(e);i.push(t),n.firstCreatePass&&pm(n).push(r,i.length-1)}var oe={lFrame:sC(null),bindingsEnabled:!0,skipHydrationRootTNode:null},fc=function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n}(fc||{}),bx=0,Vg=!1;function GT(){return oe.lFrame.elementDepthCount}function WT(){oe.lFrame.elementDepthCount++}function gm(){oe.lFrame.elementDepthCount--}function KT(){return oe.bindingsEnabled}function mm(){return oe.skipHydrationRootTNode!==null}function ym(n){return oe.skipHydrationRootTNode===n}function vm(){oe.skipHydrationRootTNode=null}function Y(){return oe.lFrame.lView}function xe(){return oe.lFrame.tView}function QT(n){return oe.lFrame.contextLView=n,n[Be]}function YT(n){return oe.lFrame.contextLView=null,n}function et(){let n=_m();for(;n!==null&&n.type===64;)n=n.parent;return n}function _m(){return oe.lFrame.currentTNode}function ZT(){let n=oe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function as(n,e){let t=oe.lFrame;t.currentTNode=n,t.isParent=e}function Em(){return oe.lFrame.isParent}function Im(){oe.lFrame.isParent=!1}function JT(){return oe.lFrame.contextLView}function wm(n){$g("Must never be called in production mode"),bx=n}function Dm(){return Vg}function cs(n){let e=Vg;return Vg=n,e}function ud(){let n=oe.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function XT(){return oe.lFrame.bindingIndex}function eC(n){return oe.lFrame.bindingIndex=n}function us(){return oe.lFrame.bindingIndex++}function ld(n){let e=oe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function tC(){return oe.lFrame.inI18n}function nC(n,e){let t=oe.lFrame;t.bindingIndex=t.bindingRootIndex=n,dd(e)}function rC(){return oe.lFrame.currentDirectiveIndex}function dd(n){oe.lFrame.currentDirectiveIndex=n}function iC(n){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Tm(){return oe.lFrame.currentQueryIndex}function hd(n){oe.lFrame.currentQueryIndex=n}function Sx(n){let e=n[B];return e.type===2?e.declTNode:e.type===1?n[Tt]:null}function Cm(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=Sx(o),i===null||(o=o[Vi],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=oe.lFrame=oC();return r.currentTNode=e,r.lView=n,!0}function fd(n){let e=oC(),t=n[B];oe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function oC(){let n=oe.lFrame,e=n===null?null:n.child;return e===null?sC(n):e}function sC(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function aC(){let n=oe.lFrame;return oe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var bm=aC;function pd(){let n=aC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function cC(n){return(oe.lFrame.contextLView=hm(n,oe.lFrame.contextLView))[Be]}function kn(){return oe.lFrame.selectedIndex}function Gr(n){oe.lFrame.selectedIndex=n}function Sm(){let n=oe.lFrame;return $i(n.tView,n.selectedIndex)}function uC(){return oe.lFrame.currentNamespace}var lC=!0;function gd(){return lC}function md(n){lC=n}function jg(n,e=null,t=null,r){let i=Am(n,e,t,r);return i.resolveInjectorInitializers(),i}function Am(n,e=null,t=null,r,i=new Set){let o=[t||Dt,OT(n)];return r=r||(typeof n=="object"?void 0:nr(n)),new ki(o,e||cc(),r||null,i)}var Ue=class n{static THROW_IF_NOT_FOUND=Ni;static NULL=new tc;static create(e,t){if(Array.isArray(e))return jg({name:""},t,e,"");{let r=e.name??"";return jg({name:r},e.parent,e.providers,r)}}static \u0275prov=U({token:n,providedIn:"any",factory:()=>ne(Xg)});static __NG_ELEMENT_ID__=-1},rt=new j(""),ut=(()=>{class n{static __NG_ELEMENT_ID__=Ax;static __NG_ENV_ID__=t=>t}return n})(),nc=class extends ut{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Pn(this._lView)}onDestroy(e){let t=this._lView;return hc(t,e),()=>cd(t,e)}};function Ax(){return new nc(Y())}var Vt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},bt=new j("",{providedIn:"root",factory:()=>{let n=M(je),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Vt),e.handleError(t))}}}),dC={provide:ir,useValue:()=>void M(Vt),multi:!0},Rx=new j("",{providedIn:"root",factory:()=>{let n=M(rt).defaultView;if(!n)return;let e=M(bt),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),M(ut).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function Nx(){return un([xT(()=>void M(Rx))])}function Ne(n,e){let[t,r,i]=Ag(n,e?.equal),o=t,s=o[It];return o.set=r,o.update=i,o.asReadonly=Rm.bind(o),o}function Rm(){let n=this[It];if(n.readonlyFn===void 0){let e=()=>this();e[It]=n,n.readonlyFn=e}return n.readonlyFn}var Kt=class{},pc=new j("",{providedIn:"root",factory:()=>!1});var Nm=new j(""),yd=new j("");var ls=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=Mx}return n})();function Mx(){return new ls(Y(),et())}var xn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ct(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new J(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),Wr=(()=>{class n{internalPendingTasks=M(xn);scheduler=M(Kt);errorHandler=M(bt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})();function Hi(...n){}var gc=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:()=>new Ug})}return n})(),Ug=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Is(n){return{toString:n}.toString()}var vd="__parameters__";function Ux(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Bx(n,e,t){return Is(()=>{let r=Ux(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(vd)?u[vd]:Object.defineProperty(u,vd,{value:[]})[vd];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var cr=RT(Bx("Optional"),8);function $x(n){return typeof n=="function"}var Sd=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function KC(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var yn=(()=>{let n=()=>QC;return n.ngInherit=!0,n})();function QC(n){return n.type.prototype.ngOnChanges&&(n.setInput=qx),Hx}function Hx(){let n=ZC(this),e=n?.current;if(e){let t=n.previous;if(t===cn)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function qx(n,e,t,r,i){let o=this.declaredInputs[r],s=ZC(n)||zx(n,{previous:cn,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Sd(l&&l.currentValue,t,u===cn),KC(n,e,i,t)}var YC="__ngSimpleChanges__";function ZC(n){return n[YC]||null}function zx(n,e){return n[YC]=e}var hC=[];var pe=function(n,e=null,t){for(let r=0;r<hC.length;r++){let i=hC[r];i(n,e,t)}};function Gx(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=QC(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Wx(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Id(n,e,t){JC(n,e,3,t)}function wd(n,e,t,r){(n[Q]&3)===t&&JC(n,e,t,r)}function Mm(n,e){let t=n[Q];(t&3)===e&&(t&=16383,t+=1,n[Q]=t)}function JC(n,e,t,r){let i=r!==void 0?n[ji]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[ji]+=65536),(a<o||o==-1)&&(Kx(n,t,e,u),n[ji]=(n[ji]&4294901760)+u+2),u++}function fC(n,e){pe(4,n,e);let t=K(null);try{e.call(n)}finally{K(t),pe(5,n,e)}}function Kx(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[Q]>>14<n[ji]>>16&&(n[Q]&3)===e&&(n[Q]+=16384,fC(a,o)):fC(a,o)}var ps=-1,zi=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function Qx(n){return(n.flags&8)!==0}function Yx(n){return(n.flags&16)!==0}function Zx(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];Jx(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function XC(n){return n===3||n===4||n===6}function Jx(n){return n.charCodeAt(0)===64}function ms(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?pC(n,t,i,null,e[++r]):pC(n,t,i,null,null))}}return n}function pC(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function eb(n){return n!==ps}function Ad(n){return n&32767}function Xx(n){return n>>16}function Rd(n,e){let t=Xx(n),r=e;for(;t>0;)r=r[Vi],t--;return r}var qm=!0;function Nd(n){let e=qm;return qm=n,e}var eO=256,tb=eO-1,nb=5,tO=0,On={};function nO(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Oi)&&(r=t[Oi]),r==null&&(r=t[Oi]=tO++);let i=r&tb,o=1<<i;e.data[n+(i>>nb)]|=o}function Md(n,e){let t=rb(n,e);if(t!==-1)return t;let r=e[B];r.firstCreatePass&&(n.injectorIndex=e.length,Pm(r.data,n),Pm(e,null),Pm(r.blueprint,null));let i=Iy(n,e),o=n.injectorIndex;if(eb(i)){let s=Ad(i),a=Rd(i,e),u=a[B].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Pm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function rb(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Iy(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=cb(i),r===null)return ps;if(t++,i=i[Vi],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ps}function zm(n,e,t){nO(n,e,t)}function rO(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(XC(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function ib(n,e,t){if(t&8||n!==void 0)return n;Jl(e,"NodeInjector")}function ob(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[jt],o=wt(void 0);try{return i?i.get(e,r,t&8):Zg(e,r,t&8)}finally{wt(o)}}return ib(r,e,t)}function sb(n,e,t,r=0,i){if(n!==null){if(e[Q]&2048&&!(r&2)){let s=aO(n,e,t,r,On);if(s!==On)return s}let o=ab(n,e,t,r,On);if(o!==On)return o}return ob(e,t,r,i)}function ab(n,e,t,r,i){let o=oO(t);if(typeof o=="function"){if(!Cm(e,n,r))return r&1?ib(i,t,r):ob(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Jl(t);else return s}finally{bm()}}else if(typeof o=="number"){let s=null,a=rb(n,e),u=ps,l=r&1?e[Ct][Tt]:null;for((a===-1||r&4)&&(u=a===-1?Iy(n,e):e[a+8],u===ps||!mC(r,!1)?a=-1:(s=e[B],a=Ad(u),e=Rd(u,e)));a!==-1;){let h=e[B];if(gC(o,a,h.data)){let p=iO(a,e,t,s,r,l);if(p!==On)return p}u=e[a+8],u!==ps&&mC(r,e[B].data[a+8]===l)&&gC(o,a,e)?(s=h,a=Ad(u),e=Rd(u,e)):a=-1}}return i}function iO(n,e,t,r,i,o){let s=e[B],a=s.data[n+8],u=r==null?qr(a)&&qm:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=Dd(a,s,t,u,l);return h!==null?vc(e,s,h,a,i):On}function Dd(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let I=s[y];if(y<u&&t===I||y>=u&&I.type===t)return y}if(i){let y=s[u];if(y&&hn(y)&&y.type===t)return u}return null}function vc(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof zi){let a=o;if(a.resolving){let y=Wl(s[t]);throw Yg(y)}let u=Nd(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],h,p=a.injectImpl?wt(a.injectImpl):null,g=Cm(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&Gx(t,s[t],e)}finally{p!==null&&wt(p),Nd(u),a.resolving=!1,bm()}}return o}function oO(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Oi)?n[Oi]:void 0;return typeof e=="number"?e>=0?e&tb:sO:e}function gC(n,e,t){let r=1<<n;return!!(t[e+(n>>nb)]&r)}function mC(n,e){return!(n&2)&&!(n&1&&e)}var qi=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return sb(this._tNode,this._lView,e,Mi(r),t)}};function sO(){return new qi(et(),Y())}function Yr(n){return Is(()=>{let e=n.prototype.constructor,t=e[ec]||Gm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[ec]||Gm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Gm(n){return Bg(n)?()=>{let e=Gm(Ze(n));return e&&e()}:jr(n)}function aO(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Q]&2048&&!ss(s);){let a=ab(o,s,t,r|2,On);if(a!==On)return a;let u=o.parent;if(!u){let l=s[sm];if(l){let h=l.get(t,On,r);if(h!==On)return h}u=cb(s),s=s[Vi]}o=u}return i}function cb(n){let e=n[B],t=e.type;return t===2?e.declTNode:t===1?n[Tt]:null}function Tc(n){return rO(et(),n)}function cO(){return ws(et(),Y())}function ws(n,e){return new mt(fn(n,e))}var mt=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=cO}return n})();function uO(n){return n instanceof mt?n.nativeElement:n}function lO(){return this._results[Symbol.iterator]()}var Pd=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ve}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=MT(e);(this._changesDetected=!NT(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=lO};function ub(n){return(n.flags&128)===128}var wy=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(wy||{}),lb=new Map,dO=0;function hO(){return dO++}function fO(n){lb.set(n[uc],n)}function Wm(n){lb.delete(n[uc])}var yC="__ngContext__";function ys(n,e){Mn(e)?(n[yC]=e[uc],fO(e)):n[yC]=e}function db(n){return fb(n[os])}function hb(n){return fb(n[Qt])}function fb(n){for(;n!==null&&!dn(n);)n=n[Qt];return n}var Km;function Dy(n){Km=n}function pb(){if(Km!==void 0)return Km;if(typeof document<"u")return document;throw new V(210,!1)}var Kd=new j("",{providedIn:"root",factory:()=>pO}),pO="ng",Qd=new j(""),Zr=new j("",{providedIn:"platform",factory:()=>"unknown"});var Yd=new j("",{providedIn:"root",factory:()=>pb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var gO="h",mO="b";var gb="r";var Ty="di",Cy="s";var mb=!1,yb=new j("",{providedIn:"root",factory:()=>mb});var vb=new j("");var hs=new WeakMap;var ds=null,km=0,Qm=class{callbacks=new Set;listener=()=>{for(let e of this.callbacks)e()}};function yO(){return new IntersectionObserver(n=>{for(let e of n)e.isIntersecting&&hs.has(e.target)&&hs.get(e.target).listener()})}function vO(n,e,t){let r=hs.get(n);return ds=ds||t(),r||(r=new Qm,ds.observe(n),hs.set(n,r),km++),r.callbacks.add(e),()=>{hs.has(n)&&(r.callbacks.delete(e),r.callbacks.size===0&&(ds?.unobserve(n),hs.delete(n),km--),km===0&&(ds?.disconnect(),ds=null))}}var _O=(n,e,t,r)=>{};function EO(n,e,t,r){_O(n,e,t,r)}var _b=new j("");function Zd(n){return(n.flags&32)===32}var IO=()=>null;function Eb(n,e,t=!1){return IO(n,e,t)}function Ib(n){return n.get(vb,!1,{optional:!0})}function wb(n,e){let t=n.contentQueries;if(t!==null){let r=K(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];hd(o),a.contentQueries(2,e[s],s)}}}finally{K(r)}}}function Ym(n,e,t){hd(0);let r=K(null);try{e(n,t)}finally{K(r)}}function Db(n,e,t){if(am(e)){let r=K(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{K(r)}}}var ar=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ar||{});var _d;function wO(){if(_d===void 0&&(_d=null,rc.trustedTypes))try{_d=rc.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return _d}function vC(n){return wO()?.createScriptURL(n)||n}var kd=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ql})`}};function Cc(n){return n instanceof kd?n.changingThisBreaksApplicationSecurity:n}function by(n,e){let t=Tb(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Ql})`)}return t===e}function Tb(n){return n instanceof kd&&n.getTypeName()||null}var DO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Cb(n){return n=String(n),n.match(DO)?n:"unsafe:"+n}var Jd=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Jd||{});function bb(n){let e=Ab();return e?e.sanitize(Jd.URL,n)||"":by(n,"URL")?Cc(n):Cb(Fi(n))}function Sb(n){let e=Ab();if(e)return vC(e.sanitize(Jd.RESOURCE_URL,n)||"");if(by(n,"ResourceURL"))return vC(Cc(n));throw new V(904,!1)}function TO(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?Sb:bb}function Sy(n,e,t){return TO(e,t)(n)}function Ab(){let n=Y();return n&&n[Rn].sanitizer}function Rb(n){return n instanceof Function?n():n}function CO(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var Nb="ng-template";function bO(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&CO(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Ay(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Ay(n){return n.type===4&&n.value!==Nb}function SO(n,e,t){let r=n.type===4&&!t?Nb:n.value;return e===r}function AO(n,e,t){let r=4,i=n.attrs,o=i!==null?MO(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!gn(r)&&!gn(u))return!1;if(s&&gn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!SO(n,u,t)||u===""&&e.length===1){if(gn(r))return!1;s=!0}}else if(r&8){if(i===null||!bO(n,i,u,t)){if(gn(r))return!1;s=!0}}else{let l=e[++a],h=RO(u,i,Ay(n),t);if(h===-1){if(gn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(gn(r))return!1;s=!0}}}}return gn(r)||s}function gn(n){return(n&1)===0}function RO(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return PO(e,n)}function Mb(n,e,t=!1){for(let r=0;r<e.length;r++)if(AO(n,e[r],t))return!0;return!1}function NO(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function MO(n){for(let e=0;e<n.length;e++){let t=n[e];if(XC(t))return e}return n.length}function PO(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function kO(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function _C(n,e){return n?":not("+e.trim()+")":e}function xO(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!gn(s)&&(e+=_C(o,i),i=""),r=s,o=o||!gn(r);t++}return i!==""&&(e+=_C(o,i)),e}function OO(n){return n.map(xO).join(",")}function FO(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!gn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var St={};function LO(n,e){return n.createText(e)}function VO(n,e,t){n.setValue(e,t)}function Pb(n,e,t){return n.createElement(e,t)}function xd(n,e,t,r,i){n.insertBefore(e,t,r,i)}function kb(n,e,t){n.appendChild(e,t)}function EC(n,e,t,r,i){r!==null?xd(n,e,t,r,i):kb(n,e,t)}function xb(n,e,t){n.removeChild(null,e,t)}function jO(n,e,t){n.setAttribute(e,"style",t)}function UO(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Ob(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Zx(n,e,r),i!==null&&UO(n,e,i),o!==null&&jO(n,e,o)}function Ry(n,e,t,r,i,o,s,a,u,l,h){let p=De+r,g=p+i,y=BO(p,g),I=typeof l=="function"?l():l;return y[B]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:I,incompleteFirstPass:!1,ssrId:h}}function BO(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:St);return t}function $O(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Ry(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Ny(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[ln]=i,p[Q]=r|4|128|8|64|1024,(l!==null||n&&n[Q]&2048)&&(p[Q]|=2048),lm(p),p[qe]=p[Vi]=n,p[Be]=t,p[Rn]=s||n&&n[Rn],p[Se]=a||n&&n[Se],p[jt]=u||n&&n[jt]||null,p[Tt]=o,p[uc]=hO(),p[Li]=h,p[sm]=l,p[Ct]=e.type==2?n[Ct]:p,p}function HO(n,e,t){let r=fn(e,n),i=$O(t),o=n[Rn].rendererFactory,s=My(n,Ny(n,i,null,Fb(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function Fb(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function Lb(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function My(n,e){return n[os]?n[om][Qt]=e:n[os]=e,n[om]=e,e}function qO(n=1){Vb(xe(),Y(),kn()+n,!1)}function Vb(n,e,t,r){if(!r)if((e[Q]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Id(e,o,t)}else{let o=n.preOrderHooks;o!==null&&wd(e,o,0,t)}Gr(t)}var Xd=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Xd||{});function Zm(n,e,t,r){let i=K(null);try{let[o,s,a]=n.inputs[t],u=null;(s&Xd.SignalBased)!==0&&(u=e[o][It]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):KC(e,u,o,r)}finally{K(i)}}var Fn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Fn||{}),zO;function Py(n,e){return zO(n,e)}function fs(n,e,t,r,i){if(r!=null){let o,s=!1;dn(r)?o=r:Mn(r)&&(s=!0,r=r[ln]);let a=Yt(r);n===0&&t!==null?i==null?kb(e,t,a):xd(e,t,a,i||null,!0):n===1&&t!==null?xd(e,t,a,i||null,!0):n===2?xb(e,a,s):n===3&&e.destroyNode(a),o!=null&&t1(e,n,o,t,i)}}function GO(n,e){jb(n,e),e[ln]=null,e[Tt]=null}function WO(n,e,t,r,i,o){r[ln]=i,r[Tt]=e,th(n,r,t,1,i,o)}function jb(n,e){e[Rn].changeDetectionScheduler?.notify(9),th(n,e,e[Se],2,null,null)}function KO(n){let e=n[os];if(!e)return xm(n[B],n);for(;e;){let t=null;if(Mn(e))t=e[os];else{let r=e[Xe];r&&(t=r)}if(!t){for(;e&&!e[Qt]&&e!==n;)Mn(e)&&xm(e[B],e),e=e[qe];e===null&&(e=n),Mn(e)&&xm(e[B],e),t=e&&e[Qt]}e=t}}function ky(n,e){let t=n[Bi],r=t.indexOf(e);t.splice(r,1)}function eh(n,e){if(Pn(e))return;let t=e[Se];t.destroyNode&&th(n,e,t,3,null,null),KO(e)}function xm(n,e){if(Pn(e))return;let t=K(null);try{e[Q]&=-129,e[Q]|=256,e[Ut]&&es(e[Ut]),YO(n,e),QO(n,e),e[B].type===1&&e[Se].destroy();let r=e[Br];if(r!==null&&dn(e[qe])){r!==e[qe]&&ky(r,e);let i=e[Nn];i!==null&&i.detachView(n)}Wm(e)}finally{K(t)}}function QO(n,e){let t=n.cleanup,r=e[is];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[is]=null);let i=e[tr];if(i!==null){e[tr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[sr];if(o!==null){e[sr]=null;for(let s of o)s.destroy()}}function YO(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof zi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];pe(4,a,u);try{u.call(a)}finally{pe(5,a,u)}}else{pe(4,i,o);try{o.call(i)}finally{pe(5,i,o)}}}}}function Ub(n,e,t){return ZO(n,e.parent,t)}function ZO(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[ln];if(qr(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===ar.None||i===ar.Emulated)return null}return fn(r,t)}function Bb(n,e,t){return XO(n,e,t)}function JO(n,e,t){return n.type&40?fn(n,t):null}var XO=JO,IC;function xy(n,e,t,r){let i=Ub(n,r,e),o=e[Se],s=r.parent||e[Tt],a=Bb(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)EC(o,i,t[u],a,!1);else EC(o,i,t,a,!1);IC!==void 0&&IC(o,r,e,t,i)}function mc(n,e){if(e!==null){let t=e.type;if(t&3)return fn(e,n);if(t&4)return Jm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return mc(n,r);{let i=n[e.index];return dn(i)?Jm(-1,i):Yt(i)}}else{if(t&128)return mc(n,e.next);if(t&32)return Py(e,n)()||Yt(n[e.index]);{let r=$b(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ur(n[Ct]);return mc(i,r)}else return mc(n,e.next)}}}return null}function $b(n,e){if(e!==null){let r=n[Ct][Tt],i=e.projection;return r.projection[i]}return null}function Jm(n,e){let t=Xe+n+1;if(t<e.length){let r=e[t],i=r[B].firstChild;if(i!==null)return mc(r,i)}return e[Hr]}function Oy(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&ys(Yt(a),r),t.flags|=2),!Zd(t))if(u&8)Oy(n,e,t.child,r,i,o,!1),fs(e,n,i,a,o);else if(u&32){let l=Py(t,r),h;for(;h=l();)fs(e,n,i,h,o);fs(e,n,i,a,o)}else u&16?Hb(n,e,r,t,i,o):fs(e,n,i,a,o);t=s?t.projectionNext:t.next}}function th(n,e,t,r,i,o){Oy(t,r,n.firstChild,e,i,o,!1)}function e1(n,e,t){let r=e[Se],i=Ub(n,t,e),o=t.parent||e[Tt],s=Bb(o,t,e);Hb(r,0,e,t,i,s)}function Hb(n,e,t,r,i,o){let s=t[Ct],u=s[Tt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];fs(e,n,i,h,o)}else{let l=u,h=s[qe];ub(r)&&(l.flags|=128),Oy(n,e,l,h,i,o,!0)}}function t1(n,e,t,r,i){let o=t[Hr],s=Yt(t);o!==s&&fs(e,n,r,o,i);for(let a=Xe;a<t.length;a++){let u=t[a];th(u[B],u,n,e,r,o)}}function n1(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Fn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Fn.Important),n.setStyle(t,r,i,o))}}function qb(n,e,t,r,i){let o=kn(),s=r&2;try{Gr(-1),s&&e.length>De&&Vb(n,e,De,!1),pe(s?2:0,i,t),t(r,i)}finally{Gr(o),pe(s?3:1,i,t)}}function zb(n,e,t){l1(n,e,t),(t.flags&64)===64&&d1(n,e,t)}function Fy(n,e,t=fn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function r1(n,e,t,r){let o=r.get(yb,mb)||t===ar.ShadowDom,s=n.selectRootElement(e,o);return i1(s),s}function i1(n){o1(n)}var o1=()=>null;function s1(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function a1(n,e,t,r,i,o){let s=e[B];if(Vy(n,s,e,t,r)){qr(n)&&u1(e,n.index);return}n.type&3&&(t=s1(t)),c1(n,e,t,r,i,o)}function c1(n,e,t,r,i,o){if(n.type&3){let s=fn(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function u1(n,e){let t=Zt(e,n);t[Q]&16||(t[Q]|=64)}function l1(n,e,t){let r=t.directiveStart,i=t.directiveEnd;qr(t)&&HO(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Md(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=vc(e,n,s,t);if(ys(u,e),o!==null&&m1(e,s-r,u,a,t,o),hn(a)){let l=Zt(t.index,e);l[Be]=vc(e,n,s,t)}}}function d1(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=rC();try{Gr(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];dd(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&h1(u,l)}}finally{Gr(-1),dd(s)}}function h1(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function f1(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];Mb(e,o.selectors,!1)&&(r??=[],hn(o)?r.unshift(o):r.push(o))}return r}function p1(n,e,t,r,i,o){let s=fn(n,e);g1(e[Se],s,o,n.value,t,r,i)}function g1(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Fi(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function m1(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Zm(r,t,u,l)}}function Gb(n,e,t,r,i){let o=De+t,s=e[B],a=i(s,e,n,r,t);e[o]=a,as(n,!0);let u=n.type===2;return u?(Ob(e[Se],a,n),(GT()===0||id(n))&&ys(a,e),WT()):ys(a,e),gd()&&(!u||!Zd(n))&&xy(s,e,a,n),n}function Wb(n){let e=n;return Em()?Im():(e=e.parent,as(e,!1)),e}function Ly(n,e){let t=n[jt];if(!t)return;t.get(bt,null)?.(e)}function Vy(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Zm(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];Zm(h,l,r,i),a=!0}return a}function y1(n,e){let t=Zt(e,n),r=t[B];v1(r,t);let i=t[ln];i!==null&&t[Li]===null&&(t[Li]=Eb(i,t[jt])),pe(18),jy(r,t,t[Be]),pe(19,t[Be])}function v1(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function jy(n,e,t){fd(e);try{let r=n.viewQuery;r!==null&&Ym(1,r,t);let i=n.template;i!==null&&qb(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Nn]?.finishViewCreation(n),n.staticContentQueries&&wb(n,e),n.staticViewQueries&&Ym(2,n.viewQuery,t);let o=n.components;o!==null&&_1(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Q]&=-5,pd()}}function _1(n,e){for(let t=0;t<e.length;t++)y1(n,e[t])}function Ds(n,e,t,r){let i=K(null);try{let o=e.tView,a=n[Q]&4096?4096:16,u=Ny(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Br]=l;let h=n[Nn];return h!==null&&(u[Nn]=h.createEmbeddedView(o)),jy(o,u,t),u}finally{K(i)}}function Gi(n,e){return!e||e.firstChild===null||ub(n)}var wC=!1,E1=new j("");function _c(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Yt(o)),dn(o)&&Kb(o,r);let s=t.type;if(s&8)_c(n,e,t.child,r);else if(s&32){let a=Py(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=$b(e,t);if(Array.isArray(a))r.push(...a);else{let u=Ur(e[Ct]);_c(u[B],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Kb(n,e){for(let t=Xe;t<n.length;t++){let r=n[t],i=r[B].firstChild;i!==null&&_c(r[B],r,i,e)}n[Hr]!==n[ln]&&e.push(n[Hr])}function Qb(n){if(n[Ui]!==null){for(let e of n[Ui])e.impl.addSequence(e);n[Ui].length=0}}var Yb=[];function I1(n){return n[Ut]??w1(n)}function w1(n){let e=Yb.pop()??Object.create(T1);return e.lView=n,e}function D1(n){n.lView[Ut]!==n&&(n.lView=null,Yb.push(n))}var T1=W(k({},Lr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{zr(n.lView)},consumerOnSignalRead(){this.lView[Ut]=this}});function C1(n){let e=n[Ut]??Object.create(b1);return e.lView=n,e}var b1=W(k({},Lr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Ur(n.lView);for(;e&&!Zb(e[B]);)e=Ur(e);e&&dm(e)},consumerOnSignalRead(){this.lView[Ut]=this}});function Zb(n){return n.type!==2}function Jb(n){if(n[sr]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[sr])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[Q]&8192)}}var S1=100;function Uy(n,e=0){let r=n[Rn].rendererFactory,i=!1;i||r.begin?.();try{A1(n,e)}finally{i||r.end?.()}}function A1(n,e){let t=Dm();try{cs(!0),Xm(n,e);let r=0;for(;dc(n);){if(r===S1)throw new V(103,!1);r++,Xm(n,1)}}finally{cs(t)}}function Xb(n,e){wm(e?fc.Exhaustive:fc.OnlyDirtyViews);try{Uy(n)}finally{wm(fc.Off)}}function R1(n,e,t,r){if(Pn(e))return;let i=e[Q],o=!1,s=!1;fd(e);let a=!0,u=null,l=null;o||(Zb(n)?(l=I1(e),u=Vr(l)):Vl()===null?(a=!1,l=C1(e),u=Vr(l)):e[Ut]&&(es(e[Ut]),e[Ut]=null));try{lm(e),eC(n.bindingStartIndex),t!==null&&qb(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&Id(e,y,null)}else{let y=n.preOrderHooks;y!==null&&wd(e,y,0,null),Mm(e,0)}if(s||N1(e),Jb(e),e0(e,0),n.contentQueries!==null&&wb(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&Id(e,y)}else{let y=n.contentHooks;y!==null&&wd(e,y,1),Mm(e,1)}P1(n,e);let p=n.components;p!==null&&n0(e,p,0);let g=n.viewQuery;if(g!==null&&Ym(2,g,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&Id(e,y)}else{let y=n.viewHooks;y!==null&&wd(e,y,2),Mm(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[rd]){for(let y of e[rd])y();e[rd]=null}o||(Qb(e),e[Q]&=-73)}catch(h){throw o||zr(e),h}finally{l!==null&&(Ri(l,u),a&&D1(l)),pd()}}function e0(n,e){for(let t=db(n);t!==null;t=hb(t))for(let r=Xe;r<t.length;r++){let i=t[r];t0(i,e)}}function N1(n){for(let e=db(n);e!==null;e=hb(e)){if(!(e[Q]&2))continue;let t=e[Bi];for(let r=0;r<t.length;r++){let i=t[r];dm(i)}}}function M1(n,e,t){pe(18);let r=Zt(e,n);t0(r,t),pe(19,r[Be])}function t0(n,e){sd(n)&&Xm(n,e)}function Xm(n,e){let r=n[B],i=n[Q],o=n[Ut],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Xo(o)),s||=!1,o&&(o.dirty=!1),n[Q]&=-9217,s)R1(r,n,r.template,n[Be]);else if(i&8192){let a=K(null);try{Jb(n),e0(n,1);let u=r.components;u!==null&&n0(n,u,1),Qb(n)}finally{K(a)}}}function n0(n,e,t){for(let r=0;r<e.length;r++)M1(n,e[r],t)}function P1(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Gr(~i);else{let o=i,s=t[++r],a=t[++r];nC(s,o);let u=e[o];pe(24,u),a(2,u),pe(25,u)}}}finally{Gr(-1)}}function nh(n,e){let t=Dm()?64:1088;for(n[Rn].changeDetectionScheduler?.notify(e);n;){n[Q]|=t;let r=Ur(n);if(ss(n)&&!r)return n;n=r}return null}function r0(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function i0(n,e){let t=Xe+e;if(t<n.length)return n[t]}function Ts(n,e,t,r=!0){let i=e[B];if(k1(i,e,n,t),r){let s=Jm(t,n),a=e[Se],u=a.parentNode(n[Hr]);u!==null&&WO(i,n[Tt],a,e,u,s)}let o=e[Li];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function By(n,e){let t=Ec(n,e);return t!==void 0&&eh(t[B],t),t}function Ec(n,e){if(n.length<=Xe)return;let t=Xe+e,r=n[t];if(r){let i=r[Br];i!==null&&i!==n&&ky(i,r),e>0&&(n[t-1][Qt]=r[Qt]);let o=oc(n,Xe+e);GO(r[B],r);let s=o[Nn];s!==null&&s.detachView(o[B]),r[qe]=null,r[Qt]=null,r[Q]&=-129}return r}function k1(n,e,t,r){let i=Xe+r,o=t.length;r>0&&(t[i-1][Qt]=e),r<o-Xe?(e[Qt]=t[i],Jg(t,Xe+r,e)):(t.push(e),e[Qt]=null),e[qe]=t;let s=e[Br];s!==null&&t!==s&&o0(s,e);let a=e[Nn];a!==null&&a.insertView(n),ad(e),e[Q]|=128}function o0(n,e){let t=n[Bi],r=e[qe];if(Mn(r))n[Q]|=2;else{let i=r[qe][Ct];e[Ct]!==i&&(n[Q]|=2)}t===null?n[Bi]=[e]:t.push(e)}var Qr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[B];return _c(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Be]}set context(e){this._lView[Be]=e}get destroyed(){return Pn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[qe];if(dn(e)){let t=e[lc],r=t?t.indexOf(this):-1;r>-1&&(Ec(e,r),oc(t,r))}this._attachedToViewContainer=!1}eh(this._lView[B],this._lView)}onDestroy(e){hc(this._lView,e)}markForCheck(){nh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Q]&=-129}reattach(){ad(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,Uy(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[jt].get(E1,wC)}catch{this.exhaustive=wC}}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ss(this._lView),t=this._lView[Br];t!==null&&!e&&ky(t,this._lView),jb(this._lView[B],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;let t=ss(this._lView),r=this._lView[Br];r!==null&&!t&&o0(r,this._lView),ad(this._lView)}};var vs=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=x1;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=Ds(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Qr(o)}}return n})();function x1(){return $y(et(),Y())}function $y(n,e){return n.type&4?new vs(e,n,ws(n,e)):null}function bc(n,e,t,r,i){let o=n.data[e];if(o===null)o=O1(n,e,t,r,i),tC()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=ZT();o.injectorIndex=s===null?-1:s.injectorIndex}return as(o,!0),o}function O1(n,e,t,r,i){let o=_m(),s=Em(),a=s?o:o&&o.parent,u=n.data[e]=L1(n,a,t,e,r,i);return F1(n,u,o,s),u}function F1(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function L1(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return mm()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var lK=new RegExp(`^(\\d+)*(${mO}|${gO})*(.*)`);function V1(n){let e=n[$r]??[],r=n[qe][Se],i=[];for(let o of e)o.data[Ty]!==void 0?i.push(o):j1(o,r);n[$r]=i}function j1(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[gb];for(;t<i;){let o=r.nextSibling;xb(e,r,!1),r=o,t++}}}var U1=()=>null,B1=()=>null;function Od(n,e){return U1(n,e)}function s0(n,e,t){return B1(n,e,t)}var a0=class{},rh=class{},ey=class{resolveComponentFactory(e){throw new V(917,!1)}},Sc=class{static NULL=new ey},Wi=class{},Jt=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>$1()}return n})();function $1(){let n=Y(),e=et(),t=Zt(e.index,n);return(Mn(t)?t:n)[Se]}var c0=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:()=>null})}return n})();var Td={},gs=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Td,r);return i!==Td||t===Td?i:this.parentInjector.get(e,t,r)}};function Fd(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Yl(i,a);else if(o==2){let u=a,l=e[++s];r=Yl(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function X(n,e=0){let t=Y();if(t===null)return ne(n,e);let r=et();return sb(r,t,Ze(n),e)}function H1(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}G1(n,e,t,a,o,u,l)}o!==null&&r!==null&&q1(t,r,o)}function q1(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new V(-301,!1);r.push(e[i],o)}}function z1(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function G1(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let g=0;g<a;g++){let y=r[g];!u&&hn(y)&&(u=!0,z1(n,t,g)),zm(Md(t,e),n,y.type)}J1(t,n.data.length,a);for(let g=0;g<a;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=Lb(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let y=r[g];if(t.mergedAttrs=ms(t.mergedAttrs,y.hostAttrs),K1(n,t,e,p,y),Z1(p,y,i),s!==null&&s.has(y)){let[S,R]=s.get(y);t.directiveToIndex.set(y.type,[p,S+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let I=y.type.prototype;!l&&(I.ngOnChanges||I.ngOnInit||I.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(I.ngOnChanges||I.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}W1(n,t,o)}function W1(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))DC(0,e,i,r),DC(1,e,i,r),CC(e,r,!1);else{let o=t.get(i);TC(0,e,o,r),TC(1,e,o,r),CC(e,r,!0)}}}function DC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),u0(e,o)}}function TC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),u0(e,s)}}function u0(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function CC(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Ay(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function K1(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=jr(i.type,!0)),s=new zi(o,hn(i),X,null);n.blueprint[r]=s,t[r]=s,Q1(n,e,r,Lb(n,t,i.hostVars,St),i)}function Q1(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;Y1(s)!=a&&s.push(a),s.push(t,r,o)}}function Y1(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Z1(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;hn(e)&&(t[""]=n)}}function J1(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function l0(n,e,t,r,i,o,s,a){let u=e[B],l=u.consts,h=pn(l,s),p=bc(u,n,t,r,h);return o&&H1(u,e,p,pn(l,a),i),p.mergedAttrs=ms(p.mergedAttrs,p.attrs),p.attrs!==null&&Fd(p,p.attrs,!1),p.mergedAttrs!==null&&Fd(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function d0(n,e){Wx(n,e),am(e)&&n.queries.elementEnd(e)}function X1(n,e,t,r,i,o){let s=e.consts,a=pn(s,i),u=bc(e,n,t,r,a);if(u.mergedAttrs=ms(u.mergedAttrs,u.attrs),o!=null){let l=pn(s,o);u.localNames=[];for(let h=0;h<l.length;h+=2)u.localNames.push(l[h],-1)}return u.attrs!==null&&Fd(u,u.attrs,!1),u.mergedAttrs!==null&&Fd(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Hy(n,e,t){return n[e]=t}function eF(n,e){return n[e]}function Ln(n,e,t){if(t===St)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function h0(n,e,t,r){let i=Ln(n,e,t);return Ln(n,e+1,r)||i}function Cd(n,e,t){return function r(i){let o=qr(n)?Zt(n.index,e):e;nh(o,5);let s=e[Be],a=bC(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=bC(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function bC(n,e,t,r){let i=K(null);try{return pe(6,e,t),t(r)!==!1}catch(o){return Ly(n,o),!1}finally{pe(7,e,t),K(i)}}function f0(n,e,t,r,i,o,s,a){let u=id(n),l=!1,h=null;if(!r&&u&&(h=tF(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=fn(n,t),g=r?r(p):p;EO(t,g,o,a);let y=i.listen(g,o,a),I=r?S=>r(Yt(S[n.index])):n.index;p0(I,e,t,o,a,y,!1)}return l}function tF(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[is],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function p0(n,e,t,r,i,o,s){let a=e.firstCreatePass?pm(e):null,u=fm(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function SC(n,e,t,r,i,o){let s=e[t],a=e[B],l=a.data[t].outputs[r],p=s[l].subscribe(o);p0(n.index,a,e,i,o,p,!0)}var ty=Symbol("BINDING");var Ld=class extends Sc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=or(e);return new _s(t,this.ngModule)}};function nF(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Xd.SignalBased)!==0};return i&&(o.transform=i),o})}function rF(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function iF(n,e,t){let r=e instanceof je?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new gs(t,r):t}function oF(n){let e=n.get(Wi,null);if(e===null)throw new V(407,!1);let t=n.get(c0,null),r=n.get(Kt,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function sF(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return Pb(e,t,t==="svg"?BT:t==="math"?$T:null)}var _s=class extends rh{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=nF(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=rF(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=OO(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){pe(22);let a=K(null);try{let u=this.componentDef,l=aF(r,u,s,o),h=iF(u,i||this.ngModule,e),p=oF(h),g=p.rendererFactory.createRenderer(null,u),y=r?r1(g,r,u.encapsulation,h):sF(u,g),I=s?.some(AC)||o?.some(x=>typeof x!="function"&&x.bindings.some(AC)),S=Ny(null,l,null,512|Fb(u),null,null,p,g,h,null,Eb(y,h,!0));S[De]=y,fd(S);let R=null;try{let x=l0(De,S,2,"#host",()=>l.directiveRegistry,!0,0);y&&(Ob(g,y,x),ys(y,S)),zb(l,S,x),Db(l,x,S),d0(l,x),t!==void 0&&uF(x,this.ngContentSelectors,t),R=Zt(x.index,S),S[Be]=R[Be],jy(l,S,null)}catch(x){throw R!==null&&Wm(R),Wm(S),x}finally{pe(23),pd()}return new Vd(this.componentType,S,!!I)}finally{K(a)}}};function aF(n,e,t,r){let i=n?["ng-version","20.1.2"]:FO(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[ty].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let g of p.bindings){a+=g[ty].requiredVars;let y=h+1;g.create&&(g.targetIdx=y,(o??=[]).push(g)),g.update&&(g.targetIdx=y,(s??=[]).push(g))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,g=sc(p);u.push(g)}return Ry(0,null,cF(o,s),1,a,u,null,null,null,[i],null)}function cF(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function AC(n){let e=n[ty].kind;return e==="input"||e==="twoWay"}var Vd=class extends a0{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=$i(t[B],De),this.location=ws(this._tNode,t),this.instance=Zt(this._tNode.index,t)[Be],this.hostView=this.changeDetectorRef=new Qr(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Vy(r,i[B],i,e,t);this.previousInputValues.set(e,t);let s=Zt(r.index,i);nh(s,1)}get injector(){return new qi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function uF(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Zi=(()=>{class n{static __NG_ELEMENT_ID__=lF}return n})();function lF(){let n=et();return m0(n,Y())}var dF=Zi,g0=class extends dF{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ws(this._hostTNode,this._hostLView)}get injector(){return new qi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Iy(this._hostTNode,this._hostLView);if(eb(e)){let t=Rd(e,this._hostLView),r=Ad(e),i=t[B].data[r+8];return new qi(i,t)}else return new qi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=RC(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Xe}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Od(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Gi(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!$x(e),l;if(u)l=t;else{let R=t||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,a=R.bindings}let h=u?e:new _s(or(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let x=(u?p:this.parentInjector).get(je,null);x&&(o=x)}let g=or(h.componentType??{}),y=Od(this._lContainer,g?.id??null),I=y?.firstChild??null,S=h.create(p,i,I,o,s,a);return this.insertImpl(S.hostView,l,Gi(this._hostTNode,y)),S}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(qT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[qe],l=new g0(u,u[Tt],u[qe]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Ts(s,i,o,r),e.attachToViewContainerRef(),Jg(Om(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=RC(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Ec(this._lContainer,t);r&&(oc(Om(this._lContainer),t),eh(r[B],r))}detach(e){let t=this._adjustIndex(e,-1),r=Ec(this._lContainer,t);return r&&oc(Om(this._lContainer),t)!=null?new Qr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function RC(n){return n[lc]}function Om(n){return n[lc]||(n[lc]=[])}function m0(n,e){let t,r=e[n.index];return dn(r)?t=r:(t=r0(r,e,null,n),e[n.index]=t,My(e,t)),fF(t,e,n,r),new g0(t,n,e)}function hF(n,e){let t=n[Se],r=t.createComment(""),i=fn(e,n),o=t.parentNode(i);return xd(t,o,r,t.nextSibling(i),!1),r}var fF=gF,pF=()=>!1;function y0(n,e,t){return pF(n,e,t)}function gF(n,e,t,r){if(n[Hr])return;let i;t.type&8?i=Yt(r):i=hF(e,t),n[Hr]=i}var ny=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},ry=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)qy(e,t).matches!==null&&this.queries[t].setDirty()}},jd=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=DF(e):this.predicate=e}},iy=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},oy=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,mF(t,o)),this.matchTNodeWithReadOption(e,t,Dd(t,e,o,!1,!1))}else r===vs?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Dd(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===mt||i===Zi||i===vs&&t.type&4)this.addMatch(t.index,-2);else{let o=Dd(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function mF(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function yF(n,e){return n.type&11?ws(n,e):n.type&4?$y(n,e):null}function vF(n,e,t,r){return t===-1?yF(e,n):t===-2?_F(n,e,r):vc(n,n[B],t,e)}function _F(n,e,t){if(t===mt)return ws(e,n);if(t===vs)return $y(e,n);if(t===Zi)return m0(e,n)}function v0(n,e,t,r){let i=e[Nn].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(vF(e,h,s[u+1],t.metadata.read))}}i.matches=a}return i.matches}function sy(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=v0(n,e,i,t);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=Xe;p<h.length;p++){let g=h[p];g[Br]===g[qe]&&sy(g[B],g,l,r)}if(h[Bi]!==null){let p=h[Bi];for(let g=0;g<p.length;g++){let y=p[g];sy(y[B],y,l,r)}}}}}return r}function EF(n,e){return n[Nn].queries[e].queryList}function _0(n,e,t){let r=new Pd((t&4)===4);return zT(n,e,r,r.destroy),(e[Nn]??=new ry).queries.push(new ny(r))-1}function IF(n,e,t){let r=xe();return r.firstCreatePass&&(E0(r,new jd(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),_0(r,Y(),e)}function wF(n,e,t,r){let i=xe();if(i.firstCreatePass){let o=et();E0(i,new jd(e,t,r),o.index),TF(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return _0(i,Y(),t)}function DF(n){return n.split(",").map(e=>e.trim())}function E0(n,e,t){n.queries===null&&(n.queries=new iy),n.queries.track(new oy(e,t))}function TF(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function qy(n,e){return n.queries.getByIndex(e)}function CF(n,e){let t=n[B],r=qy(t,e);return r.crossesNgTemplate?sy(t,n,e,[]):v0(t,n,r,e)}var NC=new Set;function vn(n){NC.has(n)||(NC.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Ki=class{},ih=class{};var Ud=class extends Ki{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ld(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=tm(e);this._bootstrapComponents=Rb(o.bootstrap),this._r3Injector=Am(e,t,[{provide:Ki,useValue:this},{provide:Sc,useValue:this.componentFactoryResolver},...r],nr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Bd=class extends ih{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Ud(this.moduleType,e,[])}};var Ic=class extends Ki{injector;componentFactoryResolver=new Ld(this);instance=null;constructor(e){super();let t=new ki([...e.providers,{provide:Ki,useValue:this},{provide:Sc,useValue:this.componentFactoryResolver}],e.parent||cc(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Cs(n,e,t=null){return new Ic({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var bF=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=nd(!1,t.type),i=r.length>0?Cs([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=U({token:n,providedIn:"environment",factory:()=>new n(ne(je))})}return n})();function Ac(n){return Is(()=>{let e=I0(n),t=W(k({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===wy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(bF).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ar.Emulated,styles:n.styles||Dt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&vn("NgStandalone"),w0(t);let r=n.dependencies;return t.directiveDefs=MC(r,SF),t.pipeDefs=MC(r,nm),t.id=NF(t),t})}function SF(n){return or(n)||sc(n)}function Jr(n){return Is(()=>({type:n.type,bootstrap:n.bootstrap||Dt,declarations:n.declarations||Dt,imports:n.imports||Dt,exports:n.exports||Dt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function AF(n,e){if(n==null)return cn;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Xd.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function RF(n){if(n==null)return cn;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function de(n){return Is(()=>{let e=I0(n);return w0(e),e})}function Rc(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function I0(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||cn,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Dt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:AF(n.inputs,e),outputs:RF(n.outputs),debugInfo:null}}function w0(n){n.features?.forEach(e=>e(n))}function MC(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function NF(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function MF(n){return Object.getPrototypeOf(n.prototype).constructor}function Ot(n){let e=MF(n.type),t=!0,r=[n];for(;e;){let i;if(hn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Fm(n.inputs),s.declaredInputs=Fm(n.declaredInputs),s.outputs=Fm(n.outputs);let a=i.hostBindings;a&&FF(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&xF(n,u),l&&OF(n,l),PF(n,i),TT(n.outputs,i.outputs),hn(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Ot&&(t=!1)}}e=Object.getPrototypeOf(e)}kF(r)}function PF(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function kF(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ms(i.hostAttrs,t=ms(t,i.hostAttrs))}}function Fm(n){return n===cn?{}:n===Dt?[]:n}function xF(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function OF(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function FF(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function zy(n){let e=t=>{let r=Array.isArray(n);t.hostDirectives===null?(t.resolveHostDirectives=LF,t.hostDirectives=r?n.map(ay):[n]):r?t.hostDirectives.unshift(...n.map(ay)):t.hostDirectives.unshift(n)};return e.ngInherit=!0,e}function LF(n){let e=[],t=!1,r=null,i=null;for(let o=0;o<n.length;o++){let s=n[o];if(s.hostDirectives!==null){let a=e.length;r??=new Map,i??=new Map,D0(s,e,r),i.set(s,[a,e.length-1])}o===0&&hn(s)&&(t=!0,e.push(s))}for(let o=t?1:0;o<n.length;o++)e.push(n[o]);return[e,r,i]}function D0(n,e,t){if(n.hostDirectives!==null)for(let r of n.hostDirectives)if(typeof r=="function"){let i=r();for(let o of i)PC(ay(o),e,t)}else PC(r,e,t)}function PC(n,e,t){let r=sc(n.directive);VF(r.declaredInputs,n.inputs),D0(r,e,t),t.set(r,n),e.push(r)}function ay(n){return typeof n=="function"?{directive:Ze(n),inputs:cn,outputs:cn}:{directive:Ze(n.directive),inputs:kC(n.inputs),outputs:kC(n.outputs)}}function kC(n){if(n===void 0||n.length===0)return cn;let e={};for(let t=0;t<n.length;t+=2)e[n[t]]=n[t+1];return e}function VF(n,e){for(let t in e)if(e.hasOwnProperty(t)){let r=e[t],i=n[t];n[r]=i}}function jF(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=ms(n.mergedAttrs,n.attrs);let h=n.tView=Ry(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),as(n,!1);let u=UF(t,e,n,r);gd()&&xy(t,e,u,n),ys(u,e);let l=r0(u,e,u,n);e[r+De]=l,My(e,l),y0(l,n,e)}function Qi(n,e,t,r,i,o,s,a,u,l,h){let p=t+De,g;if(e.firstCreatePass){if(g=bc(e,p,4,s||null,a||null),l!=null){let y=pn(e.consts,l);g.localNames=[];for(let I=0;I<y.length;I+=2)g.localNames.push(y[I],-1)}}else g=e.data[p];return jF(g,n,e,t,r,i,o,u),l!=null&&Fy(n,g,h),g}function T0(n,e,t,r,i,o,s,a){let u=Y(),l=xe(),h=pn(l.consts,o);return Qi(u,l,n,e,t,r,i,h,void 0,s,a),T0}var UF=BF;function BF(n,e,t,r){return md(!0),e[Se].createComment("")}var xt=function(n){return n[n.NOT_STARTED=0]="NOT_STARTED",n[n.IN_PROGRESS=1]="IN_PROGRESS",n[n.COMPLETE=2]="COMPLETE",n[n.FAILED=3]="FAILED",n}(xt||{}),xC=0,$F=1,$e=function(n){return n[n.Placeholder=0]="Placeholder",n[n.Loading=1]="Loading",n[n.Complete=2]="Complete",n[n.Error=3]="Error",n}($e||{}),Gy=function(n){return n[n.Initial=-1]="Initial",n}(Gy||{}),HF=0,Nc=1;var qF=4,zF=5,GF=6,WF=7,Lm=8,KF=9,Wy=function(n){return n[n.Manual=0]="Manual",n[n.Playthrough=1]="Playthrough",n}(Wy||{});function C0(n,e,t){let r=S0(n);e[r]===null&&(e[r]=[]),e[r].push(t)}function bd(n,e){let t=S0(n),r=e[t];if(r!==null){for(let i of r)i();e[t]=null}}function b0(n){bd(1,n),bd(0,n),bd(2,n)}function S0(n){let e=qF;return n===1?e=zF:n===2&&(e=KF),e}var oh=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(oh||{}),Ji=new j(""),A0=!1,cy=class extends Ve{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,jT()&&(this.destroyRef=M(ut,{optional:!0})??void 0,this.pendingTasks=M(xn,{optional:!0})??void 0)}emit(e){let t=K(null);try{super.next(e)}finally{K(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Pe&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Oe=cy;function R0(n){let e,t;function r(){n=Hi;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function OC(n){return queueMicrotask(()=>n()),()=>{n=Hi}}var Ky="isAngularZone",$d=Ky+"_ID",QF=0,_e=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Oe(!1);onMicrotaskEmpty=new Oe(!1);onStable=new Oe(!1);onError=new Oe(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=A0}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,JF(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ky)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new V(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,YF,Hi,Hi);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},YF={};function Qy(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ZF(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){R0(()=>{n.callbackScheduled=!1,uy(n),n.isCheckStableRunning=!0,Qy(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),uy(n)}function JF(n){let e=()=>{ZF(n)},t=QF++;n._inner=n._inner.fork({name:"angular",properties:{[Ky]:!0,[$d]:t,[$d+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(XF(u))return r.invokeTask(o,s,a,u);try{return FC(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),LC(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return FC(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!eL(u)&&e(),LC(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,uy(n),Qy(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function uy(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function FC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function LC(n){n._nesting--,Qy(n)}var wc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Oe;onMicrotaskEmpty=new Oe;onStable=new Oe;onError=new Oe;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function XF(n){return N0(n,"__ignore_ng_zone__")}function eL(n){return N0(n,"__scheduler_tick__")}function N0(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Yy=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),M0=[0,1,2,3],P0=(()=>{class n{ngZone=M(_e);scheduler=M(Kt);errorHandler=M(Vt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){M(Ji,{optional:!0})}execute(){let t=this.sequences.size>0;t&&pe(16),this.executing=!0;for(let r of M0)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&pe(17)}register(t){let{view:r}=t;r!==void 0?((r[Ui]??=[]).push(t),zr(r),r[Q]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(oh.AFTER_NEXT_RENDER,t):t()}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),Hd=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Ui];e&&(this.view[Ui]=e.filter(t=>t!==this))}};function k0(n,e){let t=e?.injector??M(Ue);return vn("NgAfterRender"),x0(n,t,e,!1)}function sh(n,e){let t=e?.injector??M(Ue);return vn("NgAfterNextRender"),x0(n,t,e,!0)}function tL(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function x0(n,e,t,r){let i=e.get(Yy);i.impl??=e.get(P0);let o=e.get(Ji,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(ut):null,a=e.get(ls,null,{optional:!0}),u=new Hd(i.impl,tL(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}function ah(n){return n+1}function bs(n,e){let t=n[B],r=ah(e.index);return n[r]}function nL(n,e,t){let r=n[B],i=ah(e);n[i]=t}function Ss(n,e){let t=ah(e.index);return n.data[t]}function rL(n,e,t){let r=ah(e);n.data[r]=t}function iL(n,e,t){let r=e[B],i=Ss(r,t);switch(n){case $e.Complete:return i.primaryTmplIndex;case $e.Loading:return i.loadingTmplIndex;case $e.Error:return i.errorTmplIndex;case $e.Placeholder:return i.placeholderTmplIndex;default:return null}}function VC(n,e){return e===$e.Placeholder?n.placeholderBlockConfig?.[xC]??null:e===$e.Loading?n.loadingBlockConfig?.[xC]??null:null}function oL(n){return n.loadingBlockConfig?.[$F]??null}function jC(n,e){if(!n||n.length===0)return e;let t=new Set(n);for(let r of e)t.add(r);return n.length===t.size?n:Array.from(t)}function sL(n,e){let t=e.primaryTmplIndex+De;return $i(n,t)}function aL(n,e,t){let r=t.get(_e);return vO(n,()=>r.run(e),()=>r.runOutsideAngular(()=>yO()))}function cL(n,e,t){return t==null?n:t>=0?hm(t,n):n[e.index][Xe]??null}function uL(n,e){return od(De+e,n)}function lL(n,e,t,r,i,o,s){let a=n[jt],u=a.get(_e),l;function h(){if(Pn(n)){l.destroy();return}let p=bs(n,e),g=p[Nc];if(g!==Gy.Initial&&g!==$e.Placeholder){l.destroy();return}let y=cL(n,e,r);if(!y||(l.destroy(),Pn(y)))return;let I=uL(y,t),S=i(I,()=>{u.run(()=>{n!==y&&cd(y,S),o()})},a);n!==y&&hc(y,S),C0(s,p,S)}l=k0({read:h},{injector:a})}var dL=(()=>{class n{cachedInjectors=new Map;getOrCreateInjector(t,r,i,o){if(!this.cachedInjectors.has(t)){let s=i.length>0?Cs(i,r,o):null;this.cachedInjectors.set(t,s)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=U({token:n,providedIn:"environment",factory:()=>new n})}return n})();var O0=new j("");function Vm(n,e,t){return n.get(dL).getOrCreateInjector(e,n,t,"")}function hL(n,e,t){if(n instanceof gs){let i=n.injector,o=n.parentInjector,s=Vm(o,e,t);return new gs(i,s)}let r=n.get(je);if(r!==n){let i=Vm(r,e,t);return new gs(n,i)}return Vm(n,e,t)}function Kr(n,e,t,r=!1){let i=t[qe],o=i[B];if(Pn(i))return;let s=bs(i,e),a=s[Nc],u=s[WF];if(!(u!==null&&n<u)&&UC(a,n)&&UC(s[HF]??-1,n)){let l=Ss(o,e),p=!r&&!0&&(oL(l)!==null||VC(l,$e.Loading)!==null||VC(l,$e.Placeholder))?mL:pL;try{p(n,s,t,e,i)}catch(g){Ly(i,g)}}}function fL(n,e){let t=n[$r]?.findIndex(i=>i.data[Cy]===e[Nc])??-1;return{dehydratedView:t>-1?n[$r][t]:null,dehydratedViewIx:t}}function pL(n,e,t,r,i){pe(20);let o=iL(n,i,r);if(o!==null){e[Nc]=n;let s=i[B],a=o+De,u=$i(s,a),l=0;By(t,l);let h;if(n===$e.Complete){let I=Ss(s,r),S=I.providers;S&&S.length>0&&(h=hL(i[jt],I,S))}let{dehydratedView:p,dehydratedViewIx:g}=fL(t,e),y=Ds(i,u,null,{injector:h,dehydratedView:p});if(Ts(t,y,l,Gi(u,p)),nh(y,2),g>-1&&t[$r]?.splice(g,1),(n===$e.Complete||n===$e.Error)&&Array.isArray(e[Lm])){for(let I of e[Lm])I();e[Lm]=null}}pe(21)}function UC(n,e){return n<e}function gL(n,e){let t=n[e.index];Kr($e.Placeholder,e,t)}function BC(n,e,t){n.loadingPromise.then(()=>{n.loadingState===xt.COMPLETE?Kr($e.Complete,e,t):n.loadingState===xt.FAILED&&Kr($e.Error,e,t)})}var mL=null;var Zy=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Jy=new j("");function Xr(n){return!!n&&typeof n.then=="function"}function Xy(n){return!!n&&typeof n.subscribe=="function"}var F0=new j("");var ev=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=M(F0,{optional:!0})??[];injector=M(Ue);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Je(this.injector,i);if(Xr(o))t.push(o);else if(Xy(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ch=new j("");function L0(){Sg(()=>{let n="";throw new V(600,n)})}function V0(n){return n.isBoundToModule}var yL=10;var ur=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=M(bt);afterRenderManager=M(Yy);zonelessEnabled=M(pc);rootEffectScheduler=M(gc);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ve;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=M(xn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ce(t=>!t))}constructor(){M(Ji,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=M(je);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Ue.NULL){return this._injector.get(_e).run(()=>{pe(10);let s=t instanceof rh;if(!this._injector.get(ev).done){let I="";throw new V(405,I)}let u;s?u=t:u=this._injector.get(Sc).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=V0(u)?void 0:this._injector.get(Ki),h=r||u.selector,p=u.create(i,[],h,l),g=p.location.nativeElement,y=p.injector.get(Jy,null);return y?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),yc(this.components,p),y?.unregisterApplication(g)}),this._loadComponent(p),pe(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){pe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(oh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new V(101,!1);let t=K(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,K(t),this.afterTick.next(),pe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Wi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<yL;)pe(14),this.synchronizeOnce(),pe(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!dc(i))continue;let o=r&&!this.zonelessEnabled?0:1;Uy(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>dc(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;yc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(ch,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>yc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new V(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yc(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function j0(n,e,t){let r=e[jt],i=e[B];if(n.loadingState!==xt.NOT_STARTED)return n.loadingPromise??Promise.resolve();let o=bs(e,t),s=sL(i,n);n.loadingState=xt.IN_PROGRESS,bd(1,o);let a=n.dependencyResolverFn,u=r.get(Wr).add();return a?(n.loadingPromise=Promise.allSettled(a()).then(l=>{let h=!1,p=[],g=[];for(let y of l)if(y.status==="fulfilled"){let I=y.value,S=or(I)||sc(I);if(S)p.push(S);else{let R=nm(I);R&&g.push(R)}}else{h=!0;break}if(h){if(n.loadingState=xt.FAILED,n.errorTmplIndex===null){let y="",I=new V(-750,!1);Ly(e,I)}}else{n.loadingState=xt.COMPLETE;let y=s.tView;if(p.length>0){y.directiveRegistry=jC(y.directiveRegistry,p);let I=p.map(R=>R.type),S=nd(!1,...I);n.providers=S}g.length>0&&(y.pipeRegistry=jC(y.pipeRegistry,g))}}),n.loadingPromise.finally(()=>{n.loadingPromise=null,u()})):(n.loadingPromise=Promise.resolve().then(()=>{n.loadingPromise=null,n.loadingState=xt.COMPLETE,u()}),n.loadingPromise)}function vL(n,e){return e[jt].get(O0,null,{optional:!0})?.behavior!==Wy.Manual}function _L(n,e,t){let r=e[B],i=e[t.index];if(!vL(n,e))return;let o=bs(e,t),s=Ss(r,t);switch(b0(o),s.loadingState){case xt.NOT_STARTED:Kr($e.Loading,t,i),j0(s,e,t),s.loadingState===xt.IN_PROGRESS&&BC(s,t,i);break;case xt.IN_PROGRESS:Kr($e.Loading,t,i),BC(s,t,i);break;case xt.COMPLETE:Kr($e.Complete,t,i);break;case xt.FAILED:Kr($e.Error,t,i);break;default:}}function EL(n,e,t){return n===0?$C(e,t):n===2?!$C(e,t):!0}function IL(n){return n!=null&&(n&1)===1}function $C(n,e){let t=n[jt],r=Ss(n[B],e),i=Ib(t),o=IL(r.flags),a=bs(n,e)[GF]!==null;return!(o&&a&&i)}function wL(n,e,t,r,i,o,s,a,u,l){let h=Y(),p=xe(),g=n+De,y=Qi(h,p,n,null,0,0),I=h[jt];if(p.firstCreatePass){vn("NgDefer");let Le={primaryTmplIndex:e,loadingTmplIndex:r??null,placeholderTmplIndex:i??null,errorTmplIndex:o??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:t??null,loadingState:xt.NOT_STARTED,loadingPromise:null,providers:null,hydrateTriggers:null,debug:null,flags:l??0};u?.(p,Le,a,s),rL(p,g,Le)}let S=h[g];y0(S,y,h);let R=null,x=null;if(S[$r]?.length>0){let Le=S[$r][0].data;x=Le[Ty]??null,R=Le[Cy]}let $=[null,Gy.Initial,null,null,null,null,x,R,null,null];nL(h,g,$);let G=null;x!==null&&(G=I.get(_b),G.add(x,{lView:h,tNode:y,lContainer:S}));let ye=()=>{b0($),x!==null&&G?.cleanup([x])};C0(0,$,()=>cd(h,ye)),hc(h,ye)}function DL(n,e){let t=Y(),r=et();EL(0,t,r)&&(gL(t,r),lL(t,r,n,e,aL,()=>_L(0,t,r),0))}function Mc(n,e,t,r){let i=Y(),o=us();if(Ln(i,o,e)){let s=xe(),a=Sm();p1(a,i,n,e,t,r)}return Mc}var ly=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function jm(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function TL(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=n.at(o),h=e[o],p=jm(o,l,o,h,t);if(p!==0){p<0&&n.updateValue(o,h),o++;continue}let g=n.at(s),y=e[u],I=jm(s,g,u,y,t);if(I!==0){I<0&&n.updateValue(s,y),s--,u--;continue}let S=t(o,l),R=t(s,g),x=t(o,h);if(Object.is(x,R)){let $=t(u,y);Object.is($,S)?(n.swap(o,s),n.updateValue(s,y),u--,s--):n.move(s,o),n.updateValue(o,h),o++;continue}if(r??=new qd,i??=qC(n,o,s,t),dy(n,r,o,x))n.updateValue(o,h),o++,s++;else if(i.has(x))r.set(S,n.detach(o)),s--;else{let $=n.create(o,e[o]);n.attach(o,$),o++,s++}}for(;o<=u;)HC(n,r,t,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let h=n.at(o),p=l.value,g=jm(o,h,o,p,t);if(g!==0)g<0&&n.updateValue(o,p),o++,l=u.next();else{r??=new qd,i??=qC(n,o,s,t);let y=t(o,p);if(dy(n,r,o,y))n.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(y))n.attach(o,n.create(o,p)),o++,s++,l=u.next();else{let I=t(o,h);r.set(I,n.detach(o)),s--}}}for(;!l.done;)HC(n,r,t,n.length,l.value),l=u.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(u=>{n.destroy(u)})}function dy(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function HC(n,e,t,r,i){if(dy(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function qC(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var qd=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function CL(n,e,t,r,i,o,s,a){vn("NgControlFlow");let u=Y(),l=xe(),h=pn(l.consts,o);return Qi(u,l,n,e,t,r,i,h,256,s,a),tv}function tv(n,e,t,r,i,o,s,a){vn("NgControlFlow");let u=Y(),l=xe(),h=pn(l.consts,o);return Qi(u,l,n,e,t,r,i,h,512,s,a),tv}function bL(n,e){vn("NgControlFlow");let t=Y(),r=us(),i=t[r]!==St?t[r]:-1,o=i!==-1?zd(t,De+i):void 0,s=0;if(Ln(t,r,n)){let a=K(null);try{if(o!==void 0&&By(o,s),n!==-1){let u=De+n,l=zd(t,u),h=gy(t[B],u),p=s0(l,h,t),g=Ds(t,h,e,{dehydratedView:p});Ts(l,g,s,Gi(h,p))}}finally{K(a)}}else if(o!==void 0){let a=i0(o,s);a!==void 0&&(a[Be]=e)}}var hy=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Xe}};function SL(n){return n}function AL(n,e){return e}var fy=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function RL(n,e,t,r,i,o,s,a,u,l,h,p,g){vn("NgControlFlow");let y=Y(),I=xe(),S=u!==void 0,R=Y(),x=a?s.bind(R[Ct][Be]):s,$=new fy(S,x);R[De+n]=$,Qi(y,I,n+1,e,t,r,i,pn(I.consts,o),256),S&&Qi(y,I,n+2,u,l,h,p,pn(I.consts,g),512)}var py=class extends ly{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-Xe}at(e){return this.getLView(e)[Be].$implicit}attach(e,t){let r=t[Li];this.needsIndexUpdate||=e!==this.length,Ts(this.lContainer,t,e,Gi(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,ML(this.lContainer,e)}create(e,t){let r=Od(this.lContainer,this.templateTNode.tView.ssrId),i=Ds(this.hostLView,this.templateTNode,new hy(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){eh(e[B],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Be].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Be].$index=e}getLView(e){return PL(this.lContainer,e)}};function NL(n){let e=K(null),t=kn();try{let r=Y(),i=r[B],o=r[t],s=t+1,a=zd(r,s);if(o.liveCollection===void 0){let l=gy(i,s);o.liveCollection=new py(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(TL(u,n,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=us(),h=u.length===0;if(Ln(r,l,h)){let p=t+2,g=zd(r,p);if(h){let y=gy(i,p),I=s0(g,y,r),S=Ds(r,y,void 0,{dehydratedView:I});Ts(g,S,0,Gi(y,I))}else i.firstUpdatePass&&V1(g),By(g,0)}}}finally{K(e)}}function zd(n,e){return n[e]}function ML(n,e){return Ec(n,e)}function PL(n,e){return i0(n,e)}function gy(n,e){return $i(n,e)}function U0(n,e,t){let r=Y(),i=us();if(Ln(r,i,e)){let o=xe(),s=Sm();a1(s,r,n,e,r[Se],t)}return U0}function my(n,e,t,r,i){Vy(e,n,t,i?"class":"style",r)}function nv(n,e,t,r){let i=Y(),o=i[B],s=n+De,a=o.firstCreatePass?l0(s,i,2,e,f1,KT(),t,r):o.data[s];if(Gb(a,i,n,e,$0),id(a)){let u=i[B];zb(u,i,a),Db(u,a,i)}return r!=null&&Fy(i,a),nv}function rv(){let n=xe(),e=et(),t=Wb(e);return n.firstCreatePass&&d0(n,t),ym(t)&&vm(),gm(),t.classesWithoutHost!=null&&Qx(t)&&my(n,t,Y(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&Yx(t)&&my(n,t,Y(),t.stylesWithoutHost,!1),rv}function As(n,e,t,r){return nv(n,e,t,r),rv(),As}function iv(n,e,t,r){let i=Y(),o=i[B],s=n+De,a=o.firstCreatePass?X1(s,o,2,e,t,r):o.data[s];return Gb(a,i,n,e,$0),r!=null&&Fy(i,a),iv}function ov(){let n=et(),e=Wb(n);return ym(e)&&vm(),gm(),ov}function B0(n,e,t,r){return iv(n,e,t,r),ov(),B0}var $0=(n,e,t,r,i)=>(md(!0),Pb(e[Se],r,uC()));function kL(){return Y()}var Pc="en-US";var xL=Pc;function H0(n){typeof n=="string"&&(xL=n.toLowerCase().replace(/_/g,"-"))}function _n(n,e,t){let r=Y(),i=xe(),o=et();return OL(i,r,r[Se],o,n,e,t),_n}function q0(n,e,t){let r=Y(),i=xe(),o=et();return(o.type&3||t)&&f0(o,i,r,t,r[Se],n,e,Cd(o,r,e)),q0}function OL(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=Cd(r,e,o),f0(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let g=h[p],y=h[p+1];u??=Cd(r,e,o),SC(r,e,g,y,i,u)}if(l&&l.length)for(let p of l)u??=Cd(r,e,o),SC(r,e,p,i,i,u)}}function FL(n=1){return cC(n)}function LL(n,e){let t=null,r=NO(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?Mb(n,o,!0):kO(r,o))return i}return t}function VL(n){let e=Y()[Ct][Tt];if(!e.projection){let t=n?n.length:1,r=e.projection=PT(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?LL(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function jL(n,e=0,t,r,i,o){let s=Y(),a=xe(),u=r?n+1:null;u!==null&&Qi(s,a,u,r,i,o,null,t);let l=bc(a,De+n,16,null,t||null);l.projection===null&&(l.projection=e),Im();let p=!s[Li]||mm();s[Ct][Tt].projection[l.projection]===null&&u!==null?UL(s,a,u):p&&!Zd(l)&&e1(a,s,l)}function UL(n,e,t){let r=De+t,i=e.data[r],o=n[r],s=Od(o,i.tView.ssrId),a=Ds(n,i,void 0,{dehydratedView:s});Ts(o,a,0,Gi(i,s))}function sv(n,e,t,r){wF(n,e,t,r)}function BL(n,e,t){IF(n,e,t)}function av(n){let e=Y(),t=xe(),r=Tm();hd(r+1);let i=qy(t,r);if(n.dirty&&HT(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=CF(e,r);n.reset(o,uO),n.notifyOnChanges()}return!0}return!1}function cv(){return EF(Y(),Tm())}function $L(n){let e=JT();return cm(e,De+n)}function Ed(n,e){return n<<17|e<<2}function Yi(n){return n>>17&32767}function HL(n){return(n&2)==2}function qL(n,e){return n&131071|e<<17}function yy(n){return n|2}function Es(n){return(n&131068)>>2}function Um(n,e){return n&-131069|e<<2}function zL(n){return(n&1)===1}function vy(n){return n|1}function GL(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Yi(s),u=Es(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||rs(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let g=Yi(n[a+1]);n[r+1]=Ed(g,a),g!==0&&(n[g+1]=Um(n[g+1],r)),n[a+1]=qL(n[a+1],r)}else n[r+1]=Ed(a,0),a!==0&&(n[a+1]=Um(n[a+1],r)),a=r;else n[r+1]=Ed(u,0),a===0?a=r:n[u+1]=Um(n[u+1],r),u=r;l&&(n[r+1]=yy(n[r+1])),zC(n,h,r,!0),zC(n,h,r,!1),WL(e,h,n,r,o),s=Ed(a,u),o?e.classBindings=s:e.styleBindings=s}function WL(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&rs(o,e)>=0&&(t[r+1]=vy(t[r+1]))}function zC(n,e,t,r){let i=n[t+1],o=e===null,s=r?Yi(i):Es(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];KL(u,e)&&(a=!0,n[s+1]=r?vy(l):yy(l)),s=r?Yi(l):Es(l)}a&&(n[t+1]=r?yy(i):vy(i))}function KL(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?rs(n,e)>=0:!1}var mn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function QL(n){return n.substring(mn.key,mn.keyEnd)}function YL(n){return ZL(n),z0(n,G0(n,0,mn.textEnd))}function z0(n,e){let t=mn.textEnd;return t===e?-1:(e=mn.keyEnd=JL(n,mn.key=e,t),G0(n,e,t))}function ZL(n){mn.key=0,mn.keyEnd=0,mn.value=0,mn.valueEnd=0,mn.textEnd=n.length}function G0(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function JL(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function kc(n,e){return eV(n,e,null,!0),kc}function uv(n){tV(aV,XL,n,!0)}function XL(n,e){for(let t=YL(e);t>=0;t=z0(e,t))ed(n,QL(e),!0)}function eV(n,e,t,r){let i=Y(),o=xe(),s=ld(2);if(o.firstUpdatePass&&K0(o,n,s,r),e!==St&&Ln(i,s,e)){let a=o.data[kn()];Q0(o,a,i,i[Se],n,i[s+1]=uV(e,t),r,s)}}function tV(n,e,t,r){let i=xe(),o=ld(2);i.firstUpdatePass&&K0(i,null,o,r);let s=Y();if(t!==St&&Ln(s,o,t)){let a=i.data[kn()];if(Y0(a,r)&&!W0(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(t=Yl(u,t||"")),my(i,a,s,t,r)}else cV(i,a,s,s[Se],s[o+1],s[o+1]=sV(n,e,t),r,o)}}function W0(n,e){return e>=n.expandoStartIndex}function K0(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[kn()],s=W0(n,t);Y0(o,r)&&e===null&&!s&&(e=!1),e=nV(i,o,e,r),GL(i,o,e,t,s,r)}}function nV(n,e,t,r){let i=iC(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Bm(null,n,e,t,r),t=Dc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Bm(i,n,e,t,r),o===null){let u=rV(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Bm(null,n,e,u[1],r),u=Dc(u,e.attrs,r),iV(n,e,r,u))}else o=oV(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function rV(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Es(r)!==0)return n[Yi(r)]}function iV(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Yi(i)]=r}function oV(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Dc(r,s,t)}return Dc(r,e.attrs,t)}function Bm(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Dc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Dc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),ed(n,s,t?!0:e[++o]))}return n===void 0?null:n}function sV(n,e,t){if(t==null||t==="")return Dt;let r=[],i=Cc(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function aV(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&ed(n,r,t)}function cV(n,e,t,r,i,o,s,a){i===St&&(i=Dt);let u=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let g=u<i.length?i[u+1]:void 0,y=l<o.length?o[l+1]:void 0,I=null,S;h===p?(u+=2,l+=2,g!==y&&(I=p,S=y)):p===null||h!==null&&h<p?(u+=2,I=h):(l+=2,I=p,S=y),I!==null&&Q0(n,e,t,r,I,S,s,a),h=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function Q0(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=zL(l)?GC(u,e,t,i,Es(l),s):void 0;if(!Gd(h)){Gd(o)||HL(l)&&(o=GC(u,null,t,i,a,s));let p=od(kn(),t);n1(r,s,p,i,o)}}function GC(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=t[i+1];g===St&&(g=p?Dt:void 0);let y=p?td(g,r):h===r?g:void 0;if(l&&!Gd(y)&&(y=td(u,r)),Gd(y)&&(a=y,s))return a;let I=n[i+1];i=s?Yi(I):Es(I)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=td(u,r))}return a}function Gd(n){return n!==void 0}function uV(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=nr(Cc(n)))),n}function Y0(n,e){return(n.flags&(e?8:16))!==0}function lV(n,e=""){let t=Y(),r=xe(),i=n+De,o=r.firstCreatePass?bc(r,i,1,e,null):r.data[i],s=dV(r,t,o,e,n);t[i]=s,gd()&&xy(r,t,s,o),as(o,!1)}var dV=(n,e,t,r,i)=>(md(!0),LO(e[Se],r));function hV(n,e,t,r=""){return Ln(n,us(),t)?e+Fi(t)+r:St}function fV(n,e,t,r,i,o=""){let s=XT(),a=h0(n,s,t,i);return ld(2),a?e+Fi(t)+r+Fi(i)+o:St}function Z0(n){return lv("",n),Z0}function lv(n,e,t){let r=Y(),i=hV(r,n,e,t);return i!==St&&X0(r,kn(),i),lv}function J0(n,e,t,r,i){let o=Y(),s=fV(o,n,e,t,r,i);return s!==St&&X0(o,kn(),s),J0}function X0(n,e,t){let r=od(e,n);VO(n[Se],r,t)}function pV(n,e,t){let r=xe();if(r.firstCreatePass){let i=hn(n);_y(t,r.data,r.blueprint,i,!0),_y(e,r.data,r.blueprint,i,!1)}}function _y(n,e,t,r,i){if(n=Ze(n),Array.isArray(n))for(let o=0;o<n.length;o++)_y(n[o],e,t,r,i);else{let o=xe(),s=Y(),a=et(),u=Pi(n)?n:Ze(n.provide),l=im(n),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Pi(n)||!n.multi){let y=new zi(l,i,X,null),I=Hm(u,e,i?h:h+g,p);I===-1?(zm(Md(a,s),o,u),$m(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[I]=y,s[I]=y)}else{let y=Hm(u,e,h+g,p),I=Hm(u,e,h,h+g),S=y>=0&&t[y],R=I>=0&&t[I];if(i&&!R||!i&&!S){zm(Md(a,s),o,u);let x=yV(i?mV:gV,t.length,i,r,l,n);!i&&R&&(t[I].providerFactory=x),$m(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(x),s.push(x)}else{let x=eS(t[i?I:y],l,!i&&r);$m(o,n,y>-1?y:I,x)}!i&&r&&R&&t[I].componentProviders++}}}function $m(n,e,t,r){let i=Pi(e),o=VT(e);if(i||o){let u=(o?Ze(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function eS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Hm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function gV(n,e,t,r,i){return Ey(this.multi,[])}function mV(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=vc(r,r[B],this.providerFactory.index,i);s=u.slice(0,a),Ey(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],Ey(o,s);return s}function Ey(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function yV(n,e,t,r,i,o){let s=new zi(n,t,X,null);return s.multi=[],s.index=e,s.componentProviders=0,eS(s,i,r&&!t),s}function ei(n,e=[]){return t=>{t.providersResolver=(r,i)=>pV(r,i?i(n):n,e)}}function vV(n,e,t){let r=ud()+n,i=Y();return i[r]===St?Hy(i,r,t?e.call(t):e()):eF(i,r)}function _V(n,e,t,r,i){return IV(Y(),ud(),n,e,t,r,i)}function tS(n,e){let t=n[e];return t===St?void 0:t}function EV(n,e,t,r,i,o){let s=e+t;return Ln(n,s,i)?Hy(n,s+1,o?r.call(o,i):r(i)):tS(n,s+1)}function IV(n,e,t,r,i,o,s){let a=e+t;return h0(n,a,i,o)?Hy(n,a+2,s?r.call(s,i,o):r(i,o)):tS(n,a+2)}function wV(n,e){let t=xe(),r,i=n+De;t.firstCreatePass?(r=DV(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=jr(r.type,!0)),s,a=wt(X);try{let u=Nd(!1),l=o();return Nd(u),um(t,Y(),i,l),l}finally{wt(a)}}function DV(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function TV(n,e,t){let r=n+De,i=Y(),o=cm(i,r);return CV(i,r)?EV(i,ud(),e,o.transform,t,o):o.transform(t)}function CV(n,e){return n[B].data[e].pure}var Wd=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},dv=(()=>{class n{compileModuleSync(t){return new Bd(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=tm(t),o=Rb(i.declarations).reduce((s,a)=>{let u=or(a);return u&&s.push(new _s(u)),s},[]);return new Wd(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var bV=(()=>{class n{zone=M(_e);changeDetectionScheduler=M(Kt);applicationRef=M(ur);applicationErrorHandler=M(bt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nS({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new _e(W(k({},rS()),{scheduleInRootZone:t})),[{provide:_e,useFactory:n},{provide:ir,multi:!0,useFactory:()=>{let r=M(bV,{optional:!0});return()=>r.initialize()}},{provide:ir,multi:!0,useFactory:()=>{let r=M(SV);return()=>{r.initialize()}}},e===!0?{provide:Nm,useValue:!0}:[],{provide:yd,useValue:t??A0},{provide:bt,useFactory:()=>{let r=M(_e),i=M(je),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Vt),o.handleError(s))})}}}]}function rS(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var SV=(()=>{class n{subscription=new Pe;initialized=!1;zone=M(_e);pendingTasks=M(xn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var hv=(()=>{class n{applicationErrorHandler=M(bt);appRef=M(ur);taskService=M(xn);ngZone=M(_e);zonelessEnabled=M(pc);tracing=M(Ji,{optional:!0});disableScheduling=M(Nm,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Pe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get($d):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(M(yd,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof wc||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?OC:R0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get($d+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,OC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function AV(){return vn("NgZoneless"),un([{provide:Kt,useExisting:hv},{provide:_e,useClass:wc},{provide:pc,useValue:!0},{provide:yd,useValue:!1},[]])}function RV(){return typeof $localize<"u"&&$localize.locale||Pc}var uh=new j("",{providedIn:"root",factory:()=>M(uh,{optional:!0,skipSelf:!0})||RV()});var lh=class{destroyed=!1;listeners=null;errorHandler=M(Vt,{optional:!0});destroyRef=M(ut);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new V(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let t=this.listeners?.indexOf(e);t!==void 0&&t!==-1&&this.listeners?.splice(t,1)}}}emit(e){if(this.destroyed){console.warn(xi(953,!1));return}if(this.listeners===null)return;let t=K(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{K(t)}}};function Bt(n){return IT(n)}function Xt(n,e){return Hl(n,e?.equal)}var fv=class{[It];constructor(e){this[It]=e}destroy(){this[It].destroy()}};function dh(n,e){let t=e?.injector??M(Ue),r=e?.manualCleanup!==!0?t.get(ut):null,i,o=t.get(ls,null,{optional:!0}),s=t.get(Kt);return o!==null?(i=PV(o.view,s,n),r instanceof nc&&r._lView===o.view&&(r=null)):i=kV(n,t.get(gc),s),i.injector=t,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new fv(i)}var iS=W(k({},Lr),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Hi,run(){if(this.dirty=!1,this.hasRun&&!Xo(this))return;this.hasRun=!0;let n=r=>(this.cleanupFns??=[]).push(r),e=Vr(this),t=cs(!1);try{this.maybeCleanup(),this.fn(n)}finally{cs(t),Ri(this,e)}},maybeCleanup(){if(!this.cleanupFns?.length)return;let n=K(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],K(n)}}}),NV=W(k({},iS),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){es(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),MV=W(k({},iS),{consumerMarkedDirty(){this.view[Q]|=8192,zr(this.view),this.notifier.notify(13)},destroy(){es(this),this.onDestroyFn(),this.maybeCleanup(),this.view[sr]?.delete(this)}});function PV(n,e,t){let r=Object.create(MV);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=t,n[sr]??=new Set,n[sr].add(r),r.consumerMarkedDirty(r),r}function kV(n,e,t){let r=Object.create(NV);return r.fn=n,r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}var sS=Symbol("InputSignalNode#UNSET"),JV=W(k({},ql),{transformFn:void 0,applyValueToInputSignal(n,e){ts(n,e)}});function aS(n,e){let t=Object.create(JV);t.value=n,t.transformFn=e?.transform;function r(){if(Jo(t),t.value===sS){let i=null;throw new V(-950,i)}return t.value}return r[It]=t,r}var fh=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Tc(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},XV=new j("");XV.__NG_ELEMENT_ID__=n=>{let e=et();if(e===null)throw new V(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new V(204,!1)};function cS(n){return new lh}function oS(n,e){return aS(n,e)}function e2(n){return aS(sS,n)}var Ns=(oS.required=e2,oS);var Rs=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},uS=new Rs("20.1.2");var pv=new j(""),t2=new j("");function xc(n){return!n.moduleRef}function n2(n){let e=xc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(_e);return t.run(()=>{xc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(bt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),xc(n)){let o=()=>e.destroy(),s=n.platformInjector.get(pv);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(pv);s.add(o),n.moduleRef.onDestroy(()=>{yc(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return i2(r,t,()=>{let o=e.get(xn),s=o.add(),a=e.get(ev);return a.runInitializers(),a.donePromise.then(()=>{try{let u=e.get(uh,Pc);if(H0(u||Pc),!e.get(t2,!0))return xc(n)?e.get(ur):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(xc(n)){let h=e.get(ur);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return r2?.(n.moduleRef,n.allPlatformModules),n.moduleRef}finally{o.remove(s)}})})})}var r2;function i2(n,e,t){try{let r=t();return Xr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var hh=null;function o2(n=[],e){return Ue.create({name:e,providers:[{provide:ac,useValue:"platform"},{provide:pv,useValue:new Set([()=>hh=null])},...n]})}function s2(n=[]){if(hh)return hh;let e=o2(n);return hh=e,L0(),a2(e),e}function a2(n){let e=n.get(Qd,null);Je(n,()=>{e?.forEach(t=>t())})}function gv(){return!1}var Xi=(()=>{class n{static __NG_ELEMENT_ID__=c2}return n})();function c2(n){return u2(et(),Y(),(n&16)===16)}function u2(n,e,t){if(qr(n)&&!t){let r=Zt(n.index,e);return new Qr(r,r)}else if(n.type&175){let r=e[Ct];return new Qr(r,e)}return null}function lS(n){pe(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=s2(r),o=[nS({}),{provide:Kt,useExisting:hv},dC,...t||[]],s=new Ic({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return n2({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{pe(9)}}function Oc(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var fS=null;function en(){return fS}function mv(n){fS??=n}var Fc=class{},yv=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>M(pS),providedIn:"platform"})}return n})();var pS=(()=>{class n extends yv{_location;_history;_doc=M(rt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return en().getBaseHref(this._doc)}onPopState(t){let r=en().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=en().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function gS(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function dS(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function ti(n){return n&&n[0]!=="?"?`?${n}`:n}var Ms=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>M(yS),providedIn:"root"})}return n})(),mS=new j(""),yS=(()=>{class n extends Ms{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??M(rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return gS(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+ti(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+ti(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+ti(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(ne(yv),ne(mS,8))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ps=(()=>{class n{_subject=new Ve;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=h2(dS(hS(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ti(r))}normalize(t){return n.stripTrailingSlash(d2(this._basePath,hS(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ti(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ti(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=ti;static joinWithSlash=gS;static stripTrailingSlash=dS;static \u0275fac=function(r){return new(r||n)(ne(Ms))};static \u0275prov=U({token:n,factory:()=>l2(),providedIn:"root"})}return n})();function l2(){return new Ps(ne(Ms))}function d2(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function hS(n){return n.replace(/\/index.html$/,"")}function h2(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function f2(n,e){return new V(2100,!1)}var p2=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,g2=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw f2(n,t);return t.replace(p2,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=Rc({name:"titlecase",type:n,pure:!0})}return n})();function vv(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Lc=class{};var vS="browser";var gh=new j(""),Dv=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new V(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(ne(gh),ne(_e))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),Vc=class{_doc;constructor(e){this._doc=e}manager},_v="ng-app-id";function _S(n){for(let e of n)e.remove()}function ES(n,e){let t=e.createElement("style");return t.textContent=n,t}function _2(n,e,t,r){let i=n.head?.querySelectorAll(`style[${_v}="${e}"],link[${_v}="${e}"]`);if(i)for(let o of i)o.removeAttribute(_v),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Iv(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Tv=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,_2(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,ES);r?.forEach(i=>this.addUsage(i,this.external,Iv))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(_S(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])_S(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,ES(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Iv(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(ne(rt),ne(Kd),ne(Yd,8),ne(Zr))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),Ev={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Cv=/%COMP%/g;var wS="%COMP%",E2=`_nghost-${wS}`,I2=`_ngcontent-${wS}`,w2=!0,D2=new j("",{providedIn:"root",factory:()=>w2});function T2(n){return I2.replace(Cv,n)}function C2(n){return E2.replace(Cv,n)}function DS(n,e){return e.map(t=>t.replace(Cv,n))}var bv=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new jc(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof ph?i.applyToHost(t):i instanceof Uc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case ar.Emulated:o=new ph(u,l,r,this.appId,h,s,a,p,g);break;case ar.ShadowDom:return new wv(u,l,t,r,s,a,this.nonce,p,g);default:o=new Uc(u,l,r,h,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(ne(Dv),ne(Tv),ne(Kd),ne(D2),ne(rt),ne(Zr),ne(_e),ne(Yd),ne(Ji,8))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),jc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Ev[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(IS(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(IS(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Ev[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Ev[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Fn.DashCase|Fn.Important)?e.style.setProperty(t,r,i&Fn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Fn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=en().getGlobalEventTarget(this.doc,e),!e))throw new V(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function IS(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var wv=class extends jc{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=DS(i.id,h);for(let g of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=g,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let g of p){let y=Iv(g,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Uc=class extends jc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?DS(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ph=class extends Uc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=T2(h),this.hostAttr=C2(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var mh=class n extends Fc{supportsDOMEvents=!0;static makeCurrent(){mv(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=b2();return t==null?null:S2(t)}resetBaseElement(){Bc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return vv(document.cookie,e)}},Bc=null;function b2(){return Bc=Bc||document.head.querySelector("base"),Bc?Bc.getAttribute("href"):null}function S2(n){return new URL(n,document.baseURI).pathname}var A2=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),CS=(()=>{class n extends Vc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(ne(rt))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),TS=["alt","control","meta","shift"],R2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},N2={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},bS=(()=>{class n extends Vc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>en().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),TS.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=R2[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),TS.forEach(s=>{if(s!==i){let a=N2[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(ne(rt))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();function M2(n,e){return lS(k({rootComponent:n},P2(e)))}function P2(n){return{appProviders:[...L2,...n?.providers??[]],platformProviders:F2}}function k2(){mh.makeCurrent()}function x2(){return new Vt}function O2(){return Dy(document),document}var F2=[{provide:Zr,useValue:vS},{provide:Qd,useValue:k2,multi:!0},{provide:rt,useFactory:O2}];var L2=[{provide:ac,useValue:"root"},{provide:Vt,useFactory:x2},{provide:gh,useClass:CS,multi:!0,deps:[rt]},{provide:gh,useClass:bS,multi:!0,deps:[rt]},bv,Tv,Dv,{provide:Wi,useExisting:bv},{provide:Lc,useClass:A2},[]];var SS=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(ne(rt))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var re="primary",nu=Symbol("RouteTitle"),Mv=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function no(n){return new Mv(n)}function OS(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function j2(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Vn(n[t],e[t]))return!1;return!0}function Vn(n,e){let t=n?Pv(n):void 0,r=e?Pv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!FS(n[i],e[i]))return!1;return!0}function Pv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function FS(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function LS(n){return n.length>0?n[n.length-1]:null}function hr(n){return yg(n)?n:Xr(n)?Re(Promise.resolve(n)):Z(n)}var U2={exact:jS,subset:US},VS={exact:B2,subset:$2,ignored:()=>!0};function AS(n,e,t){return U2[t.paths](n.root,e.root,t.matrixParams)&&VS[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function B2(n,e){return Vn(n,e)}function jS(n,e,t){if(!eo(n.segments,e.segments)||!_h(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!jS(n.children[r],e.children[r],t))return!1;return!0}function $2(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>FS(n[t],e[t]))}function US(n,e,t){return BS(n,e,e.segments,t)}function BS(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!eo(i,t)||e.hasChildren()||!_h(i,t,r))}else if(n.segments.length===t.length){if(!eo(n.segments,t)||!_h(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!US(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!eo(n.segments,i)||!_h(n.segments,i,r)||!n.children[re]?!1:BS(n.children[re],e,o,r)}}function _h(n,e,t){return e.every((r,i)=>VS[t](n[i].parameters,r.parameters))}var Un=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ge([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=no(this.queryParams),this._queryParamMap}toString(){return z2.serialize(this)}},ge=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Eh(this)}},ni=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=no(this.parameters),this._parameterMap}toString(){return HS(this)}};function H2(n,e){return eo(n,e)&&n.every((t,r)=>Vn(t.parameters,e[r].parameters))}function eo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function q2(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===re&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==re&&(t=t.concat(e(i,r)))}),t}var ru=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>new ro,providedIn:"root"})}return n})(),ro=class{parse(e){let t=new xv(e);return new Un(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${$c(e.root,!0)}`,r=K2(e.queryParams),i=typeof e.fragment=="string"?`#${G2(e.fragment)}`:"";return`${t}${r}${i}`}},z2=new ro;function Eh(n){return n.segments.map(e=>HS(e)).join("/")}function $c(n,e){if(!n.hasChildren())return Eh(n);if(e){let t=n.children[re]?$c(n.children[re],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==re&&r.push(`${i}:${$c(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=q2(n,(r,i)=>i===re?[$c(n.children[re],!1)]:[`${i}:${$c(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[re]!=null?`${Eh(n)}/${t[0]}`:`${Eh(n)}/(${t.join("//")})`}}function $S(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yh(n){return $S(n).replace(/%3B/gi,";")}function G2(n){return encodeURI(n)}function kv(n){return $S(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ih(n){return decodeURIComponent(n)}function RS(n){return Ih(n.replace(/\+/g,"%20"))}function HS(n){return`${kv(n.path)}${W2(n.parameters)}`}function W2(n){return Object.entries(n).map(([e,t])=>`;${kv(e)}=${kv(t)}`).join("")}function K2(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${yh(t)}=${yh(i)}`).join("&"):`${yh(t)}=${yh(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Q2=/^[^\/()?;#]+/;function Sv(n){let e=n.match(Q2);return e?e[0]:""}var Y2=/^[^\/()?;=#]+/;function Z2(n){let e=n.match(Y2);return e?e[0]:""}var J2=/^[^=?&#]+/;function X2(n){let e=n.match(J2);return e?e[0]:""}var ej=/^[^&#]+/;function tj(n){let e=n.match(ej);return e?e[0]:""}var xv=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[re]=new ge(e,t)),r}parseSegment(){let e=Sv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new ni(Ih(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Z2(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Sv(this.remaining);i&&(r=i,this.capture(r))}e[Ih(t)]=Ih(r)}parseQueryParam(e){let t=X2(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=tj(this.remaining);s&&(r=s,this.capture(r))}let i=RS(t),o=RS(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Sv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new V(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=re);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[re]:new ge([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}};function qS(n){return n.segments.length>0?new ge([],{[re]:n}):n}function zS(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=zS(i);if(r===re&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new ge(n.segments,e);return nj(t)}function nj(n){if(n.numberOfChildren===1&&n.children[re]){let e=n.children[re];return new ge(n.segments.concat(e.segments),e.children)}return n}function ri(n){return n instanceof Un}function GS(n,e,t=null,r=null){let i=WS(n);return KS(i,e,t,r)}function WS(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new ge(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=qS(r);return e??i}function KS(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Av(i,i,i,t,r);let o=rj(e);if(o.toRoot())return Av(i,i,new ge([],{}),t,r);let s=ij(o,i,n),a=s.processChildren?qc(s.segmentGroup,s.index,o.commands):YS(s.segmentGroup,s.index,o.commands);return Av(i,s.segmentGroup,a,t,r)}function wh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Wc(n){return typeof n=="object"&&n!=null&&n.outlets}function Av(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=QS(n,e,t);let a=qS(zS(s));return new Un(a,o,i)}function QS(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=QS(o,e,t)}),new ge(n.segments,r)}var Dh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&wh(r[0]))throw new V(4003,!1);let i=r.find(Wc);if(i&&i!==LS(r))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function rj(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Dh(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Dh(t,e,r)}var Os=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function ij(n,e,t){if(n.isAbsolute)return new Os(e,!0,0);if(!t)return new Os(e,!1,NaN);if(t.parent===null)return new Os(t,!0,0);let r=wh(n.commands[0])?0:1,i=t.segments.length-1+r;return oj(t,i,n.numberOfDoubleDots)}function oj(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new V(4005,!1);i=r.segments.length}return new Os(r,!1,i-o)}function sj(n){return Wc(n[0])?n[0].outlets:{[re]:n}}function YS(n,e,t){if(n??=new ge([],{}),n.segments.length===0&&n.hasChildren())return qc(n,e,t);let r=aj(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new ge(n.segments.slice(0,r.pathIndex),{});return o.children[re]=new ge(n.segments.slice(r.pathIndex),n.children),qc(o,0,i)}else return r.match&&i.length===0?new ge(n.segments,{}):r.match&&!n.hasChildren()?Ov(n,e,t):r.match?qc(n,0,i):Ov(n,e,t)}function qc(n,e,t){if(t.length===0)return new ge(n.segments,{});{let r=sj(t),i={};if(Object.keys(r).some(o=>o!==re)&&n.children[re]&&n.numberOfChildren===1&&n.children[re].segments.length===0){let o=qc(n.children[re],e,t);return new ge(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=YS(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ge(n.segments,i)}}function aj(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Wc(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!MS(u,l,s))return o;r+=2}else{if(!MS(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ov(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Wc(o)){let u=cj(o.outlets);return new ge(r,u)}if(i===0&&wh(t[0])){let u=n.segments[e];r.push(new ni(u.path,NS(t[0]))),i++;continue}let s=Wc(o)?o.outlets[re]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&wh(a)?(r.push(new ni(s,NS(a))),i+=2):(r.push(new ni(s,{})),i++)}return new ge(r,{})}function cj(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Ov(new ge([],{}),0,r))}),e}function NS(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function MS(n,e,t){return n==t.path&&Vn(e,t.parameters)}var zc="imperative",it=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(it||{}),Ht=class{id;url;constructor(e,t){this.id=e,this.url=t}},io=class extends Ht{type=it.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},In=class extends Ht{urlAfterRedirects;type=it.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},At=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n}(At||{}),Kc=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Kc||{}),jn=class extends Ht{reason;code;type=it.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},lr=class extends Ht{reason;code;type=it.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Ls=class extends Ht{error;target;type=it.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Qc=class extends Ht{urlAfterRedirects;state;type=it.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Th=class extends Ht{urlAfterRedirects;state;type=it.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ch=class extends Ht{urlAfterRedirects;state;shouldActivate;type=it.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},bh=class extends Ht{urlAfterRedirects;state;type=it.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sh=class extends Ht{urlAfterRedirects;state;type=it.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ah=class{route;type=it.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Rh=class{route;type=it.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Nh=class{snapshot;type=it.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mh=class{snapshot;type=it.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ph=class{snapshot;type=it.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kh=class{snapshot;type=it.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Yc=class{},Vs=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function uj(n){return!(n instanceof Yc)&&!(n instanceof Vs)}function lj(n,e){return n.providers&&!n._injector&&(n._injector=Cs(n.providers,e,`Route: ${n.path}`)),n._injector??e}function En(n){return n.outlet||re}function dj(n,e){let t=n.filter(r=>En(r)===e);return t.push(...n.filter(r=>En(r)!==e)),t}function Bs(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var xh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Bs(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new $s(this.rootInjector)}},$s=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new xh(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(ne(je))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Oh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Fv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Fv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Lv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Lv(e,this._root).map(t=>t.value)}};function Fv(n,e){if(n===e.value)return e;for(let t of e.children){let r=Fv(n,t);if(r)return r}return null}function Lv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Lv(n,t);if(r.length)return r.unshift(e),r}return[]}var $t=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function xs(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Zc=class extends Oh{snapshot;constructor(e,t){super(e),this.snapshot=t,zv(this,e)}toString(){return this.snapshot.toString()}};function ZS(n){let e=hj(n),t=new ct([new ni("",{})]),r=new ct({}),i=new ct({}),o=new ct({}),s=new ct(""),a=new dr(t,r,o,s,i,re,n,e.root);return a.snapshot=e.root,new Zc(new $t(a,[]),e)}function hj(n){let e={},t={},r={},i="",o=new to([],e,r,i,t,re,n,null,{});return new Jc("",new $t(o,[]))}var dr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ce(l=>l[nu]))??Z(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ce(e=>no(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ce(e=>no(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Fh(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),n.params),data:k(k({},e.data),n.data),resolve:k(k(k(k({},n.data),e.data),i?.data),n._resolvedData)}:r={params:k({},n.params),data:k({},n.data),resolve:k(k({},n.data),n._resolvedData??{})},i&&XS(i)&&(r.resolve[nu]=i.title),r}var to=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[nu]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=no(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=no(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Jc=class extends Oh{url;constructor(e,t){super(t),this.url=e,zv(this,t)}toString(){return JS(this._root)}};function zv(n,e){e.value._routerState=n,e.children.forEach(t=>zv(n,t))}function JS(n){let e=n.children.length>0?` { ${n.children.map(JS).join(", ")} } `:"";return`${n.value}${e}`}function Rv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Vn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Vn(e.params,t.params)||n.paramsSubject.next(t.params),j2(e.url,t.url)||n.urlSubject.next(t.url),Vn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Vv(n,e){let t=Vn(n.params,e.params)&&H2(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Vv(n.parent,e.parent))}function XS(n){return typeof n.title=="string"||n.title===null}var eA=new j(""),Gv=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=re;activateEvents=new Oe;deactivateEvents=new Oe;attachEvents=new Oe;detachEvents=new Oe;routerOutletData=Ns(void 0);parentContexts=M($s);location=M(Zi);changeDetector=M(Xi);inputBinder=M(Uh,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new jv(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=de({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[yn]})}return n})(),jv=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===dr?this.route:e===$s?this.childContexts:e===eA?this.outletData:this.parent.get(e,t)}},Uh=new j("");var Wv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Ac({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&As(0,"router-outlet")},dependencies:[Gv],encapsulation:2})}return n})();function Kv(n){let e=n.children&&n.children.map(Kv),t=e?W(k({},n),{children:e}):k({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==re&&(t.component=Wv),t}function fj(n,e,t){let r=Xc(n,e._root,t?t._root:void 0);return new Zc(r,e)}function Xc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=pj(n,e,t);return new $t(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Xc(n,a)),s}}let r=gj(e.value),i=e.children.map(o=>Xc(n,o));return new $t(r,i)}}function pj(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Xc(n,r,i);return Xc(n,r)})}function gj(n){return new dr(new ct(n.url),new ct(n.params),new ct(n.queryParams),new ct(n.fragment),new ct(n.data),n.outlet,n.component,n)}var js=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},tA="ngNavigationCancelingError";function Lh(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ri(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=nA(!1,At.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function nA(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[tA]=!0,t.cancellationCode=e,t}function mj(n){return rA(n)&&ri(n.url)}function rA(n){return!!n&&n[tA]}var yj=(n,e,t,r)=>ce(i=>(new Uv(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Uv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Rv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=xs(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=xs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=xs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=xs(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new kh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Mh(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Rv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Rv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Vh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Fs=class{component;route;constructor(e,t){this.component=e,this.route=t}};function vj(n,e,t){let r=n._root,i=e?e._root:null;return Hc(r,i,t,[r.value])}function _j(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Hs(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Hg(n)?n:e.get(n):r}function Hc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=xs(e);return n.children.forEach(s=>{Ej(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Gc(a,t.getContext(s),i)),i}function Ej(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Ij(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Vh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Hc(n,e,a?a.children:null,r,i):Hc(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Fs(a.outlet.component,s))}else s&&Gc(e,a,i),i.canActivateChecks.push(new Vh(r)),o.component?Hc(n,null,a?a.children:null,r,i):Hc(n,null,t,r,i);return i}function Ij(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!eo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!eo(n.url,e.url)||!Vn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vv(n,e)||!Vn(n.queryParams,e.queryParams);case"paramsChange":default:return!Vv(n,e)}}function Gc(n,e,t){let r=xs(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Gc(s,e.children.getContext(o),t):Gc(s,null,t):Gc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Fs(e.outlet.component,i)):t.canDeactivateChecks.push(new Fs(null,i)):t.canDeactivateChecks.push(new Fs(null,i))}function iu(n){return typeof n=="function"}function wj(n){return typeof n=="boolean"}function Dj(n){return n&&iu(n.canLoad)}function Tj(n){return n&&iu(n.canActivate)}function Cj(n){return n&&iu(n.canActivateChild)}function bj(n){return n&&iu(n.canDeactivate)}function Sj(n){return n&&iu(n.canMatch)}function iA(n){return n instanceof Zn||n?.name==="EmptyError"}var vh=Symbol("INITIAL_VALUE");function Us(){return Wt(n=>Rl(n.map(e=>e.pipe(Xn(1),wg(vh)))).pipe(ce(e=>{for(let t of e)if(t!==!0){if(t===vh)return vh;if(t===!1||Aj(t))return t}return!0}),Mt(e=>e!==vh),Xn(1)))}function Aj(n){return ri(n)||n instanceof js}function Rj(n,e){return ke(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Z(W(k({},t),{guardsResult:!0})):Nj(s,r,i,n).pipe(ke(a=>a&&wj(a)?Mj(r,o,n,e):Z(a)),ce(a=>W(k({},t),{guardsResult:a})))})}function Nj(n,e,t,r){return Re(n).pipe(ke(i=>Fj(i.component,i.route,t,e,r)),er(i=>i!==!0,!0))}function Mj(n,e,t,r){return Re(e).pipe(Ai(i=>Qo(kj(i.route.parent,r),Pj(i.route,r),Oj(n,i.path,t),xj(n,i.route,t))),er(i=>i!==!0,!0))}function Pj(n,e){return n!==null&&e&&e(new Ph(n)),Z(!0)}function kj(n,e){return n!==null&&e&&e(new Nh(n)),Z(!0)}function xj(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let i=r.map(o=>Ka(()=>{let s=Bs(e)??t,a=Hs(o,s),u=Tj(a)?a.canActivate(e,n):Je(s,()=>a(e,n));return hr(u).pipe(er())}));return Z(i).pipe(Us())}function Oj(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>_j(s)).filter(s=>s!==null).map(s=>Ka(()=>{let a=s.guards.map(u=>{let l=Bs(s.node)??t,h=Hs(u,l),p=Cj(h)?h.canActivateChild(r,n):Je(l,()=>h(r,n));return hr(p).pipe(er())});return Z(a).pipe(Us())}));return Z(o).pipe(Us())}function Fj(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Z(!0);let s=o.map(a=>{let u=Bs(e)??i,l=Hs(a,u),h=bj(l)?l.canDeactivate(n,e,t,r):Je(u,()=>l(n,e,t,r));return hr(h).pipe(er())});return Z(s).pipe(Us())}function Lj(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Z(!0);let o=i.map(s=>{let a=Hs(s,n),u=Dj(a)?a.canLoad(e,t):Je(n,()=>a(e,t));return hr(u)});return Z(o).pipe(Us(),oA(r))}function oA(n){return dg(nt(e=>{if(typeof e!="boolean")throw Lh(n,e)}),ce(e=>e===!0))}function Vj(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Z(!0);let o=i.map(s=>{let a=Hs(s,n),u=Sj(a)?a.canMatch(e,t):Je(n,()=>a(e,t));return hr(u)});return Z(o).pipe(Us(),oA(r))}var eu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},tu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ks(n){return Go(new eu(n))}function jj(n){return Go(new V(4e3,!1))}function Uj(n){return Go(nA(!1,At.GuardRejected))}var Bv=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Z(r);if(i.numberOfChildren>1||!i.children[re])return jj(`${e.redirectTo}`);i=i.children[re]}}applyRedirectCommands(e,t,r,i,o){return Bj(t,i,o).pipe(ce(s=>{if(s instanceof Un)throw new tu(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new tu(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Un(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new ge(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new V(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function Bj(n,e,t){if(typeof n=="string")return Z(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return hr(Je(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var $v={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $j(n,e,t,r,i){let o=sA(n,e,t);return o.matched?(r=lj(e,r),Vj(r,e,t,i).pipe(ce(s=>s===!0?o:k({},$v)))):Z(o)}function sA(n,e,t){if(e.path==="**")return Hj(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?k({},$v):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||OS)(t,n,e);if(!i)return k({},$v);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?k(k({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Hj(n){return{matched:!0,parameters:n.length>0?LS(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function PS(n,e,t,r){return t.length>0&&Gj(n,t,r)?{segmentGroup:new ge(e,zj(r,new ge(t,n.children))),slicedSegments:[]}:t.length===0&&Wj(n,t,r)?{segmentGroup:new ge(n.segments,qj(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ge(n.segments,n.children),slicedSegments:t}}function qj(n,e,t,r){let i={};for(let o of t)if(Bh(n,e,o)&&!r[En(o)]){let s=new ge([],{});i[En(o)]=s}return k(k({},r),i)}function zj(n,e){let t={};t[re]=e;for(let r of n)if(r.path===""&&En(r)!==re){let i=new ge([],{});t[En(r)]=i}return t}function Gj(n,e,t){return t.some(r=>Bh(n,e,r)&&En(r)!==re)}function Wj(n,e,t){return t.some(r=>Bh(n,e,r))}function Bh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Kj(n,e,t){return e.length===0&&!n.children[t]}var Hv=class{};function Qj(n,e,t,r,i,o,s="emptyOnly"){return new qv(n,e,t,r,i,s,o).recognize()}var Yj=31,qv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Bv(this.urlSerializer,this.urlTree)}noMatchError(e){return new V(4002,`'${e.segmentGroup}'`)}recognize(){let e=PS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ce(({children:t,rootSnapshot:r})=>{let i=new $t(r,t),o=new Jc("",i),s=GS(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new to([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,re,t).pipe(ce(r=>({children:r,rootSnapshot:t})),Jn(r=>{if(r instanceof tu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof eu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ce(s=>s instanceof $t?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Re(o).pipe(Ai(s=>{let a=r.children[s],u=dj(t,s);return this.processSegmentGroup(e,u,a,s,i)}),Ig((s,a)=>(s.push(...a),s)),Fr(null),Eg(),ke(s=>{if(s===null)return ks(r);let a=aA(s);return Zj(a),Z(a)}))}processSegment(e,t,r,i,o,s,a){return Re(t).pipe(Ai(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(Jn(l=>{if(l instanceof eu)return Z(null);throw l}))),er(u=>!!u),Jn(u=>{if(iA(u))return Kj(r,i,o)?Z(new Hv):ks(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return En(r)!==s&&(s===re||!Bh(i,o,r))?ks(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):ks(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=sA(t,i,o);if(!u)return ks(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Yj&&(this.allowRedirects=!1));let y=new to(o,l,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,kS(i),En(i),i.component??i._loadedComponent??null,i,xS(i)),I=Fh(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(I.params),y.data=Object.freeze(I.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(Wt(R=>this.applyRedirects.lineralizeSegments(i,R)),ke(R=>this.processSegment(e,r,t,R.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=$j(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Wt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Wt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:y}=u,I=new to(g,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,kS(r),En(r),r.component??r._loadedComponent??null,r,xS(r)),S=Fh(I,s,this.paramsInheritanceStrategy);I.params=Object.freeze(S.params),I.data=Object.freeze(S.data);let{segmentGroup:R,slicedSegments:x}=PS(t,g,y,l);if(x.length===0&&R.hasChildren())return this.processChildren(h,l,R,I).pipe(ce(G=>new $t(I,G)));if(l.length===0&&x.length===0)return Z(new $t(I,[]));let $=En(r)===o;return this.processSegment(h,l,R,x,$?re:o,!0,I).pipe(ce(G=>new $t(I,G instanceof $t?[G]:[])))}))):ks(t)))}getChildConfig(e,t,r){return t.children?Z({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Z({routes:t._loadedRoutes,injector:t._loadedInjector}):Lj(e,t,r,this.urlSerializer).pipe(ke(i=>i?this.configLoader.loadChildren(e,t).pipe(nt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):Uj(t))):Z({routes:[],injector:e})}};function Zj(n){n.sort((e,t)=>e.value.outlet===re?-1:t.value.outlet===re?1:e.value.outlet.localeCompare(t.value.outlet))}function Jj(n){let e=n.value.routeConfig;return e&&e.path===""}function aA(n){let e=[],t=new Set;for(let r of n){if(!Jj(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=aA(r.children);e.push(new $t(r.value,i))}return e.filter(r=>!t.has(r))}function kS(n){return n.data||{}}function xS(n){return n.resolve||{}}function Xj(n,e,t,r,i,o){return ke(s=>Qj(n,e,t,r,s.extractedUrl,i,o).pipe(ce(({state:a,tree:u})=>W(k({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function eU(n,e){return ke(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Z(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of cA(u))s.add(l);let a=0;return Re(s).pipe(Ai(u=>o.has(u)?tU(u,r,n,e):(u.data=Fh(u,u.parent,n).resolve,Z(void 0))),nt(()=>a++),Yo(1),ke(u=>a===s.size?Z(t):Pt))})}function cA(n){let e=n.children.map(t=>cA(t)).flat();return[n,...e]}function tU(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!XS(i)&&(o[nu]=i.title),Ka(()=>(n.data=Fh(n,n.parent,t).resolve,nU(o,n,e,r).pipe(ce(s=>(n._resolvedData=s,n.data=k(k({},n.data),s),null)))))}function nU(n,e,t,r){let i=Pv(n);if(i.length===0)return Z({});let o={};return Re(i).pipe(ke(s=>rU(n[s],e,t,r).pipe(er(),nt(a=>{if(a instanceof js)throw Lh(new ro,a);o[s]=a}))),Yo(1),ce(()=>o),Jn(s=>iA(s)?Pt:Go(s)))}function rU(n,e,t,r){let i=Bs(e)??r,o=Hs(n,i),s=o.resolve?o.resolve(e,t):Je(i,()=>o(e,t));return hr(s)}function Nv(n){return Wt(e=>{let t=n(e);return t?Re(t).pipe(ce(()=>e)):Z(e)})}var Qv=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===re);return r}getResolvedTitleForRoute(t){return t.data[nu]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>M(uA),providedIn:"root"})}return n})(),uA=(()=>{class n extends Qv{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(ne(SS))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qs=new j("",{providedIn:"root",factory:()=>({})}),ou=new j(""),lA=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=M(dv);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Z(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=hr(Je(t,()=>r.loadComponent())).pipe(ce(hA),nt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Qa(()=>{this.componentLoaders.delete(r)})),o=new Bo(i,()=>new Ve).pipe(Uo());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=dA(r,this.compiler,t,this.onLoadEndListener).pipe(Qa(()=>{this.childrenLoaders.delete(r)})),s=new Bo(o,()=>new Ve).pipe(Uo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dA(n,e,t,r){return hr(Je(t,()=>n.loadChildren())).pipe(ce(hA),ke(i=>i instanceof ih||Array.isArray(i)?Z(i):Re(e.compileModuleAsync(i))),ce(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(ou,[],{optional:!0,self:!0}).flat()),{routes:s.map(Kv),injector:o}}))}function iU(n){return n&&typeof n=="object"&&"default"in n}function hA(n){return iU(n)?n.default:n}var $h=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>M(oU),providedIn:"root"})}return n})(),oU=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fA=new j("");var Yv=new j(""),pA=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ve;transitionAbortWithErrorSubject=new Ve;configLoader=M(lA);environmentInjector=M(je);destroyRef=M(ut);urlSerializer=M(ru);rootContexts=M($s);location=M(Ps);inputBindingEnabled=M(Uh,{optional:!0})!==null;titleStrategy=M(Qv);options=M(qs,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=M($h);createViewTransition=M(fA,{optional:!0});navigationErrorHandler=M(Yv,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Z(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Ah(i)),r=i=>this.events.next(new Rh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(W(k({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new ct(null),this.transitions.pipe(Mt(r=>r!==null),Wt(r=>{let i=!1;return Z(r).pipe(Wt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",At.SupersededByNewNavigation),Pt;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?W(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload"){let u="";return this.events.next(new lr(o.id,this.urlSerializer.serialize(o.rawUrl),u,Kc.IgnoredSameUrlNavigation)),o.resolve(!1),Pt}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Z(o).pipe(Wt(u=>(this.events.next(new io(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Pt:Promise.resolve(u))),Xj(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),nt(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=W(k({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let l=new Qc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:g}=o,y=new io(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let I=ZS(this.rootComponentType).snapshot;return this.currentTransition=r=W(k({},o),{targetSnapshot:I,urlAfterRedirects:l,extras:W(k({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,Z(r)}else{let u="";return this.events.next(new lr(o.id,this.urlSerializer.serialize(o.extractedUrl),u,Kc.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Pt}}),nt(o=>{let s=new Th(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),ce(o=>(this.currentTransition=r=W(k({},o),{guards:vj(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),Rj(this.environmentInjector,o=>this.events.next(o)),nt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Lh(this.urlSerializer,o.guardsResult);let s=new Ch(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Mt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",At.GuardRejected),!1)),Nv(o=>{if(o.guards.canActivateChecks.length!==0)return Z(o).pipe(nt(s=>{let a=new bh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Wt(s=>{let a=!1;return Z(s).pipe(eU(this.paramsInheritanceStrategy,this.environmentInjector),nt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",At.NoDataFromResolver)}}))}),nt(s=>{let a=new Sh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),Nv(o=>{let s=a=>{let u=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let l=Bs(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(nt(h=>{a.component=h}),ce(()=>{})))}for(let l of a.children)u.push(...s(l));return u};return Rl(s(o.targetSnapshot.root)).pipe(Fr(null),Xn(1))}),Nv(()=>this.afterPreactivation()),Wt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Re(a).pipe(ce(()=>r)):Z(r)}),ce(o=>{let s=fj(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=W(k({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),nt(()=>{this.events.next(new Yc)}),yj(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Xn(1),Ml(new J(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Mt(()=>!i&&!r.targetRouterState),nt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",At.Aborted)}))),nt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new In(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Ml(this.transitionAbortWithErrorSubject.pipe(nt(o=>{throw o}))),Qa(()=>{i||this.cancelNavigationTransition(r,"",At.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Jn(o=>{if(this.destroyed)return r.resolve(!1),Pt;if(i=!0,rA(o))this.events.next(new jn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),mj(o)?this.events.next(new Vs(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Ls(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Je(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof js){let{message:u,cancellationCode:l}=Lh(this.urlSerializer,a);this.events.next(new jn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new Vs(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Pt}))}))}cancelNavigationTransition(t,r,i){let o=new jn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sU(n){return n!==zc}var gA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>M(aU),providedIn:"root"})}return n})(),jh=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},aU=(()=>{class n extends jh{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Yr(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mA=(()=>{class n{urlSerializer=M(ru);options=M(qs,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=M(Ps);urlHandlingStrategy=M($h);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Un;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Un?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=ZS(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>M(cU),providedIn:"root"})}return n})(),cU=(()=>{class n extends mA{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof io?this.updateStateMemento():t instanceof lr?this.commitTransition(r):t instanceof Qc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Yc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof jn&&t.code!==At.SupersededByNewNavigation&&t.code!==At.Redirect?this.restoreHistory(r):t instanceof Ls?this.restoreHistory(r,!0):t instanceof In&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=k(k({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=k(k({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Yr(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Zv(n,e){n.events.pipe(Mt(t=>t instanceof In||t instanceof jn||t instanceof Ls||t instanceof lr),ce(t=>t instanceof In||t instanceof lr?0:(t instanceof jn?t.code===At.Redirect||t.code===At.SupersededByNewNavigation:!1)?2:1),Mt(t=>t!==2),Xn(1)).subscribe(()=>{e()})}var uU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},zs=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=M(Zy);stateManager=M(mA);options=M(qs,{optional:!0})||{};pendingTasks=M(xn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=M(pA);urlSerializer=M(ru);location=M(Ps);urlHandlingStrategy=M($h);injector=M(je);_events=new Ve;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=M(gA);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=M(ou,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!M(Uh,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Pe;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof jn&&r.code!==At.Redirect&&r.code!==At.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof In)this.navigated=!0;else if(r instanceof Vs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=k({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||sU(i.source)},s);this.scheduleNavigation(a,zc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}uj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),zc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=k({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(bt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Kv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=k(k({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=WS(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return KS(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=ri(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,zc,null,r)}navigate(t,r={skipLocationChange:!1}){return dU(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=k({},uU):r===!1?i=k({},lU):i=r,ri(t))return AS(this.currentUrlTree,t,i);let o=this.parseUrl(t);return AS(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return Zv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dU(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new V(4008,!1)}var Hh=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Ne(null);get href(){return Bt(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ve;applicationErrorHandler=M(bt);options=M(qs,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(M(new fh("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof In&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ri(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:ri(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(X(zs),X(dr),Tc("tabindex"),X(Jt),X(mt),X(Ms))};static \u0275dir=de({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&_n("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Mc("href",i.reactiveHref(),Sy)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Oc],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Oc],replaceUrl:[2,"replaceUrl","replaceUrl",Oc],routerLink:"routerLink"},features:[yn]})}return n})(),fU=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Oe;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof In&&this.update()})}ngAfterContentInit(){Z(this.links.changes,Z(null)).pipe(Ko()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Re(t).pipe(Ko()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=pU(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(X(zs),X(mt),X(Jt),X(Xi),X(Hh,8))};static \u0275dir=de({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&sv(o,Hh,5),r&2){let s;av(s=cv())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[yn]})}return n})();function pU(n){return!!n.paths}var gU=new j("");function mU(n,...e){return un([{provide:ou,multi:!0,useValue:n},[],{provide:dr,useFactory:yU,deps:[zs]},{provide:ch,multi:!0,useFactory:_U},e.map(t=>t.\u0275providers)])}function yU(n){return n.routerState.root}function vU(n,e){return{\u0275kind:n,\u0275providers:e}}function _U(){let n=M(Ue);return e=>{let t=n.get(ur);if(e!==t.components[0])return;let r=n.get(zs),i=n.get(EU);n.get(IU)===1&&r.initialNavigation(),n.get(wU,null,{optional:!0})?.setUpPreloading(),n.get(gU,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var EU=new j("",{factory:()=>new Ve}),IU=new j("",{providedIn:"root",factory:()=>1});var wU=new j("");function DU(n){return vU(7,[{provide:Yv,useValue:n}])}var yA=class n{showNotification=Ne(!1);notificationMessage=Ne({type:"success",message:""});lastTimeoutId=void 0;abort=void 0;success(e){this.notificationMessage.set({type:"success",message:e??""}),this.setNotification(!0)}warn(e){this.notificationMessage.set({type:"warn",message:e??""}),this.setNotification(!0)}notFound(e){this.notificationMessage.set({type:"404",message:e??""}),this.setNotification(!0)}setNotification(e){if(this.showNotification.set(e),this.abort?.abort(),this.showNotification()){this.abort=new AbortController;let t=this.abort.signal;window.addEventListener("keydown",this.onKeyDown.bind(this),{once:!0,signal:t,capture:!0}),window.addEventListener("click",this.onClick.bind(this),{once:!0,signal:t,capture:!0}),this.setHideTimeout()}else this.clearHideTimeout()}setHideTimeout(){this.clearHideTimeout(),this.lastTimeoutId=window.setTimeout(()=>{this.setNotification(!1)},3e3)}clearHideTimeout(){this.lastTimeoutId&&(clearTimeout(this.lastTimeoutId),this.lastTimeoutId=void 0)}onKeyDown(e){e.key==="Escape"&&this.setNotification(!1)}onClick(e){this.setNotification(!1)}ngOnDestroy(){this.abort?.abort()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})};function Ire(n,e){let r=!e?.manualCleanup?e?.injector?.get(ut)??M(ut):null,i=TU(e?.equal),o;e?.requireSync?o=Ne({kind:0},{equal:i}):o=Ne({kind:1,value:e?.initialValue},{equal:i});let s,a=n.subscribe({next:u=>o.set({kind:1,value:u}),error:u=>{o.set({kind:2,error:u}),s?.()},complete:()=>{s?.()}});if(e?.requireSync&&o().kind===0)throw new V(601,!1);return s=r?.onDestroy(a.unsubscribe.bind(a)),Xt(()=>{let u=o();switch(u.kind){case 1:return u.value;case 2:throw u.error;case 0:throw new V(601,!1)}},{equal:e?.equal})}function TU(n=Object.is){return(e,t)=>e.kind===1&&t.kind===1&&n(e.value,t.value)}function vA(n){n===void 0&&(n=M(Ue));let e=n.get(Wr);return t=>new J(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var _A=()=>{};var wA=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},CU=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},qh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(t[h],t[p],t[g],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(wA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):CU(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Xv;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let I=l<<6&192|p;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Xv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},bU=function(n){let e=wA(n);return qh.encodeByteArray(e,!0)},au=function(n){return bU(n).replace(/\./g,"")},zh=function(n){try{return qh.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function t_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var SU=()=>t_().__FIREBASE_DEFAULTS__,AU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},RU=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&zh(n[1]);return e&&JSON.parse(e)},Gh=()=>{try{return _A()||SU()||AU()||RU()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},DA=n=>{var e,t;return(t=(e=Gh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},TA=n=>{let e=DA(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},n_=()=>{var n;return(n=Gh())===null||n===void 0?void 0:n.config},CA=n=>{var e;return(e=Gh())===null||e===void 0?void 0:e[`_${n}`]};var oo=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function so(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function r_(n){return(await fetch(n,{credentials:"include"})).ok}function bA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[au(JSON.stringify(t)),au(JSON.stringify(s)),""].join(".")}var su={};function NU(){let n={prod:[],emulator:[]};for(let e of Object.keys(su))su[e]?n.emulator.push(e):n.prod.push(e);return n}function MU(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var EA=!1;function i_(n,e){if(typeof window>"u"||typeof document>"u"||!so(window.location.host)||su[n]===e||su[n]||EA)return;su[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=NU().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{EA=!0,s()},g}function h(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=MU(r),y=t("text"),I=document.getElementById(y)||document.createElement("span"),S=t("learnmore"),R=document.getElementById(S)||document.createElement("a"),x=t("preprendIcon"),$=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let G=g.element;a(G),h(R,S);let ye=l();u($,x),G.append($,I,R,ye),document.body.appendChild(G)}o?(I.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function PU(){var n;let e=(n=Gh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RA(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function NA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MA(){return!PU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cu(){try{return typeof indexedDB=="object"}catch{return!1}}function PA(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var kU="FirebaseError",tn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=kU,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wn.prototype.create)}},wn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?xU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new tn(i,a,r)}};function xU(n,e){return n.replace(OU,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var OU=/\{\$([^}]+)}/g;function ao(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(IA(o)&&IA(s)){if(!ao(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function IA(n){return n!==null&&typeof n=="object"}function o_(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function kA(n,e){let t=new e_(n,e);return t.subscribe.bind(t)}var e_=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");FU(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Jv),i.error===void 0&&(i.error=Jv),i.complete===void 0&&(i.complete=Jv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function FU(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Jv(){}var bre=4*60*60*1e3;function lt(n){return n&&n._delegate?n._delegate:n}var Rt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var co="[DEFAULT]";var s_=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new oo;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VU(e))try{this.getOrInitializeService({instanceIdentifier:co})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=co){return this.instances.has(e)}getOptions(e=co){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LU(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=co){return this.component?this.component.multipleInstances?e:co:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function LU(n){return n===co?void 0:n}function VU(n){return n.instantiationMode==="EAGER"}var Wh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new s_(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var jU=[],ue=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ue||{}),UU={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},BU=ue.INFO,$U={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},HU=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=$U[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Bn=class{constructor(e){this.name=e,this._logLevel=BU,this._logHandler=HU,this._userLogHandler=null,jU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}};var qU=(n,e)=>e.some(t=>n instanceof t),xA,OA;function zU(){return xA||(xA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GU(){return OA||(OA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var FA=new WeakMap,c_=new WeakMap,LA=new WeakMap,a_=new WeakMap,l_=new WeakMap;function WU(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t($n(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&FA.set(t,n)}).catch(()=>{}),l_.set(e,n),e}function KU(n){if(c_.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});c_.set(n,e)}var u_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return c_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||LA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return $n(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function VA(n){u_=n(u_)}function QU(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Kh(this),e,...t);return LA.set(r,e.sort?e.sort():[e]),$n(r)}:GU().includes(n)?function(...e){return n.apply(Kh(this),e),$n(FA.get(this))}:function(...e){return $n(n.apply(Kh(this),e))}}function YU(n){return typeof n=="function"?QU(n):(n instanceof IDBTransaction&&KU(n),qU(n,zU())?new Proxy(n,u_):n)}function $n(n){if(n instanceof IDBRequest)return WU(n);if(a_.has(n))return a_.get(n);let e=YU(n);return e!==n&&(a_.set(n,e),l_.set(e,n)),e}var Kh=n=>l_.get(n);function UA(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=$n(s);return r&&s.addEventListener("upgradeneeded",u=>{r($n(s.result),u.oldVersion,u.newVersion,$n(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var ZU=["get","getKey","getAll","getAllKeys","count"],JU=["put","add","delete","clear"],d_=new Map;function jA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(d_.get(e))return d_.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=JU.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ZU.includes(t)))return;let o=async function(s,...a){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[t](...a),i&&u.done]))[0]};return d_.set(e,o),o}VA(n=>W(k({},n),{get:(e,t,r)=>jA(e,t)||n.get(e,t,r),has:(e,t)=>!!jA(e,t)||n.has(e,t)}));var f_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(XU(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function XU(n){let e=n.getComponent();return e?.type==="VERSION"}var p_="@firebase/app",BA="0.13.2";var fr=new Bn("@firebase/app"),eB="@firebase/app-compat",tB="@firebase/analytics-compat",nB="@firebase/analytics",rB="@firebase/app-check-compat",iB="@firebase/app-check",oB="@firebase/auth",sB="@firebase/auth-compat",aB="@firebase/database",cB="@firebase/data-connect",uB="@firebase/database-compat",lB="@firebase/functions",dB="@firebase/functions-compat",hB="@firebase/installations",fB="@firebase/installations-compat",pB="@firebase/messaging",gB="@firebase/messaging-compat",mB="@firebase/performance",yB="@firebase/performance-compat",vB="@firebase/remote-config",_B="@firebase/remote-config-compat",EB="@firebase/storage",IB="@firebase/storage-compat",wB="@firebase/firestore",DB="@firebase/ai",TB="@firebase/firestore-compat",CB="firebase",bB="11.10.0";var g_="[DEFAULT]",SB={[p_]:"fire-core",[eB]:"fire-core-compat",[nB]:"fire-analytics",[tB]:"fire-analytics-compat",[iB]:"fire-app-check",[rB]:"fire-app-check-compat",[oB]:"fire-auth",[sB]:"fire-auth-compat",[aB]:"fire-rtdb",[cB]:"fire-data-connect",[uB]:"fire-rtdb-compat",[lB]:"fire-fn",[dB]:"fire-fn-compat",[hB]:"fire-iid",[fB]:"fire-iid-compat",[pB]:"fire-fcm",[gB]:"fire-fcm-compat",[mB]:"fire-perf",[yB]:"fire-perf-compat",[vB]:"fire-rc",[_B]:"fire-rc-compat",[EB]:"fire-gcs",[IB]:"fire-gcs-compat",[wB]:"fire-fst",[TB]:"fire-fst-compat",[DB]:"fire-vertex","fire-js":"fire-js",[CB]:"fire-js-all"};var uu=new Map,AB=new Map,m_=new Map;function $A(n,e){try{n.container.addComponent(e)}catch(t){fr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Dn(n){let e=n.name;if(m_.has(e))return fr.debug(`There were multiple attempts to register component ${e}.`),!1;m_.set(e,n);for(let t of uu.values())$A(t,n);for(let t of AB.values())$A(t,n);return!0}function Qh(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function pr(n){return n==null?!1:n.settings!==void 0}var RB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ii=new wn("app","Firebase",RB);var y_=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}};var Gs=bB;function E_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:g_,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ii.create("bad-app-name",{appName:String(i)});if(t||(t=n_()),!t)throw ii.create("no-options");let o=uu.get(i);if(o){if(ao(t,o.options)&&ao(r,o.config))return o;throw ii.create("duplicate-app",{appName:i})}let s=new Wh(i);for(let u of m_.values())s.addComponent(u);let a=new y_(t,r,s);return uu.set(i,a),a}function Ws(n=g_){let e=uu.get(n);if(!e&&n===g_&&n_())return E_();if(!e)throw ii.create("no-app",{appName:n});return e}function Yh(){return Array.from(uu.values())}function He(n,e,t){var r;let i=(r=SB[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fr.warn(a.join(" "));return}Dn(new Rt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var NB="firebase-heartbeat-database",MB=1,lu="firebase-heartbeat-store",h_=null;function GA(){return h_||(h_=UA(NB,MB,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(lu)}catch(t){console.warn(t)}}}}).catch(n=>{throw ii.create("idb-open",{originalErrorMessage:n.message})})),h_}async function PB(n){try{let t=(await GA()).transaction(lu),r=await t.objectStore(lu).get(WA(n));return await t.done,r}catch(e){if(e instanceof tn)fr.warn(e.message);else{let t=ii.create("idb-get",{originalErrorMessage:e?.message});fr.warn(t.message)}}}async function HA(n,e){try{let r=(await GA()).transaction(lu,"readwrite");await r.objectStore(lu).put(e,WA(n)),await r.done}catch(t){if(t instanceof tn)fr.warn(t.message);else{let r=ii.create("idb-set",{originalErrorMessage:t?.message});fr.warn(r.message)}}}function WA(n){return`${n.name}!${n.options.appId}`}var kB=1024,xB=30,v_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new __(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=qA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>xB){let s=FB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){fr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=qA(),{heartbeatsToSend:r,unsentEntries:i}=OB(this._heartbeatsCache.heartbeats),o=au(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return fr.warn(t),""}}};function qA(){return new Date().toISOString().substring(0,10)}function OB(n,e=kB){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),zA(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),zA(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var __=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cu()?PA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await PB(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return HA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return HA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function zA(n){return au(JSON.stringify({version:2,heartbeats:n})).length}function FB(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function LB(n){Dn(new Rt("platform-logger",e=>new f_(e),"PRIVATE")),Dn(new Rt("heartbeat",e=>new v_(e),"PRIVATE")),He(p_,BA,n),He(p_,BA,"esm2017"),He("fire-js","")}LB("");var VB="firebase",jB="11.10.0";He(VB,jB,"app");var lo=new Rs("ANGULARFIRE2_VERSION");function Jh(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Qs=(n,e)=>{let t=e?[e]:Yh(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ks=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Ks||{}),KA=gv()&&typeof Zone<"u"?Ks.WARN:Ks.SILENT;var Zh=class{zone;delegate;constructor(e,t=gg){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},ho=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=M(_e);this.outsideAngular=t.runOutsideAngular(()=>new Zh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Zh(typeof Zone>"u"?void 0:Zone.current,Pr))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),QA=!1;function UB(n,e){!QA&&(KA>Ks.SILENT||gv())&&(QA=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),KA>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function BB(n){let e=M(_e,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function uo(n){let e=M(_e,{optional:!0});return e?e.run(()=>n()):n()}var $B=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Je(t,()=>uo(()=>n.apply(void 0,r)))),Nt=(n,e,t)=>(t||=e?Ks.WARN:Ks.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=M(ho),s=M(Wr),a=M(je)}catch{return UB(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=uo(()=>s.add())),i[l]=$B(i[l],r,a));let u=BB(()=>n.apply(this,i));return e?u instanceof J?u.pipe(Or(o.outsideAngular),xr(o.insideAngular),vA(a)):u instanceof Promise?uo(()=>{let l=s.add();return new Promise((h,p)=>{u.then(g=>Je(a,()=>uo(()=>h(g))),g=>Je(a,()=>uo(()=>p(g)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:uo(()=>u):u instanceof J?u.pipe(Or(o.outsideAngular),xr(o.insideAngular)):uo(()=>u)});var fo=class{constructor(e){return e}},du=class{constructor(){return Yh()}};function HB(n){return n&&n.length===1?n[0]:new fo(Ws())}var I_=new j("angularfire2._apps"),qB={provide:fo,useFactory:HB,deps:[[new cr,I_]]},zB={provide:du,deps:[[new cr,I_]]};function GB(n){return(e,t)=>{let r=t.get(Zr);He("angularfire",lo.full,"core"),He("angularfire",lo.full,"app"),He("angular",uS.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new fo(i)}}function die(n,...e){return un([qB,zB,{provide:I_,useFactory:GB(n),multi:!0,deps:[_e,Ue,ho,...e]}])}var hie=Nt(E_,!0);var WB=new Map,KB={activated:!1,tokenObservers:[]},QB={initialized:!1,enabled:!1};function Tn(n){return WB.get(n)||Object.assign({},KB)}function XA(){return QB}var YB="https://content-firebaseappcheck.googleapis.com/v1";var ZB="exchangeDebugToken",YA={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Iie=24*60*60*1e3;var T_=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new oo,this.pending.promise.catch(t=>{}),await JB(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new oo,this.pending.promise.catch(t=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function JB(n){return new Promise(e=>{setTimeout(e,n)})}var XB={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},oi=new wn("appCheck","AppCheck",XB);function eR(n){if(!Tn(n).activated)throw oi.create("use-before-activation",{appName:n.name})}async function tR({url:n,body:e},t){let r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){let p=await i.getHeartbeatsHeader();p&&(r["X-Firebase-Client"]=p)}let o={method:"POST",body:JSON.stringify(e),headers:r},s;try{s=await fetch(n,o)}catch(p){throw oi.create("fetch-network-error",{originalErrorMessage:p?.message})}if(s.status!==200)throw oi.create("fetch-status-error",{httpStatus:s.status});let a;try{a=await s.json()}catch(p){throw oi.create("fetch-parse-error",{originalErrorMessage:p?.message})}let u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw oi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});let l=Number(u[1])*1e3,h=Date.now();return{token:a.token,expireTimeMillis:h+l,issuedAtTimeMillis:h}}function nR(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${YB}/projects/${t}/apps/${r}:${ZB}?key=${i}`,body:{debug_token:e}}}var e$="firebase-app-check-database",t$=1,C_="firebase-app-check-store";var Xh=null;function n$(){return Xh||(Xh=new Promise((n,e)=>{try{let t=indexedDB.open(e$,t$);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(oi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(C_,{keyPath:"compositeKey"})}}}catch(t){e(oi.create("storage-open",{originalErrorMessage:t?.message}))}}),Xh)}function r$(n,e){return i$(o$(n),e)}async function i$(n,e){let r=(await n$()).transaction(C_,"readwrite"),o=r.objectStore(C_).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(oi.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}function o$(n){return`${n.options.appId}-${n.name}`}var hu=new Bn("@firebase/app-check");function w_(n,e){return cu()?r$(n,e).catch(t=>{hu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function rR(){return XA().enabled}async function iR(){let n=XA();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var s$={error:"UNKNOWN_ERROR"};function a$(n){return qh.encodeString(JSON.stringify(n),!1)}async function b_(n,e=!1,t=!1){let r=n.app;eR(r);let i=Tn(r),o=i.token,s;if(o&&!fu(o)&&(i.token=void 0,o=void 0),!o){let l=await i.cachedTokenPromise;l&&(fu(l)?o=l:await w_(r,void 0))}if(!e&&o&&fu(o))return{token:o.token};let a=!1;if(rR())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=tR(nR(r,await iR()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=await i.exchangeTokenPromise;return await w_(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?hu.warn(l.message):t&&hu.error(l),D_(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=await Tn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?hu.warn(l.message):t&&hu.error(l),s=l}let u;return o?s?fu(o)?u={token:o.token,internalError:s}:u=D_(s):(u={token:o.token},i.token=o,await w_(r,o)):u=D_(s),a&&d$(r,u),u}async function c$(n){let e=n.app;eR(e);let{provider:t}=Tn(e);if(rR()){let r=await iR(),{token:i}=await tR(nR(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await t.getToken();return{token:r}}}function u$(n,e,t,r){let{app:i}=n,o=Tn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&fu(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),ZA(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>ZA(n))}function oR(n,e){let t=Tn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function ZA(n){let{app:e}=n,t=Tn(e),r=t.tokenRefresher;r||(r=l$(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function l$(n){let{app:e}=n;return new T_(async()=>{let t=Tn(e),r;if(t.token?r=await b_(n,!0):r=await b_(n),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let t=Tn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},YA.RETRIAL_MIN_WAIT,YA.RETRIAL_MAX_WAIT)}function d$(n,e){let t=Tn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function fu(n){return n.expireTimeMillis-Date.now()>0}function D_(n){return{token:a$(s$),error:n}}var S_=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Tn(this.app);for(let t of e)oR(this.app,t.next);return Promise.resolve()}};function h$(n,e){return new S_(n,e)}function f$(n){return{getToken:e=>b_(n,e),getLimitedUseToken:()=>c$(n),addTokenListener:e=>u$(n,"INTERNAL",e),removeTokenListener:e=>oR(n.app,e)}}var p$="@firebase/app-check",g$="0.10.1";var m$="app-check",JA="app-check-internal";function y$(){Dn(new Rt(m$,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return h$(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(JA).initialize()})),Dn(new Rt(JA,n=>{let e=n.getProvider("app-check").getImmediate();return f$(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),He(p$,g$)}y$();var v$="app-check";var ef=class{constructor(){return Qs(v$)}};var _$=["localhost","0.0.0.0","127.0.0.1"],kie=typeof window<"u"&&_$.includes(window.location.hostname);function fR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var pR=fR,gR=new wn("auth","Firebase",fR());var of=new Bn("@firebase/auth");function E$(n,...e){of.logLevel<=ue.WARN&&of.warn(`Auth (${Gs}): ${n}`,...e)}function nf(n,...e){of.logLevel<=ue.ERROR&&of.error(`Auth (${Gs}): ${n}`,...e)}function sR(n,...e){throw j_(n,...e)}function V_(n,...e){return j_(n,...e)}function mR(n,e,t){let r=Object.assign(Object.assign({},pR()),{[e]:t});return new wn("auth","Firebase",r).create(e,{appName:n.name})}function rf(n){return mR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function j_(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return gR.create(n,...e)}function me(n,e,...t){if(!n)throw j_(e,...t)}function pu(n){let e="INTERNAL ASSERTION FAILED: "+n;throw nf(e),new Error(e)}function sf(n,e){n||pu(e)}function I$(){return aR()==="http:"||aR()==="https:"}function aR(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function w$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(I$()||RA()||"connection"in navigator)?navigator.onLine:!0}function D$(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var mo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,sf(t>e,"Short delay should be less than long delay!"),this.isMobile=SA()||NA()}get(){return w$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function T$(n,e){sf(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var af=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var C$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var b$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],S$=new mo(3e4,6e4);function yR(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function hf(n,e,t,r,i={}){return vR(n,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=o_(Object.assign({key:n.config.apiKey},s)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);let l=Object.assign({method:e,headers:u},o);return AA()||(l.referrerPolicy="no-referrer"),n.emulatorConfig&&so(n.emulatorConfig.host)&&(l.credentials="include"),af.fetch()(await _R(n,n.config.apiHost,t,a),l)})}async function vR(n,e,t){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},C$),e);try{let i=new N_(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw tf(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw tf(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw tf(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw tf(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw mR(n,h,l);sR(n,h)}}catch(i){if(i instanceof tn)throw i;sR(n,"network-request-failed",{message:String(i)})}}async function _R(n,e,t,r){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?T$(n.config,i):`${n.config.apiScheme}://${i}`;return b$.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}var N_=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(V_(this.auth,"network-request-failed")),S$.get())})}};function tf(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=V_(n,e,r);return i.customData._tokenResponse=t,i}async function A$(n,e){return hf(n,"POST","/v1/accounts:delete",e)}async function cf(n,e){return hf(n,"POST","/v1/accounts:lookup",e)}function gu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function U_(n,e=!1){let t=lt(n),r=await t.getIdToken(e),i=ER(r);me(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:gu(A_(i.auth_time)),issuedAtTime:gu(A_(i.iat)),expirationTime:gu(A_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function A_(n){return Number(n)*1e3}function ER(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return nf("JWT malformed, contained fewer than 3 sections"),null;try{let i=zh(t);return i?JSON.parse(i):(nf("Failed to decode base64 JWT payload"),null)}catch(i){return nf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function cR(n){let e=ER(n);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function M_(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof tn&&R$(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function R$({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var P_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var yu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gu(this.lastLoginAt),this.creationTime=gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function uf(n){var e;let t=n.auth,r=await n.getIdToken(),i=await M_(n,cf(t,{idToken:r}));me(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?IR(o.providerUserInfo):[],a=N$(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new yu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)}async function B_(n){let e=lt(n);await uf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function N$(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function IR(n){return n.map(e=>{var{providerId:t}=e,r=mg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function M$(n,e){let t=await vR(n,{},async()=>{let r=o_({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=await _R(n,i,"/v1/token",`key=${o}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&so(n.emulatorConfig.host)&&(u.credentials="include"),af.fetch()(s,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function P$(n,e){return hf(n,"POST","/v2/accounts:revokeToken",yR(n,e))}var mu=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){me(e.length!==0,"internal-error");let t=cR(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:o}=await M$(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(me(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(me(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return pu("not implemented")}};function si(n,e){me(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var po=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=mg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new P_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new yu(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){let t=await M_(this,this.stsTokenManager.getToken(this.auth,e));return me(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return U_(this,e)}reload(){return B_(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await uf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pr(this.auth.app))return Promise.reject(rf(this.auth));let e=await this.getIdToken();return await M_(this,A$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,I=(s=t.photoURL)!==null&&s!==void 0?s:void 0,S=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,x=(l=t.createdAt)!==null&&l!==void 0?l:void 0,$=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:G,emailVerified:ye,isAnonymous:Le,providerData:Ie,stsTokenManager:D}=t;me(G&&D,e,"internal-error");let v=mu.fromJSON(this.name,D);me(typeof G=="string",e,"internal-error"),si(p,e.name),si(g,e.name),me(typeof ye=="boolean",e,"internal-error"),me(typeof Le=="boolean",e,"internal-error"),si(y,e.name),si(I,e.name),si(S,e.name),si(R,e.name),si(x,e.name),si($,e.name);let E=new n({uid:G,auth:e,email:g,emailVerified:ye,displayName:p,isAnonymous:Le,photoURL:I,phoneNumber:y,tenantId:S,stsTokenManager:v,createdAt:x,lastLoginAt:$});return Ie&&Array.isArray(Ie)&&(E.providerData=Ie.map(w=>Object.assign({},w))),R&&(E._redirectEventId=R),E}static async _fromIdTokenResponse(e,t,r=!1){let i=new mu;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await uf(o),o}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];me(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?IR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new mu;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new yu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var uR=new Map;function go(n){sf(n instanceof Function,"Expected a class definition");let e=uR.get(n);return e?(sf(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,uR.set(n,e),e)}var k$=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),k_=k$;function R_(n,e,t){return`firebase:${n}:${e}:${t}`}var lf=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=R_(this.userKey,i.apiKey,o),this.fullPersistenceKey=R_("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await cf(this.auth,{idToken:e}).catch(()=>{});return t?po._fromGetAccountInfoResponse(this.auth,t,e):null}return po._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(go(k_),e,r);let i=(await Promise.all(t.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||go(k_),s=R_(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=await l._get(s);if(h){let p;if(typeof h=="string"){let g=await cf(e,{idToken:h}).catch(()=>{});if(!g)break;p=await po._fromGetAccountInfoResponse(e,g,h)}else p=po._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(t.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new n(o,e,r))}};function lR(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(L$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(x$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(j$(e))return"Blackberry";if(U$(e))return"Webos";if(O$(e))return"Safari";if((e.includes("chrome/")||F$(e))&&!e.includes("edge/"))return"Chrome";if(V$(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function x$(n=qt()){return/firefox\//i.test(n)}function O$(n=qt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function F$(n=qt()){return/crios\//i.test(n)}function L$(n=qt()){return/iemobile/i.test(n)}function V$(n=qt()){return/android/i.test(n)}function j$(n=qt()){return/blackberry/i.test(n)}function U$(n=qt()){return/webos/i.test(n)}function wR(n,e=[]){let t;switch(n){case"Browser":t=lR(qt());break;case"Worker":t=`${lR(qt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Gs}/${r}`}var x_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function B$(n,e={}){return hf(n,"GET","/v2/passwordPolicy",yR(n,e))}var $$=6,O_=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:$$,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var F_=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new df(this),this.idTokenSubscription=new df(this),this.beforeStateQueue=new x_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=go(t)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await lf.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await cf(this,{idToken:e}),r=await po._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(pr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await uf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=D$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pr(this.app))return Promise.reject(rf(this));let t=e?lt(e):null;return t&&me(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pr(this.app)?Promise.reject(rf(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pr(this.app)?Promise.reject(rf(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(go(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await B$(this),t=new O_(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await P$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&go(e)||this._popupRedirectResolver;me(t,this,"argument-error"),this.redirectPersistenceManager=await lf.create(this,[go(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&E$(`Error while retrieving App Check token: ${t.error}`),t?.token}};function H$(n){return lt(n)}var df=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=kA(t=>this.observer=t)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var q$={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function z$(n){q$=n}function G$(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function W$(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(go);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var zie=G$("rcb"),Gie=new mo(3e4,6e4);var Wie=new mo(2e3,1e4);var Kie=10*60*1e3;var Qie=new mo(3e4,6e4);var Yie=new mo(5e3,15e3);var Zie=encodeURIComponent("fac");var dR="@firebase/auth",hR="1.10.8";var L_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function K$(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Q$(n){Dn(new Rt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;me(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wR(n)},l=new F_(r,i,o,u);return W$(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Dn(new Rt("auth-internal",e=>{let t=H$(e.getProvider("auth").getImmediate());return(r=>new L_(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),He(dR,hR,K$(n)),He(dR,hR,"esm2017")}var Y$=5*60,Jie=CA("authIdTokenMaxAge")||Y$;function Z$(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}z$({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=V_("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",Z$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Q$("Browser");var QH="auth";var ff=class{constructor(){return Qs(QH)}};var DR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},TR={};var gr,$_;(function(){var n;function e(D,v){function E(){}E.prototype=v.prototype,D.D=v.prototype,D.prototype=new E,D.prototype.constructor=D,D.C=function(w,T,b){for(var _=Array(arguments.length-2),Kn=2;Kn<arguments.length;Kn++)_[Kn-2]=arguments[Kn];return v.prototype[T].apply(w,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,E){E||(E=0);var w=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)w[T]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(T=0;16>T;++T)w[T]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=D.g[0],E=D.g[1],T=D.g[2];var b=D.g[3],_=v+(b^E&(T^b))+w[0]+3614090360&4294967295;v=E+(_<<7&4294967295|_>>>25),_=b+(T^v&(E^T))+w[1]+3905402710&4294967295,b=v+(_<<12&4294967295|_>>>20),_=T+(E^b&(v^E))+w[2]+606105819&4294967295,T=b+(_<<17&4294967295|_>>>15),_=E+(v^T&(b^v))+w[3]+3250441966&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(b^E&(T^b))+w[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=b+(T^v&(E^T))+w[5]+1200080426&4294967295,b=v+(_<<12&4294967295|_>>>20),_=T+(E^b&(v^E))+w[6]+2821735955&4294967295,T=b+(_<<17&4294967295|_>>>15),_=E+(v^T&(b^v))+w[7]+4249261313&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(b^E&(T^b))+w[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=b+(T^v&(E^T))+w[9]+2336552879&4294967295,b=v+(_<<12&4294967295|_>>>20),_=T+(E^b&(v^E))+w[10]+4294925233&4294967295,T=b+(_<<17&4294967295|_>>>15),_=E+(v^T&(b^v))+w[11]+2304563134&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(b^E&(T^b))+w[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=b+(T^v&(E^T))+w[13]+4254626195&4294967295,b=v+(_<<12&4294967295|_>>>20),_=T+(E^b&(v^E))+w[14]+2792965006&4294967295,T=b+(_<<17&4294967295|_>>>15),_=E+(v^T&(b^v))+w[15]+1236535329&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(T^b&(E^T))+w[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=b+(E^T&(v^E))+w[6]+3225465664&4294967295,b=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(b^v))+w[11]+643717713&4294967295,T=b+(_<<14&4294967295|_>>>18),_=E+(b^v&(T^b))+w[0]+3921069994&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(T^b&(E^T))+w[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=b+(E^T&(v^E))+w[10]+38016083&4294967295,b=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(b^v))+w[15]+3634488961&4294967295,T=b+(_<<14&4294967295|_>>>18),_=E+(b^v&(T^b))+w[4]+3889429448&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(T^b&(E^T))+w[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=b+(E^T&(v^E))+w[14]+3275163606&4294967295,b=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(b^v))+w[3]+4107603335&4294967295,T=b+(_<<14&4294967295|_>>>18),_=E+(b^v&(T^b))+w[8]+1163531501&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(T^b&(E^T))+w[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=b+(E^T&(v^E))+w[2]+4243563512&4294967295,b=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(b^v))+w[7]+1735328473&4294967295,T=b+(_<<14&4294967295|_>>>18),_=E+(b^v&(T^b))+w[12]+2368359562&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(E^T^b)+w[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=b+(v^E^T)+w[8]+2272392833&4294967295,b=v+(_<<11&4294967295|_>>>21),_=T+(b^v^E)+w[11]+1839030562&4294967295,T=b+(_<<16&4294967295|_>>>16),_=E+(T^b^v)+w[14]+4259657740&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(E^T^b)+w[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=b+(v^E^T)+w[4]+1272893353&4294967295,b=v+(_<<11&4294967295|_>>>21),_=T+(b^v^E)+w[7]+4139469664&4294967295,T=b+(_<<16&4294967295|_>>>16),_=E+(T^b^v)+w[10]+3200236656&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(E^T^b)+w[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=b+(v^E^T)+w[0]+3936430074&4294967295,b=v+(_<<11&4294967295|_>>>21),_=T+(b^v^E)+w[3]+3572445317&4294967295,T=b+(_<<16&4294967295|_>>>16),_=E+(T^b^v)+w[6]+76029189&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(E^T^b)+w[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=b+(v^E^T)+w[12]+3873151461&4294967295,b=v+(_<<11&4294967295|_>>>21),_=T+(b^v^E)+w[15]+530742520&4294967295,T=b+(_<<16&4294967295|_>>>16),_=E+(T^b^v)+w[2]+3299628645&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(T^(E|~b))+w[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=b+(E^(v|~T))+w[7]+1126891415&4294967295,b=v+(_<<10&4294967295|_>>>22),_=T+(v^(b|~E))+w[14]+2878612391&4294967295,T=b+(_<<15&4294967295|_>>>17),_=E+(b^(T|~v))+w[5]+4237533241&4294967295,E=T+(_<<21&4294967295|_>>>11),_=v+(T^(E|~b))+w[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=b+(E^(v|~T))+w[3]+2399980690&4294967295,b=v+(_<<10&4294967295|_>>>22),_=T+(v^(b|~E))+w[10]+4293915773&4294967295,T=b+(_<<15&4294967295|_>>>17),_=E+(b^(T|~v))+w[1]+2240044497&4294967295,E=T+(_<<21&4294967295|_>>>11),_=v+(T^(E|~b))+w[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=b+(E^(v|~T))+w[15]+4264355552&4294967295,b=v+(_<<10&4294967295|_>>>22),_=T+(v^(b|~E))+w[6]+2734768916&4294967295,T=b+(_<<15&4294967295|_>>>17),_=E+(b^(T|~v))+w[13]+1309151649&4294967295,E=T+(_<<21&4294967295|_>>>11),_=v+(T^(E|~b))+w[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=b+(E^(v|~T))+w[11]+3174756917&4294967295,b=v+(_<<10&4294967295|_>>>22),_=T+(v^(b|~E))+w[2]+718787259&4294967295,T=b+(_<<15&4294967295|_>>>17),_=E+(b^(T|~v))+w[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(T+(_<<21&4294967295|_>>>11))&4294967295,D.g[2]=D.g[2]+T&4294967295,D.g[3]=D.g[3]+b&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var E=v-this.blockSize,w=this.B,T=this.h,b=0;b<v;){if(T==0)for(;b<=E;)i(this,D,b),b+=this.blockSize;if(typeof D=="string"){for(;b<v;)if(w[T++]=D.charCodeAt(b++),T==this.blockSize){i(this,w),T=0;break}}else for(;b<v;)if(w[T++]=D[b++],T==this.blockSize){i(this,w),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var E=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=E&255,E/=256;for(this.u(D),D=Array(16),v=E=0;4>v;++v)for(var w=0;32>w;w+=8)D[E++]=this.g[v]>>>w&255;return D};function o(D,v){var E=a;return Object.prototype.hasOwnProperty.call(E,D)?E[D]:E[D]=v(D)}function s(D,v){this.h=v;for(var E=[],w=!0,T=D.length-1;0<=T;T--){var b=D[T]|0;w&&b==v||(E[T]=b,w=!1)}this.g=E}var a={};function u(D){return-128<=D&&128>D?o(D,function(v){return new s([v|0],0>v?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(l(-D));for(var v=[],E=1,w=0;D>=E;w++)v[w]=D/E|0,E*=4294967296;return new s(v,0)}function h(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return R(h(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),w=p,T=0;T<D.length;T+=8){var b=Math.min(8,D.length-T),_=parseInt(D.substring(T,T+b),v);8>b?(b=l(Math.pow(v,b)),w=w.j(b).add(l(_))):(w=w.j(E),w=w.add(l(_)))}return w}var p=u(0),g=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(S(this))return-R(this).m();for(var D=0,v=1,E=0;E<this.g.length;E++){var w=this.i(E);D+=(0<=w?w:4294967296+w)*v,v*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(I(this))return"0";if(S(this))return"-"+R(this).toString(D);for(var v=l(Math.pow(D,6)),E=this,w="";;){var T=ye(E,v).g;E=x(E,T.j(v));var b=((0<E.g.length?E.g[0]:E.h)>>>0).toString(D);if(E=T,I(E))return b+w;for(;6>b.length;)b="0"+b;w=b+w}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function I(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function S(D){return D.h==-1}n.l=function(D){return D=x(this,D),S(D)?-1:I(D)?0:1};function R(D){for(var v=D.g.length,E=[],w=0;w<v;w++)E[w]=~D.g[w];return new s(E,~D.h).add(g)}n.abs=function(){return S(this)?R(this):this},n.add=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],w=0,T=0;T<=v;T++){var b=w+(this.i(T)&65535)+(D.i(T)&65535),_=(b>>>16)+(this.i(T)>>>16)+(D.i(T)>>>16);w=_>>>16,b&=65535,_&=65535,E[T]=_<<16|b}return new s(E,E[E.length-1]&-2147483648?-1:0)};function x(D,v){return D.add(R(v))}n.j=function(D){if(I(this)||I(D))return p;if(S(this))return S(D)?R(this).j(R(D)):R(R(this).j(D));if(S(D))return R(this.j(R(D)));if(0>this.l(y)&&0>D.l(y))return l(this.m()*D.m());for(var v=this.g.length+D.g.length,E=[],w=0;w<2*v;w++)E[w]=0;for(w=0;w<this.g.length;w++)for(var T=0;T<D.g.length;T++){var b=this.i(w)>>>16,_=this.i(w)&65535,Kn=D.i(T)>>>16,Sa=D.i(T)&65535;E[2*w+2*T]+=_*Sa,$(E,2*w+2*T),E[2*w+2*T+1]+=b*Sa,$(E,2*w+2*T+1),E[2*w+2*T+1]+=_*Kn,$(E,2*w+2*T+1),E[2*w+2*T+2]+=b*Kn,$(E,2*w+2*T+2)}for(w=0;w<v;w++)E[w]=E[2*w+1]<<16|E[2*w];for(w=v;w<2*v;w++)E[w]=0;return new s(E,0)};function $(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function G(D,v){this.g=D,this.h=v}function ye(D,v){if(I(v))throw Error("division by zero");if(I(D))return new G(p,p);if(S(D))return v=ye(R(D),v),new G(R(v.g),R(v.h));if(S(v))return v=ye(D,R(v)),new G(R(v.g),v.h);if(30<D.g.length){if(S(D)||S(v))throw Error("slowDivide_ only works with positive integers.");for(var E=g,w=v;0>=w.l(D);)E=Le(E),w=Le(w);var T=Ie(E,1),b=Ie(w,1);for(w=Ie(w,2),E=Ie(E,2);!I(w);){var _=b.add(w);0>=_.l(D)&&(T=T.add(E),b=_),w=Ie(w,1),E=Ie(E,1)}return v=x(D,T.j(v)),new G(T,v)}for(T=p;0<=D.l(v);){for(E=Math.max(1,Math.floor(D.m()/v.m())),w=Math.ceil(Math.log(E)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),b=l(E),_=b.j(v);S(_)||0<_.l(D);)E-=w,b=l(E),_=b.j(v);I(b)&&(b=g),T=T.add(b),D=x(D,_)}return new G(T,D)}n.A=function(D){return ye(this,D).h},n.and=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)&D.i(w);return new s(E,this.h&D.h)},n.or=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)|D.i(w);return new s(E,this.h|D.h)},n.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)^D.i(w);return new s(E,this.h^D.h)};function Le(D){for(var v=D.g.length+1,E=[],w=0;w<v;w++)E[w]=D.i(w)<<1|D.i(w-1)>>>31;return new s(E,D.h)}function Ie(D,v){var E=v>>5;v%=32;for(var w=D.g.length-E,T=[],b=0;b<w;b++)T[b]=0<v?D.i(b+E)>>>v|D.i(b+E+1)<<32-v:D.i(b+E);return new s(T,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$_=TR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,gr=TR.Integer=s}).apply(typeof DR<"u"?DR:typeof self<"u"?self:typeof window<"u"?window:{});var pf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mr={};var H_,YH,Ys,q_,vu,gf,z_,G_,W_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof pf=="object"&&pf];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var C=c[m];if(!(C in f))break e;f=f[C]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,C={next:function(){if(!m&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return m=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,m),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function I(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,C,A){for(var F=Array(arguments.length-2),we=2;we<arguments.length;we++)F[we-2]=arguments[we];return d.prototype[C].apply(m,F)}}function S(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let C=c.length||0,A=m.length||0;c.length=C+A;for(let F=0;F<A;F++)c[C+F]=m[F]}else c.push(m)}}class x{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function $(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ye(c){return ye[" "](c),c}ye[" "]=function(){};var Le=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function Ie(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let f,m;for(let C=1;C<arguments.length;C++){m=arguments[C];for(f in m)c[f]=m[f];for(let A=0;A<E.length;A++)f=E[A],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function b(c){a.setTimeout(()=>{throw c},0)}function _(){var c=kp;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Kn{constructor(){this.h=this.g=null}add(d,f){let m=Sa.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var Sa=new x(()=>new jP,c=>c.reset());class jP{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Aa,Ra=!1,kp=new Kn,Lw=()=>{let c=a.Promise.resolve(void 0);Aa=()=>{c.then(UP)}};var UP=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(f){b(f)}var d=Sa;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ra=!1};function Ar(){this.s=this.s,this.C=this.C}Ar.prototype.s=!1,Ar.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ar.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ht(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ht.prototype.h=function(){this.defaultPrevented=!0};var BP=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Na(c,d){if(ht.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Le){e:{try{ye(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:$P[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Na.aa.h.call(this)}}I(Na,ht);var $P={2:"touch",3:"pen",4:"mouse"};Na.prototype.h=function(){Na.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ma="closure_listenable_"+(1e6*Math.random()|0),HP=0;function qP(c,d,f,m,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=C,this.key=++HP,this.da=this.fa=!1}function zu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Gu(c){this.src=c,this.g={},this.h=0}Gu.prototype.add=function(c,d,f,m,C){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var F=Op(c,d,m,C);return-1<F?(d=c[F],f||(d.fa=!1)):(d=new qP(d,this.src,A,!!m,C),d.fa=f,c.push(d)),d};function xp(c,d){var f=d.type;if(f in c.g){var m=c.g[f],C=Array.prototype.indexOf.call(m,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(m,C,1),A&&(zu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Op(c,d,f,m){for(var C=0;C<c.length;++C){var A=c[C];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==m)return C}return-1}var Fp="closure_lm_"+(1e6*Math.random()|0),Lp={};function Vw(c,d,f,m,C){if(m&&m.once)return Uw(c,d,f,m,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)Vw(c,d[A],f,m,C);return null}return f=Bp(f),c&&c[Ma]?c.K(d,f,l(m)?!!m.capture:!!m,C):jw(c,d,f,!1,m,C)}function jw(c,d,f,m,C,A){if(!d)throw Error("Invalid event type");var F=l(C)?!!C.capture:!!C,we=jp(c);if(we||(c[Fp]=we=new Gu(c)),f=we.add(d,f,m,F,A),f.proxy)return f;if(m=zP(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)BP||(C=F),C===void 0&&(C=!1),c.addEventListener(d.toString(),m,C);else if(c.attachEvent)c.attachEvent($w(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function zP(){function c(f){return d.call(c.src,c.listener,f)}let d=GP;return c}function Uw(c,d,f,m,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)Uw(c,d[A],f,m,C);return null}return f=Bp(f),c&&c[Ma]?c.L(d,f,l(m)?!!m.capture:!!m,C):jw(c,d,f,!0,m,C)}function Bw(c,d,f,m,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)Bw(c,d[A],f,m,C);else m=l(m)?!!m.capture:!!m,f=Bp(f),c&&c[Ma]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=Op(A,f,m,C),-1<f&&(zu(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=jp(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Op(d,f,m,C)),(f=-1<c?d[c]:null)&&Vp(f))}function Vp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Ma])xp(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent($w(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=jp(d))?(xp(f,c),f.h==0&&(f.src=null,d[Fp]=null)):zu(c)}}}function $w(c){return c in Lp?Lp[c]:Lp[c]="on"+c}function GP(c,d){if(c.da)c=!0;else{d=new Na(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&Vp(c),c=f.call(m,d)}return c}function jp(c){return c=c[Fp],c instanceof Gu?c:null}var Up="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bp(c){return typeof c=="function"?c:(c[Up]||(c[Up]=function(d){return c.handleEvent(d)}),c[Up])}function ft(){Ar.call(this),this.i=new Gu(this),this.M=this,this.F=null}I(ft,Ar),ft.prototype[Ma]=!0,ft.prototype.removeEventListener=function(c,d,f,m){Bw(this,c,d,f,m)};function _t(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new ht(d,c);else if(d instanceof ht)d.target=d.target||c;else{var C=d;d=new ht(m,c),w(d,C)}if(C=!0,f)for(var A=f.length-1;0<=A;A--){var F=d.g=f[A];C=Wu(F,m,!0,d)&&C}if(F=d.g=c,C=Wu(F,m,!0,d)&&C,C=Wu(F,m,!1,d)&&C,f)for(A=0;A<f.length;A++)F=d.g=f[A],C=Wu(F,m,!1,d)&&C}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)zu(f[m]);delete c.g[d],c.h--}}this.F=null},ft.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},ft.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function Wu(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var F=d[A];if(F&&!F.da&&F.capture==f){var we=F.listener,at=F.ha||F.src;F.fa&&xp(c.i,F),C=we.call(at,m)!==!1&&C}}return C&&!m.defaultPrevented}function Hw(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function qw(c){c.g=Hw(()=>{c.g=null,c.i&&(c.i=!1,qw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class WP extends Ar{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:qw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pa(c){Ar.call(this),this.h=c,this.g={}}I(Pa,Ar);var zw=[];function Gw(c){Ie(c.g,function(d,f){this.g.hasOwnProperty(f)&&Vp(d)},c),c.g={}}Pa.prototype.N=function(){Pa.aa.N.call(this),Gw(this)},Pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $p=a.JSON.stringify,KP=a.JSON.parse,QP=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Hp(){}Hp.prototype.h=null;function Ww(c){return c.h||(c.h=c.i())}function Kw(){}var ka={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qp(){ht.call(this,"d")}I(qp,ht);function zp(){ht.call(this,"c")}I(zp,ht);var Ei={},Qw=null;function Ku(){return Qw=Qw||new ft}Ei.La="serverreachability";function Yw(c){ht.call(this,Ei.La,c)}I(Yw,ht);function xa(c){let d=Ku();_t(d,new Yw(d))}Ei.STAT_EVENT="statevent";function Zw(c,d){ht.call(this,Ei.STAT_EVENT,c),this.stat=d}I(Zw,ht);function Et(c){let d=Ku();_t(d,new Zw(d,c))}Ei.Ma="timingevent";function Jw(c,d){ht.call(this,Ei.Ma,c),this.size=d}I(Jw,ht);function Oa(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Fa(){this.g=!0}Fa.prototype.xa=function(){this.g=!1};function YP(c,d,f,m,C,A){c.info(function(){if(c.g)if(A)for(var F="",we=A.split("&"),at=0;at<we.length;at++){var fe=we[at].split("=");if(1<fe.length){var pt=fe[0];fe=fe[1];var gt=pt.split("_");F=2<=gt.length&&gt[1]=="type"?F+(pt+"="+fe+"&"):F+(pt+"=redacted&")}}else F=null;else F=A;return"XMLHTTP REQ ("+m+") [attempt "+C+"]: "+d+`
`+f+`
`+F})}function ZP(c,d,f,m,C,A,F){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+C+"]: "+d+`
`+f+`
`+A+" "+F})}function Mo(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+XP(c,f)+(m?" "+m:"")})}function JP(c,d){c.info(function(){return"TIMEOUT: "+d})}Fa.prototype.info=function(){};function XP(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var C=m[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var F=1;F<C.length;F++)C[F]=""}}}}return $p(f)}catch{return d}}var Qu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gp;function Yu(){}I(Yu,Hp),Yu.prototype.g=function(){return new XMLHttpRequest},Yu.prototype.i=function(){return{}},Gp=new Yu;function Rr(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new Pa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new eD}function eD(){this.i=null,this.g="",this.h=!1}var tD={},Wp={};function Kp(c,d,f){c.L=1,c.v=el(Qn(d)),c.m=f,c.P=!0,nD(c,null)}function nD(c,d){c.F=Date.now(),Zu(c),c.A=Qn(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),mD(f.i,"t",m),c.C=0,f=c.j.J,c.h=new eD,c.g=xD(c.j,f?d:null,!c.m),0<c.O&&(c.M=new WP(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(zw[0]=C.toString()),C=zw);for(var A=0;A<C.length;A++){var F=Vw(f,C[A],m||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),xa(),YP(c.i,c.u,c.A,c.l,c.R,c.m)}Rr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Yn(c)==3?d.j():this.Y(c)},Rr.prototype.Y=function(c){try{if(c==this.g)e:{let gt=Yn(this.g);var d=this.g.Ba();let xo=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||DD(this.g)))){this.J||gt!=4||d==7||(d==8||0>=xo?xa(3):xa(2)),Qp(this);var f=this.g.Z();this.X=f;t:if(rD(this)){var m=DD(this.g);c="";var C=m.length,A=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ii(this),La(this);var F="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(A&&d==C-1)});m.length=0,this.h.g+=c,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=f==200,ZP(this.i,this.u,this.A,this.l,this.R,gt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var we,at=this.g;if((we=at.g?at.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(we)){var fe=we;break t}}fe=null}if(f=fe)Mo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yp(this,f);else{this.o=!1,this.s=3,Et(12),Ii(this),La(this);break e}}if(this.P){f=!0;let on;for(;!this.J&&this.C<F.length;)if(on=ek(this,F),on==Wp){gt==4&&(this.s=4,Et(14),f=!1),Mo(this.i,this.l,null,"[Incomplete Response]");break}else if(on==tD){this.s=4,Et(15),Mo(this.i,this.l,F,"[Invalid Chunk]"),f=!1;break}else Mo(this.i,this.l,on,null),Yp(this,on);if(rD(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||F.length!=0||this.h.h||(this.s=1,Et(16),f=!1),this.o=this.o&&f,!f)Mo(this.i,this.l,F,"[Invalid Chunked Response]"),Ii(this),La(this);else if(0<F.length&&!this.W){this.W=!0;var pt=this.j;pt.g==this&&pt.ba&&!pt.M&&(pt.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),ng(pt),pt.M=!0,Et(11))}}else Mo(this.i,this.l,F,null),Yp(this,F);gt==4&&Ii(this),this.o&&!this.J&&(gt==4?ND(this.j,this):(this.o=!1,Zu(this)))}else yk(this.g),f==400&&0<F.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),Ii(this),La(this)}}}catch{}finally{}};function rD(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ek(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?Wp:(f=Number(d.substring(f,m)),isNaN(f)?tD:(m+=1,m+f>d.length?Wp:(d=d.slice(m,m+f),c.C=m+f,d)))}Rr.prototype.cancel=function(){this.J=!0,Ii(this)};function Zu(c){c.S=Date.now()+c.I,iD(c,c.I)}function iD(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Oa(g(c.ba,c),d)}function Qp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Rr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(JP(this.i,this.A),this.L!=2&&(xa(),Et(17)),Ii(this),this.s=2,La(this)):iD(this,this.S-c)};function La(c){c.j.G==0||c.J||ND(c.j,c)}function Ii(c){Qp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Gw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Yp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Zp(f.h,c))){if(!c.K&&Zp(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var C=m;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)ol(f),rl(f);else break e;tg(f),Et(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Oa(g(f.Za,f),6e3));if(1>=aD(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Di(f,11)}else if((c.K||f.g==c)&&ol(f),!$(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let fe=C[d];if(f.T=fe[0],fe=fe[1],f.G==2)if(fe[0]=="c"){f.K=fe[1],f.ia=fe[2];let pt=fe[3];pt!=null&&(f.la=pt,f.j.info("VER="+f.la));let gt=fe[4];gt!=null&&(f.Aa=gt,f.j.info("SVER="+f.Aa));let xo=fe[5];xo!=null&&typeof xo=="number"&&0<xo&&(m=1.5*xo,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let on=c.g;if(on){let al=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(al){var A=m.h;A.g||al.indexOf("spdy")==-1&&al.indexOf("quic")==-1&&al.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Jp(A,A.h),A.h=null))}if(m.D){let rg=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;rg&&(m.ya=rg,Te(m.I,m.D,rg))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var F=c;if(m.qa=kD(m,m.J?m.ia:null,m.W),F.K){cD(m.h,F);var we=F,at=m.L;at&&(we.I=at),we.B&&(Qp(we),Zu(we)),m.g=F}else AD(m);0<f.i.length&&il(f)}else fe[0]!="stop"&&fe[0]!="close"||Di(f,7);else f.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?Di(f,7):eg(f):fe[0]!="noop"&&f.l&&f.l.ta(fe),f.v=0)}}xa(4)}catch{}}var tk=class{constructor(c,d){this.g=c,this.map=d}};function oD(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sD(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function aD(c){return c.h?1:c.g?c.g.size:0}function Zp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Jp(c,d){c.g?c.g.add(d):c.h=d}function cD(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}oD.prototype.cancel=function(){if(this.i=uD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function uD(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return S(c.i)}function nk(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function rk(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function lD(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=rk(c),m=nk(c),C=m.length,A=0;A<C;A++)d.call(void 0,m[A],f&&f[A],c)}var dD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ik(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),C=null;if(0<=m){var A=c[f].substring(0,m);C=c[f].substring(m+1)}else A=c[f];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function wi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof wi){this.h=c.h,Ju(this,c.j),this.o=c.o,this.g=c.g,Xu(this,c.s),this.l=c.l;var d=c.i,f=new Ua;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),hD(this,f),this.m=c.m}else c&&(d=String(c).match(dD))?(this.h=!1,Ju(this,d[1]||"",!0),this.o=Va(d[2]||""),this.g=Va(d[3]||"",!0),Xu(this,d[4]),this.l=Va(d[5]||"",!0),hD(this,d[6]||"",!0),this.m=Va(d[7]||"")):(this.h=!1,this.i=new Ua(null,this.h))}wi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(ja(d,fD,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ja(d,fD,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(ja(f,f.charAt(0)=="/"?ak:sk,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",ja(f,uk)),c.join("")};function Qn(c){return new wi(c)}function Ju(c,d,f){c.j=f?Va(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Xu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function hD(c,d,f){d instanceof Ua?(c.i=d,lk(c.i,c.h)):(f||(d=ja(d,ck)),c.i=new Ua(d,c.h))}function Te(c,d,f){c.i.set(d,f)}function el(c){return Te(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Va(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ja(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,ok),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ok(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var fD=/[#\/\?@]/g,sk=/[#\?:]/g,ak=/[#\?]/g,ck=/[#\?@]/g,uk=/#/g;function Ua(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Nr(c){c.g||(c.g=new Map,c.h=0,c.i&&ik(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Ua.prototype,n.add=function(c,d){Nr(this),this.i=null,c=Po(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function pD(c,d){Nr(c),d=Po(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function gD(c,d){return Nr(c),d=Po(c,d),c.g.has(d)}n.forEach=function(c,d){Nr(this),this.g.forEach(function(f,m){f.forEach(function(C){c.call(d,C,m,this)},this)},this)},n.na=function(){Nr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let C=c[m];for(let A=0;A<C.length;A++)f.push(d[m])}return f},n.V=function(c){Nr(this);let d=[];if(typeof c=="string")gD(this,c)&&(d=d.concat(this.g.get(Po(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return Nr(this),this.i=null,c=Po(this,c),gD(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function mD(c,d,f){pD(c,d),0<f.length&&(c.i=null,c.g.set(Po(c,d),S(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let A=encodeURIComponent(String(m)),F=this.V(m);for(m=0;m<F.length;m++){var C=A;F[m]!==""&&(C+="="+encodeURIComponent(String(F[m]))),c.push(C)}}return this.i=c.join("&")};function Po(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function lk(c,d){d&&!c.j&&(Nr(c),c.i=null,c.g.forEach(function(f,m){var C=m.toLowerCase();m!=C&&(pD(this,m),mD(this,C,f))},c)),c.j=d}function dk(c,d){let f=new Fa;if(a.Image){let m=new Image;m.onload=y(Mr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=y(Mr,f,"TestLoadImage: error",!1,d,m),m.onabort=y(Mr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(Mr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function hk(c,d){let f=new Fa,m=new AbortController,C=setTimeout(()=>{m.abort(),Mr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(A=>{clearTimeout(C),A.ok?Mr(f,"TestPingServer: ok",!0,d):Mr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Mr(f,"TestPingServer: error",!1,d)})}function Mr(c,d,f,m,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),m(f)}catch{}}function fk(){this.g=new QP}function pk(c,d,f){let m=f||"";try{lD(c,function(C,A){let F=C;l(C)&&(F=$p(C)),d.push(m+A+"="+encodeURIComponent(F))})}catch(C){throw d.push(m+"type="+encodeURIComponent("_badmap")),C}}function Ba(c){this.l=c.Ub||null,this.j=c.eb||!1}I(Ba,Hp),Ba.prototype.g=function(){return new tl(this.l,this.j)},Ba.prototype.i=function(c){return function(){return c}}({});function tl(c,d){ft.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(tl,ft),n=tl.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ha(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$a(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ha(this)),this.g&&(this.readyState=3,Ha(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yD(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function yD(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?$a(this):Ha(this),this.readyState==3&&yD(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,$a(this))},n.Qa=function(c){this.g&&(this.response=c,$a(this))},n.ga=function(){this.g&&$a(this)};function $a(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ha(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Ha(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(tl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function vD(c){let d="";return Ie(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Xp(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=vD(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Te(c,d,f))}function Me(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Me,ft);var gk=/^https?$/i,mk=["POST","PUT"];n=Me.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gp.g(),this.v=this.o?Ww(this.o):Ww(Gp),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){_D(this,A);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var C in m)f.set(C,m[C]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let A of m.keys())f.set(A,m.get(A));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(mk,d,void 0))||m||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,F]of f)this.g.setRequestHeader(A,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wD(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){_D(this,A)}};function _D(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,ED(c),nl(c)}function ED(c){c.A||(c.A=!0,_t(c,"complete"),_t(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,_t(this,"complete"),_t(this,"abort"),nl(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nl(this,!0)),Me.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ID(this):this.bb())},n.bb=function(){ID(this)};function ID(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Yn(c)!=4||c.Z()!=2)){if(c.u&&Yn(c)==4)Hw(c.Ea,0,c);else if(_t(c,"readystatechange"),Yn(c)==4){c.h=!1;try{let F=c.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=F===0){var C=String(c.D).match(dD)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),m=!gk.test(C?C.toLowerCase():"")}f=m}if(f)_t(c,"complete"),_t(c,"success");else{c.m=6;try{var A=2<Yn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",ED(c)}}finally{nl(c)}}}}function nl(c,d){if(c.g){wD(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||_t(c,"ready");try{f.onreadystatechange=m}catch{}}}function wD(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),KP(d)}};function DD(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function yk(c){let d={};c=(c.g&&2<=Yn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if($(c[m]))continue;var f=T(c[m]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[C]||[];d[C]=A,A.push(f)}D(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qa(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function TD(c){this.Aa=0,this.i=[],this.j=new Fa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qa("baseRetryDelayMs",5e3,c),this.cb=qa("retryDelaySeedMs",1e4,c),this.Wa=qa("forwardChannelMaxRetries",2,c),this.wa=qa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new oD(c&&c.concurrentRequestLimit),this.Da=new fk,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=TD.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,m){Et(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=kD(this,null,this.W),il(this)};function eg(c){if(CD(c),c.G==3){var d=c.U++,f=Qn(c.I);if(Te(f,"SID",c.K),Te(f,"RID",d),Te(f,"TYPE","terminate"),za(c,f),d=new Rr(c,c.j,d),d.L=2,d.v=el(Qn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=xD(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Zu(d)}PD(c)}function rl(c){c.g&&(ng(c),c.g.cancel(),c.g=null)}function CD(c){rl(c),c.u&&(a.clearTimeout(c.u),c.u=null),ol(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function il(c){if(!sD(c.h)&&!c.s){c.s=!0;var d=c.Ga;Aa||Lw(),Ra||(Aa(),Ra=!0),kp.add(d,c),c.B=0}}function vk(c,d){return aD(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Oa(g(c.Ga,c,d),MD(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new Rr(this,this.j,c),A=this.o;if(this.S&&(A?(A=v(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=SD(this,C,d),f=Qn(this.I),Te(f,"RID",c),Te(f,"CVER",22),this.D&&Te(f,"X-HTTP-Session-Id",this.D),za(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(vD(A)))+"&"+d:this.m&&Xp(f,this.m,A)),Jp(this.h,C),this.Ua&&Te(f,"TYPE","init"),this.P?(Te(f,"$req",d),Te(f,"SID","null"),C.T=!0,Kp(C,f,null)):Kp(C,f,d),this.G=2}}else this.G==3&&(c?bD(this,c):this.i.length==0||sD(this.h)||bD(this))};function bD(c,d){var f;d?f=d.l:f=c.U++;let m=Qn(c.I);Te(m,"SID",c.K),Te(m,"RID",f),Te(m,"AID",c.T),za(c,m),c.m&&c.o&&Xp(m,c.m,c.o),f=new Rr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=SD(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Jp(c.h,f),Kp(f,m,d)}function za(c,d){c.H&&Ie(c.H,function(f,m){Te(d,m,f)}),c.l&&lD({},function(f,m){Te(d,m,f)})}function SD(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var C=c.i;let A=-1;for(;;){let F=["count="+f];A==-1?0<f?(A=C[0].g,F.push("ofs="+A)):A=0:F.push("ofs="+A);let we=!0;for(let at=0;at<f;at++){let fe=C[at].g,pt=C[at].map;if(fe-=A,0>fe)A=Math.max(0,C[at].g-100),we=!1;else try{pk(pt,F,"req"+fe+"_")}catch{m&&m(pt)}}if(we){m=F.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function AD(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Aa||Lw(),Ra||(Aa(),Ra=!0),kp.add(d,c),c.v=0}}function tg(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Oa(g(c.Fa,c),MD(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,RD(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Oa(g(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),rl(this),RD(this))};function ng(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function RD(c){c.g=new Rr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Qn(c.qa);Te(d,"RID","rpc"),Te(d,"SID",c.K),Te(d,"AID",c.T),Te(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Te(d,"TO",c.ja),Te(d,"TYPE","xmlhttp"),za(c,d),c.m&&c.o&&Xp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=el(Qn(d)),f.m=null,f.P=!0,nD(f,c)}n.Za=function(){this.C!=null&&(this.C=null,rl(this),tg(this),Et(19))};function ol(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function ND(c,d){var f=null;if(c.g==d){ol(c),ng(c),c.g=null;var m=2}else if(Zp(c.h,d))f=d.D,cD(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;m=Ku(),_t(m,new Jw(m,f)),il(c)}else AD(c);else if(C=d.s,C==3||C==0&&0<d.X||!(m==1&&vk(c,d)||m==2&&tg(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:Di(c,5);break;case 4:Di(c,10);break;case 3:Di(c,6);break;default:Di(c,2)}}}function MD(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Di(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let C=!m;m=new wi(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ju(m,"https"),el(m),C?dk(m.toString(),f):hk(m.toString(),f)}else Et(2);c.G=0,c.l&&c.l.sa(d),PD(c),CD(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function PD(c){if(c.G=0,c.ka=[],c.l){let d=uD(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,S(c.i),c.i.length=0),c.l.ra()}}function kD(c,d,f){var m=f instanceof wi?Qn(f):new wi(f);if(m.g!="")d&&(m.g=d+"."+m.g),Xu(m,m.s);else{var C=a.location;m=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new wi(null);m&&Ju(A,m),d&&(A.g=d),C&&Xu(A,C),f&&(A.l=f),m=A}return f=c.D,d=c.ya,f&&d&&Te(m,f,d),Te(m,"VER",c.la),za(c,m),m}function xD(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Me(new Ba({eb:f})):new Me(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function OD(){}n=OD.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function sl(){}sl.prototype.g=function(c,d){return new Ft(c,d)};function Ft(c,d){ft.call(this),this.g=new TD(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!$(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!$(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ko(this)}I(Ft,ft),Ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){eg(this.g)},Ft.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=$p(c),c=f);d.i.push(new tk(d.Ya++,c)),d.G==3&&il(d)},Ft.prototype.N=function(){this.g.l=null,delete this.j,eg(this.g),delete this.g,Ft.aa.N.call(this)};function FD(c){qp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}I(FD,qp);function LD(){zp.call(this),this.status=1}I(LD,zp);function ko(c){this.g=c}I(ko,OD),ko.prototype.ua=function(){_t(this.g,"a")},ko.prototype.ta=function(c){_t(this.g,new FD(c))},ko.prototype.sa=function(c){_t(this.g,new LD)},ko.prototype.ra=function(){_t(this.g,"b")},sl.prototype.createWebChannel=sl.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,W_=mr.createWebChannelTransport=function(){return new sl},G_=mr.getStatEventTarget=function(){return Ku()},z_=mr.Event=Ei,gf=mr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qu.NO_ERROR=0,Qu.TIMEOUT=8,Qu.HTTP_ERROR=6,vu=mr.ErrorCode=Qu,Xw.COMPLETE="complete",q_=mr.EventType=Xw,Kw.EventType=ka,ka.OPEN="a",ka.CLOSE="b",ka.ERROR="c",ka.MESSAGE="d",ft.prototype.listen=ft.prototype.K,Ys=mr.WebChannel=Kw,YH=mr.FetchXmlHttpFactory=Ba,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,H_=mr.XhrIo=Me}).apply(typeof pf<"u"?pf:typeof self<"u"?self:typeof window<"u"?window:{});var CR="@firebase/firestore",bR="4.8.0";var ot=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ot.UNAUTHENTICATED=new ot(null),ot.GOOGLE_CREDENTIALS=new ot("google-credentials-uid"),ot.FIRST_PARTY=new ot("first-party-uid"),ot.MOCK_USER=new ot("mock-user");var va="11.10.0";var Io=new Bn("@firebase/firestore");function Zs(){return Io.logLevel}function L(n,...e){if(Io.logLevel<=ue.DEBUG){let t=e.map(FI);Io.debug(`Firestore (${va}): ${n}`,...t)}}function vr(n,...e){if(Io.logLevel<=ue.ERROR){let t=e.map(FI);Io.error(`Firestore (${va}): ${n}`,...t)}}function di(n,...e){if(Io.logLevel<=ue.WARN){let t=e.map(FI);Io.warn(`Firestore (${va}): ${n}`,...t)}}function FI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function z(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,mN(n,r,t)}function mN(n,e,t){let r=`FIRESTORE (${va}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw vr(r),new Error(r)}function Ee(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||mN(e,i,r)}function ee(n,e){return n}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},O=class extends tn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Cn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var wf=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},J_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ot.UNAUTHENTICATED))}shutdown(){}},X_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},eE=class{constructor(e){this.t=e,this.currentUser=ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ee(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Cn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Cn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Cn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ee(typeof r.accessToken=="string",31837,{l:r}),new wf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string",2055,{h:e}),new ot(e)}},tE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ot.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},nE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new tE(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Df=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},rE=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ee(this.o===void 0,3512);let r=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Df(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ee(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Df(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function ZH(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function yN(){return new TextEncoder}var Du=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=ZH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function se(n,e){return n<e?-1:n>e?1:0}function iE(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return se(r,i);{let o=yN(),s=JH(o.encode(SR(n,t)),o.encode(SR(e,t)));return s!==0?s:se(r,i)}}t+=r>65535?2:1}return se(n.length,e.length)}function SR(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function JH(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return se(n[t],e[t]);return se(n.length,e.length)}function sa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var AR="__name__",Tf=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&z(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&z(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return se(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):iE(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gr.fromString(e.substring(4,e.length-2))}},Ce=class n extends Tf{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new O(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},XH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Gt=class n extends Tf{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return XH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===AR}static keyField(){return new n([AR])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new O(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new O(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new O(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new O(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var H=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ce.fromString(e))}static fromName(e){return new n(Ce.fromString(e).popFirst(5))}static empty(){return new n(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ce.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ce(e.slice()))}};function vN(n,e,t){if(!t)throw new O(N.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function e4(n,e,t,r){if(e===!0&&r===!0)throw new O(N.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function RR(n){if(!H.isDocumentKey(n))throw new O(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function NR(n){if(H.isDocumentKey(n))throw new O(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _N(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ip(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":z(12329,{type:typeof n})}function _r(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new O(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=ip(n);throw new O(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function t4(n,e){if(e<=0)throw new O(N.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}function Ke(n,e){let t={typeString:n};return e&&(t.value=e),t}function Fu(n,e){if(!_N(n))throw new O(N.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new O(N.INVALID_ARGUMENT,t);return!0}var MR=-62135596800,PR=1e6,Qe=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*PR);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new O(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new O(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<MR)throw new O(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new O(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/PR}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Fu(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-MR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:Ke("string",Qe._jsonSchemaVersion),seconds:Ke("number"),nanoseconds:Ke("number")};var te=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Qe(0,0))}static max(){return new n(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Tu=-1,oE=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};oE.UNKNOWN_ID=-1;function n4(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new Qe(t+1,0):new Qe(t,r));return new wo(i,H.empty(),e)}function r4(n){return new wo(n.readTime,n.key,Tu)}var wo=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(te.min(),H.empty(),Tu)}static max(){return new n(te.max(),H.empty(),Tu)}};function i4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=H.comparator(n.documentKey,e.documentKey),t!==0?t:se(n.largestBatchId,e.largestBatchId))}var o4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function _a(n){if(n.code!==N.FAILED_PRECONDITION||n.message!==o4)throw n;L("LocalStore","Unexpectedly lost primary lease")}var P=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function s4(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ea(n){return n.name==="IndexedDbTransactionError"}var LI=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),VI=-1;function op(n){return n==null}function Cu(n){return n===0&&1/n==-1/0}function a4(n){return typeof n=="number"&&Number.isInteger(n)&&!Cu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var EN="";function c4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=kR(e)),e=u4(n.get(t),e);return kR(e)}function u4(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case EN:t+="";break;default:t+=o}}return t}function kR(n){return n+EN+""}var l4="remoteDocuments",IN="owner";var wN="mutationQueues";var DN="mutations";var TN="documentMutations",d4="remoteDocumentsV14";var CN="remoteDocumentGlobal";var bN="targets";var SN="targetDocuments";var AN="targetGlobal",RN="collectionParents";var NN="clientMetadata";var MN="bundles";var PN="namedQueries";var h4="indexConfiguration";var f4="indexState";var p4="indexEntries";var kN="documentOverlays";var g4="globals";var m4=[wN,DN,TN,l4,bN,IN,AN,SN,NN,CN,RN,MN,PN],tse=[...m4,kN],y4=[wN,DN,TN,d4,bN,IN,AN,SN,NN,CN,RN,MN,PN,kN],v4=y4,_4=[...v4,h4,f4,p4];var nse=[..._4,g4];function xR(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function yi(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function xN(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Fe=class n{constructor(e,t){this.comparator=e,this.root=t||Hn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ta(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ta(this.root,e,this.comparator,!1)}getReverseIterator(){return new ta(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ta(this.root,e,this.comparator,!0)}},ta=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Hn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw z(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw z(27949);return e+(this.isRed()?0:1)}};Hn.EMPTY=null,Hn.RED=!0,Hn.BLACK=!1;Hn.EMPTY=new class{constructor(){this.size=0}get key(){throw z(57766)}get value(){throw z(16141)}get color(){throw z(16727)}get left(){throw z(29726)}get right(){throw z(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Hn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var st=class n{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Cf(this.data.getIterator())}getIteratorFrom(e){return new Cf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Cf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var rn=class n{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new n([])}unionWith(e){let t=new st(Gt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sa(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var bf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var vt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new bf("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};vt.EMPTY_BYTE_STRING=new vt("");var E4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(n){if(Ee(!!n,39018),typeof n=="string"){let e=0,t=E4.exec(n);if(Ee(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ae(n.seconds),nanos:Ae(n.nanos)}}function Ae(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ir(n){return typeof n=="string"?vt.fromBase64String(n):vt.fromUint8Array(n)}var ON="server_timestamp",FN="__type__",LN="__previous_value__",VN="__local_write_time__";function sp(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[FN])===null||t===void 0?void 0:t.stringValue)===ON}function ap(n){let e=n.mapValue.fields[LN];return sp(e)?ap(e):e}function bu(n){let e=Er(n.mapValue.fields[VN].timestampValue);return new Qe(e.seconds,e.nanos)}var aE=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},Sf="(default)",Af=class n{constructor(e,t){this.projectId=e,this.database=t||Sf}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Sf}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var jI="__type__",jN="__max__",mf={mapValue:{fields:{__type__:{stringValue:jN}}}},UI="__vector__",aa="value";function hi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?sp(n)?4:BN(n)?9007199254740991:UN(n)?10:11:z(28295,{value:n})}function Gn(n,e){if(n===e)return!0;let t=hi(n);if(t!==hi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bu(n).isEqual(bu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Er(i.timestampValue),a=Er(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Ir(i.bytesValue).isEqual(Ir(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Ae(i.geoPointValue.latitude)===Ae(o.geoPointValue.latitude)&&Ae(i.geoPointValue.longitude)===Ae(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ae(i.integerValue)===Ae(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ae(i.doubleValue),a=Ae(o.doubleValue);return s===a?Cu(s)===Cu(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return sa(n.arrayValue.values||[],e.arrayValue.values||[],Gn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(xR(s)!==xR(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Gn(s[u],a[u])))return!1;return!0}(n,e);default:return z(52216,{left:n})}}function Su(n,e){return(n.values||[]).find(t=>Gn(t,e))!==void 0}function ca(n,e){if(n===e)return 0;let t=hi(n),r=hi(e);if(t!==r)return se(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return se(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ae(o.integerValue||o.doubleValue),u=Ae(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return OR(n.timestampValue,e.timestampValue);case 4:return OR(bu(n),bu(e));case 5:return iE(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Ir(o),u=Ir(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=se(a[l],u[l]);if(h!==0)return h}return se(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=se(Ae(o.latitude),Ae(s.latitude));return a!==0?a:se(Ae(o.longitude),Ae(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return FR(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},y=(a=p[aa])===null||a===void 0?void 0:a.arrayValue,I=(u=g[aa])===null||u===void 0?void 0:u.arrayValue,S=se(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=I?.values)===null||h===void 0?void 0:h.length)||0);return S!==0?S:FR(y,I)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===mf.mapValue&&s===mf.mapValue)return 0;if(o===mf.mapValue)return 1;if(s===mf.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=iE(u[p],h[p]);if(g!==0)return g;let y=ca(a[u[p]],l[h[p]]);if(y!==0)return y}return se(u.length,h.length)}(n.mapValue,e.mapValue);default:throw z(23264,{le:t})}}function OR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return se(n,e);let t=Er(n),r=Er(e),i=se(t.seconds,r.seconds);return i!==0?i:se(t.nanos,r.nanos)}function FR(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=ca(t[i],r[i]);if(o)return o}return se(t.length,r.length)}function ua(n){return cE(n)}function cE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Er(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ir(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return H.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=cE(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${cE(t.fields[s])}`;return i+"}"}(n.mapValue):z(61005,{value:n})}function _f(n){switch(hi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=ap(n);return e?16+_f(e):16;case 5:return 2*n.stringValue.length;case 6:return Ir(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+_f(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return yi(r.fields,(o,s)=>{i+=o.length+_f(s)}),i}(n.mapValue);default:throw z(13486,{value:n})}}function Rf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function uE(n){return!!n&&"integerValue"in n}function BI(n){return!!n&&"arrayValue"in n}function LR(n){return!!n&&"nullValue"in n}function VR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ef(n){return!!n&&"mapValue"in n}function UN(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[jI])===null||t===void 0?void 0:t.stringValue)===UI}function Eu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return yi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Eu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Eu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function BN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===jN}var ise={mapValue:{fields:{[jI]:{stringValue:UI},[aa]:{arrayValue:{}}}}};var zt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ef(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eu(t)}setAll(e){let t=Gt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Eu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Ef(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Ef(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){yi(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Eu(this.value))}};function $N(n){let e=[];return yi(n.fields,(t,r)=>{let i=new Gt([t]);if(Ef(r)){let o=$N(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new rn(e)}var bn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,te.min(),te.min(),te.min(),zt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,te.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,te.min(),te.min(),zt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,te.min(),te.min(),zt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var fi=class{constructor(e,t){this.position=e,this.inclusive=t}};function jR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=H.comparator(H.fromName(s.referenceValue),t.key):r=ca(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function UR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Gn(n.position[t],e.position[t]))return!1;return!0}var Do=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function I4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Nf=class{},We=class n extends Nf{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new dE(e,t,r):t==="array-contains"?new pE(e,r):t==="in"?new gE(e,r):t==="not-in"?new mE(e,r):t==="array-contains-any"?new yE(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new hE(e,r):new fE(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ca(t,this.value)):t!==null&&hi(this.value)===hi(t)&&this.matchesComparison(ca(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Sn=class n extends Nf{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return HN(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function HN(n){return n.op==="and"}function qN(n){return w4(n)&&HN(n)}function w4(n){for(let e of n.filters)if(e instanceof Sn)return!1;return!0}function lE(n){if(n instanceof We)return n.field.canonicalString()+n.op.toString()+ua(n.value);if(qN(n))return n.filters.map(e=>lE(e)).join(",");{let e=n.filters.map(t=>lE(t)).join(",");return`${n.op}(${e})`}}function zN(n,e){return n instanceof We?function(r,i){return i instanceof We&&r.op===i.op&&r.field.isEqual(i.field)&&Gn(r.value,i.value)}(n,e):n instanceof Sn?function(r,i){return i instanceof Sn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&zN(s,i.filters[a]),!0):!1}(n,e):void z(19439)}function GN(n){return n instanceof We?function(t){return`${t.field.canonicalString()} ${t.op} ${ua(t.value)}`}(n):n instanceof Sn?function(t){return t.op.toString()+" {"+t.getFilters().map(GN).join(" ,")+"}"}(n):"Filter"}var dE=class extends We{constructor(e,t,r){super(e,t,r),this.key=H.fromName(r.referenceValue)}matches(e){let t=H.comparator(e.key,this.key);return this.matchesComparison(t)}},hE=class extends We{constructor(e,t){super(e,"in",t),this.keys=WN("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},fE=class extends We{constructor(e,t){super(e,"not-in",t),this.keys=WN("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function WN(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>H.fromName(r.referenceValue))}var pE=class extends We{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return BI(t)&&Su(t.arrayValue,this.value)}},gE=class extends We{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Su(this.value.arrayValue,t)}},mE=class extends We{constructor(e,t){super(e,"not-in",t)}matches(e){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Su(this.value.arrayValue,t)}},yE=class extends We{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!BI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Su(this.value.arrayValue,r))}};var vE=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function BR(n,e=null,t=[],r=[],i=null,o=null,s=null){return new vE(n,e,t,r,i,o,s)}function $I(n){let e=ee(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>lE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),op(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ua(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ua(r)).join(",")),e.Pe=t}return e.Pe}function HI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!I4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!zN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!UR(n.startAt,e.startAt)&&UR(n.endAt,e.endAt)}function _E(n){return H.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var wr=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function D4(n,e,t,r,i,o,s,a){return new wr(n,e,t,r,i,o,s,a)}function qI(n){return new wr(n)}function $R(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function zI(n){return n.collectionGroup!==null}function na(n){let e=ee(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new st(Gt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Do(o,r))}),t.has(Gt.keyField().canonicalString())||e.Te.push(new Do(Gt.keyField(),r))}return e.Te}function qn(n){let e=ee(n);return e.Ie||(e.Ie=T4(e,na(n))),e.Ie}function T4(n,e){if(n.limitType==="F")return BR(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Do(i.field,o)});let t=n.endAt?new fi(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new fi(n.startAt.position,n.startAt.inclusive):null;return BR(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function EE(n,e){let t=n.filters.concat([e]);return new wr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Mf(n,e,t){return new wr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function cp(n,e){return HI(qn(n),qn(e))&&n.limitType===e.limitType}function KN(n){return`${$I(qn(n))}|lt:${n.limitType}`}function Js(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>GN(i)).join(", ")}]`),op(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ua(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ua(i)).join(",")),`Target(${r})`}(qn(n))}; limitType=${n.limitType})`}function up(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):H.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of na(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=jR(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,na(r),i)||r.endAt&&!function(s,a,u){let l=jR(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,na(r),i))}(n,e)}function C4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function QN(n){return(e,t)=>{let r=!1;for(let i of na(n)){let o=b4(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function b4(n,e,t){let r=n.field.isKeyField()?H.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?ca(u,l):z(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return z(19790,{direction:n.dir})}}var Dr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yi(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return xN(this.inner)}size(){return this.innerSize}};var S4=new Fe(H.comparator);function Tr(){return S4}var YN=new Fe(H.comparator);function _u(...n){let e=YN;for(let t of n)e=e.insert(t.key,t);return e}function ZN(n){let e=YN;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function yo(){return Iu()}function JN(){return Iu()}function Iu(){return new Dr(n=>n.toString(),(n,e)=>n.isEqual(e))}var A4=new Fe(H.comparator),R4=new st(H.comparator);function le(...n){let e=R4;for(let t of n)e=e.add(t);return e}var N4=new st(se);function M4(){return N4}function GI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cu(e)?"-0":e}}function XN(n){return{integerValue:""+n}}function P4(n,e){return a4(e)?XN(e):GI(n,e)}var la=class{constructor(){this._=void 0}};function k4(n,e,t){return n instanceof da?function(i,o){let s={fields:{[FN]:{stringValue:ON},[VN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&sp(o)&&(o=ap(o)),o&&(s.fields[LN]=o),{mapValue:s}}(t,e):n instanceof To?tM(n,e):n instanceof Co?nM(n,e):function(i,o){let s=eM(i,o),a=HR(s)+HR(i.Ee);return uE(s)&&uE(i.Ee)?XN(a):GI(i.serializer,a)}(n,e)}function x4(n,e,t){return n instanceof To?tM(n,e):n instanceof Co?nM(n,e):t}function eM(n,e){return n instanceof ha?function(r){return uE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var da=class extends la{},To=class extends la{constructor(e){super(),this.elements=e}};function tM(n,e){let t=rM(e);for(let r of n.elements)t.some(i=>Gn(i,r))||t.push(r);return{arrayValue:{values:t}}}var Co=class extends la{constructor(e){super(),this.elements=e}};function nM(n,e){let t=rM(e);for(let r of n.elements)t=t.filter(i=>!Gn(i,r));return{arrayValue:{values:t}}}var ha=class extends la{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function HR(n){return Ae(n.integerValue||n.doubleValue)}function rM(n){return BI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function O4(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof To&&i instanceof To||r instanceof Co&&i instanceof Co?sa(r.elements,i.elements,Gn):r instanceof ha&&i instanceof ha?Gn(r.Ee,i.Ee):r instanceof da&&i instanceof da}(n.transform,e.transform)}var IE=class{constructor(e,t){this.version=e,this.transformResults=t}},yr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function If(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var fa=class{};function iM(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Au(n.key,yr.none()):new bo(n.key,n.data,yr.none());{let t=n.data,r=zt.empty(),i=new st(Gt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Wn(n.key,r,new rn(i.toArray()),yr.none())}}function F4(n,e,t){n instanceof bo?function(i,o,s){let a=i.value.clone(),u=zR(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Wn?function(i,o,s){if(!If(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=zR(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(oM(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function wu(n,e,t,r){return n instanceof bo?function(o,s,a,u){if(!If(o.precondition,s))return a;let l=o.value.clone(),h=GR(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Wn?function(o,s,a,u){if(!If(o.precondition,s))return a;let l=GR(o.fieldTransforms,u,s),h=s.data;return h.setAll(oM(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return If(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function L4(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=eM(r.transform,i||null);o!=null&&(t===null&&(t=zt.empty()),t.set(r.field,o))}return t||null}function qR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&sa(r,i,(o,s)=>O4(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var bo=class extends fa{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Wn=class extends fa{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function oM(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function zR(n,e,t){let r=new Map;Ee(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,x4(s,a,t[i]))}return r}function GR(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,k4(o,s,e))}return r}var Au=class extends fa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},wE=class extends fa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var DE=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&F4(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=wu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=wu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=JN();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=iM(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),le())}isEqual(e){return this.batchId===e.batchId&&sa(this.mutations,e.mutations,(t,r)=>qR(t,r))&&sa(this.baseMutations,e.baseMutations,(t,r)=>qR(t,r))}},TE=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ee(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return A4}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var CE=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var bE=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var ze,he;function V4(n){switch(n){case N.OK:return z(64938);case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return z(15467,{code:n})}}function sM(n){if(n===void 0)return vr("GRPC error has no .code"),N.UNKNOWN;switch(n){case ze.OK:return N.OK;case ze.CANCELLED:return N.CANCELLED;case ze.UNKNOWN:return N.UNKNOWN;case ze.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case ze.INTERNAL:return N.INTERNAL;case ze.UNAVAILABLE:return N.UNAVAILABLE;case ze.UNAUTHENTICATED:return N.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case ze.NOT_FOUND:return N.NOT_FOUND;case ze.ALREADY_EXISTS:return N.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return N.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case ze.ABORTED:return N.ABORTED;case ze.OUT_OF_RANGE:return N.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return N.UNIMPLEMENTED;case ze.DATA_LOSS:return N.DATA_LOSS;default:return z(39323,{code:n})}}(he=ze||(ze={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var WR=null;var j4=new gr([4294967295,4294967295],0);function KR(n){let e=yN().encode(n),t=new $_;return t.update(e),new Uint8Array(t.digest())}function QR(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new gr([t,r],0),new gr([i,o],0)]}var SE=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new vo(`Invalid padding: ${t}`);if(r<0)throw new vo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vo(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new vo(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=gr.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(gr.fromNumber(r)));return i.compare(j4)===1&&(i=new gr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=KR(e),[r,i]=QR(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=KR(e),[r,i]=QR(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},vo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Pf=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(te.min(),i,new Fe(se),Tr(),le())}},Ru=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,le(),le(),le())}};var ra=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},kf=class{constructor(e,t){this.targetId=e,this.De=t}},xf=class{constructor(e,t,r=vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Of=class{constructor(){this.ve=0,this.Ce=YR(),this.Fe=vt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=le(),t=le(),r=le();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:z(38017,{changeType:o})}}),new Ru(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=YR()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ee(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},AE=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Tr(),this.je=yf(),this.Je=yf(),this.He=new Fe(se)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:z(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(_E(o))if(r===0){let s=new H(o.path);this.Xe(t,s,bn.newNoDocument(s,te.min()))}else Ee(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}WR?.ct(function(h,p,g,y,I){var S,R,x,$,G,ye;let Le={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},Ie=p.unchangedNames;return Ie&&(Le.bloomFilter={applied:I===0,hashCount:(S=Ie?.hashCount)!==null&&S!==void 0?S:0,bitmapLength:($=(x=(R=Ie?.bits)===null||R===void 0?void 0:R.bitmap)===null||x===void 0?void 0:x.length)!==null&&$!==void 0?$:0,padding:(ye=(G=Ie?.bits)===null||G===void 0?void 0:G.padding)!==null&&ye!==void 0?ye:0,mightContain:D=>{var v;return(v=y?.mightContain(D))!==null&&v!==void 0&&v}}),Le}(s,e.De,this.We.lt(),a,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Ir(r).toUint8Array()}catch(u){if(u instanceof bf)return di("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new SE(s,i,o)}catch(u){return di(u instanceof vo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&_E(a.target)){let u=new H(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,bn.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=le();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Pf(e,t,this.He,this.ze,r);return this.ze=Tr(),this.je=yf(),this.Je=yf(),this.He=new Fe(se),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Of,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new st(se),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new st(se),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||L("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Of),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function yf(){return new Fe(H.comparator)}function YR(){return new Fe(H.comparator)}var U4={asc:"ASCENDING",desc:"DESCENDING"},B4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$4={and:"AND",or:"OR"},RE=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function NE(n,e){return n.useProto3Json||op(e)?e:{value:e}}function Ff(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aM(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function H4(n,e){return Ff(n,e.toTimestamp())}function zn(n){return Ee(!!n,49232),te.fromTimestamp(function(t){let r=Er(t);return new Qe(r.seconds,r.nanos)}(n))}function WI(n,e){return ME(n,e).canonicalString()}function ME(n,e){let t=function(i){return new Ce(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function cM(n){let e=Ce.fromString(n);return Ee(fM(e),10190,{key:e.toString()}),e}function PE(n,e){return WI(n.databaseId,e.path)}function K_(n,e){let t=cM(e);if(t.get(1)!==n.databaseId.projectId)throw new O(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new O(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new H(lM(t))}function uM(n,e){return WI(n.databaseId,e)}function q4(n){let e=cM(n);return e.length===4?Ce.emptyPath():lM(e)}function kE(n){return new Ce(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function lM(n){return Ee(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function ZR(n,e,t){return{name:PE(n,e),fields:t.value.mapValue.fields}}function z4(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:z(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Ee(h===void 0||typeof h=="string",58123),vt.fromBase64String(h||"")):(Ee(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),vt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?N.UNKNOWN:sM(l.code);return new O(h,l.message||"")}(s);t=new xf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=K_(n,r.document.name),o=zn(r.document.updateTime),s=r.document.createTime?zn(r.document.createTime):te.min(),a=new zt({mapValue:{fields:r.document.fields}}),u=bn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new ra(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=K_(n,r.document),o=r.readTime?zn(r.readTime):te.min(),s=bn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new ra([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=K_(n,r.document),o=r.removedTargetIds||[];t=new ra([],o,i,null)}else{if(!("filter"in e))return z(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new bE(i,o),a=r.targetId;t=new kf(a,s)}}return t}function G4(n,e){let t;if(e instanceof bo)t={update:ZR(n,e.key,e.value)};else if(e instanceof Au)t={delete:PE(n,e.key)};else if(e instanceof Wn)t={update:ZR(n,e.key,e.data),updateMask:tq(e.fieldMask)};else{if(!(e instanceof wE))return z(16599,{Rt:e.type});t={verify:PE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof da)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof To)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Co)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ha)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw z(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:H4(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:z(27497)}(n,e.precondition)),t}function W4(n,e){return n&&n.length>0?(Ee(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?zn(i.updateTime):zn(o);return s.isEqual(te.min())&&(s=zn(o)),new IE(s,i.transformResults||[])}(t,e))):[]}function K4(n,e){return{documents:[uM(n,e.path)]}}function Q4(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=uM(n,i);let o=function(l){if(l.length!==0)return hM(Sn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:Xs(g.field),direction:J4(g.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=NE(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{Vt:t,parent:i}}function Y4(n){let e=q4(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ee(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let g=dM(p);return g instanceof Sn&&qN(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(g=>function(I){return new Do(ea(I.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,op(g)?null:g}(t.limit));let u=null;t.startAt&&(u=function(p){let g=!!p.before,y=p.values||[];return new fi(y,g)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let g=!p.before,y=p.values||[];return new fi(y,g)}(t.endAt)),D4(e,i,s,o,a,"F",u,l)}function Z4(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return z(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function dM(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=ea(t.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ea(t.unaryFilter.field);return We.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ea(t.unaryFilter.field);return We.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ea(t.unaryFilter.field);return We.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return z(61313);default:return z(60726)}}(n):n.fieldFilter!==void 0?function(t){return We.create(ea(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return z(58110);default:return z(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Sn.create(t.compositeFilter.filters.map(r=>dM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return z(1026)}}(t.compositeFilter.op))}(n):z(30097,{filter:n})}function J4(n){return U4[n]}function X4(n){return B4[n]}function eq(n){return $4[n]}function Xs(n){return{fieldPath:n.canonicalString()}}function ea(n){return Gt.fromServerFormat(n.fieldPath)}function hM(n){return n instanceof We?function(t){if(t.op==="=="){if(VR(t.value))return{unaryFilter:{field:Xs(t.field),op:"IS_NAN"}};if(LR(t.value))return{unaryFilter:{field:Xs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(VR(t.value))return{unaryFilter:{field:Xs(t.field),op:"IS_NOT_NAN"}};if(LR(t.value))return{unaryFilter:{field:Xs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xs(t.field),op:X4(t.op),value:t.value}}}(n):n instanceof Sn?function(t){let r=t.getFilters().map(i=>hM(i));return r.length===1?r[0]:{compositeFilter:{op:eq(t.op),filters:r}}}(n):z(54877,{filter:n})}function tq(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function fM(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Nu=class n{constructor(e,t,r,i,o=te.min(),s=te.min(),a=vt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var xE=class{constructor(e){this.gt=e}};function nq(n){let e=Y4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Mf(e,e.limit,"L"):e}var Lf=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Ae(e.integerValue));else if("doubleValue"in e){let r=Ae(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Cu(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=Er(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Ir(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?BN(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):UN(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):z(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=aa,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Ae(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),H.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Lf.Ut=new Lf;var OE=class{constructor(){this.Dn=new FE}addToCollectionParentIndex(e,t){return this.Dn.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(wo.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(wo.min())}updateCollectionGroup(e,t,r){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}},FE=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new st(Ce.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new st(Ce.comparator)).toArray()}};var ose=new Uint8Array(0);var JR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pM=41943040,nn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(pM,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);var Mu=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var XR="LruGarbageCollector",rq=1048576;function eN([n,e],[t,r]){let i=se(n,t);return i===0?se(e,r):i}var LE=class{constructor(e){this.Tr=e,this.buffer=new st(eN),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();eN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},VE=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){L(XR,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ea(t)?L(XR,"Ignoring IndexedDB error during garbage collection: ",t):await _a(t)}await this.Rr(3e5)})}},jE=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return P.resolve(LI.ue);let r=new LE(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(L("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(JR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(L("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JR):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(L("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Zs()<=ue.DEBUG&&L("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function iq(n,e){return new jE(n,e)}var UE=class{constructor(){this.changes=new Dr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?P.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var BE=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var $E=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&wu(r.mutation,i,rn.empty(),Qe.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,t,r=le()){let i=yo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=_u();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=yo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,le()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Tr(),s=Iu(),a=function(){return Iu()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Wn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),wu(h.mutation,l,h.mutation.getFieldMask(),Qe.now())):s.set(l.key,rn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new BE(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Iu(),i=new Fe((s,a)=>s-a),o=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||rn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||le()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=JN();h.forEach(g=>{if(!o.has(g)){let y=iM(t.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return H.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):zI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):P.resolve(yo()),a=Tu,u=o;return s.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,le())).next(h=>({batchId:a,changes:ZN(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new H(t)).next(r=>{let i=_u();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=_u();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,u=>{let l=function(p,g){return new wr(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,bn.newInvalidDocument(h)))});let a=_u();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&wu(h.mutation,l,rn.empty(),Qe.now()),up(t,l)&&(a=a.insert(u,l))}),a})}};var HE=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return P.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(i){return{id:i.id,version:i.version,createTime:zn(i.createTime)}}(t)),P.resolve()}getNamedQuery(e,t){return P.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(i){return{name:i.name,query:nq(i.bundledQuery),readTime:zn(i.readTime)}}(t)),P.resolve()}};var qE=class{constructor(){this.overlays=new Fe(H.comparator),this.kr=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){let r=yo();return P.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),P.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),P.resolve()}getOverlaysForCollection(e,t,r){let i=yo(),o=t.length+1,s=new H(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Fe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=yo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=yo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new CE(t,r));let o=this.kr.get(t);o===void 0&&(o=le(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var zE=class{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,P.resolve()}};var Pu=class{constructor(){this.qr=new st(Ge.Qr),this.$r=new st(Ge.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new Ge(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Ge(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new H(new Ce([])),r=new Ge(t,e),i=new Ge(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new H(new Ce([])),r=new Ge(t,e),i=new Ge(t,e+1),o=le();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Ge(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ge=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return H.comparator(e.key,t.key)||se(e.Hr,t.Hr)}static Ur(e,t){return se(e.Hr,t.Hr)||H.comparator(e.key,t.key)}};var GE=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new st(Ge.Qr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new DE(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new Ge(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,t){return P.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?VI:this.er-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ge(t,0),i=new Ge(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new st(se);return t.forEach(i=>{let o=new Ge(i,0),s=new Ge(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),P.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;H.isDocumentKey(o)||(o=o.child(""));let s=new Ge(new H(o),0),a=new st(se);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),P.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ee(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return P.forEach(t.mutations,i=>{let o=new Ge(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new Ge(t,0),i=this.Yr.firstAfterOrEqual(r);return P.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var WE=class{constructor(e){this.ni=e,this.docs=function(){return new Fe(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return P.resolve(r?r.document.mutableCopy():bn.newInvalidDocument(t))}getEntries(e,t){let r=Tr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():bn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Tr(),s=t.path,a=new H(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||i4(r4(h),r)<=0||(i.has(h.key)||up(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,t,r,i){z(9500)}ri(e,t){return P.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new KE(this)}getSize(e){return P.resolve(this.size)}},KE=class extends UE{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),P.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var QE=class{constructor(e){this.persistence=e,this.ii=new Dr(t=>$I(t),HI),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.si=0,this.oi=new Pu,this.targetCount=0,this._i=Mu.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),P.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Mu(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.hr(t),P.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return P.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),P.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),P.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return P.resolve(r)}containsKey(e,t){return P.resolve(this.oi.containsKey(t))}};var Vf=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new LI(0),this.ci=!1,this.ci=!0,this.li=new zE,this.referenceDelegate=e(this),this.hi=new QE(this),this.indexManager=new OE,this.remoteDocumentCache=function(i){return new WE(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new xE(t),this.Ti=new HE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new GE(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){L("MemoryPersistence","Starting transaction:",e);let i=new YE(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return P.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},YE=class extends sE{constructor(e){super(),this.currentSequenceNumber=e}},ZE=class n{constructor(e){this.persistence=e,this.Ai=new Pu,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw z(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),P.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),P.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.mi,r=>{let i=H.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,te.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return P.or([()=>P.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},jf=class n{constructor(e,t){this.persistence=e,this.gi=new Dr(r=>c4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=iq(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return P.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return P.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?P.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,te.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),P.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),P.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=_f(e.data.value)),t}Sr(e,t,r){return P.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var JE=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=le(),i=le();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var XE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var eI=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return MA()?8:s4(qt())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new XE;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Zs()<=ue.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",Js(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(Zs()<=ue.DEBUG&&L("QueryEngine","Query:",Js(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Zs()<=ue.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",Js(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(t))):P.resolve())}ps(e,t){if($R(t))return P.resolve(null);let r=qn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Mf(t,null,"F"),r=qn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=le(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ds(t,l,s,u.readTime)?this.ps(e,Mf(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return $R(t)||i.isEqual(te.min())?P.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?P.resolve(null):(Zs()<=ue.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Js(t)),this.vs(e,s,t,n4(i,Tu)).next(a=>a))})}bs(e,t){let r=new st(QN(e));return t.forEach((i,o)=>{up(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return Zs()<=ue.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",Js(t)),this.gs.getDocumentsMatchingQuery(e,t,wo.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var KI="LocalStore",oq=3e8,tI=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Fe(se),this.Ms=new Dr(o=>$I(o),HI),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $E(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function sq(n,e,t,r){return new tI(n,e,t,r)}async function gM(n,e){let t=ee(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=le();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})}function aq(n,e){let t=ee(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,g=p.keys(),y=P.resolve();return g.forEach(I=>{y=y.next(()=>h.getEntry(u,I)).next(S=>{let R=l.docVersions.get(I);Ee(R!==null,48541),S.version.compareTo(R)<0&&(p.applyToRemoteDocument(S,l),S.isValidDocument()&&(S.setReadTime(l.commitVersion),h.addEntry(S)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=le();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function mM(n){let e=ee(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function cq(n,e){let t=ee(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(vt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(S,R,x){return S.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=oq?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(g,y,h)&&a.push(t.hi.updateTargetData(o,y))});let u=Tr(),l=le();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(uq(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(te.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function uq(n,e,t){let r=le(),i=le();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Tr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):L(KI,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function lq(n,e){let t=ee(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=VI),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dq(n,e){let t=ee(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Nu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function nI(n,e,t){let r=ee(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Ea(s))throw s;L(KI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function tN(n,e,t){let r=ee(n),i=te.min(),o=le();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ee(u),g=p.Ms.get(h);return g!==void 0?P.resolve(p.Fs.get(g)):p.hi.getTargetData(l,h)}(r,s,qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:te.min(),t?o:le())).next(a=>(hq(r,C4(e),a),{documents:a,qs:o})))}function hq(n,e,t){let r=n.xs.get(e)||te.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var Uf=class{constructor(){this.activeTargetIds=M4()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var rI=class{constructor(){this.Fo=new Uf,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Uf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var iI=class{xo(e){}shutdown(){}};var nN="ConnectivityMonitor",Bf=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){L(nN,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){L(nN,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var vf=null;function oI(){return vf===null?vf=function(){return 268435456+Math.round(2147483648*Math.random())}():vf++,"0x"+vf.toString(16)}var Q_="RestConnection",fq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},sI=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Sf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=oI(),a=this.Go(e,t.toUriEncodedString());L(Q_,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=so(l);return this.jo(e,a,u,r,h).then(p=>(L(Q_,`Received RPC '${e}' ${s}: `,p),p),p=>{throw di(Q_,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+va}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=fq[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var aI=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var yt="WebChannelConnection",cI=class extends sI{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=oI();return new Promise((a,u)=>{let l=new H_;l.setWithCredentials(!0),l.listenOnce(q_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case vu.NO_ERROR:let p=l.getResponseJson();L(yt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case vu.TIMEOUT:L(yt,`RPC '${e}' ${s} timed out`),u(new O(N.DEADLINE_EXCEEDED,"Request time out"));break;case vu.HTTP_ERROR:let g=l.getStatus();if(L(yt,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let I=y?.error;if(I&&I.status&&I.message){let S=function(x){let $=x.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf($)>=0?$:N.UNKNOWN}(I.status);u(new O(S,I.message))}else u(new O(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new O(N.UNAVAILABLE,"Connection failed."));break;default:z(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{L(yt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);L(yt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}P_(e,t,r){let i=oI(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=W_(),a=G_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");L(yt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let g=!1,y=!1,I=new aI({Ho:R=>{y?L(yt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(g||(L(yt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),L(yt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Yo:()=>p.close()}),S=(R,x,$)=>{R.listen(x,G=>{try{$(G)}catch(ye){setTimeout(()=>{throw ye},0)}})};return S(p,Ys.EventType.OPEN,()=>{y||(L(yt,`RPC '${e}' stream ${i} transport opened.`),I.s_())}),S(p,Ys.EventType.CLOSE,()=>{y||(y=!0,L(yt,`RPC '${e}' stream ${i} transport closed`),I.__(),this.I_(p))}),S(p,Ys.EventType.ERROR,R=>{y||(y=!0,di(yt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),I.__(new O(N.UNAVAILABLE,"The operation could not be completed")))}),S(p,Ys.EventType.MESSAGE,R=>{var x;if(!y){let $=R.data[0];Ee(!!$,16349);let G=$,ye=G?.error||((x=G[0])===null||x===void 0?void 0:x.error);if(ye){L(yt,`RPC '${e}' stream ${i} received error:`,ye);let Le=ye.status,Ie=function(E){let w=ze[E];if(w!==void 0)return sM(w)}(Le),D=ye.message;Ie===void 0&&(Ie=N.INTERNAL,D="Unknown error status: "+Le+" with message "+ye.message),y=!0,I.__(new O(Ie,D)),p.close()}else L(yt,`RPC '${e}' stream ${i} received:`,$),I.a_($)}}),S(a,z_.STAT_EVENT,R=>{R.stat===gf.PROXY?L(yt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===gf.NOPROXY&&L(yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.o_()},0),I}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function Y_(){return typeof document<"u"?document:null}function lp(n){return new RE(n,!0)}var $f=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var rN="PersistentStream",Hf=class{constructor(e,t,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new $f(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===N.RESOURCE_EXHAUSTED?(vr(t.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new O(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return L(rN,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(L(rN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},uI=class extends Hf{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=z4(this.serializer,e),r=function(o){if(!("targetChange"in o))return te.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?zn(s.readTime):te.min()}(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=kE(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=_E(u)?{documents:K4(o,u)}:{query:Q4(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=aM(o,s.resumeToken);let l=NE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(te.min())>0){a.readTime=Ff(o,s.snapshotVersion.toTimestamp());let l=NE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=Z4(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=kE(this.serializer),t.removeTarget=e,this.k_(t)}},lI=class extends Hf{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ee(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ee(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ee(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=W4(e.writeResults,e.commitTime),r=zn(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=kE(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>G4(this.serializer,r))};this.k_(t)}};var dI=class{},hI=class extends dI{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new O(N.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,ME(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new O(N.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,ME(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new O(N.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},fI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(vr(t),this._a=!1):L("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var So="RemoteStore",pI=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(async()=>{Ao(this)&&(L(So,"Restarting streams for network reachability change."),await async function(u){let l=ee(u);l.Ia.add(4),await Lu(l),l.Aa.set("Unknown"),l.Ia.delete(4),await dp(l)}(this))})}),this.Aa=new fI(r,i)}};async function dp(n){if(Ao(n))for(let e of n.da)await e(!0)}async function Lu(n){for(let e of n.da)await e(!1)}function yM(n,e){let t=ee(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),JI(t)?ZI(t):Ia(t).x_()&&YI(t,e))}function QI(n,e){let t=ee(n),r=Ia(t);t.Ta.delete(e),r.x_()&&vM(t,e),t.Ta.size===0&&(r.x_()?r.B_():Ao(t)&&t.Aa.set("Unknown"))}function YI(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ia(n).H_(e)}function vM(n,e){n.Ra.$e(e),Ia(n).Y_(e)}function ZI(n){n.Ra=new AE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Ia(n).start(),n.Aa.aa()}function JI(n){return Ao(n)&&!Ia(n).M_()&&n.Ta.size>0}function Ao(n){return ee(n).Ia.size===0}function _M(n){n.Ra=void 0}async function pq(n){n.Aa.set("Online")}async function gq(n){n.Ta.forEach((e,t)=>{YI(n,e)})}async function mq(n,e){_M(n),JI(n)?(n.Aa.la(e),ZI(n)):n.Aa.set("Unknown")}async function yq(n,e,t){if(n.Aa.set("Online"),e instanceof xf&&e.state===2&&e.cause)try{await async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))}(n,e)}catch(r){L(So,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qf(n,r)}else if(e instanceof ra?n.Ra.Ye(e):e instanceof kf?n.Ra.it(e):n.Ra.et(e),!t.isEqual(te.min()))try{let r=await mM(n.localStore);t.compareTo(r)>=0&&await function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(vt.EMPTY_BYTE_STRING,h.snapshotVersion)),vM(o,u);let p=new Nu(h.target,u,l,h.sequenceNumber);YI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t)}catch(r){L(So,"Failed to raise snapshot:",r),await qf(n,r)}}async function qf(n,e,t){if(!Ea(e))throw e;n.Ia.add(1),await Lu(n),n.Aa.set("Offline"),t||(t=()=>mM(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{L(So,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await dp(n)})}function EM(n,e){return e().catch(t=>qf(n,t,e))}async function hp(n){let e=ee(n),t=pi(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:VI;for(;vq(e);)try{let i=await lq(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,_q(e,i)}catch(i){await qf(e,i)}IM(e)&&wM(e)}function vq(n){return Ao(n)&&n.Pa.length<10}function _q(n,e){n.Pa.push(e);let t=pi(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function IM(n){return Ao(n)&&!pi(n).M_()&&n.Pa.length>0}function wM(n){pi(n).start()}async function Eq(n){pi(n).na()}async function Iq(n){let e=pi(n);for(let t of n.Pa)e.X_(t.mutations)}async function wq(n,e,t){let r=n.Pa.shift(),i=TE.from(r,e,t);await EM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await hp(n)}async function Dq(n,e){e&&pi(n).Z_&&await async function(r,i){if(function(s){return V4(s)&&s!==N.ABORTED}(i.code)){let o=r.Pa.shift();pi(r).N_(),await EM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await hp(r)}}(n,e),IM(n)&&wM(n)}async function iN(n,e){let t=ee(n);t.asyncQueue.verifyOperationInProgress(),L(So,"RemoteStore received new credentials");let r=Ao(t);t.Ia.add(3),await Lu(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await dp(t)}async function Tq(n,e){let t=ee(n);e?(t.Ia.delete(2),await dp(t)):e||(t.Ia.add(2),await Lu(t),t.Aa.set("Unknown"))}function Ia(n){return n.Va||(n.Va=function(t,r,i){let o=ee(t);return o.ia(),new uI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:pq.bind(null,n),e_:gq.bind(null,n),n_:mq.bind(null,n),J_:yq.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),JI(n)?ZI(n):n.Aa.set("Unknown")):(await n.Va.stop(),_M(n))})),n.Va}function pi(n){return n.ma||(n.ma=function(t,r,i){let o=ee(t);return o.ia(),new lI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:Eq.bind(null,n),n_:Dq.bind(null,n),ea:Iq.bind(null,n),ta:wq.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await hp(n)):(await n.ma.stop(),n.Pa.length>0&&(L(So,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}var gI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new O(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function XI(n,e){if(vr("AsyncQueue",`${e}: ${n}`),Ea(n))return new O(N.UNAVAILABLE,`${e}: ${n}`);throw n}var zf=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||H.comparator(t.key,r.key):(t,r)=>H.comparator(t.key,r.key),this.keyedMap=_u(),this.sortedSet=new Fe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Gf=class{constructor(){this.fa=new Fe(H.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):z(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},pa=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,zf.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var mI=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},yI=class{constructor(){this.queries=oN(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=ee(t),o=i.queries;i.queries=oN(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new O(N.ABORTED,"Firestore shutting down"))}};function oN(){return new Dr(n=>KN(n),cp)}async function DM(n,e){let t=ee(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new mI,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await t.onListen(i,!0);break;case 1:o.ya=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){let a=XI(s,`Initialization of query '${Js(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&ew(t)}async function TM(n,e){let t=ee(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Cq(n,e){let t=ee(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&ew(t)}function bq(n,e,t){let r=ee(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function ew(n){n.Da.forEach(e=>{e.next()})}var vI,sN;(sN=vI||(vI={})).Fa="default",sN.Cache="cache";var Wf=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new pa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==vI.Cache}};var Kf=class{constructor(e){this.key=e}},Qf=class{constructor(e){this.key=e}},_I=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=le(),this.mutatedKeys=le(),this.Xa=QN(e),this.eu=new zf(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Gf,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=up(this.query,p)?p:null,I=!!g&&this.mutatedKeys.has(g.key),S=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;g&&y?g.data.isEqual(y.data)?I!==S&&(r.track({type:3,doc:y}),R=!0):this.iu(g,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),R=!0):g&&!y&&(r.track({type:1,doc:g}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=S?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>function(y,I){let S=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z(20277,{At:R})}};return S(y)-S(I)}(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new pa(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Gf,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=le(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Qf(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Kf(r))}),t}uu(e){this.Ha=e.qs,this.Za=le();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return pa.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},tw="SyncEngine",EI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},II=class{constructor(e){this.key=e,this.lu=!1}},wI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Dr(a=>KN(a),cp),this.Tu=new Map,this.Iu=new Set,this.du=new Fe(H.comparator),this.Eu=new Map,this.Au=new Pu,this.Ru={},this.Vu=new Map,this.mu=Mu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function Sq(n,e,t=!0){let r=NM(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await CM(r,e,t,!0),i}async function Aq(n,e){let t=NM(n);await CM(t,e,!0,!1)}async function CM(n,e,t,r){let i=await dq(n.localStore,qn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=await Rq(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&yM(n.remoteStore,i),a}async function Rq(n,e,t,r,i){n.gu=(p,g,y)=>async function(S,R,x,$){let G=R.view.nu(x);G.Ds&&(G=await tN(S.localStore,R.query,!1).then(({documents:D})=>R.view.nu(D,G)));let ye=$&&$.targetChanges.get(R.targetId),Le=$&&$.targetMismatches.get(R.targetId)!=null,Ie=R.view.applyChanges(G,S.isPrimaryClient,ye,Le);return cN(S,R.targetId,Ie._u),Ie.snapshot}(n,p,g,y);let o=await tN(n.localStore,e,!0),s=new _I(e,o.qs),a=s.nu(o.documents),u=Ru.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);cN(n,t,l._u);let h=new EI(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot}async function Nq(n,e,t){let r=ee(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!cp(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await nI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&QI(r.remoteStore,i.targetId),DI(r,i.targetId)}).catch(_a)):(DI(r,i.targetId),await nI(r.localStore,i.targetId,!0))}async function Mq(n,e){let t=ee(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),QI(t.remoteStore,r.targetId))}async function Pq(n,e,t){let r=jq(n);try{let i=await function(s,a){let u=ee(s),l=Qe.now(),h=a.reduce((y,I)=>y.add(I.key),le()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let I=Tr(),S=le();return u.Os.getEntries(y,h).next(R=>{I=R,I.forEach((x,$)=>{$.isValidDocument()||(S=S.add(x))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,I)).next(R=>{p=R;let x=[];for(let $ of a){let G=L4($,p.get($.key).overlayedDocument);G!=null&&x.push(new Wn($.key,G,$N(G.value.mapValue),yr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,x,a)}).next(R=>{g=R;let x=R.applyToLocalDocumentSet(p,S);return u.documentOverlayCache.saveOverlays(y,R.batchId,x)})}).then(()=>({batchId:g.batchId,changes:ZN(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Fe(se)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l}(r,i.batchId,t),await Vu(r,i.changes),await hp(r.remoteStore)}catch(i){let o=XI(i,"Failed to persist write");t.reject(o)}}async function bM(n,e){let t=ee(n);try{let r=await cq(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Ee(s.lu,14607):i.removedDocuments.size>0&&(Ee(s.lu,42227),s.lu=!1))}),await Vu(t,r,e)}catch(r){await _a(r)}}function aN(n,e,t){let r=ee(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ee(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.wa)g.va(a)&&(l=!0)}),l&&ew(u)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kq(n,e,t){let r=ee(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Fe(H.comparator);s=s.insert(o,bn.newNoDocument(o,te.min()));let a=le().add(o),u=new Pf(te.min(),new Map,new Fe(se),s,a);await bM(r,u),r.du=r.du.remove(o),r.Eu.delete(e),nw(r)}else await nI(r.localStore,e,!1).then(()=>DI(r,e,t)).catch(_a)}async function xq(n,e){let t=ee(n),r=e.batch.batchId;try{let i=await aq(t.localStore,e);AM(t,r,null),SM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Vu(t,i)}catch(i){await _a(i)}}async function Oq(n,e,t){let r=ee(n);try{let i=await function(s,a){let u=ee(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ee(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);AM(r,e,t),SM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Vu(r,i)}catch(i){await _a(i)}}function SM(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function AM(n,e,t){let r=ee(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function DI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||RM(n,r)})}function RM(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(QI(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),nw(n))}function cN(n,e,t){for(let r of t)r instanceof Kf?(n.Au.addReference(r.key,e),Fq(n,r)):r instanceof Qf?(L(tw,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||RM(n,r.key)):z(19791,{yu:r})}function Fq(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(L(tw,"New document in limbo: "+t),n.Iu.add(r),nw(n))}function nw(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new H(Ce.fromString(e)),r=n.mu.next();n.Eu.set(r,new II(t)),n.du=n.du.insert(t,r),yM(n.remoteStore,new Nu(qn(qI(t.path)),r,"TargetPurposeLimboResolution",LI.ue))}}async function Vu(n,e,t){let r=ee(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=JE.Es(u.targetId,l);o.push(p)}}))}),await Promise.all(s),r.hu.J_(i),await async function(u,l){let h=ee(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,g=>P.forEach(g.Is,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>P.forEach(g.ds,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!Ea(p))throw p;L(KI,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.Fs.get(g),I=y.snapshotVersion,S=y.withLastLimboFreeSnapshotVersion(I);h.Fs=h.Fs.insert(g,S)}}}(r.localStore,o))}async function Lq(n,e){let t=ee(n);if(!t.currentUser.isEqual(e)){L(tw,"User change. New user:",e.toKey());let r=await gM(t.localStore,e);t.currentUser=e,function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new O(N.CANCELLED,s))})}),o.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vu(t,r.Bs)}}function Vq(n,e){let t=ee(n),r=t.Eu.get(e);if(r&&r.lu)return le().add(r.key);{let i=le(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function NM(n){let e=ee(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=bM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kq.bind(null,e),e.hu.J_=Cq.bind(null,e.eventManager),e.hu.pu=bq.bind(null,e.eventManager),e}function jq(n){let e=ee(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Oq.bind(null,e),e}var MM=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=lp(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,r){return null}Fu(t,r){return null}vu(t){return sq(this.persistence,new eI,t.initialUser,this.serializer)}Du(t){return new Vf(ZE.Vi,this.serializer)}bu(t){return new rI}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),TI=class extends MM{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ee(this.persistence.referenceDelegate instanceof jf,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new VE(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new Vf(r=>jf.Vi(r,t),this.serializer)}};var Uq=(()=>{class n{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>aN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Lq.bind(null,this.syncEngine),await Tq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new yI}()}createDatastore(t){let r=lp(t.databaseInfo.databaseId),i=function(s){return new cI(s)}(t.databaseInfo);return function(s,a,u,l){return new hI(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new pI(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>aN(this.syncEngine,r,0),function(){return Bf.C()?new Bf:new iI}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let g=new wI(o,s,a,u,l,h);return p&&(g.fu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(o){let s=ee(o);L(So,"RemoteStore shutting down."),s.Ia.add(5),await Lu(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return n.provider={build:()=>new n},n})();var Yf=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var gi="FirestoreClient",CI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ot.UNAUTHENTICATED,this.clientId=Du.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{L(gi,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(L(gi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=XI(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function Z_(n,e){n.asyncQueue.verifyOperationInProgress(),L(gi,"Initializing OfflineComponentProvider");let t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await gM(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{di("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{L("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{di("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e}async function uN(n,e){n.asyncQueue.verifyOperationInProgress();let t=await Bq(n);L(gi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>iN(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>iN(e.remoteStore,i)),n._onlineComponents=e}async function Bq(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){L(gi,"Using user provided OfflineComponentProvider");try{await Z_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;di("Error using user provided cache. Falling back to memory cache: "+t),await Z_(n,new MM)}}else L(gi,"Using default OfflineComponentProvider"),await Z_(n,new TI(void 0));return n._offlineComponents}async function PM(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(L(gi,"Using user provided OnlineComponentProvider"),await uN(n,n._uninitializedComponentsProvider._online)):(L(gi,"Using default OnlineComponentProvider"),await uN(n,new Uq))),n._onlineComponents}function $q(n){return PM(n).then(e=>e.syncEngine)}async function kM(n){let e=await PM(n),t=e.eventManager;return t.onListen=Sq.bind(null,e.syncEngine),t.onUnlisten=Nq.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Aq.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Mq.bind(null,e.syncEngine),t}function Hq(n,e,t={}){let r=new Cn;return n.asyncQueue.enqueueAndForget(async()=>function(o,s,a,u,l){let h=new Yf({next:g=>{h.Ou(),s.enqueueAndForget(()=>TM(o,p));let y=g.docs.has(a);!y&&g.fromCache?l.reject(new O(N.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&u&&u.source==="server"?l.reject(new O(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new Wf(qI(a.path),h,{includeMetadataChanges:!0,ka:!0});return DM(o,p)}(await kM(n),n.asyncQueue,e,t,r)),r.promise}function qq(n,e,t={}){let r=new Cn;return n.asyncQueue.enqueueAndForget(async()=>function(o,s,a,u,l){let h=new Yf({next:g=>{h.Ou(),s.enqueueAndForget(()=>TM(o,p)),g.fromCache&&u.source==="server"?l.reject(new O(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new Wf(a,h,{includeMetadataChanges:!0,ka:!0});return DM(o,p)}(await kM(n),n.asyncQueue,e,t,r)),r.promise}function xM(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var lN=new Map;var OM="firestore.googleapis.com",dN=!0,Zf=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new O(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OM,this.ssl=dN}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:dN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rq)throw new O(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}e4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new O(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new O(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new O(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ga=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new O(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new O(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new J_;switch(r.type){case"firstParty":return new nE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new O(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=lN.get(t);r&&(L("ComponentProvider","Removing Datastore"),lN.delete(t),r.terminate())}(this),Promise.resolve()}};function FM(n,e,t,r={}){var i;n=_r(n,ga);let o=so(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(r_(`https://${u}`),i_("Firestore",!0)),s.host!==OM&&s.host!==u&&di("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!ao(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=ot.MOCK_USER;else{h=bA(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new O(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ot(g)}n._authCredentials=new X_(new wf(h,p))}}var Cr=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},dt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Fu(t,n._jsonSchema))return new n(e,r||null,new H(Ce.fromString(t.referencePath)))}};dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:Ke("string",dt._jsonSchemaVersion),referencePath:Ke("string")};var ai=class n extends Cr{constructor(e,t,r){super(e,t,qI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new H(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function LM(n,e,...t){if(n=lt(n),vN("collection","path",e),n instanceof ga){let r=Ce.fromString(e,...t);return NR(r),new ai(n,null,r)}{if(!(n instanceof dt||n instanceof ai))throw new O(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ce.fromString(e,...t));return NR(r),new ai(n.firestore,null,r)}}function rw(n,e,...t){if(n=lt(n),arguments.length===1&&(e=Du.newId()),vN("doc","path",e),n instanceof ga){let r=Ce.fromString(e,...t);return RR(r),new dt(n,null,new H(r))}{if(!(n instanceof dt||n instanceof ai))throw new O(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ce.fromString(e,...t));return RR(r),new dt(n.firestore,n instanceof ai?n.converter:null,new H(r))}}var hN="AsyncQueue",Jf=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new $f(this,"async_queue_retry"),this.oc=()=>{let r=Y_();r&&L(hN,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=Y_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=Y_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Cn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ea(e))throw e;L(hN,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,vr("INTERNAL UNHANDLED ERROR: ",fN(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=gI.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&z(47125,{hc:fN(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function fN(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var mi=class extends ga{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Jf,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Jf(e),this._firestoreClient=void 0,await e}}};function VM(n,e){let t=typeof n=="object"?n:Ws(),r=typeof n=="string"?n:e||Sf,i=Qh(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=TA("firestore");o&&FM(i,...o)}return i}function iw(n){if(n._terminated)throw new O(N.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||zq(n),n._firestoreClient}function zq(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new aE(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,xM(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new CI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var ci=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(vt.fromBase64String(e))}catch(t){throw new O(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Fu(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};ci._jsonSchemaVersion="firestore/bytes/1.0",ci._jsonSchema={type:Ke("string",ci._jsonSchemaVersion),bytes:Ke("string")};var ma=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new O(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var ku=class{constructor(e){this._methodName=e}};var ui=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new O(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new O(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Fu(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};ui._jsonSchemaVersion="firestore/geoPoint/1.0",ui._jsonSchema={type:Ke("string",ui._jsonSchemaVersion),latitude:Ke("number"),longitude:Ke("number")};var li=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Fu(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new O(N.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};li._jsonSchemaVersion="firestore/vectorValue/1.0",li._jsonSchema={type:Ke("string",li._jsonSchemaVersion),vectorValues:Ke("object")};var Gq=/^__.*__$/,bI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Wn(e,this.data,this.fieldMask,t,this.fieldTransforms):new bo(e,this.data,t,this.fieldTransforms)}},Xf=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Wn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function jM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z(40011,{Ec:n})}}var SI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return tp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(jM(this.Ec)&&Gq.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},AI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||lp(e)}Dc(e,t,r,i=!1){return new SI({Ec:e,methodName:t,bc:r,path:Gt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function fp(n){let e=n._freezeSettings(),t=lp(n._databaseId);return new AI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Wq(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);ow("Data must be an object, but it was:",s,r);let a=BM(r,s),u,l;if(o.merge)u=new rn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=RI(e,p,t);if(!s.contains(g))throw new O(N.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);HM(h,g)||h.push(g)}u=new rn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new bI(new zt(a),u,l)}var ep=class n extends ku{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function Kq(n,e,t,r){let i=n.Dc(1,e,t);ow("Data must be an object, but it was:",i,r);let o=[],s=zt.empty();yi(r,(u,l)=>{let h=sw(e,u,t);l=lt(l);let p=i.gc(h);if(l instanceof ep)o.push(h);else{let g=ju(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new rn(o);return new Xf(s,a,i.fieldTransforms)}function Qq(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[RI(e,r,t)],u=[i];if(o.length%2!=0)throw new O(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(RI(e,o[g])),u.push(o[g+1]);let l=[],h=zt.empty();for(let g=a.length-1;g>=0;--g)if(!HM(l,a[g])){let y=a[g],I=u[g];I=lt(I);let S=s.gc(y);if(I instanceof ep)l.push(y);else{let R=ju(I,S);R!=null&&(l.push(y),h.set(y,R))}}let p=new rn(l);return new Xf(h,p,s.fieldTransforms)}function UM(n,e,t,r=!1){return ju(t,n.Dc(r?4:3,e))}function ju(n,e){if($M(n=lt(n)))return ow("Unsupported field value:",e,n),BM(n,e);if(n instanceof ku)return function(r,i){if(!jM(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=ju(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return P4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Qe.fromDate(r);return{timestampValue:Ff(i.serializer,o)}}if(r instanceof Qe){let o=new Qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ff(i.serializer,o)}}if(r instanceof ui)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ci)return{bytesValue:aM(i.serializer,r._byteString)};if(r instanceof dt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:WI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof li)return function(s,a){return{mapValue:{fields:{[jI]:{stringValue:UI},[aa]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return GI(a.serializer,l)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${ip(r)}`)}(n,e)}function BM(n,e){let t={};return xN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yi(n,(r,i)=>{let o=ju(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function $M(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Qe||n instanceof ui||n instanceof ci||n instanceof dt||n instanceof ku||n instanceof li)}function ow(n,e,t){if(!$M(t)||!_N(t)){let r=ip(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function RI(n,e,t){if((e=lt(e))instanceof ma)return e._internalPath;if(typeof e=="string")return sw(n,e);throw tp("Field path arguments must be of type string or ",n,!1,void 0,t)}var Yq=new RegExp("[~\\*/\\[\\]]");function sw(n,e,t){if(e.search(Yq)>=0)throw tp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ma(...e.split("."))._internalPath}catch{throw tp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function tp(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new O(N.INVALID_ARGUMENT,a+n+u)}function HM(n,e){return n.some(t=>t.isEqual(e))}var xu=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new NI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(pp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},NI=class extends xu{data(){return super.data()}};function pp(n,e){return typeof e=="string"?sw(n,e):e instanceof ma?e._internalPath:e._delegate._internalPath}function Zq(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new O(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ou=class{},ya=class extends Ou{};function qM(n,e,...t){let r=[];e instanceof Ou&&r.push(e),r=r.concat(t),function(o){let s=o.filter(u=>u instanceof MI).length,a=o.filter(u=>u instanceof np).length;if(s>1||s>0&&a>0)throw new O(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var np=class n extends ya{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return WM(e._query,t),new Cr(e.firestore,e.converter,EE(e._query,t))}_parse(e){let t=fp(e.firestore);return function(o,s,a,u,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new O(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){gN(p,h);let I=[];for(let S of p)I.push(pN(u,o,S));g={arrayValue:{values:I}}}else g=pN(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||gN(p,h),g=UM(a,s,p,h==="in"||h==="not-in");return We.create(l,h,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function zM(n,e,t){let r=e,i=pp("where",n);return np._create(i,r,t)}var MI=class n extends Ou{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Sn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)WM(s,u),s=EE(s,u)}(e._query,t),new Cr(e.firestore,e.converter,EE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var PI=class n extends ya{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new O(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new O(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Do(o,s)}(e._query,this._field,this._direction);return new Cr(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new wr(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function GM(n,e="asc"){let t=e,r=pp("orderBy",n);return PI._create(r,t)}var kI=class n extends ya{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){return new Cr(e.firestore,e.converter,Mf(e._query,this._limit,this._limitType))}};function aw(n){return t4("limit",n),kI._create("limit",n,"F")}var xI=class n extends ya{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=Jq(e,this.type,this._docOrFields,this._inclusive);return new Cr(e.firestore,e.converter,function(i,o){return new wr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,t))}};function cw(...n){return xI._create("startAt",n,!0)}function Jq(n,e,t,r){if(t[0]=lt(t[0]),t[0]instanceof xu)return function(o,s,a,u,l){if(!u)throw new O(N.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let h=[];for(let p of na(o))if(p.field.isKeyField())h.push(Rf(s,u.key));else{let g=u.data.field(p.field);if(sp(g))throw new O(N.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){let y=p.field.canonicalString();throw new O(N.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}h.push(g)}return new fi(h,l)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{let i=fp(n.firestore);return function(s,a,u,l,h,p){let g=s.explicitOrderBy;if(h.length>g.length)throw new O(N.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let y=[];for(let I=0;I<h.length;I++){let S=h[I];if(g[I].field.isKeyField()){if(typeof S!="string")throw new O(N.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof S}`);if(!zI(s)&&S.indexOf("/")!==-1)throw new O(N.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${S}' contains a slash.`);let R=s.path.child(Ce.fromString(S));if(!H.isDocumentKey(R))throw new O(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${R}' is not because it contains an odd number of segments.`);let x=new H(R);y.push(Rf(a,x))}else{let R=UM(u,l,S);y.push(R)}}return new fi(y,p)}(n._query,n.firestore._databaseId,i,e,t,r)}}function pN(n,e,t){if(typeof(t=lt(t))=="string"){if(t==="")throw new O(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zI(e)&&t.indexOf("/")!==-1)throw new O(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Ce.fromString(t));if(!H.isDocumentKey(r))throw new O(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Rf(n,new H(r))}if(t instanceof dt)return Rf(n,t._key);throw new O(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ip(t)}.`)}function gN(n,e){if(!Array.isArray(n)||n.length===0)throw new O(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WM(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new O(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new O(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var OI=class{convertValue(e,t="none"){switch(hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw z(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return yi(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[aa].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ae(s.doubleValue));return new li(o)}convertGeoPoint(e){return new ui(Ae(e.latitude),Ae(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=ap(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(bu(e));default:return null}}convertTimestamp(e){let t=Er(e);return new Qe(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ce.fromString(e);Ee(fM(r),9688,{name:e});let i=new Af(r.get(1),r.get(3)),o=new H(r.popFirst(5));return i.isEqual(t)||vr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function Xq(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var _o=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Eo=class n extends xu{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ia(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(pp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new O(N.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Eo._jsonSchema={type:Ke("string",Eo._jsonSchemaVersion),bundleSource:Ke("string","DocumentSnapshot"),bundleName:Ke("string"),bundle:Ke("string")};var ia=class extends Eo{data(e={}){return super.data(e)}},oa=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new _o(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ia(this._firestore,this._userDataWriter,r.key,r,new _o(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new O(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new ia(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _o(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new ia(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _o(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:e3(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new O(N.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Du.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function e3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z(61501,{type:n})}}function uw(n){n=_r(n,dt);let e=_r(n.firestore,mi);return Hq(iw(e),n._key).then(t=>t3(e,n,t))}oa._jsonSchemaVersion="firestore/querySnapshot/1.0",oa._jsonSchema={type:Ke("string",oa._jsonSchemaVersion),bundleSource:Ke("string","QuerySnapshot"),bundleName:Ke("string"),bundle:Ke("string")};var rp=class extends OI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ci(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,t)}};function KM(n){n=_r(n,Cr);let e=_r(n.firestore,mi),t=iw(e),r=new rp(e);return Zq(n._query),qq(t,n._query).then(i=>new oa(e,r,n,i))}function QM(n,e,t,...r){n=_r(n,dt);let i=_r(n.firestore,mi),o=fp(i),s;return s=typeof(e=lt(e))=="string"||e instanceof ma?Qq(o,"updateDoc",n._key,e,t,r):Kq(o,"updateDoc",n._key,e),lw(i,[s.toMutation(n._key,yr.exists(!0))])}function YM(n){return lw(_r(n.firestore,mi),[new Au(n._key,yr.none())])}function ZM(n,e){let t=_r(n.firestore,mi),r=rw(n),i=Xq(n.converter,e);return lw(t,[Wq(fp(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,yr.exists(!1))]).then(()=>r)}function lw(n,e){return function(r,i){let o=new Cn;return r.asyncQueue.enqueueAndForget(async()=>Pq(await $q(r),i,o)),o.promise}(iw(n),e)}function t3(n,e,t){let r=t.docs.get(e._key),i=new rp(n);return new Eo(n,i,e._key,r,new _o(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){va=i})(Gs),Dn(new Rt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new mi(new eE(r.getProvider("auth-internal")),new rE(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new O(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Af(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),He(CR,bR,e),He(CR,bR,"esm2017")})();var Ro=class{constructor(e){return e}},JM="firestore",dw=class{constructor(){return Qs(JM)}};var hw=new j("angularfire2.firestore-instances");function n3(n,e){let t=Jh(JM,n,e);return t&&new Ro(t)}function r3(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ro(r)}}var i3={provide:dw,deps:[[new cr,hw]]},o3={provide:Ro,useFactory:n3,deps:[[new cr,hw],fo]};function aae(n,...e){return He("angularfire",lo.full,"fst"),un([o3,i3,{provide:hw,useFactory:r3(n),multi:!0,deps:[_e,Ue,ho,du,[new cr,ff],[new cr,ef],...e]}])}var gp=Nt(ZM,!0,2);var mp=Nt(LM,!0,2);var yp=Nt(YM,!0,2);var vi=Nt(rw,!0,2);var br=Nt(KM,!0);var cae=Nt(VM,!0);var XM=Nt(GM,!0,2),Sr=Nt(qM,!0,2);var vp=Nt(QM,!0,2);var wa=Nt(zM,!0,2);var _p=class n{async updateCategoryPromptCount(e,t){let r=vi(this.firestore,"categories",e);await vp(r,{prompt_count:t,fecha_edicion:new Date})}async createCategory(e){await gp(this.categoriesCollection,W(k({},e),{slug:this.generateSlug(e.name||""),fecha_creacion:new Date}))}async updateTagPromptCount(e,t){let r=vi(this.firestore,"tags",e);await vp(r,{prompt_count:t,fecha_edicion:new Date})}async createTag(e){await gp(this.tagsCollection,W(k({},e),{slug:this.generateSlug(e.name||""),fecha_creacion:new Date}))}firestore=M(Ro);promptsCollection=mp(this.firestore,"prompts");categoriesCollection=mp(this.firestore,"categories");tagsCollection=mp(this.firestore,"tags");currCategories=Ne([]);currTags=Ne([]);currPrompts=Ne([]);error=Ne(null);async getPrompts(){try{this.error.set(null);let e=this.currPrompts(),t=e.length===0?0:e[e.length-1].old_id,r=await br(Sr(this.promptsCollection,XM("old_id","asc"),cw(t),aw(10))),i=this.mapQuerySnapshotToPrompts(r);return console.log("Prompts obtenidos:",i,e),this.currPrompts.set([...e,...i.slice(1)]),this.currPrompts()}catch(e){let t=`Error al obtener prompts: ${e}`;return this.error.set(t),console.error(t),[]}}async getPromptBySlug(e){try{this.error.set(null);let t=Sr(this.promptsCollection,wa("slug","==",e)),r=await br(t);if(r.empty)return null;let i=r.docs[0];return i.exists()?this.mapDocumentToPrompt(i.id,i.data()):null}catch(t){let r=`Error al obtener prompt ${e}: ${t}`;return this.error.set(r),console.error(r),null}}async getPromptById(e){try{let t=vi(this.firestore,"prompts",e),r=await uw(t);return r.exists()?this.mapDocumentToPrompt(t.id,r.data()):null}catch(t){let r=`Error al obtener prompt ${e}: ${t}`;return this.error.set(r),console.error(r),null}}async createPrompt(e){try{this.error.set(null);let t=W(k({},e),{old_id:-1,slug:e.titulo??this.generateSlug(e.titulo),fecha_creacion:new Date});return(await gp(this.promptsCollection,t)).id}catch(t){let r=`Error al crear prompt: ${t}`;return this.error.set(r),console.error(r),null}}async updatePrompt(e,t){try{this.error.set(null);let r=vi(this.firestore,"prompts",e);return await vp(r,W(k({},t),{fechaModificacion:new Date})),!0}catch(r){let i=`Error al actualizar prompt ${e}: ${r}`;return this.error.set(i),console.error(i),!1}}async deletePrompt(e){try{this.error.set(null);let t=vi(this.firestore,"prompts",e);return await yp(t),!0}catch(t){let r=`Error al eliminar prompt ${e}: ${t}`;return this.error.set(r),console.error(r),!1}}async deleteCategory(e){try{this.error.set(null);let t=vi(this.firestore,"categories",e);return await yp(t),!0}catch(t){let r=`Error al eliminar la categor\xEDa ${e}: ${t}`;return this.error.set(r),console.error(r),!1}}async deleteTag(e){try{this.error.set(null);let t=vi(this.firestore,"tags",e);return await yp(t),!0}catch(t){let r=`Error al eliminar la etiqueta ${e}: ${t}`;return this.error.set(r),console.error(r),!1}}async searchPrompts(e){try{this.error.set(null);let t=e.toLowerCase();return(await this.getPrompts()).filter(i=>i.titulo.toLowerCase().includes(t)||i.prompt.toLowerCase().includes(t)||i.descripcion.toLowerCase().includes(t)||i.categoria.toLowerCase().includes(t)||i.tags.some(o=>o.toLowerCase().includes(t)))}catch(t){let r=`Error en b\xFAsqueda: ${t}`;return this.error.set(r),console.error(r),[]}}async getPromptsByCategory(e){try{this.error.set(null);let t=Sr(this.promptsCollection,wa("categoria","==",e)),r=await br(t);return this.mapQuerySnapshotToPrompts(r)}catch(t){let r=`Error al obtener prompts por categor\xEDa: ${t}`;return this.error.set(r),console.error(r),[]}}async getPromptsByTag(e){try{this.error.set(null);let t=Sr(this.promptsCollection,wa("tags","array-contains",e)),r=await br(t);return this.mapQuerySnapshotToPrompts(r)}catch(t){let r=`Error al obtener prompts por tag: ${t}`;return this.error.set(r),console.error(r),[]}}async getCategories(){if(this.currCategories().length>0)return this.currCategories();try{this.error.set(null);let e=Sr(this.categoriesCollection),t=await br(e),r=this.mapQuerySnapshotToCategories(t);return this.currCategories.set(r),r}catch(e){let t=`Error al obtener categor\xEDs: ${e}`;return this.error.set(t),console.error(t),[]}}async getTags(){if(this.currTags().length>0)return this.currTags();try{this.error.set(null);let e=Sr(this.tagsCollection),t=await br(e),r=this.mapQuerySnapshotToTags(t);return this.currTags.set(r),r}catch(e){let t=`Error al obtener etiquetas: ${e}`;return this.error.set(t),console.error(t),[]}}async getCategoryBySlug(e){try{this.error.set(null);let t=Sr(this.categoriesCollection,wa("slug","==",e)),r=await br(t);if(r.empty)return null;let i=r.docs[0];return i.exists()?this.mapDocumentToCategory(i.id,i.data()):null}catch(t){let r=`Error al obtener category ${e}: ${t}`;return this.error.set(r),console.error(r),null}}async getTagBySlug(e){try{this.error.set(null);let t=Sr(this.tagsCollection,wa("slug","==",e)),r=await br(t);if(r.empty)return null;let i=r.docs[0];return i.exists()?this.mapDocumentToTag(i.id,i.data()):null}catch(t){let r=`Error al obtener tag ${e}: ${t}`;return this.error.set(r),console.error(r),null}}mapQuerySnapshotToPrompts(e){return e.docs.map(t=>this.mapDocumentToPrompt(t.id,t.data()))}mapQuerySnapshotToCategories(e){return e.docs.map(t=>this.mapDocumentToCategory(t.id,t.data()))}mapQuerySnapshotToTags(e){return e.docs.map(t=>this.mapDocumentToTag(t.id,t.data()))}mapDocumentToPrompt(e,t){return{id:e,old_id:t.old_id?parseInt(t.old_id):void 0,titulo:t.titulo||"",prompt:t.prompt||"",descripcion:t.descripcion||"",autor:t.autor||"",categoria:t.categoria||"",tags:t.tags||[],uso:t.uso||"texto",idioma:t.idioma||"es-AR",fecha_creacion:t.fecha_creacion?.toDate()||new Date,slug:t.slug||this.generateSlug(t.titulo||""),fecha_edicion:t.fecha_edicion?.toDate()||new Date,modelo:t.modelo,ejemplo:t.ejemplo,fuente:t.fuente,referencias:t.referencias,notas:t.notas,estado:t.estado,version:t.version,comentarios:t.comentarios,feedback:t.feedback,rating:t.rating,visibilidad:t.visibilidad,licencia:t.licencia}}mapDocumentToCategory(e,t){return{id:e,name:t.name||"",slug:t.slug||this.generateSlug(t.name||""),prompt_count:Number(t.prompt_count)||0,fecha_creacion:t.fecha_creacion?.toDate()||new Date}}mapDocumentToTag(e,t){return{id:e,name:t.name||"",slug:t.slug||this.generateSlug(t.name||""),prompt_count:Number(t.prompt_count)||0,fecha_creacion:t.fecha_creacion?.toDate()||new Date}}generateSlug(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").trim()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})};var eP=class n{firestoreService=M(_p);error=Xt(()=>this.firestoreService.error());search(e,t=!0){return this.searchInFirestore(e,t)}async prompts(){return await this.firestoreService.getPrompts()}async categories(){return await this.firestoreService.getCategories()}async tags(){return await this.firestoreService.getTags()}async byCategory(e){return this.firestoreService.getCategoryBySlug(e).then(async r=>{if(!r)throw new Error(`No se encontr\xF3 la categor\xEDa '${e}'.`);let i=await this.firestoreService.getPromptsByCategory(r.name);return{name:this.titleCase(r.name),prompts:i}})}async byTag(e){let t=await this.firestoreService.getTagBySlug(e);if(!t)throw new Error(`No se encontr\xF3 el tag '${e}'.`);let r=await this.firestoreService.getPromptsByTag(t.name);return{name:this.titleCase(t.name),prompts:r}}async createPrompt(e){return await this.firestoreService.createPrompt(e)}async updateTagsAndCategory(e,t,r){let o=(await this.categories()).find(a=>a.name.toLowerCase()===t);if(o){let a=(o.prompt_count??0)+(r?-1:1);a<=0?(console.log(`Eliminando categor\xEDa '${o.name}' porque su prompt_count es 0`),await this.firestoreService.deleteCategory(o.id)):await this.firestoreService.updateCategoryPromptCount(o.id,a)}else await this.firestoreService.createCategory({name:t,prompt_count:1,slug:""});let s=await this.tags();for(let a of e){let u=s.find(l=>l.name.toLowerCase()===a);if(u){let l=(u.prompt_count??0)+(r?-1:1);l<=0?await this.firestoreService.deleteTag(u.id):await this.firestoreService.updateTagPromptCount(u.id,l)}else await this.firestoreService.createTag({name:a,prompt_count:1,slug:""})}}async deletePrompt(e){let t=await this.firestoreService.getPromptById(e);if(!t)throw new Error(`No se encontr\xF3 el prompt con ID '${e}'.`);console.log(`Eliminando prompt con ID '${e}' y actualizando tags/categor\xEDa...`,t.tags,t.categoria);let r=[...t.tags],i=t.categoria;await this.firestoreService.deletePrompt(e),await this.updateTagsAndCategory(r,i,!0)}async deleteTag(e){let t=(await this.tags()).find(r=>r.name.toLowerCase()===e.toLowerCase());if(!t)throw new Error(`No se encontr\xF3 el tag '${e}'.`);await this.firestoreService.deleteTag(t.id)}async deleteCategory(e){let t=(await this.categories()).find(r=>r.name.toLowerCase()===e.toLowerCase());if(!t)throw new Error(`No se encontr\xF3 la categor\xEDa '${e}'.`);await this.firestoreService.deleteCategory(t.id)}async bySlug(e){let t=await this.firestoreService.getPromptBySlug(e);if(!t)throw new Error(`No se encontr\xF3 un prompt '${e}'.`);return t}async searchInFirestore(e,t){try{let i=(await this.firestoreService.searchPrompts(e)).map(o=>({item:o,foundIn:"titulo",position:0,relevanceScore:1}));return{search:e,found:i}}catch(r){return console.error("Error en b\xFAsqueda de Firestore:",r),{search:e,found:[]}}}titleCase(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})};var s3={menu:"M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z",back:"m313-440 224 224-57 56-320-320 320-320 57 56-224 224h487v80H313Z",search:"M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z",copy:"M360-240q-33 0-56.5-23.5T280-320v-480q0-33 23.5-56.5T360-880h360q33 0 56.5 23.5T800-800v480q0 33-23.5 56.5T720-240H360Zm0-80h360v-480H360v480ZM200-80q-33 0-56.5-23.5T120-160v-560h80v560h440v80H200Zm160-240v-480 480Z",share:"M680-80q-50 0-85-35t-35-85q0-6 3-28L282-392q-16 15-37 23.5t-45 8.5q-50 0-85-35t-35-85q0-50 35-85t85-35q24 0 45 8.5t37 23.5l281-164q-2-7-2.5-13.5T560-760q0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35q-24 0-45-8.5T598-672L317-508q2 7 2.5 13.5t.5 14.5q0 8-.5 14.5T317-452l281 164q16-15 37-23.5t45-8.5q50 0 85 35t35 85q0 50-35 85t-85 35Z","dark-mode":"M480-120q-150 0-255-105T120-480q0-150 105-255t255-105q14 0 27.5 1t26.5 3q-41 29-65.5 75.5T444-660q0 90 63 153t153 63q55 0 101-24.5t75-65.5q2 13 3 26.5t1 27.5q0 150-105 255T480-120Zm0-80q88 0 158-48.5T740-375q-20 5-40 8t-40 3q-123 0-209.5-86.5T364-660q0-20 3-40t8-40q-78 32-126.5 102T200-480q0 116 82 198t198 82Zm-10-270Z","light-mode":"M480-360q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0 80q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM200-440H40v-80h160v80Zm720 0H760v-80h160v80ZM440-760v-160h80v160h-80Zm0 720v-160h80v160h-80ZM256-650l-101-97 57-59 96 100-52 56Zm492 496-97-101 53-55 101 97-57 59Zm-98-550 97-101 59 57-100 96-56-52ZM154-212l101-97 55 53-97 101-59-57Zm326-268Z",close:"m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z",link:"M440-280H280q-83 0-141.5-58.5T80-480q0-83 58.5-141.5T280-680h160v80H280q-50 0-85 35t-35 85q0 50 35 85t85 35h160v80ZM320-440v-80h320v80H320Zm200 160v-80h160q50 0 85-35t35-85q0-50-35-85t-85-35H520v-80h160q83 0 141.5 58.5T880-480q0 83-58.5 141.5T680-280H520Z",terminal:"M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm0-80h640v-400H160v400Zm140-40-56-56 103-104-104-104 57-56 160 160-160 160Zm180 0v-80h240v80H480Z",check:"M382-240 154-468l57-57 171 171 367-367 57 57-424 424Z",add:"M440-120v-320H120v-80h320v-320h80v320h320v80H520v320h-80Z",delete:"M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"},Ep=class n{elementRef=M(mt);renderer=M(Jt);icon=Ns.required({alias:"pdIcon"});size=Ns(24);fill=Ns("currentColor");constructor(){dh(()=>{this.createSvgIcon()})}createSvgIcon(){let e=s3[this.icon()];if(!e){console.warn(`Icon "${this.icon()}" not found`);return}this.elementRef.nativeElement.innerHTML="";let t=this.renderer.createElement("svg","http://www.w3.org/2000/svg");this.renderer.setAttribute(t,"height",`${this.size()}px`),this.renderer.setAttribute(t,"width",`${this.size()}px`),this.renderer.setAttribute(t,"viewBox","0 -960 960 960"),this.renderer.setAttribute(t,"fill",this.fill());let r=this.renderer.createElement("path","http://www.w3.org/2000/svg");this.renderer.setAttribute(r,"d",e),this.renderer.appendChild(t,r),this.renderer.appendChild(this.elementRef.nativeElement,t)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=de({type:n,selectors:[["","pdIcon",""]],inputs:{icon:[1,"pdIcon","icon"],size:[1,"size"],fill:[1,"fill"]}})};var Ip=class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=de({type:n,selectors:[["button","pdHeaderButton",""]],hostAttrs:[1,"h-10","min-w-10","flex","active:scale-95","items-center","justify-center","rounded-md","hover:bg-button-hover","transition-colors","text-header-contrast"]})};var tP=class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=de({type:n,selectors:[["","pdTruncate",""]],hostAttrs:[1,"w-full","inline-block","truncate"]})};var c3=new Intl.RelativeTimeFormat("es",{numeric:"auto"});function fw(n){let e=new Date,t=n.getTime()-e.getTime(),r=u3(t);return c3.format(l3(t,r),r)}var pw=60*1e3,gw=60*pw,mw=24*gw,yw=7*mw,vw=4*yw,nP=vw*12;function u3(n){return n=Math.abs(n),n<pw?"second":n<gw?"minute":n<mw?"hour":n<yw?"day":n<vw?"week":n<nP?"month":"year"}function l3(n,e){return Math.round(e==="minute"?n/pw:e==="hour"?n/gw:e==="day"?n/mw:e==="week"?n/yw:e==="month"?n/vw:e==="year"?n/nP:n/1e3)}var rP=class n{transform(e){return e?(fw(e instanceof Date?e:new Date(e)),fw(new Date(e))):"Sin informaci\xF3n"}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=Rc({name:"relDate",type:n,pure:!0})};var d3=["pdHeaderBackButton",""],iP=class n{back=cS();onClick(e){this.back.emit(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ac({type:n,selectors:[["button","pdHeaderBackButton",""]],hostAttrs:["title","Volver","aria-label","Volver"],hostBindings:function(t,r){t&1&&_n("click",function(o){return r.onClick(o)})},outputs:{back:"back"},features:[zy([Ip])],attrs:d3,decls:1,vars:0,consts:[["pdIcon","back"]],template:function(t,r){t&1&&As(0,"span",0)},dependencies:[Ep],encapsulation:2})};var _w=class n{get height(){return this.actualHeight()}double=Ne(!1);actualHeight=Xt(()=>this.double()?"h-30":"h-14");static \u0275fac=function(t){return new(t||n)};static \u0275dir=de({type:n,selectors:[["","pdHeaderLayout",""]],hostAttrs:[1,"sticky","left-0","top-0","z-10","bg-header"],hostVars:2,hostBindings:function(t,r){t&2&&uv(r.height)}})},oP=class n extends _w{constructor(){super(),this.double.set(!0)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=de({type:n,selectors:[["","pdDoubleHeaderLayout",""]],features:[Ot]})},sP=class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=de({type:n,selectors:[["","pdHeaderContent",""]],hostAttrs:[1,"px-3","flex","flex-col","justify-center","gap-1","bg-header"]})},aP=class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=de({type:n,selectors:[["","pdHeaderRow",""]],hostAttrs:[1,"flex","items-center","overflow-hidden","justify-between","gap-2","h-14"]})};var cP=class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=de({type:n,selectors:[["button","pdHeaderActionButton",""]],hostAttrs:[1,"hover:shadow-md","active:scale-95","hover:shadow-black/20","shadow-black/40","h-10","min-w-10","flex","items-center","justify-center","rounded-full","bg-action","hover:bg-action-hover","transition-colors","text-header-contrast"]})};var yP=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(X(Jt),X(mt))};static \u0275dir=de({type:n})}return n})(),bw=(()=>{class n extends yP{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Yr(n)))(i||n)}})();static \u0275dir=de({type:n,features:[Ot]})}return n})(),qu=new j("");var h3={provide:qu,useExisting:an(()=>vP),multi:!0};function f3(){let n=en()?en().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var p3=new j(""),vP=(()=>{class n extends yP{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!f3())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(X(Jt),X(mt),X(p3,8))};static \u0275dir=de({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&_n("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[ei([h3]),Ot]})}return n})();function Sw(n){return n==null||Aw(n)===0}function Aw(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Rw=new j(""),Nw=new j(""),g3=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,uP=class{static min(e){return m3(e)}static max(e){return y3(e)}static required(e){return v3(e)}static requiredTrue(e){return _3(e)}static email(e){return E3(e)}static minLength(e){return I3(e)}static maxLength(e){return w3(e)}static pattern(e){return D3(e)}static nullValidator(e){return _P()}static compose(e){return CP(e)}static composeAsync(e){return SP(e)}};function m3(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function y3(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function v3(n){return Sw(n.value)?{required:!0}:null}function _3(n){return n.value===!0?null:{required:!0}}function E3(n){return Sw(n.value)||g3.test(n.value)?null:{email:!0}}function I3(n){return e=>{let t=e.value?.length??Aw(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function w3(n){return e=>{let t=e.value?.length??Aw(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function D3(n){if(!n)return _P;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Sw(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function _P(n){return null}function EP(n){return n!=null}function IP(n){return Xr(n)?Re(n):n}function wP(n){let e={};return n.forEach(t=>{e=t!=null?k(k({},e),t):e}),Object.keys(e).length===0?null:e}function DP(n,e){return e.map(t=>t(n))}function T3(n){return!n.validate}function TP(n){return n.map(e=>T3(e)?e:t=>e.validate(t))}function CP(n){if(!n)return null;let e=n.filter(EP);return e.length==0?null:function(t){return wP(DP(t,e))}}function bP(n){return n!=null?CP(TP(n)):null}function SP(n){if(!n)return null;let e=n.filter(EP);return e.length==0?null:function(t){let r=DP(t,e).map(IP);return vg(r).pipe(ce(wP))}}function AP(n){return n!=null?SP(TP(n)):null}function lP(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function RP(n){return n._rawValidators}function NP(n){return n._rawAsyncValidators}function Ew(n){return n?Array.isArray(n)?n:[n]:[]}function Tp(n,e){return Array.isArray(n)?n.includes(e):n===e}function dP(n,e){let t=Ew(e);return Ew(n).forEach(i=>{Tp(t,i)||t.push(i)}),t}function hP(n,e){return Ew(e).filter(t=>!Tp(n,t))}var Cp=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=bP(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=AP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Ca=class extends Cp{name;get formDirective(){return null}get path(){return null}},No=class extends Cp{_parent=null;name=null;valueAccessor=null},bp=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},C3={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},oce=W(k({},C3),{"[class.ng-submitted]":"isSubmitted"}),sce=(()=>{class n extends bp{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(X(No,2))};static \u0275dir=de({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&kc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Ot]})}return n})(),ace=(()=>{class n extends bp{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(X(Ca,10))};static \u0275dir=de({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&kc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Ot]})}return n})();var Uu="VALID",wp="INVALID",Da="PENDING",Bu="DISABLED",_i=class{},Sp=class extends _i{value;source;constructor(e,t){super(),this.value=e,this.source=t}},$u=class extends _i{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Hu=class extends _i{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Ta=class extends _i{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Iw=class extends _i{source;constructor(e){super(),this.source=e}},ww=class extends _i{source;constructor(e){super(),this.source=e}};function Mw(n){return(Pp(n)?n.validators:n)||null}function b3(n){return Array.isArray(n)?bP(n):n||null}function Pw(n,e){return(Pp(e)?e.asyncValidators:n)||null}function S3(n){return Array.isArray(n)?AP(n):n||null}function Pp(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function MP(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new V(1e3,"");if(!r[t])throw new V(1001,"")}function PP(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new V(1002,"")})}var ba=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Bt(this.statusReactive)}set status(e){Bt(()=>this.statusReactive.set(e))}_status=Xt(()=>this.statusReactive());statusReactive=Ne(void 0);get valid(){return this.status===Uu}get invalid(){return this.status===wp}get pending(){return this.status==Da}get disabled(){return this.status===Bu}get enabled(){return this.status!==Bu}errors;get pristine(){return Bt(this.pristineReactive)}set pristine(e){Bt(()=>this.pristineReactive.set(e))}_pristine=Xt(()=>this.pristineReactive());pristineReactive=Ne(!0);get dirty(){return!this.pristine}get touched(){return Bt(this.touchedReactive)}set touched(e){Bt(()=>this.touchedReactive.set(e))}_touched=Xt(()=>this.touchedReactive());touchedReactive=Ne(!1);get untouched(){return!this.touched}_events=new Ve;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(dP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(dP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(hP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(hP(e,this._rawAsyncValidators))}hasValidator(e){return Tp(this._rawValidators,e)}hasAsyncValidator(e){return Tp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(W(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Hu(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Hu(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(W(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new $u(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new $u(!0,r))}markAsPending(e={}){this.status=Da;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ta(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(W(k({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Bu,this.errors=null,this._forEachChild(i=>{i.disable(W(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Sp(this.value,r)),this._events.next(new Ta(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(W(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Uu,this._forEachChild(r=>{r.enable(W(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(W(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Uu||this.status===Da)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Sp(this.value,t)),this._events.next(new Ta(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(W(k({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bu:Uu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Da,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=IP(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ta(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Oe,this.statusChanges=new Oe}_calculateStatus(){return this._allControlsDisabled()?Bu:this.errors?wp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Da)?Da:this._anyControlsHaveStatus(wp)?wp:Uu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new $u(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Hu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Pp(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=b3(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=S3(this._rawAsyncValidators)}},Ap=class extends ba{constructor(e,t,r){super(Mw(t),Pw(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){PP(this,!0,e),Object.keys(e).forEach(r=>{MP(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Dw=class extends Ap{};var kw=new j("",{providedIn:"root",factory:()=>xw}),xw="always";function A3(n,e){return[...e.path,n]}function Tw(n,e,t=xw){Ow(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),N3(n,e),P3(n,e),M3(n,e),R3(n,e)}function Rp(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Mp(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Np(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function R3(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Ow(n,e){let t=RP(n);e.validator!==null?n.setValidators(lP(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=NP(n);e.asyncValidator!==null?n.setAsyncValidators(lP(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Np(e._rawValidators,i),Np(e._rawAsyncValidators,i)}function Mp(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=RP(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=NP(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Np(e._rawValidators,r),Np(e._rawAsyncValidators,r),t}function N3(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&kP(n,e)})}function M3(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&kP(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function kP(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function P3(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function k3(n,e){n==null,Ow(n,e)}function x3(n,e){return Mp(n,e)}function xP(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function O3(n){return Object.getPrototypeOf(n.constructor)===bw}function F3(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function OP(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===vP?t=o:O3(o)?r=o:i=o}),i||r||t||null}function L3(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function fP(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function pP(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Dp=class extends ba{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(Mw(t),Pw(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(pP(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){fP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){fP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){pP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var V3=n=>n instanceof Dp;var uce=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=de({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var Fw=new j(""),j3={provide:No,useExisting:an(()=>U3)},U3=(()=>{class n extends No{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(t){}model;update=new Oe;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=OP(this,i)}ngOnChanges(t){if(this._isControlChanged(t)){let r=t.form.previousValue;r&&Rp(r,this,!1),Tw(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}xP(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Rp(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static \u0275fac=function(r){return new(r||n)(X(Rw,10),X(Nw,10),X(qu,10),X(Fw,8),X(kw,8))};static \u0275dir=de({type:n,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[ei([j3]),Ot,yn]})}return n})(),B3={provide:Ca,useExisting:an(()=>$3)},$3=(()=>{class n extends Ca{callSetDisabledState;get submitted(){return Bt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Xt(()=>this._submittedReactive());_submittedReactive=Ne(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Oe;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Mp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Tw(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Rp(t.control||null,t,!1),L3(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),F3(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Iw(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1),r?.emitEvent!==!1&&this.form._events.next(new ww(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(Rp(r||null,t),V3(i)&&(Tw(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);k3(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&x3(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ow(this.form,this),this._oldForm&&Mp(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(X(Rw,10),X(Nw,10),X(kw,8))};static \u0275dir=de({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&_n("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ei([B3]),Ot,yn]})}return n})();var H3={provide:No,useExisting:an(()=>q3)},q3=(()=>{class n extends No{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new Oe;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=OP(this,o)}ngOnChanges(t){this._added||this._setUpControl(),xP(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return A3(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(X(Ca,13),X(Rw,10),X(Nw,10),X(qu,10),X(Fw,8))};static \u0275dir=de({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[ei([H3]),Ot,yn]})}return n})();var z3={provide:qu,useExisting:an(()=>LP),multi:!0};function FP(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function G3(n){return n.split(":")[0]}var LP=(()=>{class n extends bw{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=M(ur).injector;appRefDestroyRef=this.appRefInjector.get(ut);destroyRef=M(ut);cdr=M(Xi);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefDestroyRef.destroyed||(this._queuedWrite=!0,sh({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=FP(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=G3(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Yr(n)))(i||n)}})();static \u0275dir=de({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&_n("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ei([z3]),Ot]})}return n})(),lce=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(FP(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(X(mt),X(Jt),X(LP,9))};static \u0275dir=de({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),W3={provide:qu,useExisting:an(()=>VP),multi:!0};function gP(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function K3(n){return n.split(":")[0]}var VP=(()=>{class n extends bw{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=K3(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Yr(n)))(i||n)}})();static \u0275dir=de({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&_n("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ei([W3]),Ot]})}return n})(),dce=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(gP(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(gP(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(X(mt),X(Jt),X(VP,9))};static \u0275dir=de({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var Q3=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Jr({type:n});static \u0275inj=rr({})}return n})(),Cw=class extends ba{constructor(e,t,r){super(Mw(t),Pw(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){PP(this,!1,e),e.forEach((r,i)=>{MP(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function mP(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var hce=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return mP(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Ap(i,o)}record(t,r=null){let i=this._reduceControls(t);return new Dw(i,r)}control(t,r,i){let o={};return this.useNonNullable?(mP(r)?o=r:(o.validators=r,o.asyncValidators=i),new Dp(t,W(k({},o),{nonNullable:!0}))):new Dp(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new Cw(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Dp)return t;if(t instanceof ba)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var fce=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Fw,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:kw,useValue:t.callSetDisabledState??xw}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Jr({type:n});static \u0275inj=rr({imports:[Q3]})}return n})();export{k as a,W as b,Z as c,ce as d,ke as e,_g as f,Mt as g,Yk as h,nt as i,Jk as j,U as k,M as l,QT as m,YT as n,Nx as o,Ne as p,yn as q,mt as r,qO as s,Jt as t,X as u,Ac as v,de as w,zy as x,T0 as y,Oe as z,_e as A,wL as B,DL as C,Mc as D,CL as E,bL as F,SL as G,AL as H,RL as I,NL as J,U0 as K,nv as L,rv as M,As as N,iv as O,ov as P,B0 as Q,kL as R,_n as S,q0 as T,FL as U,VL as V,jL as W,BL as X,av as Y,cv as Z,$L as _,kc as $,lV as aa,Z0 as ba,lv as ca,J0 as da,vV as ea,_V as fa,wV as ga,TV as ha,AV as ia,Xt as ja,dh as ka,cS as la,Ns as ma,yv as na,mS as oa,g2 as pa,M2 as qa,SS as ra,dr as sa,Gv as ta,zs as ua,Hh as va,fU as wa,mU as xa,DU as ya,yA as za,Ire as Aa,die as Ba,hie as Ca,aae as Da,cae as Ea,eP as Fa,Ep as Ga,Ip as Ha,tP as Ia,fw as Ja,rP as Ka,iP as La,_w as Ma,oP as Na,sP as Oa,aP as Pa,cP as Qa,vP as Ra,uP as Sa,sce as Ta,ace as Ua,Dp as Va,uce as Wa,U3 as Xa,$3 as Ya,q3 as Za,LP as _a,lce as $a,dce as ab,hce as bb,fce as cb};
