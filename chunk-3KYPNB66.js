var Ix=Object.defineProperty,wx=Object.defineProperties;var Dx=Object.getOwnPropertyDescriptors;var jD=Object.getOwnPropertySymbols;var Tx=Object.prototype.hasOwnProperty,Cx=Object.prototype.propertyIsEnumerable;var UD=(t,e,n)=>e in t?Ix(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,x=(t,e)=>{for(var n in e||={})Tx.call(e,n)&&UD(t,n,e[n]);if(jD)for(var n of jD(e))Cx.call(e,n)&&UD(t,n,e[n]);return t},W=(t,e)=>wx(t,Dx(e));function q(t){return typeof t=="function"}function sg(t){return q(t?.lift)}function ae(t){return e=>{if(sg(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Fo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ll=Fo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ti(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Pe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(q(r))try{r()}catch(o){e=o instanceof ll?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{BD(o)}catch(s){e=e??[],s instanceof ll?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ll(e)}}add(e){var n;if(e&&e!==this)if(this.closed)BD(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ti(n,e)}remove(e){let{_finalizers:n}=this;n&&Ti(n,e),e instanceof t&&e._removeParent(this)}};Pe.EMPTY=(()=>{let t=new Pe;return t.closed=!0,t})();var ag=Pe.EMPTY;function dl(t){return t instanceof Pe||t&&"closed"in t&&q(t.remove)&&q(t.add)&&q(t.unsubscribe)}function BD(t){q(t)?t():t.unsubscribe()}var sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Lo={setTimeout(t,e,...n){let{delegate:r}=Lo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Lo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function hl(t){Lo.setTimeout(()=>{let{onUnhandledError:e}=sn;if(e)e(t);else throw t})}function Ka(){}var $D=cg("C",void 0,void 0);function HD(t){return cg("E",void 0,t)}function qD(t){return cg("N",t,void 0)}function cg(t,e,n){return{kind:t,value:e,error:n}}var Ci=null;function Vo(t){if(sn.useDeprecatedSynchronousErrorHandling){let e=!Ci;if(e&&(Ci={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ci;if(Ci=null,n)throw r}}else t()}function zD(t){sn.useDeprecatedSynchronousErrorHandling&&Ci&&(Ci.errorThrown=!0,Ci.error=t)}var bi=class extends Pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,dl(e)&&e.add(this)):this.destination=Ax}static create(e,n,r){return new jo(e,n,r)}next(e){this.isStopped?lg(qD(e),this):this._next(e)}error(e){this.isStopped?lg(HD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?lg($D,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},bx=Function.prototype.bind;function ug(t,e){return bx.call(t,e)}var dg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){fl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){fl(r)}else fl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){fl(n)}}},jo=class extends bi{constructor(e,n,r){super();let i;if(q(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&sn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ug(e.next,o),error:e.error&&ug(e.error,o),complete:e.complete&&ug(e.complete,o)}):i=e}this.destination=new dg(i)}};function fl(t){sn.useDeprecatedSynchronousErrorHandling?zD(t):hl(t)}function Sx(t){throw t}function lg(t,e){let{onStoppedNotification:n}=sn;n&&Lo.setTimeout(()=>n(t,e))}var Ax={closed:!0,next:Ka,error:Sx,complete:Ka};function ie(t,e,n,r,i){return new hg(t,e,n,r,i)}var hg=class extends bi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ce(t,e){return ae((n,r)=>{let i=0;n.subscribe(ie(r,o=>{r.next(t.call(e,o,i++))}))})}function Mt(t,e){return ae((n,r)=>{let i=0;n.subscribe(ie(r,o=>t.call(e,o,i++)&&r.next(o)))})}var Uo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Lt(t){return t}function fg(...t){return pg(t)}function pg(t){return t.length===0?Lt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var J=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Nx(n)?n:new jo(n,r,i);return Vo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=GD(r),new r((i,o)=>{let s=new jo({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Uo](){return this}pipe(...n){return pg(n)(this)}toPromise(n){return n=GD(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function GD(t){var e;return(e=t??sn.Promise)!==null&&e!==void 0?e:Promise}function Rx(t){return t&&q(t.next)&&q(t.error)&&q(t.complete)}function Nx(t){return t&&t instanceof bi||Rx(t)&&dl(t)}function Bo(){return ae((t,e)=>{let n=null;t._refCount++;let r=ie(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var $o=class extends J{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,sg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pe;let n=this.getSubject();e.add(this.source.subscribe(ie(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pe.EMPTY)}return e}refCount(){return Bo()(this)}};var WD=Fo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ve=(()=>{class t extends J{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new pl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new WD}next(n){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?ag:(this.currentObservers=null,o.push(n),new Pe(()=>{this.currentObservers=null,Ti(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new J;return n.source=this,n}}return t.create=(e,n)=>new pl(e,n),t})(),pl=class extends Ve{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:ag}};var ct=class extends Ve{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var gg={now(){return(gg.delegate||Date).now()},delegate:void 0};var gl=class extends Pe{constructor(e,n){super()}schedule(e,n=0){return this}};var Qa={setInterval(t,e,...n){let{delegate:r}=Qa;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Qa;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ho=class extends gl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Qa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Qa.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ti(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var qo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};qo.now=gg.now;var zo=class extends qo{constructor(e,n=qo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Pr=new zo(Ho),mg=Pr;var ml=class extends Ho{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var yl=class extends zo{};var yg=new yl(ml);var Pt=new J(t=>t.complete());function vl(t){return t&&q(t.schedule)}function KD(t){return t[t.length-1]}function _l(t){return q(KD(t))?t.pop():void 0}function xr(t){return vl(KD(t))?t.pop():void 0}function vg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function YD(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function QD(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Si(t){return this instanceof Si?(this.v=t,this):new Si(t)}function ZD(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(I){return Promise.resolve(I).then(y,p)}}function a(y,I){r[y]&&(i[y]=function(S){return new Promise(function(R,k){o.push([y,S,R,k])>1||u(y,S)})},I&&(i[y]=I(i[y])))}function u(y,I){try{l(r[y](I))}catch(S){g(o[0][3],S)}}function l(y){y.value instanceof Si?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,I){y(I),o.shift(),o.length&&u(o[0][0],o[0][1])}}function JD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof QD=="function"?QD(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Go=t=>t&&typeof t.length=="number"&&typeof t!="function";function El(t){return q(t?.then)}function Il(t){return q(t[Uo])}function wl(t){return Symbol.asyncIterator&&q(t?.[Symbol.asyncIterator])}function Dl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Mx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Tl=Mx();function Cl(t){return q(t?.[Tl])}function bl(t){return ZD(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Si(n.read());if(i)return yield Si(void 0);yield yield Si(r)}}finally{n.releaseLock()}})}function Sl(t){return q(t?.getReader)}function be(t){if(t instanceof J)return t;if(t!=null){if(Il(t))return Px(t);if(Go(t))return xx(t);if(El(t))return kx(t);if(wl(t))return XD(t);if(Cl(t))return Ox(t);if(Sl(t))return Fx(t)}throw Dl(t)}function Px(t){return new J(e=>{let n=t[Uo]();if(q(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function xx(t){return new J(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function kx(t){return new J(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,hl)})}function Ox(t){return new J(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function XD(t){return new J(e=>{Lx(t,e).catch(n=>e.error(n))})}function Fx(t){return XD(bl(t))}function Lx(t,e){var n,r,i,o;return YD(this,void 0,void 0,function*(){try{for(n=JD(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function xt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function kr(t,e=0){return ae((n,r)=>{n.subscribe(ie(r,i=>xt(r,t,()=>r.next(i),e),()=>xt(r,t,()=>r.complete(),e),i=>xt(r,t,()=>r.error(i),e)))})}function Or(t,e=0){return ae((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function eT(t,e){return be(t).pipe(Or(e),kr(e))}function tT(t,e){return be(t).pipe(Or(e),kr(e))}function nT(t,e){return new J(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function rT(t,e){return new J(n=>{let r;return xt(n,e,()=>{r=t[Tl](),xt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>q(r?.return)&&r.return()})}function Al(t,e){if(!t)throw new Error("Iterable cannot be null");return new J(n=>{xt(n,e,()=>{let r=t[Symbol.asyncIterator]();xt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function iT(t,e){return Al(bl(t),e)}function oT(t,e){if(t!=null){if(Il(t))return eT(t,e);if(Go(t))return nT(t,e);if(El(t))return tT(t,e);if(wl(t))return Al(t,e);if(Cl(t))return rT(t,e);if(Sl(t))return iT(t,e)}throw Dl(t)}function Re(t,e){return e?oT(t,e):be(t)}function Z(...t){let e=xr(t);return Re(t,e)}function Wo(t,e){let n=q(t)?t:()=>t,r=i=>i.error(n());return new J(e?i=>e.schedule(r,0,i):r)}function _g(t){return!!t&&(t instanceof J||q(t.lift)&&q(t.subscribe))}var Zn=Fo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function sT(t){return t instanceof Date&&!isNaN(t)}var{isArray:Vx}=Array;function jx(t,e){return Vx(e)?t(...e):t(e)}function Ko(t){return ce(e=>jx(t,e))}var{isArray:Ux}=Array,{getPrototypeOf:Bx,prototype:$x,keys:Hx}=Object;function Rl(t){if(t.length===1){let e=t[0];if(Ux(e))return{args:e,keys:null};if(qx(e)){let n=Hx(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function qx(t){return t&&typeof t=="object"&&Bx(t)===$x}function Nl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ml(...t){let e=xr(t),n=_l(t),{args:r,keys:i}=Rl(t);if(r.length===0)return Re([],e);let o=new J(zx(r,e,i?s=>Nl(i,s):Lt));return n?o.pipe(Ko(n)):o}function zx(t,e,n=Lt){return r=>{aT(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)aT(e,()=>{let l=Re(t[u],e),h=!1;l.subscribe(ie(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function aT(t,e,n){t?xt(n,t,e):e()}function cT(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=S=>l<r?I(S):u.push(S),I=S=>{o&&e.next(S),l++;let R=!1;be(n(S,h++)).subscribe(ie(e,k=>{i?.(k),o?y(k):e.next(k)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let k=u.shift();s?xt(e,s,()=>I(k)):I(k)}g()}catch(k){e.error(k)}}))};return t.subscribe(ie(e,y,()=>{p=!0,g()})),()=>{a?.()}}function xe(t,e,n=1/0){return q(e)?xe((r,i)=>ce((o,s)=>e(r,o,i,s))(be(t(r,i))),n):(typeof e=="number"&&(n=e),ae((r,i)=>cT(r,i,t,n)))}function Qo(t=1/0){return xe(Lt,t)}function uT(){return Qo(1)}function Yo(...t){return uT()(Re(t,xr(t)))}function Ya(t){return new J(e=>{be(t()).subscribe(e)})}function Eg(...t){let e=_l(t),{args:n,keys:r}=Rl(t),i=new J(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;be(n[h]).subscribe(ie(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Nl(r,a):a),o.complete())}))}});return e?i.pipe(Ko(e)):i}var Gx=["addListener","removeListener"],Wx=["addEventListener","removeEventListener"],Kx=["on","off"];function Ig(t,e,n,r){if(q(n)&&(r=n,n=void 0),r)return Ig(t,e,n).pipe(Ko(r));let[i,o]=Zx(t)?Wx.map(s=>a=>t[s](e,a,n)):Qx(t)?Gx.map(lT(t,e)):Yx(t)?Kx.map(lT(t,e)):[];if(!i&&Go(t))return xe(s=>Ig(s,e,n))(be(t));if(!i)throw new TypeError("Invalid event target");return new J(s=>{let a=(...u)=>s.next(1<u.length?u:u[0]);return i(a),()=>o(a)})}function lT(t,e){return n=>r=>t[n](e,r)}function Qx(t){return q(t.addListener)&&q(t.removeListener)}function Yx(t){return q(t.on)&&q(t.off)}function Zx(t){return q(t.addEventListener)&&q(t.removeEventListener)}function dT(t=0,e,n=mg){let r=-1;return e!=null&&(vl(e)?n=e:r=e),new J(i=>{let o=sT(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Jn(t){return ae((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ie(n,void 0,void 0,s=>{o=be(t(s,Jn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function hT(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(ie(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Ai(t,e){return q(e)?xe(t,e,1):xe(t,1)}function Jx(t,e=Pr){return ae((n,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function u(){let l=s+t,h=e.now();if(h<l){i=this.schedule(void 0,l-h),r.add(i);return}a()}n.subscribe(ie(r,l=>{o=l,s=e.now(),i||(i=e.schedule(u,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function Fr(t){return ae((e,n)=>{let r=!1;e.subscribe(ie(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Xn(t){return t<=0?()=>Pt:ae((e,n)=>{let r=0;e.subscribe(ie(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Pl(t=Xx){return ae((e,n)=>{let r=!1;e.subscribe(ie(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Xx(){return new Zn}function Za(t){return ae((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function er(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Mt((i,o)=>t(i,o,r)):Lt,Xn(1),n?Fr(e):Pl(()=>new Zn))}function Zo(t){return t<=0?()=>Pt:ae((e,n)=>{let r=[];e.subscribe(ie(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function wg(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Mt((i,o)=>t(i,o,r)):Lt,Zo(1),n?Fr(e):Pl(()=>new Zn))}function Dg(t,e){return ae(hT(t,e,arguments.length>=2,!0))}function Tg(...t){let e=xr(t);return ae((n,r)=>{(e?Yo(t,n,e):Yo(t,n)).subscribe(r)})}function Wt(t,e){return ae((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ie(r,u=>{i?.unsubscribe();let l=0,h=o++;be(t(u,h)).subscribe(i=ie(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function xl(t){return ae((e,n)=>{be(t).subscribe(ie(n,()=>n.complete(),Ka)),!n.closed&&e.subscribe(n)})}function nt(t,e,n){let r=q(t)||e||n?{next:t,error:e,complete:n}:t;return r?ae((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ie(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Lt}function fT(t,e){return ae((n,r)=>{let{leading:i=!0,trailing:o=!1}=e??{},s=!1,a=null,u=null,l=!1,h=()=>{u?.unsubscribe(),u=null,o&&(y(),l&&r.complete())},p=()=>{u=null,l&&r.complete()},g=I=>u=be(t(I)).subscribe(ie(r,h,p)),y=()=>{if(s){s=!1;let I=a;a=null,r.next(I),!l&&g(I)}};n.subscribe(ie(r,I=>{s=!0,a=I,!(u&&!u.closed)&&(i?y():g(I))},()=>{l=!0,!(o&&s&&u&&!u.closed)&&r.complete()}))})}function ek(t,e=Pr,n){let r=dT(t,e);return fT(()=>r,n)}var Cg;function kl(){return Cg}function An(t){let e=Cg;return Cg=t,e}var pT=Symbol("NotFound");function Jo(t){return t===pT||t?.name==="\u0275NotFound"}function jl(t,e){return Object.is(t,e)}var Ze=null,Ol=!1,bg=1,tk=null,It=Symbol("SIGNAL");function K(t){let e=Ze;return Ze=t,e}function Ul(){return Ze}var Lr={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Xo(t){if(Ol)throw new Error("");if(Ze===null)return;Ze.consumerOnSignalRead(t);let e=Ze.nextProducerIndex++;if(Hl(Ze),e<Ze.producerNode.length&&Ze.producerNode[e]!==t&&Xa(Ze)){let n=Ze.producerNode[e];$l(n,Ze.producerIndexOfThis[e])}Ze.producerNode[e]!==t&&(Ze.producerNode[e]=t,Ze.producerIndexOfThis[e]=Xa(Ze)?mT(t,Ze,e):0),Ze.producerLastReadVersion[e]=t.version}function gT(){bg++}function Bl(t){if(!(Xa(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===bg)){if(!t.producerMustRecompute(t)&&!es(t)){Vl(t);return}t.producerRecomputeValue(t),Vl(t)}}function Sg(t){if(t.liveConsumerNode===void 0)return;let e=Ol;Ol=!0;try{for(let n of t.liveConsumerNode)n.dirty||nk(n)}finally{Ol=e}}function Ag(){return Ze?.consumerAllowSignalWrites!==!1}function nk(t){t.dirty=!0,Sg(t),t.consumerMarkedDirty?.(t)}function Vl(t){t.dirty=!1,t.lastCleanEpoch=bg}function Vr(t){return t&&(t.nextProducerIndex=0),K(t)}function Ri(t,e){if(K(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Xa(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)$l(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function es(t){Hl(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Bl(n),r!==n.version))return!0}return!1}function ts(t){if(Hl(t),Xa(t))for(let e=0;e<t.producerNode.length;e++)$l(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function mT(t,e,n){if(yT(t),t.liveConsumerNode.length===0&&vT(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=mT(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function $l(t,e){if(yT(t),t.liveConsumerNode.length===1&&vT(t))for(let r=0;r<t.producerNode.length;r++)$l(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Hl(i),i.producerIndexOfThis[r]=e}}function Xa(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Hl(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function yT(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function vT(t){return t.producerNode!==void 0}function ql(t){tk?.(t)}function zl(t,e){let n=Object.create(rk);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Bl(n),Xo(n),n.value===Ja)throw n.error;return n.value};return r[It]=n,ql(n),r}var Fl=Symbol("UNSET"),Ll=Symbol("COMPUTING"),Ja=Symbol("ERRORED"),rk=W(x({},Lr),{value:Fl,dirty:!0,error:null,equal:jl,kind:"computed",producerMustRecompute(t){return t.value===Fl||t.value===Ll},producerRecomputeValue(t){if(t.value===Ll)throw new Error("");let e=t.value;t.value=Ll;let n=Vr(t),r,i=!1;try{r=t.computation(),K(null),i=e!==Fl&&e!==Ja&&r!==Ja&&t.equal(e,r)}catch(o){r=Ja,t.error=o}finally{Ri(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function ik(){throw new Error}var _T=ik;function ET(t){_T(t)}function Rg(t){_T=t}var ok=null;function Ng(t,e){let n=Object.create(Gl);n.value=t,e!==void 0&&(n.equal=e);let r=()=>IT(n);return r[It]=n,ql(n),[r,s=>ns(n,s),s=>Mg(n,s)]}function IT(t){return Xo(t),t.value}function ns(t,e){Ag()||ET(t),t.equal(t.value,e)||(t.value=e,sk(t))}function Mg(t,e){Ag()||ET(t),ns(t,e(t.value))}var Gl=W(x({},Lr),{equal:jl,value:void 0,kind:"signal"});function sk(t){t.version++,gT(),Sg(t),ok?.(t)}function wT(t){let e=K(null);try{return t()}finally{K(e)}}var Zl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",V=class extends Error{code;constructor(e,n){super(ki(e,n)),this.code=e}};function ak(t){return`NG0${Math.abs(t)}`}function ki(t,e){return`${ak(t)}${e?": "+e:""}`}var oc=globalThis;function ve(t){for(let e in t)if(t[e]===ve)return e;throw Error("")}function CT(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function nr(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(nr).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Jl(t,e){return t?e?`${t} ${e}`:t:e||""}var ck=ve({__forward_ref__:ve});function an(t){return t.__forward_ref__=an,t.toString=function(){return nr(this())},t}function Je(t){return Hg(t)?t():t}function Hg(t){return typeof t=="function"&&t.hasOwnProperty(ck)&&t.__forward_ref__===an}function bT(t,e){t==null&&qg(e,t,null,"!=")}function qg(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function U(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function rr(t){return{providers:t.providers||[],imports:t.imports||[]}}function sc(t){return uk(t,Xl)}function zg(t){return sc(t)!==null}function uk(t,e){return t.hasOwnProperty(e)&&t[e]||null}function lk(t){let e=t?.[Xl]??null;return e||null}function xg(t){return t&&t.hasOwnProperty(Kl)?t[Kl]:null}var Xl=ve({\u0275prov:ve}),Kl=ve({\u0275inj:ve}),j=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=U({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Gg(t){return t&&!!t.\u0275providers}var Wg=ve({\u0275cmp:ve}),Kg=ve({\u0275dir:ve}),Qg=ve({\u0275pipe:ve}),Yg=ve({\u0275mod:ve}),nc=ve({\u0275fac:ve}),Oi=ve({__NG_ELEMENT_ID__:ve}),DT=ve({__NG_ENV_ID__:ve});function Fi(t){return typeof t=="string"?t:t==null?"":String(t)}function Ql(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Fi(t)}var Zg=ve({ngErrorCode:ve}),ST=ve({ngErrorMessage:ve}),tc=ve({ngTokenPath:ve});function Jg(t,e){return AT("",-200,e)}function ed(t,e){throw new V(-201,!1)}function dk(t,e){t[tc]??=[];let n=t[tc],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(bT(e.provide,"Token with multi: true should have a provide property"),r=Ql(e.provide)):r=Ql(e),n[0]!==r&&t[tc].unshift(r)}function hk(t,e){let n=t[tc],r=t[Zg],i=t[ST]||t.message;return t.message=pk(i,r,n,e),t}function AT(t,e,n){let r=new V(e,t);return r[Zg]=e,r[ST]=t,n&&(r[tc]=n),r}function fk(t){return t[Zg]}function pk(t,e,n=[],r=null){let i="";n&&n.length>1&&(i=` Path: ${n.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return ki(e,`${t}${o}${i}`)}var kg;function RT(){return kg}function wt(t){let e=kg;return kg=t,e}function Xg(t,e,n){let r=sc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;ed(t,"Injector")}var gk={},Ni=gk,Og="__NG_DI_FLAG__",Fg=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Mi(n)||0;try{return this.injector.get(e,r&8?null:Ni,r)}catch(i){if(Jo(i))return i;throw i}}};function mk(t,e=0){let n=kl();if(n===void 0)throw new V(-203,!1);if(n===null)return Xg(t,void 0,e);{let r=yk(e),i=n.retrieve(t,r);if(Jo(i)){if(r.optional)return null;throw i}return i}}function ne(t,e=0){return(RT()||mk)(Je(t),e)}function M(t,e){return ne(t,Mi(e))}function Mi(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function yk(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Lg(t){let e=[];for(let n=0;n<t.length;n++){let r=Je(t[n]);if(Array.isArray(r)){if(r.length===0)throw new V(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=vk(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(ne(i,o))}else e.push(ne(r))}return e}function NT(t,e){return t[Og]=e,t.prototype[Og]=e,t}function vk(t){return t[Og]}function jr(t,e){let n=t.hasOwnProperty(nc);return n?t[nc]:null}function MT(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function PT(t){return t.flat(Number.POSITIVE_INFINITY)}function td(t,e){t.forEach(n=>Array.isArray(n)?td(n,e):e(n))}function em(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ac(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function xT(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function kT(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function nd(t,e,n){let r=is(t,e);return r>=0?t[r|1]=n:(r=~r,kT(t,r,e,n)),r}function rd(t,e){let n=is(t,e);if(n>=0)return t[n|1]}function is(t,e){return _k(t,e,1)}function _k(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var cn={},Dt=[],ir=new j(""),tm=new j("",-1),nm=new j(""),rc=class{get(e,n=Ni){if(n===Ni){let i=AT("",-201);throw i.name="\u0275NotFound",i}return n}};function rm(t){return t[Yg]||null}function or(t){return t[Wg]||null}function cc(t){return t[Kg]||null}function im(t){return t[Qg]||null}function un(t){return{\u0275providers:t}}function OT(t){return un([{provide:ir,multi:!0,useValue:t}])}function FT(...t){return{\u0275providers:id(!0,t),\u0275fromNgModule:!0}}function id(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return td(e,s=>{let a=s;Yl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&LT(i,o),n}function LT(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];om(i,o=>{e(o,r)})}}function Yl(t,e,n,r){if(t=Je(t),!t)return!1;let i=null,o=xg(t),s=!o&&or(t);if(!o&&!s){let u=t.ngModule;if(o=xg(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Yl(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{td(o.imports,h=>{Yl(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&LT(l,e)}if(!a){let l=jr(i)||(()=>new i);e({provide:i,useFactory:l,deps:Dt},i),e({provide:nm,useValue:i,multi:!0},i),e({provide:ir,useValue:()=>ne(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;om(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function om(t,e){for(let n of t)Gg(n)&&(n=n.\u0275providers),Array.isArray(n)?om(n,e):e(n)}var Ek=ve({provide:String,useValue:ve});function VT(t){return t!==null&&typeof t=="object"&&Ek in t}function Ik(t){return!!(t&&t.useExisting)}function wk(t){return!!(t&&t.useFactory)}function Pi(t){return typeof t=="function"}function jT(t){return!!t.useClass}var uc=new j(""),Wl={},TT={},Pg;function lc(){return Pg===void 0&&(Pg=new rc),Pg}var je=class{},xi=class extends je{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,jg(e,s=>this.processProvider(s)),this.records.set(tm,rs(void 0,this)),i.has("environment")&&this.records.set(je,rs(void 0,this));let o=this.records.get(uc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(nm,Dt,{self:!0}))}retrieve(e,n){let r=Mi(n)||0;try{return this.get(e,Ni,r)}catch(i){if(Jo(i))return i;throw i}}destroy(){ec(this),this._destroyed=!0;let e=K(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),K(e)}}onDestroy(e){return ec(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ec(this);let n=An(this),r=wt(void 0),i;try{return e()}finally{An(n),wt(r)}}get(e,n=Ni,r){if(ec(this),e.hasOwnProperty(DT))return e[DT](this);let i=Mi(r),o,s=An(this),a=wt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=Sk(e)&&sc(e);h&&this.injectableDefInScope(h)?l=rs(Vg(e),Wl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?lc():this.parent;return n=i&8&&n===Ni?null:n,u.get(e,n)}catch(u){let l=fk(u);throw l===-200||l===-201?new V(l,null):u}finally{wt(a),An(s)}}resolveInjectorInitializers(){let e=K(null),n=An(this),r=wt(void 0),i;try{let o=this.get(ir,Dt,{self:!0});for(let s of o)s()}finally{An(n),wt(r),K(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(nr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Je(e);let n=Pi(e)?e:Je(e&&e.provide),r=Tk(e);if(!Pi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=rs(void 0,Wl,!0),i.factory=()=>Lg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=K(null);try{if(n.value===TT)throw Jg(nr(e));return n.value===Wl&&(n.value=TT,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&bk(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{K(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Je(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Vg(t){let e=sc(t),n=e!==null?e.factory:jr(t);if(n!==null)return n;if(t instanceof j)throw new V(204,!1);if(t instanceof Function)return Dk(t);throw new V(204,!1)}function Dk(t){if(t.length>0)throw new V(204,!1);let n=lk(t);return n!==null?()=>n.factory(t):()=>new t}function Tk(t){if(VT(t))return rs(void 0,t.useValue);{let e=sm(t);return rs(e,Wl)}}function sm(t,e,n){let r;if(Pi(t)){let i=Je(t);return jr(i)||Vg(i)}else if(VT(t))r=()=>Je(t.useValue);else if(wk(t))r=()=>t.useFactory(...Lg(t.deps||[]));else if(Ik(t))r=(i,o)=>ne(Je(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Je(t&&(t.useClass||t.provide));if(Ck(t))r=()=>new i(...Lg(t.deps));else return jr(i)||Vg(i)}return r}function ec(t){if(t.destroyed)throw new V(205,!1)}function rs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ck(t){return!!t.deps}function bk(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Sk(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function jg(t,e){for(let n of t)Array.isArray(n)?jg(n,e):n&&Gg(n)?jg(n.\u0275providers,e):e(n)}function Xe(t,e){let n;t instanceof xi?(ec(t),n=t):n=new Fg(t);let r,i=An(n),o=wt(void 0);try{return e()}finally{An(i),wt(o)}}function UT(){return RT()!==void 0||kl()!=null}var ln=0,B=1,Q=2,qe=3,Qt=4,Tt=5,Li=6,os=7,Be=8,jt=9,Rn=10,Se=11,ss=12,am=13,Vi=14,Ct=15,Br=16,ji=17,Nn=18,dc=19,cm=20,tr=21,od=22,sr=23,Ut=24,Ui=25,De=26,BT=1,$r=6,Hr=7,hc=8,Bi=9,et=10;function Mn(t){return Array.isArray(t)&&typeof t[BT]=="object"}function dn(t){return Array.isArray(t)&&t[BT]===!0}function um(t){return(t.flags&4)!==0}function qr(t){return t.componentOffset>-1}function sd(t){return(t.flags&1)===1}function hn(t){return!!t.template}function as(t){return(t[Q]&512)!==0}function Pn(t){return(t[Q]&256)===256}var $T="svg",HT="math";function Yt(t){for(;Array.isArray(t);)t=t[ln];return t}function ad(t,e){return Yt(e[t])}function fn(t,e){return Yt(e[t.index])}function $i(t,e){return t.data[e]}function lm(t,e){return t[e]}function dm(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Zt(t,e){let n=e[t];return Mn(n)?n:n[ln]}function qT(t){return(t[Q]&4)===4}function cd(t){return(t[Q]&128)===128}function zT(t){return dn(t[qe])}function pn(t,e){return e==null?null:t[e]}function hm(t){t[ji]=0}function fm(t){t[Q]&1024||(t[Q]|=1024,cd(t)&&zr(t))}function pm(t,e){for(;t>0;)e=e[Vi],t--;return e}function fc(t){return!!(t[Q]&9216||t[Ut]?.dirty)}function ud(t){t[Rn].changeDetectionScheduler?.notify(8),t[Q]&64&&(t[Q]|=1024),fc(t)&&zr(t)}function zr(t){t[Rn].changeDetectionScheduler?.notify(0);let e=Ur(t);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!cd(e)));)e=Ur(e)}function pc(t,e){if(Pn(t))throw new V(911,!1);t[tr]===null&&(t[tr]=[]),t[tr].push(e)}function ld(t,e){if(t[tr]===null)return;let n=t[tr].indexOf(e);n!==-1&&t[tr].splice(n,1)}function Ur(t){let e=t[qe];return dn(e)?e[qe]:e}function gm(t){return t[os]??=[]}function mm(t){return t.cleanup??=[]}function GT(t,e,n,r){let i=gm(e);i.push(n),t.firstCreatePass&&mm(t).push(r,i.length-1)}var oe={lFrame:aC(null),bindingsEnabled:!0,skipHydrationRootTNode:null},gc=function(t){return t[t.Off=0]="Off",t[t.Exhaustive=1]="Exhaustive",t[t.OnlyDirtyViews=2]="OnlyDirtyViews",t}(gc||{}),Ak=0,Ug=!1;function WT(){return oe.lFrame.elementDepthCount}function KT(){oe.lFrame.elementDepthCount++}function ym(){oe.lFrame.elementDepthCount--}function QT(){return oe.bindingsEnabled}function vm(){return oe.skipHydrationRootTNode!==null}function _m(t){return oe.skipHydrationRootTNode===t}function Em(){oe.skipHydrationRootTNode=null}function Y(){return oe.lFrame.lView}function ke(){return oe.lFrame.tView}function YT(t){return oe.lFrame.contextLView=t,t[Be]}function ZT(t){return oe.lFrame.contextLView=null,t}function tt(){let t=Im();for(;t!==null&&t.type===64;)t=t.parent;return t}function Im(){return oe.lFrame.currentTNode}function JT(){let t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function cs(t,e){let n=oe.lFrame;n.currentTNode=t,n.isParent=e}function wm(){return oe.lFrame.isParent}function Dm(){oe.lFrame.isParent=!1}function XT(){return oe.lFrame.contextLView}function Tm(t){qg("Must never be called in production mode"),Ak=t}function Cm(){return Ug}function us(t){let e=Ug;return Ug=t,e}function dd(){let t=oe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function eC(){return oe.lFrame.bindingIndex}function tC(t){return oe.lFrame.bindingIndex=t}function ls(){return oe.lFrame.bindingIndex++}function hd(t){let e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function nC(){return oe.lFrame.inI18n}function rC(t,e){let n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,fd(e)}function iC(){return oe.lFrame.currentDirectiveIndex}function fd(t){oe.lFrame.currentDirectiveIndex=t}function oC(t){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function bm(){return oe.lFrame.currentQueryIndex}function pd(t){oe.lFrame.currentQueryIndex=t}function Rk(t){let e=t[B];return e.type===2?e.declTNode:e.type===1?t[Tt]:null}function Sm(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=Rk(o),i===null||(o=o[Vi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=oe.lFrame=sC();return r.currentTNode=e,r.lView=t,!0}function gd(t){let e=sC(),n=t[B];oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function sC(){let t=oe.lFrame,e=t===null?null:t.child;return e===null?aC(t):e}function aC(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function cC(){let t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Am=cC;function md(){let t=cC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function uC(t){return(oe.lFrame.contextLView=pm(t,oe.lFrame.contextLView))[Be]}function xn(){return oe.lFrame.selectedIndex}function Gr(t){oe.lFrame.selectedIndex=t}function Rm(){let t=oe.lFrame;return $i(t.tView,t.selectedIndex)}function lC(){return oe.lFrame.currentNamespace}var dC=!0;function yd(){return dC}function vd(t){dC=t}function Bg(t,e=null,n=null,r){let i=Nm(t,e,n,r);return i.resolveInjectorInitializers(),i}function Nm(t,e=null,n=null,r,i=new Set){let o=[n||Dt,FT(t)];return r=r||(typeof t=="object"?void 0:nr(t)),new xi(o,e||lc(),r||null,i)}var Ue=class t{static THROW_IF_NOT_FOUND=Ni;static NULL=new rc;static create(e,n){if(Array.isArray(e))return Bg({name:""},n,e,"");{let r=e.name??"";return Bg({name:r},e.parent,e.providers,r)}}static \u0275prov=U({token:t,providedIn:"any",factory:()=>ne(tm)});static __NG_ELEMENT_ID__=-1},rt=new j(""),ut=(()=>{class t{static __NG_ELEMENT_ID__=Nk;static __NG_ENV_ID__=n=>n}return t})(),ic=class extends ut{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Pn(this._lView)}onDestroy(e){let n=this._lView;return pc(n,e),()=>ld(n,e)}};function Nk(){return new ic(Y())}var Vt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},bt=new j("",{providedIn:"root",factory:()=>{let t=M(je),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(Vt),e.handleError(n))}}}),hC={provide:ir,useValue:()=>void M(Vt),multi:!0},Mk=new j("",{providedIn:"root",factory:()=>{let t=M(rt).defaultView;if(!t)return;let e=M(bt),n=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),M(ut).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function Pk(){return un([OT(()=>void M(Mk))])}function Ne(t,e){let[n,r,i]=Ng(t,e?.equal),o=n,s=o[It];return o.set=r,o.update=i,o.asReadonly=Mm.bind(o),o}function Mm(){let t=this[It];if(t.readonlyFn===void 0){let e=()=>this();e[It]=t,t.readonlyFn=e}return t.readonlyFn}var Kt=class{},mc=new j("",{providedIn:"root",factory:()=>!1});var Pm=new j(""),_d=new j("");var ds=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=xk}return t})();function xk(){return new ds(Y(),tt())}var kn=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ct(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new J(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})(),Wr=(()=>{class t{internalPendingTasks=M(kn);scheduler=M(Kt);errorHandler=M(bt);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})();function Hi(...t){}var yc=(()=>{class t{static \u0275prov=U({token:t,providedIn:"root",factory:()=>new $g})}return t})(),$g=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function ws(t){return{toString:t}.toString()}var Ed="__parameters__";function $k(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Hk(t,e,n){return ws(()=>{let r=$k(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Ed)?u[Ed]:Object.defineProperty(u,Ed,{value:[]})[Ed];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var cr=NT(Hk("Optional"),8);function qk(t){return typeof t=="function"}var Rd=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function QC(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var yn=(()=>{let t=()=>YC;return t.ngInherit=!0,t})();function YC(t){return t.type.prototype.ngOnChanges&&(t.setInput=Gk),zk}function zk(){let t=JC(this),e=t?.current;if(e){let n=t.previous;if(n===cn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Gk(t,e,n,r,i){let o=this.declaredInputs[r],s=JC(t)||Wk(t,{previous:cn,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Rd(l&&l.currentValue,n,u===cn),QC(t,e,i,n)}var ZC="__ngSimpleChanges__";function JC(t){return t[ZC]||null}function Wk(t,e){return t[ZC]=e}var fC=[];var pe=function(t,e=null,n){for(let r=0;r<fC.length;r++){let i=fC[r];i(t,e,n)}};function Kk(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=YC(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Qk(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Dd(t,e,n){XC(t,e,3,n)}function Td(t,e,n,r){(t[Q]&3)===n&&XC(t,e,n,r)}function xm(t,e){let n=t[Q];(n&3)===e&&(n&=16383,n+=1,t[Q]=n)}function XC(t,e,n,r){let i=r!==void 0?t[ji]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[ji]+=65536),(a<o||o==-1)&&(Yk(t,n,e,u),t[ji]=(t[ji]&4294901760)+u+2),u++}function pC(t,e){pe(4,t,e);let n=K(null);try{e.call(t)}finally{K(n),pe(5,t,e)}}function Yk(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[Q]>>14<t[ji]>>16&&(t[Q]&3)===e&&(t[Q]+=16384,pC(a,o)):pC(a,o)}var gs=-1,zi=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function Zk(t){return(t.flags&8)!==0}function Jk(t){return(t.flags&16)!==0}function Xk(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];eO(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function eb(t){return t===3||t===4||t===6}function eO(t){return t.charCodeAt(0)===64}function ys(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?gC(t,n,i,null,e[++r]):gC(t,n,i,null,null))}}return t}function gC(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function tb(t){return t!==gs}function Nd(t){return t&32767}function tO(t){return t>>16}function Md(t,e){let n=tO(t),r=e;for(;n>0;)r=r[Vi],n--;return r}var Gm=!0;function Pd(t){let e=Gm;return Gm=t,e}var nO=256,nb=nO-1,rb=5,rO=0,On={};function iO(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Oi)&&(r=n[Oi]),r==null&&(r=n[Oi]=rO++);let i=r&nb,o=1<<i;e.data[t+(i>>rb)]|=o}function xd(t,e){let n=ib(t,e);if(n!==-1)return n;let r=e[B];r.firstCreatePass&&(t.injectorIndex=e.length,km(r.data,t),km(e,null),km(r.blueprint,null));let i=Dy(t,e),o=t.injectorIndex;if(tb(i)){let s=Nd(i),a=Md(i,e),u=a[B].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function km(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ib(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Dy(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=ub(i),r===null)return gs;if(n++,i=i[Vi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return gs}function Wm(t,e,n){iO(t,e,n)}function oO(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(eb(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function ob(t,e,n){if(n&8||t!==void 0)return t;ed(e,"NodeInjector")}function sb(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[jt],o=wt(void 0);try{return i?i.get(e,r,n&8):Xg(e,r,n&8)}finally{wt(o)}}return ob(r,e,n)}function ab(t,e,n,r=0,i){if(t!==null){if(e[Q]&2048&&!(r&2)){let s=uO(t,e,n,r,On);if(s!==On)return s}let o=cb(t,e,n,r,On);if(o!==On)return o}return sb(e,n,r,i)}function cb(t,e,n,r,i){let o=aO(n);if(typeof o=="function"){if(!Sm(e,t,r))return r&1?ob(i,n,r):sb(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))ed(n);else return s}finally{Am()}}else if(typeof o=="number"){let s=null,a=ib(t,e),u=gs,l=r&1?e[Ct][Tt]:null;for((a===-1||r&4)&&(u=a===-1?Dy(t,e):e[a+8],u===gs||!yC(r,!1)?a=-1:(s=e[B],a=Nd(u),e=Md(u,e)));a!==-1;){let h=e[B];if(mC(o,a,h.data)){let p=sO(a,e,n,s,r,l);if(p!==On)return p}u=e[a+8],u!==gs&&yC(r,e[B].data[a+8]===l)&&mC(o,a,e)?(s=h,a=Nd(u),e=Md(u,e)):a=-1}}return i}function sO(t,e,n,r,i,o){let s=e[B],a=s.data[t+8],u=r==null?qr(a)&&Gm:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=Cd(a,s,n,u,l);return h!==null?Ec(e,s,h,a,i):On}function Cd(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let I=s[y];if(y<u&&n===I||y>=u&&I.type===n)return y}if(i){let y=s[u];if(y&&hn(y)&&y.type===n)return u}return null}function Ec(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof zi){let a=o;if(a.resolving){let y=Ql(s[n]);throw Jg(y)}let u=Pd(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],h,p=a.injectImpl?wt(a.injectImpl):null,g=Sm(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Kk(n,s[n],e)}finally{p!==null&&wt(p),Pd(u),a.resolving=!1,Am()}}return o}function aO(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Oi)?t[Oi]:void 0;return typeof e=="number"?e>=0?e&nb:cO:e}function mC(t,e,n){let r=1<<t;return!!(n[e+(t>>rb)]&r)}function yC(t,e){return!(t&2)&&!(t&1&&e)}var qi=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return ab(this._tNode,this._lView,e,Mi(r),n)}};function cO(){return new qi(tt(),Y())}function Yr(t){return ws(()=>{let e=t.prototype.constructor,n=e[nc]||Km(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[nc]||Km(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Km(t){return Hg(t)?()=>{let e=Km(Je(t));return e&&e()}:jr(t)}function uO(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Q]&2048&&!as(s);){let a=cb(o,s,n,r|2,On);if(a!==On)return a;let u=o.parent;if(!u){let l=s[cm];if(l){let h=l.get(n,On,r);if(h!==On)return h}u=ub(s),s=s[Vi]}o=u}return i}function ub(t){let e=t[B],n=e.type;return n===2?e.declTNode:n===1?t[Tt]:null}function bc(t){return oO(tt(),t)}function lO(){return Ds(tt(),Y())}function Ds(t,e){return new mt(fn(t,e))}var mt=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=lO}return t})();function dO(t){return t instanceof mt?t.nativeElement:t}function hO(){return this._results[Symbol.iterator]()}var kd=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ve}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=PT(e);(this._changesDetected=!MT(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=hO};function lb(t){return(t.flags&128)===128}var Ty=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ty||{}),db=new Map,fO=0;function pO(){return fO++}function gO(t){db.set(t[dc],t)}function Qm(t){db.delete(t[dc])}var vC="__ngContext__";function vs(t,e){Mn(e)?(t[vC]=e[dc],gO(e)):t[vC]=e}function hb(t){return pb(t[ss])}function fb(t){return pb(t[Qt])}function pb(t){for(;t!==null&&!dn(t);)t=t[Qt];return t}var Ym;function Cy(t){Ym=t}function gb(){if(Ym!==void 0)return Ym;if(typeof document<"u")return document;throw new V(210,!1)}var Yd=new j("",{providedIn:"root",factory:()=>mO}),mO="ng",Zd=new j(""),Zr=new j("",{providedIn:"platform",factory:()=>"unknown"});var Jd=new j("",{providedIn:"root",factory:()=>gb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var yO="h",vO="b";var mb="r";var by="di",Sy="s";var yb=!1,vb=new j("",{providedIn:"root",factory:()=>yb});var _b=new j("");var fs=new WeakMap;var hs=null,Om=0,Zm=class{callbacks=new Set;listener=()=>{for(let e of this.callbacks)e()}};function _O(){return new IntersectionObserver(t=>{for(let e of t)e.isIntersecting&&fs.has(e.target)&&fs.get(e.target).listener()})}function EO(t,e,n){let r=fs.get(t);return hs=hs||n(),r||(r=new Zm,hs.observe(t),fs.set(t,r),Om++),r.callbacks.add(e),()=>{fs.has(t)&&(r.callbacks.delete(e),r.callbacks.size===0&&(hs?.unobserve(t),fs.delete(t),Om--),Om===0&&(hs?.disconnect(),hs=null))}}var IO=(t,e,n,r)=>{};function wO(t,e,n,r){IO(t,e,n,r)}var Eb=new j("");function Xd(t){return(t.flags&32)===32}var DO=()=>null;function Ib(t,e,n=!1){return DO(t,e,n)}function wb(t){return t.get(_b,!1,{optional:!0})}function Db(t,e){let n=t.contentQueries;if(n!==null){let r=K(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];pd(o),a.contentQueries(2,e[s],s)}}}finally{K(r)}}}function Jm(t,e,n){pd(0);let r=K(null);try{e(t,n)}finally{K(r)}}function Tb(t,e,n){if(um(e)){let r=K(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{K(r)}}}var ar=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ar||{});var Id;function TO(){if(Id===void 0&&(Id=null,oc.trustedTypes))try{Id=oc.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Id}function _C(t){return TO()?.createScriptURL(t)||t}var Od=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Zl})`}};function Sc(t){return t instanceof Od?t.changingThisBreaksApplicationSecurity:t}function Ay(t,e){let n=Cb(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Zl})`)}return n===e}function Cb(t){return t instanceof Od&&t.getTypeName()||null}var CO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bb(t){return t=String(t),t.match(CO)?t:"unsafe:"+t}var eh=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(eh||{});function Sb(t){let e=Rb();return e?e.sanitize(eh.URL,t)||"":Ay(t,"URL")?Sc(t):bb(Fi(t))}function Ab(t){let e=Rb();if(e)return _C(e.sanitize(eh.RESOURCE_URL,t)||"");if(Ay(t,"ResourceURL"))return _C(Sc(t));throw new V(904,!1)}function bO(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?Ab:Sb}function Ry(t,e,n){return bO(e,n)(t)}function Rb(){let t=Y();return t&&t[Rn].sanitizer}function Nb(t){return t instanceof Function?t():t}function SO(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var Mb="ng-template";function AO(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&SO(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Ny(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Ny(t){return t.type===4&&t.value!==Mb}function RO(t,e,n){let r=t.type===4&&!n?Mb:t.value;return e===r}function NO(t,e,n){let r=4,i=t.attrs,o=i!==null?xO(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!gn(r)&&!gn(u))return!1;if(s&&gn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!RO(t,u,n)||u===""&&e.length===1){if(gn(r))return!1;s=!0}}else if(r&8){if(i===null||!AO(t,i,u,n)){if(gn(r))return!1;s=!0}}else{let l=e[++a],h=MO(u,i,Ny(t),n);if(h===-1){if(gn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(gn(r))return!1;s=!0}}}}return gn(r)||s}function gn(t){return(t&1)===0}function MO(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return kO(e,t)}function Pb(t,e,n=!1){for(let r=0;r<e.length;r++)if(NO(t,e[r],n))return!0;return!1}function PO(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function xO(t){for(let e=0;e<t.length;e++){let n=t[e];if(eb(n))return e}return t.length}function kO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function OO(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function EC(t,e){return t?":not("+e.trim()+")":e}function FO(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!gn(s)&&(e+=EC(o,i),i=""),r=s,o=o||!gn(r);n++}return i!==""&&(e+=EC(o,i)),e}function LO(t){return t.map(FO).join(",")}function VO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!gn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var St={};function jO(t,e){return t.createText(e)}function UO(t,e,n){t.setValue(e,n)}function xb(t,e,n){return t.createElement(e,n)}function Fd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function kb(t,e,n){t.appendChild(e,n)}function IC(t,e,n,r,i){r!==null?Fd(t,e,n,r,i):kb(t,e,n)}function Ob(t,e,n){t.removeChild(null,e,n)}function BO(t,e,n){t.setAttribute(e,"style",n)}function $O(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Fb(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Xk(t,e,r),i!==null&&$O(t,e,i),o!==null&&BO(t,e,o)}function My(t,e,n,r,i,o,s,a,u,l,h){let p=De+r,g=p+i,y=HO(p,g),I=typeof l=="function"?l():l;return y[B]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:I,incompleteFirstPass:!1,ssrId:h}}function HO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:St);return n}function qO(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=My(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Py(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[ln]=i,p[Q]=r|4|128|8|64|1024,(l!==null||t&&t[Q]&2048)&&(p[Q]|=2048),hm(p),p[qe]=p[Vi]=t,p[Be]=n,p[Rn]=s||t&&t[Rn],p[Se]=a||t&&t[Se],p[jt]=u||t&&t[jt]||null,p[Tt]=o,p[dc]=pO(),p[Li]=h,p[cm]=l,p[Ct]=e.type==2?t[Ct]:p,p}function zO(t,e,n){let r=fn(e,t),i=qO(n),o=t[Rn].rendererFactory,s=xy(t,Py(t,i,null,Lb(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function Lb(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Vb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function xy(t,e){return t[ss]?t[am][Qt]=e:t[ss]=e,t[am]=e,e}function GO(t=1){jb(ke(),Y(),xn()+t,!1)}function jb(t,e,n,r){if(!r)if((e[Q]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Dd(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Td(e,o,0,n)}Gr(n)}var th=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(th||{});function Xm(t,e,n,r){let i=K(null);try{let[o,s,a]=t.inputs[n],u=null;(s&th.SignalBased)!==0&&(u=e[o][It]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):QC(e,u,o,r)}finally{K(i)}}var Fn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Fn||{}),WO;function ky(t,e){return WO(t,e)}function ps(t,e,n,r,i){if(r!=null){let o,s=!1;dn(r)?o=r:Mn(r)&&(s=!0,r=r[ln]);let a=Yt(r);t===0&&n!==null?i==null?kb(e,n,a):Fd(e,n,a,i||null,!0):t===1&&n!==null?Fd(e,n,a,i||null,!0):t===2?Ob(e,a,s):t===3&&e.destroyNode(a),o!=null&&r1(e,t,o,n,i)}}function KO(t,e){Ub(t,e),e[ln]=null,e[Tt]=null}function QO(t,e,n,r,i,o){r[ln]=i,r[Tt]=e,rh(t,r,n,1,i,o)}function Ub(t,e){e[Rn].changeDetectionScheduler?.notify(9),rh(t,e,e[Se],2,null,null)}function YO(t){let e=t[ss];if(!e)return Fm(t[B],t);for(;e;){let n=null;if(Mn(e))n=e[ss];else{let r=e[et];r&&(n=r)}if(!n){for(;e&&!e[Qt]&&e!==t;)Mn(e)&&Fm(e[B],e),e=e[qe];e===null&&(e=t),Mn(e)&&Fm(e[B],e),n=e&&e[Qt]}e=n}}function Oy(t,e){let n=t[Bi],r=n.indexOf(e);n.splice(r,1)}function nh(t,e){if(Pn(e))return;let n=e[Se];n.destroyNode&&rh(t,e,n,3,null,null),YO(e)}function Fm(t,e){if(Pn(e))return;let n=K(null);try{e[Q]&=-129,e[Q]|=256,e[Ut]&&ts(e[Ut]),JO(t,e),ZO(t,e),e[B].type===1&&e[Se].destroy();let r=e[Br];if(r!==null&&dn(e[qe])){r!==e[qe]&&Oy(r,e);let i=e[Nn];i!==null&&i.detachView(t)}Qm(e)}finally{K(n)}}function ZO(t,e){let n=t.cleanup,r=e[os];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[os]=null);let i=e[tr];if(i!==null){e[tr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[sr];if(o!==null){e[sr]=null;for(let s of o)s.destroy()}}function JO(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof zi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];pe(4,a,u);try{u.call(a)}finally{pe(5,a,u)}}else{pe(4,i,o);try{o.call(i)}finally{pe(5,i,o)}}}}}function Bb(t,e,n){return XO(t,e.parent,n)}function XO(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[ln];if(qr(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===ar.None||i===ar.Emulated)return null}return fn(r,n)}function $b(t,e,n){return t1(t,e,n)}function e1(t,e,n){return t.type&40?fn(t,n):null}var t1=e1,wC;function Fy(t,e,n,r){let i=Bb(t,r,e),o=e[Se],s=r.parent||e[Tt],a=$b(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)IC(o,i,n[u],a,!1);else IC(o,i,n,a,!1);wC!==void 0&&wC(o,r,e,n,i)}function vc(t,e){if(e!==null){let n=e.type;if(n&3)return fn(e,t);if(n&4)return ey(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return vc(t,r);{let i=t[e.index];return dn(i)?ey(-1,i):Yt(i)}}else{if(n&128)return vc(t,e.next);if(n&32)return ky(e,t)()||Yt(t[e.index]);{let r=Hb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ur(t[Ct]);return vc(i,r)}else return vc(t,e.next)}}}return null}function Hb(t,e){if(e!==null){let r=t[Ct][Tt],i=e.projection;return r.projection[i]}return null}function ey(t,e){let n=et+t+1;if(n<e.length){let r=e[n],i=r[B].firstChild;if(i!==null)return vc(r,i)}return e[Hr]}function Ly(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&vs(Yt(a),r),n.flags|=2),!Xd(n))if(u&8)Ly(t,e,n.child,r,i,o,!1),ps(e,t,i,a,o);else if(u&32){let l=ky(n,r),h;for(;h=l();)ps(e,t,i,h,o);ps(e,t,i,a,o)}else u&16?qb(t,e,r,n,i,o):ps(e,t,i,a,o);n=s?n.projectionNext:n.next}}function rh(t,e,n,r,i,o){Ly(n,r,t.firstChild,e,i,o,!1)}function n1(t,e,n){let r=e[Se],i=Bb(t,n,e),o=n.parent||e[Tt],s=$b(o,n,e);qb(r,0,e,n,i,s)}function qb(t,e,n,r,i,o){let s=n[Ct],u=s[Tt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];ps(e,t,i,h,o)}else{let l=u,h=s[qe];lb(r)&&(l.flags|=128),Ly(t,e,l,h,i,o,!0)}}function r1(t,e,n,r,i){let o=n[Hr],s=Yt(n);o!==s&&ps(e,t,r,o,i);for(let a=et;a<n.length;a++){let u=n[a];rh(u[B],u,t,e,r,o)}}function i1(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Fn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Fn.Important),t.setStyle(n,r,i,o))}}function zb(t,e,n,r,i){let o=xn(),s=r&2;try{Gr(-1),s&&e.length>De&&jb(t,e,De,!1),pe(s?2:0,i,n),n(r,i)}finally{Gr(o),pe(s?3:1,i,n)}}function Gb(t,e,n){h1(t,e,n),(n.flags&64)===64&&f1(t,e,n)}function Vy(t,e,n=fn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function o1(t,e,n,r){let o=r.get(vb,yb)||n===ar.ShadowDom,s=t.selectRootElement(e,o);return s1(s),s}function s1(t){a1(t)}var a1=()=>null;function c1(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function u1(t,e,n,r,i,o){let s=e[B];if(Uy(t,s,e,n,r)){qr(t)&&d1(e,t.index);return}t.type&3&&(n=c1(n)),l1(t,e,n,r,i,o)}function l1(t,e,n,r,i,o){if(t.type&3){let s=fn(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function d1(t,e){let n=Zt(e,t);n[Q]&16||(n[Q]|=64)}function h1(t,e,n){let r=n.directiveStart,i=n.directiveEnd;qr(n)&&zO(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||xd(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=Ec(e,t,s,n);if(vs(u,e),o!==null&&v1(e,s-r,u,a,n,o),hn(a)){let l=Zt(n.index,e);l[Be]=Ec(e,t,s,n)}}}function f1(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=iC();try{Gr(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];fd(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&p1(u,l)}}finally{Gr(-1),fd(s)}}function p1(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function g1(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];Pb(e,o.selectors,!1)&&(r??=[],hn(o)?r.unshift(o):r.push(o))}return r}function m1(t,e,n,r,i,o){let s=fn(t,e);y1(e[Se],s,o,t.value,n,r,i)}function y1(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Fi(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function v1(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Xm(r,n,u,l)}}function Wb(t,e,n,r,i){let o=De+n,s=e[B],a=i(s,e,t,r,n);e[o]=a,cs(t,!0);let u=t.type===2;return u?(Fb(e[Se],a,t),(WT()===0||sd(t))&&vs(a,e),KT()):vs(a,e),yd()&&(!u||!Xd(t))&&Fy(s,e,a,t),t}function Kb(t){let e=t;return wm()?Dm():(e=e.parent,cs(e,!1)),e}function jy(t,e){let n=t[jt];if(!n)return;n.get(bt,null)?.(e)}function Uy(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Xm(p,n[l],h,i),a=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];Xm(h,l,r,i),a=!0}return a}function _1(t,e){let n=Zt(e,t),r=n[B];E1(r,n);let i=n[ln];i!==null&&n[Li]===null&&(n[Li]=Ib(i,n[jt])),pe(18),By(r,n,n[Be]),pe(19,n[Be])}function E1(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function By(t,e,n){gd(e);try{let r=t.viewQuery;r!==null&&Jm(1,r,n);let i=t.template;i!==null&&zb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Nn]?.finishViewCreation(t),t.staticContentQueries&&Db(t,e),t.staticViewQueries&&Jm(2,t.viewQuery,n);let o=t.components;o!==null&&I1(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Q]&=-5,md()}}function I1(t,e){for(let n=0;n<e.length;n++)_1(t,e[n])}function Ts(t,e,n,r){let i=K(null);try{let o=e.tView,a=t[Q]&4096?4096:16,u=Py(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Br]=l;let h=t[Nn];return h!==null&&(u[Nn]=h.createEmbeddedView(o)),By(o,u,n),u}finally{K(i)}}function Gi(t,e){return!e||e.firstChild===null||lb(t)}var DC=!1,w1=new j("");function Ic(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Yt(o)),dn(o)&&Qb(o,r);let s=n.type;if(s&8)Ic(t,e,n.child,r);else if(s&32){let a=ky(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=Hb(e,n);if(Array.isArray(a))r.push(...a);else{let u=Ur(e[Ct]);Ic(u[B],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Qb(t,e){for(let n=et;n<t.length;n++){let r=t[n],i=r[B].firstChild;i!==null&&Ic(r[B],r,i,e)}t[Hr]!==t[ln]&&e.push(t[Hr])}function Yb(t){if(t[Ui]!==null){for(let e of t[Ui])e.impl.addSequence(e);t[Ui].length=0}}var Zb=[];function D1(t){return t[Ut]??T1(t)}function T1(t){let e=Zb.pop()??Object.create(b1);return e.lView=t,e}function C1(t){t.lView[Ut]!==t&&(t.lView=null,Zb.push(t))}var b1=W(x({},Lr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{zr(t.lView)},consumerOnSignalRead(){this.lView[Ut]=this}});function S1(t){let e=t[Ut]??Object.create(A1);return e.lView=t,e}var A1=W(x({},Lr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Ur(t.lView);for(;e&&!Jb(e[B]);)e=Ur(e);e&&fm(e)},consumerOnSignalRead(){this.lView[Ut]=this}});function Jb(t){return t.type!==2}function Xb(t){if(t[sr]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[sr])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[Q]&8192)}}var R1=100;function $y(t,e=0){let r=t[Rn].rendererFactory,i=!1;i||r.begin?.();try{N1(t,e)}finally{i||r.end?.()}}function N1(t,e){let n=Cm();try{us(!0),ty(t,e);let r=0;for(;fc(t);){if(r===R1)throw new V(103,!1);r++,ty(t,1)}}finally{us(n)}}function e0(t,e){Tm(e?gc.Exhaustive:gc.OnlyDirtyViews);try{$y(t)}finally{Tm(gc.Off)}}function M1(t,e,n,r){if(Pn(e))return;let i=e[Q],o=!1,s=!1;gd(e);let a=!0,u=null,l=null;o||(Jb(t)?(l=D1(e),u=Vr(l)):Ul()===null?(a=!1,l=S1(e),u=Vr(l)):e[Ut]&&(ts(e[Ut]),e[Ut]=null));try{hm(e),tC(t.bindingStartIndex),n!==null&&zb(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&Dd(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Td(e,y,0,null),xm(e,0)}if(s||P1(e),Xb(e),t0(e,0),t.contentQueries!==null&&Db(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&Dd(e,y)}else{let y=t.contentHooks;y!==null&&Td(e,y,1),xm(e,1)}k1(t,e);let p=t.components;p!==null&&r0(e,p,0);let g=t.viewQuery;if(g!==null&&Jm(2,g,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&Dd(e,y)}else{let y=t.viewHooks;y!==null&&Td(e,y,2),xm(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[od]){for(let y of e[od])y();e[od]=null}o||(Yb(e),e[Q]&=-73)}catch(h){throw o||zr(e),h}finally{l!==null&&(Ri(l,u),a&&C1(l)),md()}}function t0(t,e){for(let n=hb(t);n!==null;n=fb(n))for(let r=et;r<n.length;r++){let i=n[r];n0(i,e)}}function P1(t){for(let e=hb(t);e!==null;e=fb(e)){if(!(e[Q]&2))continue;let n=e[Bi];for(let r=0;r<n.length;r++){let i=n[r];fm(i)}}}function x1(t,e,n){pe(18);let r=Zt(e,t);n0(r,n),pe(19,r[Be])}function n0(t,e){cd(t)&&ty(t,e)}function ty(t,e){let r=t[B],i=t[Q],o=t[Ut],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&es(o)),s||=!1,o&&(o.dirty=!1),t[Q]&=-9217,s)M1(r,t,r.template,t[Be]);else if(i&8192){let a=K(null);try{Xb(t),t0(t,1);let u=r.components;u!==null&&r0(t,u,1),Yb(t)}finally{K(a)}}}function r0(t,e,n){for(let r=0;r<e.length;r++)x1(t,e[r],n)}function k1(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Gr(~i);else{let o=i,s=n[++r],a=n[++r];rC(s,o);let u=e[o];pe(24,u),a(2,u),pe(25,u)}}}finally{Gr(-1)}}function ih(t,e){let n=Cm()?64:1088;for(t[Rn].changeDetectionScheduler?.notify(e);t;){t[Q]|=n;let r=Ur(t);if(as(t)&&!r)return t;t=r}return null}function i0(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function o0(t,e){let n=et+e;if(n<t.length)return t[n]}function Cs(t,e,n,r=!0){let i=e[B];if(O1(i,e,t,n),r){let s=ey(n,t),a=e[Se],u=a.parentNode(t[Hr]);u!==null&&QO(i,t[Tt],a,e,u,s)}let o=e[Li];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Hy(t,e){let n=wc(t,e);return n!==void 0&&nh(n[B],n),n}function wc(t,e){if(t.length<=et)return;let n=et+e,r=t[n];if(r){let i=r[Br];i!==null&&i!==t&&Oy(i,r),e>0&&(t[n-1][Qt]=r[Qt]);let o=ac(t,et+e);KO(r[B],r);let s=o[Nn];s!==null&&s.detachView(o[B]),r[qe]=null,r[Qt]=null,r[Q]&=-129}return r}function O1(t,e,n,r){let i=et+r,o=n.length;r>0&&(n[i-1][Qt]=e),r<o-et?(e[Qt]=n[i],em(n,et+r,e)):(n.push(e),e[Qt]=null),e[qe]=n;let s=e[Br];s!==null&&n!==s&&s0(s,e);let a=e[Nn];a!==null&&a.insertView(t),ud(e),e[Q]|=128}function s0(t,e){let n=t[Bi],r=e[qe];if(Mn(r))t[Q]|=2;else{let i=r[qe][Ct];e[Ct]!==i&&(t[Q]|=2)}n===null?t[Bi]=[e]:n.push(e)}var Qr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[B];return Ic(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[Be]}set context(e){this._lView[Be]=e}get destroyed(){return Pn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[qe];if(dn(e)){let n=e[hc],r=n?n.indexOf(this):-1;r>-1&&(wc(e,r),ac(n,r))}this._attachedToViewContainer=!1}nh(this._lView[B],this._lView)}onDestroy(e){pc(this._lView,e)}markForCheck(){ih(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Q]&=-129}reattach(){ud(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,$y(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[jt].get(w1,DC)}catch{this.exhaustive=DC}}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=as(this._lView),n=this._lView[Br];n!==null&&!e&&Oy(n,this._lView),Ub(this._lView[B],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;let n=as(this._lView),r=this._lView[Br];r!==null&&!n&&s0(r,this._lView),ud(this._lView)}};var _s=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=F1;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=Ts(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Qr(o)}}return t})();function F1(){return qy(tt(),Y())}function qy(t,e){return t.type&4?new _s(e,t,Ds(t,e)):null}function Ac(t,e,n,r,i){let o=t.data[e];if(o===null)o=L1(t,e,n,r,i),nC()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=JT();o.injectorIndex=s===null?-1:s.injectorIndex}return cs(o,!0),o}function L1(t,e,n,r,i){let o=Im(),s=wm(),a=s?o:o&&o.parent,u=t.data[e]=j1(t,a,n,e,r,i);return V1(t,u,o,s),u}function V1(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function j1(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return vm()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var hK=new RegExp(`^(\\d+)*(${vO}|${yO})*(.*)`);function U1(t){let e=t[$r]??[],r=t[qe][Se],i=[];for(let o of e)o.data[by]!==void 0?i.push(o):B1(o,r);t[$r]=i}function B1(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[mb];for(;n<i;){let o=r.nextSibling;Ob(e,r,!1),r=o,n++}}}var $1=()=>null,H1=()=>null;function Ld(t,e){return $1(t,e)}function a0(t,e,n){return H1(t,e,n)}var c0=class{},oh=class{},ny=class{resolveComponentFactory(e){throw new V(917,!1)}},Rc=class{static NULL=new ny},Wi=class{},Jt=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>q1()}return t})();function q1(){let t=Y(),e=tt(),n=Zt(e.index,t);return(Mn(n)?n:t)[Se]}var u0=(()=>{class t{static \u0275prov=U({token:t,providedIn:"root",factory:()=>null})}return t})();var bd={},ms=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,bd,r);return i!==bd||n===bd?i:this.parentInjector.get(e,n,r)}};function Vd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Jl(i,a);else if(o==2){let u=a,l=e[++s];r=Jl(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function X(t,e=0){let n=Y();if(n===null)return ne(t,e);let r=tt();return ab(r,n,Je(t),e)}function z1(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}K1(t,e,n,a,o,u,l)}o!==null&&r!==null&&G1(n,r,o)}function G1(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new V(-301,!1);r.push(e[i],o)}}function W1(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function K1(t,e,n,r,i,o,s){let a=r.length,u=!1;for(let g=0;g<a;g++){let y=r[g];!u&&hn(y)&&(u=!0,W1(t,n,g)),Wm(xd(n,e),t,y.type)}eF(n,t.data.length,a);for(let g=0;g<a;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=Vb(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let g=0;g<a;g++){let y=r[g];if(n.mergedAttrs=ys(n.mergedAttrs,y.hostAttrs),Y1(t,n,e,p,y),X1(p,y,i),s!==null&&s.has(y)){let[S,R]=s.get(y);n.directiveToIndex.set(y.type,[p,S+n.directiveStart,R+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let I=y.type.prototype;!l&&(I.ngOnChanges||I.ngOnInit||I.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(I.ngOnChanges||I.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}Q1(t,n,o)}function Q1(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))TC(0,e,i,r),TC(1,e,i,r),bC(e,r,!1);else{let o=n.get(i);CC(0,e,o,r),CC(1,e,o,r),bC(e,r,!0)}}}function TC(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),l0(e,o)}}function CC(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),l0(e,s)}}function l0(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function bC(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Ny(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function Y1(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=jr(i.type,!0)),s=new zi(o,hn(i),X,null);t.blueprint[r]=s,n[r]=s,Z1(t,e,r,Vb(t,n,i.hostVars,St),i)}function Z1(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;J1(s)!=a&&s.push(a),s.push(n,r,o)}}function J1(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function X1(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;hn(e)&&(n[""]=t)}}function eF(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function d0(t,e,n,r,i,o,s,a){let u=e[B],l=u.consts,h=pn(l,s),p=Ac(u,t,n,r,h);return o&&z1(u,e,p,pn(l,a),i),p.mergedAttrs=ys(p.mergedAttrs,p.attrs),p.attrs!==null&&Vd(p,p.attrs,!1),p.mergedAttrs!==null&&Vd(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function h0(t,e){Qk(t,e),um(e)&&t.queries.elementEnd(e)}function tF(t,e,n,r,i,o){let s=e.consts,a=pn(s,i),u=Ac(e,t,n,r,a);if(u.mergedAttrs=ys(u.mergedAttrs,u.attrs),o!=null){let l=pn(s,o);u.localNames=[];for(let h=0;h<l.length;h+=2)u.localNames.push(l[h],-1)}return u.attrs!==null&&Vd(u,u.attrs,!1),u.mergedAttrs!==null&&Vd(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function zy(t,e,n){return t[e]=n}function nF(t,e){return t[e]}function Ln(t,e,n){if(n===St)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function f0(t,e,n,r){let i=Ln(t,e,n);return Ln(t,e+1,r)||i}function Sd(t,e,n){return function r(i){let o=qr(t)?Zt(t.index,e):e;ih(o,5);let s=e[Be],a=SC(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=SC(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function SC(t,e,n,r){let i=K(null);try{return pe(6,e,n),n(r)!==!1}catch(o){return jy(t,o),!1}finally{pe(7,e,n),K(i)}}function p0(t,e,n,r,i,o,s,a){let u=sd(t),l=!1,h=null;if(!r&&u&&(h=rF(e,n,o,t.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=fn(t,n),g=r?r(p):p;wO(n,g,o,a);let y=i.listen(g,o,a),I=r?S=>r(Yt(S[t.index])):t.index;g0(I,e,n,o,a,y,!1)}return l}function rF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[os],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function g0(t,e,n,r,i,o,s){let a=e.firstCreatePass?mm(e):null,u=gm(n),l=u.length;u.push(i,o),a&&a.push(r,t,l,(l+1)*(s?-1:1))}function AC(t,e,n,r,i,o){let s=e[n],a=e[B],l=a.data[n].outputs[r],p=s[l].subscribe(o);g0(t.index,a,e,i,o,p,!0)}var ry=Symbol("BINDING");var jd=class extends Rc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=or(e);return new Es(n,this.ngModule)}};function iF(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&th.SignalBased)!==0};return i&&(o.transform=i),o})}function oF(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function sF(t,e,n){let r=e instanceof je?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new ms(n,r):n}function aF(t){let e=t.get(Wi,null);if(e===null)throw new V(407,!1);let n=t.get(u0,null),r=t.get(Kt,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function cF(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return xb(e,n,n==="svg"?$T:n==="math"?HT:null)}var Es=class extends oh{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=iF(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=oF(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=LO(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){pe(22);let a=K(null);try{let u=this.componentDef,l=uF(r,u,s,o),h=sF(u,i||this.ngModule,e),p=aF(h),g=p.rendererFactory.createRenderer(null,u),y=r?o1(g,r,u.encapsulation,h):cF(u,g),I=s?.some(RC)||o?.some(k=>typeof k!="function"&&k.bindings.some(RC)),S=Py(null,l,null,512|Lb(u),null,null,p,g,h,null,Ib(y,h,!0));S[De]=y,gd(S);let R=null;try{let k=d0(De,S,2,"#host",()=>l.directiveRegistry,!0,0);y&&(Fb(g,y,k),vs(y,S)),Gb(l,S,k),Tb(l,k,S),h0(l,k),n!==void 0&&dF(k,this.ngContentSelectors,n),R=Zt(k.index,S),S[Be]=R[Be],By(l,S,null)}catch(k){throw R!==null&&Qm(R),Qm(S),k}finally{pe(23),md()}return new Ud(this.componentType,S,!!I)}finally{K(a)}}};function uF(t,e,n,r){let i=t?["ng-version","20.1.2"]:VO(e.selectors[0]),o=null,s=null,a=0;if(n)for(let h of n)a+=h[ry].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let g of p.bindings){a+=g[ry].requiredVars;let y=h+1;g.create&&(g.targetIdx=y,(o??=[]).push(g)),g.update&&(g.targetIdx=y,(s??=[]).push(g))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,g=cc(p);u.push(g)}return My(0,null,lF(o,s),1,a,u,null,null,null,[i],null)}function lF(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function RC(t){let e=t[ry].kind;return e==="input"||e==="twoWay"}var Ud=class extends c0{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=$i(n[B],De),this.location=Ds(this._tNode,n),this.instance=Zt(this._tNode.index,n)[Be],this.hostView=this.changeDetectorRef=new Qr(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Uy(r,i[B],i,e,n);this.previousInputValues.set(e,n);let s=Zt(r.index,i);ih(s,1)}get injector(){return new qi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function dF(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Zi=(()=>{class t{static __NG_ELEMENT_ID__=hF}return t})();function hF(){let t=tt();return y0(t,Y())}var fF=Zi,m0=class extends fF{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ds(this._hostTNode,this._hostLView)}get injector(){return new qi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Dy(this._hostTNode,this._hostLView);if(tb(e)){let n=Md(e,this._hostLView),r=Nd(e),i=n[B].data[r+8];return new qi(i,n)}else return new qi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=NC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-et}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Ld(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Gi(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let u=e&&!qk(e),l;if(u)l=n;else{let R=n||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,a=R.bindings}let h=u?e:new Es(or(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let k=(u?p:this.parentInjector).get(je,null);k&&(o=k)}let g=or(h.componentType??{}),y=Ld(this._lContainer,g?.id??null),I=y?.firstChild??null,S=h.create(p,i,I,o,s,a);return this.insertImpl(S.hostView,l,Gi(this._hostTNode,y)),S}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(zT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[qe],l=new m0(u,u[Tt],u[qe]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Cs(s,i,o,r),e.attachToViewContainerRef(),em(Lm(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=NC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=wc(this._lContainer,n);r&&(ac(Lm(this._lContainer),n),nh(r[B],r))}detach(e){let n=this._adjustIndex(e,-1),r=wc(this._lContainer,n);return r&&ac(Lm(this._lContainer),n)!=null?new Qr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function NC(t){return t[hc]}function Lm(t){return t[hc]||(t[hc]=[])}function y0(t,e){let n,r=e[t.index];return dn(r)?n=r:(n=i0(r,e,null,t),e[t.index]=n,xy(e,n)),gF(n,e,t,r),new m0(n,t,e)}function pF(t,e){let n=t[Se],r=n.createComment(""),i=fn(e,t),o=n.parentNode(i);return Fd(n,o,r,n.nextSibling(i),!1),r}var gF=yF,mF=()=>!1;function v0(t,e,n){return mF(t,e,n)}function yF(t,e,n,r){if(t[Hr])return;let i;n.type&8?i=Yt(r):i=pF(e,n),t[Hr]=i}var iy=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},oy=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Gy(e,n).matches!==null&&this.queries[n].setDirty()}},Bd=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=CF(e):this.predicate=e}},sy=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},ay=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,vF(n,o)),this.matchTNodeWithReadOption(e,n,Cd(n,e,o,!1,!1))}else r===_s?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Cd(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===mt||i===Zi||i===_s&&n.type&4)this.addMatch(n.index,-2);else{let o=Cd(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function vF(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function _F(t,e){return t.type&11?Ds(t,e):t.type&4?qy(t,e):null}function EF(t,e,n,r){return n===-1?_F(e,t):n===-2?IF(t,e,r):Ec(t,t[B],n,e)}function IF(t,e,n){if(n===mt)return Ds(e,t);if(n===_s)return qy(e,t);if(n===Zi)return y0(e,t)}function _0(t,e,n,r){let i=e[Nn].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(EF(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function cy(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=_0(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=et;p<h.length;p++){let g=h[p];g[Br]===g[qe]&&cy(g[B],g,l,r)}if(h[Bi]!==null){let p=h[Bi];for(let g=0;g<p.length;g++){let y=p[g];cy(y[B],y,l,r)}}}}}return r}function wF(t,e){return t[Nn].queries[e].queryList}function E0(t,e,n){let r=new kd((n&4)===4);return GT(t,e,r,r.destroy),(e[Nn]??=new oy).queries.push(new iy(r))-1}function DF(t,e,n){let r=ke();return r.firstCreatePass&&(I0(r,new Bd(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),E0(r,Y(),e)}function TF(t,e,n,r){let i=ke();if(i.firstCreatePass){let o=tt();I0(i,new Bd(e,n,r),o.index),bF(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return E0(i,Y(),n)}function CF(t){return t.split(",").map(e=>e.trim())}function I0(t,e,n){t.queries===null&&(t.queries=new sy),t.queries.track(new ay(e,n))}function bF(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Gy(t,e){return t.queries.getByIndex(e)}function SF(t,e){let n=t[B],r=Gy(n,e);return r.crossesNgTemplate?cy(n,t,e,[]):_0(n,t,r,e)}var MC=new Set;function vn(t){MC.has(t)||(MC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Ki=class{},sh=class{};var $d=class extends Ki{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new jd(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=rm(e);this._bootstrapComponents=Nb(o.bootstrap),this._r3Injector=Nm(e,n,[{provide:Ki,useValue:this},{provide:Rc,useValue:this.componentFactoryResolver},...r],nr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Hd=class extends sh{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new $d(this.moduleType,e,[])}};var Dc=class extends Ki{injector;componentFactoryResolver=new jd(this);instance=null;constructor(e){super();let n=new xi([...e.providers,{provide:Ki,useValue:this},{provide:Rc,useValue:this.componentFactoryResolver}],e.parent||lc(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function bs(t,e,n=null){return new Dc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var AF=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=id(!1,n.type),i=r.length>0?bs([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=U({token:t,providedIn:"environment",factory:()=>new t(ne(je))})}return t})();function Nc(t){return ws(()=>{let e=w0(t),n=W(x({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ty.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(AF).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ar.Emulated,styles:t.styles||Dt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&vn("NgStandalone"),D0(n);let r=t.dependencies;return n.directiveDefs=PC(r,RF),n.pipeDefs=PC(r,im),n.id=PF(n),n})}function RF(t){return or(t)||cc(t)}function Jr(t){return ws(()=>({type:t.type,bootstrap:t.bootstrap||Dt,declarations:t.declarations||Dt,imports:t.imports||Dt,exports:t.exports||Dt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function NF(t,e){if(t==null)return cn;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=th.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function MF(t){if(t==null)return cn;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function le(t){return ws(()=>{let e=w0(t);return D0(e),e})}function Mc(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function w0(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||cn,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Dt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:NF(t.inputs,e),outputs:MF(t.outputs),debugInfo:null}}function D0(t){t.features?.forEach(e=>e(t))}function PC(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function PF(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function xF(t){return Object.getPrototypeOf(t.prototype).constructor}function Ot(t){let e=xF(t.type),n=!0,r=[t];for(;e;){let i;if(hn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Vm(t.inputs),s.declaredInputs=Vm(t.declaredInputs),s.outputs=Vm(t.outputs);let a=i.hostBindings;a&&VF(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&FF(t,u),l&&LF(t,l),kF(t,i),CT(t.outputs,i.outputs),hn(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Ot&&(n=!1)}}e=Object.getPrototypeOf(e)}OF(r)}function kF(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function OF(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ys(i.hostAttrs,n=ys(n,i.hostAttrs))}}function Vm(t){return t===cn?{}:t===Dt?[]:t}function FF(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function LF(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function VF(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Ji(t){let e=n=>{let r=Array.isArray(t);n.hostDirectives===null?(n.resolveHostDirectives=jF,n.hostDirectives=r?t.map(uy):[t]):r?n.hostDirectives.unshift(...t.map(uy)):n.hostDirectives.unshift(t)};return e.ngInherit=!0,e}function jF(t){let e=[],n=!1,r=null,i=null;for(let o=0;o<t.length;o++){let s=t[o];if(s.hostDirectives!==null){let a=e.length;r??=new Map,i??=new Map,T0(s,e,r),i.set(s,[a,e.length-1])}o===0&&hn(s)&&(n=!0,e.push(s))}for(let o=n?1:0;o<t.length;o++)e.push(t[o]);return[e,r,i]}function T0(t,e,n){if(t.hostDirectives!==null)for(let r of t.hostDirectives)if(typeof r=="function"){let i=r();for(let o of i)xC(uy(o),e,n)}else xC(r,e,n)}function xC(t,e,n){let r=cc(t.directive);UF(r.declaredInputs,t.inputs),T0(r,e,n),n.set(r,t),e.push(r)}function uy(t){return typeof t=="function"?{directive:Je(t),inputs:cn,outputs:cn}:{directive:Je(t.directive),inputs:kC(t.inputs),outputs:kC(t.outputs)}}function kC(t){if(t===void 0||t.length===0)return cn;let e={};for(let n=0;n<t.length;n+=2)e[t[n]]=t[n+1];return e}function UF(t,e){for(let n in e)if(e.hasOwnProperty(n)){let r=e[n],i=t[n];t[r]=i}}function BF(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=ys(t.mergedAttrs,t.attrs);let h=t.tView=My(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),h.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),cs(t,!1);let u=$F(n,e,t,r);yd()&&Fy(n,e,u,t),vs(u,e);let l=i0(u,e,u,t);e[r+De]=l,xy(e,l),v0(l,t,e)}function Qi(t,e,n,r,i,o,s,a,u,l,h){let p=n+De,g;if(e.firstCreatePass){if(g=Ac(e,p,4,s||null,a||null),l!=null){let y=pn(e.consts,l);g.localNames=[];for(let I=0;I<y.length;I+=2)g.localNames.push(y[I],-1)}}else g=e.data[p];return BF(g,t,e,n,r,i,o,u),l!=null&&Vy(t,g,h),g}function C0(t,e,n,r,i,o,s,a){let u=Y(),l=ke(),h=pn(l.consts,o);return Qi(u,l,t,e,n,r,i,h,void 0,s,a),C0}var $F=HF;function HF(t,e,n,r){return vd(!0),e[Se].createComment("")}var kt=function(t){return t[t.NOT_STARTED=0]="NOT_STARTED",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.COMPLETE=2]="COMPLETE",t[t.FAILED=3]="FAILED",t}(kt||{}),OC=0,qF=1,$e=function(t){return t[t.Placeholder=0]="Placeholder",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete",t[t.Error=3]="Error",t}($e||{}),Wy=function(t){return t[t.Initial=-1]="Initial",t}(Wy||{}),zF=0,Pc=1;var GF=4,WF=5,KF=6,QF=7,jm=8,YF=9,Ky=function(t){return t[t.Manual=0]="Manual",t[t.Playthrough=1]="Playthrough",t}(Ky||{});function b0(t,e,n){let r=A0(t);e[r]===null&&(e[r]=[]),e[r].push(n)}function Ad(t,e){let n=A0(t),r=e[n];if(r!==null){for(let i of r)i();e[n]=null}}function S0(t){Ad(1,t),Ad(0,t),Ad(2,t)}function A0(t){let e=GF;return t===1?e=WF:t===2&&(e=YF),e}var ah=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(ah||{}),Xi=new j(""),R0=!1,ly=class extends Ve{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,UT()&&(this.destroyRef=M(ut,{optional:!0})??void 0,this.pendingTasks=M(kn,{optional:!0})??void 0)}emit(e){let n=K(null);try{super.next(e)}finally{K(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Pe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Oe=ly;function N0(t){let e,n;function r(){t=Hi;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function FC(t){return queueMicrotask(()=>t()),()=>{t=Hi}}var Qy="isAngularZone",qd=Qy+"_ID",ZF=0,_e=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Oe(!1);onMicrotaskEmpty=new Oe(!1);onStable=new Oe(!1);onError=new Oe(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=R0}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,eL(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Qy)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new V(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,JF,Hi,Hi);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},JF={};function Yy(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function XF(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){N0(()=>{t.callbackScheduled=!1,dy(t),t.isCheckStableRunning=!0,Yy(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),dy(t)}function eL(t){let e=()=>{XF(t)},n=ZF++;t._inner=t._inner.fork({name:"angular",properties:{[Qy]:!0,[qd]:n,[qd+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(tL(u))return r.invokeTask(o,s,a,u);try{return LC(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),VC(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return LC(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!nL(u)&&e(),VC(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,dy(t),Yy(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function dy(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function LC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function VC(t){t._nesting--,Yy(t)}var Tc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Oe;onMicrotaskEmpty=new Oe;onStable=new Oe;onError=new Oe;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function tL(t){return M0(t,"__ignore_ng_zone__")}function nL(t){return M0(t,"__scheduler_tick__")}function M0(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Zy=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})(),P0=[0,1,2,3],x0=(()=>{class t{ngZone=M(_e);scheduler=M(Kt);errorHandler=M(Vt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){M(Xi,{optional:!0})}execute(){let n=this.sequences.size>0;n&&pe(16),this.executing=!0;for(let r of P0)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&pe(17)}register(n){let{view:r}=n;r!==void 0?((r[Ui]??=[]).push(n),zr(r),r[Q]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(ah.AFTER_NEXT_RENDER,n):n()}static \u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})(),zd=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Ui];e&&(this.view[Ui]=e.filter(n=>n!==this))}};function k0(t,e){let n=e?.injector??M(Ue);return vn("NgAfterRender"),O0(t,n,e,!1)}function ch(t,e){let n=e?.injector??M(Ue);return vn("NgAfterNextRender"),O0(t,n,e,!0)}function rL(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function O0(t,e,n,r){let i=e.get(Zy);i.impl??=e.get(x0);let o=e.get(Xi,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(ut):null,a=e.get(ds,null,{optional:!0}),u=new zd(i.impl,rL(t),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}function uh(t){return t+1}function Ss(t,e){let n=t[B],r=uh(e.index);return t[r]}function iL(t,e,n){let r=t[B],i=uh(e);t[i]=n}function As(t,e){let n=uh(e.index);return t.data[n]}function oL(t,e,n){let r=uh(e);t.data[r]=n}function sL(t,e,n){let r=e[B],i=As(r,n);switch(t){case $e.Complete:return i.primaryTmplIndex;case $e.Loading:return i.loadingTmplIndex;case $e.Error:return i.errorTmplIndex;case $e.Placeholder:return i.placeholderTmplIndex;default:return null}}function jC(t,e){return e===$e.Placeholder?t.placeholderBlockConfig?.[OC]??null:e===$e.Loading?t.loadingBlockConfig?.[OC]??null:null}function aL(t){return t.loadingBlockConfig?.[qF]??null}function UC(t,e){if(!t||t.length===0)return e;let n=new Set(t);for(let r of e)n.add(r);return t.length===n.size?t:Array.from(n)}function cL(t,e){let n=e.primaryTmplIndex+De;return $i(t,n)}function uL(t,e,n){let r=n.get(_e);return EO(t,()=>r.run(e),()=>r.runOutsideAngular(()=>_O()))}function lL(t,e,n){return n==null?t:n>=0?pm(n,t):t[e.index][et]??null}function dL(t,e){return ad(De+e,t)}function hL(t,e,n,r,i,o,s){let a=t[jt],u=a.get(_e),l;function h(){if(Pn(t)){l.destroy();return}let p=Ss(t,e),g=p[Pc];if(g!==Wy.Initial&&g!==$e.Placeholder){l.destroy();return}let y=lL(t,e,r);if(!y||(l.destroy(),Pn(y)))return;let I=dL(y,n),S=i(I,()=>{u.run(()=>{t!==y&&ld(y,S),o()})},a);t!==y&&pc(y,S),b0(s,p,S)}l=k0({read:h},{injector:a})}var fL=(()=>{class t{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){let s=i.length>0?bs(i,r,o):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=U({token:t,providedIn:"environment",factory:()=>new t})}return t})();var F0=new j("");function Um(t,e,n){return t.get(fL).getOrCreateInjector(e,t,n,"")}function pL(t,e,n){if(t instanceof ms){let i=t.injector,o=t.parentInjector,s=Um(o,e,n);return new ms(i,s)}let r=t.get(je);if(r!==t){let i=Um(r,e,n);return new ms(t,i)}return Um(t,e,n)}function Kr(t,e,n,r=!1){let i=n[qe],o=i[B];if(Pn(i))return;let s=Ss(i,e),a=s[Pc],u=s[QF];if(!(u!==null&&t<u)&&BC(a,t)&&BC(s[zF]??-1,t)){let l=As(o,e),p=!r&&!0&&(aL(l)!==null||jC(l,$e.Loading)!==null||jC(l,$e.Placeholder))?vL:mL;try{p(t,s,n,e,i)}catch(g){jy(i,g)}}}function gL(t,e){let n=t[$r]?.findIndex(i=>i.data[Sy]===e[Pc])??-1;return{dehydratedView:n>-1?t[$r][n]:null,dehydratedViewIx:n}}function mL(t,e,n,r,i){pe(20);let o=sL(t,i,r);if(o!==null){e[Pc]=t;let s=i[B],a=o+De,u=$i(s,a),l=0;Hy(n,l);let h;if(t===$e.Complete){let I=As(s,r),S=I.providers;S&&S.length>0&&(h=pL(i[jt],I,S))}let{dehydratedView:p,dehydratedViewIx:g}=gL(n,e),y=Ts(i,u,null,{injector:h,dehydratedView:p});if(Cs(n,y,l,Gi(u,p)),ih(y,2),g>-1&&n[$r]?.splice(g,1),(t===$e.Complete||t===$e.Error)&&Array.isArray(e[jm])){for(let I of e[jm])I();e[jm]=null}}pe(21)}function BC(t,e){return t<e}function yL(t,e){let n=t[e.index];Kr($e.Placeholder,e,n)}function $C(t,e,n){t.loadingPromise.then(()=>{t.loadingState===kt.COMPLETE?Kr($e.Complete,e,n):t.loadingState===kt.FAILED&&Kr($e.Error,e,n)})}var vL=null;var Jy=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Xy=new j("");function Xr(t){return!!t&&typeof t.then=="function"}function ev(t){return!!t&&typeof t.subscribe=="function"}var L0=new j("");var tv=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=M(L0,{optional:!0})??[];injector=M(Ue);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Xe(this.injector,i);if(Xr(o))n.push(o);else if(ev(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),lh=new j("");function V0(){Rg(()=>{let t="";throw new V(600,t)})}function j0(t){return t.isBoundToModule}var _L=10;var ur=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=M(bt);afterRenderManager=M(Zy);zonelessEnabled=M(mc);rootEffectScheduler=M(yc);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ve;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=M(kn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ce(n=>!n))}constructor(){M(Xi,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=M(je);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Ue.NULL){return this._injector.get(_e).run(()=>{pe(10);let s=n instanceof oh;if(!this._injector.get(tv).done){let I="";throw new V(405,I)}let u;s?u=n:u=this._injector.get(Rc).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let l=j0(u)?void 0:this._injector.get(Ki),h=r||u.selector,p=u.create(i,[],h,l),g=p.location.nativeElement,y=p.injector.get(Xy,null);return y?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),_c(this.components,p),y?.unregisterApplication(g)}),this._loadComponent(p),pe(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){pe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(ah.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new V(101,!1);let n=K(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,K(n),this.afterTick.next(),pe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Wi,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<_L;)pe(14),this.synchronizeOnce(),pe(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!fc(i))continue;let o=r&&!this.zonelessEnabled?0:1;$y(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>fc(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;_c(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(lh,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>_c(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new V(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _c(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function U0(t,e,n){let r=e[jt],i=e[B];if(t.loadingState!==kt.NOT_STARTED)return t.loadingPromise??Promise.resolve();let o=Ss(e,n),s=cL(i,t);t.loadingState=kt.IN_PROGRESS,Ad(1,o);let a=t.dependencyResolverFn,u=r.get(Wr).add();return a?(t.loadingPromise=Promise.allSettled(a()).then(l=>{let h=!1,p=[],g=[];for(let y of l)if(y.status==="fulfilled"){let I=y.value,S=or(I)||cc(I);if(S)p.push(S);else{let R=im(I);R&&g.push(R)}}else{h=!0;break}if(h){if(t.loadingState=kt.FAILED,t.errorTmplIndex===null){let y="",I=new V(-750,!1);jy(e,I)}}else{t.loadingState=kt.COMPLETE;let y=s.tView;if(p.length>0){y.directiveRegistry=UC(y.directiveRegistry,p);let I=p.map(R=>R.type),S=id(!1,...I);t.providers=S}g.length>0&&(y.pipeRegistry=UC(y.pipeRegistry,g))}}),t.loadingPromise.finally(()=>{t.loadingPromise=null,u()})):(t.loadingPromise=Promise.resolve().then(()=>{t.loadingPromise=null,t.loadingState=kt.COMPLETE,u()}),t.loadingPromise)}function EL(t,e){return e[jt].get(F0,null,{optional:!0})?.behavior!==Ky.Manual}function IL(t,e,n){let r=e[B],i=e[n.index];if(!EL(t,e))return;let o=Ss(e,n),s=As(r,n);switch(S0(o),s.loadingState){case kt.NOT_STARTED:Kr($e.Loading,n,i),U0(s,e,n),s.loadingState===kt.IN_PROGRESS&&$C(s,n,i);break;case kt.IN_PROGRESS:Kr($e.Loading,n,i),$C(s,n,i);break;case kt.COMPLETE:Kr($e.Complete,n,i);break;case kt.FAILED:Kr($e.Error,n,i);break;default:}}function wL(t,e,n){return t===0?HC(e,n):t===2?!HC(e,n):!0}function DL(t){return t!=null&&(t&1)===1}function HC(t,e){let n=t[jt],r=As(t[B],e),i=wb(n),o=DL(r.flags),a=Ss(t,e)[KF]!==null;return!(o&&a&&i)}function TL(t,e,n,r,i,o,s,a,u,l){let h=Y(),p=ke(),g=t+De,y=Qi(h,p,t,null,0,0),I=h[jt];if(p.firstCreatePass){vn("NgDefer");let Le={primaryTmplIndex:e,loadingTmplIndex:r??null,placeholderTmplIndex:i??null,errorTmplIndex:o??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:n??null,loadingState:kt.NOT_STARTED,loadingPromise:null,providers:null,hydrateTriggers:null,debug:null,flags:l??0};u?.(p,Le,a,s),oL(p,g,Le)}let S=h[g];v0(S,y,h);let R=null,k=null;if(S[$r]?.length>0){let Le=S[$r][0].data;k=Le[by]??null,R=Le[Sy]}let $=[null,Wy.Initial,null,null,null,null,k,R,null,null];iL(h,g,$);let G=null;k!==null&&(G=I.get(Eb),G.add(k,{lView:h,tNode:y,lContainer:S}));let ye=()=>{S0($),k!==null&&G?.cleanup([k])};b0(0,$,()=>ld(h,ye)),pc(h,ye)}function CL(t,e){let n=Y(),r=tt();wL(0,n,r)&&(yL(n,r),hL(n,r,t,e,uL,()=>IL(0,n,r),0))}function xc(t,e,n,r){let i=Y(),o=ls();if(Ln(i,o,e)){let s=ke(),a=Rm();m1(a,i,t,e,n,r)}return xc}var hy=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function Bm(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function bL(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=t.at(o),h=e[o],p=Bm(o,l,o,h,n);if(p!==0){p<0&&t.updateValue(o,h),o++;continue}let g=t.at(s),y=e[u],I=Bm(s,g,u,y,n);if(I!==0){I<0&&t.updateValue(s,y),s--,u--;continue}let S=n(o,l),R=n(s,g),k=n(o,h);if(Object.is(k,R)){let $=n(u,y);Object.is($,S)?(t.swap(o,s),t.updateValue(s,y),u--,s--):t.move(s,o),t.updateValue(o,h),o++;continue}if(r??=new Gd,i??=zC(t,o,s,n),fy(t,r,o,k))t.updateValue(o,h),o++,s++;else if(i.has(k))r.set(S,t.detach(o)),s--;else{let $=t.create(o,e[o]);t.attach(o,$),o++,s++}}for(;o<=u;)qC(t,r,n,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let h=t.at(o),p=l.value,g=Bm(o,h,o,p,n);if(g!==0)g<0&&t.updateValue(o,p),o++,l=u.next();else{r??=new Gd,i??=zC(t,o,s,n);let y=n(o,p);if(fy(t,r,o,y))t.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(y))t.attach(o,t.create(o,p)),o++,s++,l=u.next();else{let I=n(o,h);r.set(I,t.detach(o)),s--}}}for(;!l.done;)qC(t,r,n,t.length,l.value),l=u.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(u=>{t.destroy(u)})}function fy(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function qC(t,e,n,r,i){if(fy(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function zC(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var Gd=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function SL(t,e,n,r,i,o,s,a){vn("NgControlFlow");let u=Y(),l=ke(),h=pn(l.consts,o);return Qi(u,l,t,e,n,r,i,h,256,s,a),nv}function nv(t,e,n,r,i,o,s,a){vn("NgControlFlow");let u=Y(),l=ke(),h=pn(l.consts,o);return Qi(u,l,t,e,n,r,i,h,512,s,a),nv}function AL(t,e){vn("NgControlFlow");let n=Y(),r=ls(),i=n[r]!==St?n[r]:-1,o=i!==-1?Wd(n,De+i):void 0,s=0;if(Ln(n,r,t)){let a=K(null);try{if(o!==void 0&&Hy(o,s),t!==-1){let u=De+t,l=Wd(n,u),h=yy(n[B],u),p=a0(l,h,n),g=Ts(n,h,e,{dehydratedView:p});Cs(l,g,s,Gi(h,p))}}finally{K(a)}}else if(o!==void 0){let a=o0(o,s);a!==void 0&&(a[Be]=e)}}var py=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-et}};function RL(t){return t}function NL(t,e){return e}var gy=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function ML(t,e,n,r,i,o,s,a,u,l,h,p,g){vn("NgControlFlow");let y=Y(),I=ke(),S=u!==void 0,R=Y(),k=a?s.bind(R[Ct][Be]):s,$=new gy(S,k);R[De+t]=$,Qi(y,I,t+1,e,n,r,i,pn(I.consts,o),256),S&&Qi(y,I,t+2,u,l,h,p,pn(I.consts,g),512)}var my=class extends hy{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-et}at(e){return this.getLView(e)[Be].$implicit}attach(e,n){let r=n[Li];this.needsIndexUpdate||=e!==this.length,Cs(this.lContainer,n,e,Gi(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,xL(this.lContainer,e)}create(e,n){let r=Ld(this.lContainer,this.templateTNode.tView.ssrId),i=Ts(this.hostLView,this.templateTNode,new py(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){nh(e[B],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Be].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Be].$index=e}getLView(e){return kL(this.lContainer,e)}};function PL(t){let e=K(null),n=xn();try{let r=Y(),i=r[B],o=r[n],s=n+1,a=Wd(r,s);if(o.liveCollection===void 0){let l=yy(i,s);o.liveCollection=new my(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(bL(u,t,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=ls(),h=u.length===0;if(Ln(r,l,h)){let p=n+2,g=Wd(r,p);if(h){let y=yy(i,p),I=a0(g,y,r),S=Ts(r,y,void 0,{dehydratedView:I});Cs(g,S,0,Gi(y,I))}else i.firstUpdatePass&&U1(g),Hy(g,0)}}}finally{K(e)}}function Wd(t,e){return t[e]}function xL(t,e){return wc(t,e)}function kL(t,e){return o0(t,e)}function yy(t,e){return $i(t,e)}function B0(t,e,n){let r=Y(),i=ls();if(Ln(r,i,e)){let o=ke(),s=Rm();u1(s,r,t,e,r[Se],n)}return B0}function vy(t,e,n,r,i){Uy(e,t,n,i?"class":"style",r)}function rv(t,e,n,r){let i=Y(),o=i[B],s=t+De,a=o.firstCreatePass?d0(s,i,2,e,g1,QT(),n,r):o.data[s];if(Wb(a,i,t,e,H0),sd(a)){let u=i[B];Gb(u,i,a),Tb(u,a,i)}return r!=null&&Vy(i,a),rv}function iv(){let t=ke(),e=tt(),n=Kb(e);return t.firstCreatePass&&h0(t,n),_m(n)&&Em(),ym(),n.classesWithoutHost!=null&&Zk(n)&&vy(t,n,Y(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&Jk(n)&&vy(t,n,Y(),n.stylesWithoutHost,!1),iv}function Rs(t,e,n,r){return rv(t,e,n,r),iv(),Rs}function ov(t,e,n,r){let i=Y(),o=i[B],s=t+De,a=o.firstCreatePass?tF(s,o,2,e,n,r):o.data[s];return Wb(a,i,t,e,H0),r!=null&&Vy(i,a),ov}function sv(){let t=tt(),e=Kb(t);return _m(e)&&Em(),ym(),sv}function $0(t,e,n,r){return ov(t,e,n,r),sv(),$0}var H0=(t,e,n,r,i)=>(vd(!0),xb(e[Se],r,lC()));function OL(){return Y()}var kc="en-US";var FL=kc;function q0(t){typeof t=="string"&&(FL=t.toLowerCase().replace(/_/g,"-"))}function _n(t,e,n){let r=Y(),i=ke(),o=tt();return LL(i,r,r[Se],o,t,e,n),_n}function z0(t,e,n){let r=Y(),i=ke(),o=tt();return(o.type&3||n)&&p0(o,i,r,n,r[Se],t,e,Sd(o,r,e)),z0}function LL(t,e,n,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=Sd(r,e,o),p0(r,t,e,s,n,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let g=h[p],y=h[p+1];u??=Sd(r,e,o),AC(r,e,g,y,i,u)}if(l&&l.length)for(let p of l)u??=Sd(r,e,o),AC(r,e,p,i,i,u)}}function VL(t=1){return uC(t)}function jL(t,e){let n=null,r=PO(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?Pb(t,o,!0):OO(r,o))return i}return n}function UL(t){let e=Y()[Ct][Tt];if(!e.projection){let n=t?t.length:1,r=e.projection=xT(n,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=t?jL(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function BL(t,e=0,n,r,i,o){let s=Y(),a=ke(),u=r?t+1:null;u!==null&&Qi(s,a,u,r,i,o,null,n);let l=Ac(a,De+t,16,null,n||null);l.projection===null&&(l.projection=e),Dm();let p=!s[Li]||vm();s[Ct][Tt].projection[l.projection]===null&&u!==null?$L(s,a,u):p&&!Xd(l)&&n1(a,s,l)}function $L(t,e,n){let r=De+n,i=e.data[r],o=t[r],s=Ld(o,i.tView.ssrId),a=Ts(t,i,void 0,{dehydratedView:s});Cs(o,a,0,Gi(i,s))}function av(t,e,n,r){TF(t,e,n,r)}function HL(t,e,n){DF(t,e,n)}function cv(t){let e=Y(),n=ke(),r=bm();pd(r+1);let i=Gy(n,r);if(t.dirty&&qT(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=SF(e,r);t.reset(o,dO),t.notifyOnChanges()}return!0}return!1}function uv(){return wF(Y(),bm())}function qL(t){let e=XT();return lm(e,De+t)}function wd(t,e){return t<<17|e<<2}function Yi(t){return t>>17&32767}function zL(t){return(t&2)==2}function GL(t,e){return t&131071|e<<17}function _y(t){return t|2}function Is(t){return(t&131068)>>2}function $m(t,e){return t&-131069|e<<2}function WL(t){return(t&1)===1}function Ey(t){return t|1}function KL(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Yi(s),u=Is(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||is(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let g=Yi(t[a+1]);t[r+1]=wd(g,a),g!==0&&(t[g+1]=$m(t[g+1],r)),t[a+1]=GL(t[a+1],r)}else t[r+1]=wd(a,0),a!==0&&(t[a+1]=$m(t[a+1],r)),a=r;else t[r+1]=wd(u,0),a===0?a=r:t[u+1]=$m(t[u+1],r),u=r;l&&(t[r+1]=_y(t[r+1])),GC(t,h,r,!0),GC(t,h,r,!1),QL(e,h,t,r,o),s=wd(a,u),o?e.classBindings=s:e.styleBindings=s}function QL(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&is(o,e)>=0&&(n[r+1]=Ey(n[r+1]))}function GC(t,e,n,r){let i=t[n+1],o=e===null,s=r?Yi(i):Is(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];YL(u,e)&&(a=!0,t[s+1]=r?Ey(l):_y(l)),s=r?Yi(l):Is(l)}a&&(t[n+1]=r?_y(i):Ey(i))}function YL(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?is(t,e)>=0:!1}var mn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ZL(t){return t.substring(mn.key,mn.keyEnd)}function JL(t){return XL(t),G0(t,W0(t,0,mn.textEnd))}function G0(t,e){let n=mn.textEnd;return n===e?-1:(e=mn.keyEnd=eV(t,mn.key=e,n),W0(t,e,n))}function XL(t){mn.key=0,mn.keyEnd=0,mn.value=0,mn.valueEnd=0,mn.textEnd=t.length}function W0(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function eV(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Oc(t,e){return nV(t,e,null,!0),Oc}function lv(t){rV(uV,tV,t,!0)}function tV(t,e){for(let n=JL(e);n>=0;n=G0(e,n))nd(t,ZL(e),!0)}function nV(t,e,n,r){let i=Y(),o=ke(),s=hd(2);if(o.firstUpdatePass&&Q0(o,t,s,r),e!==St&&Ln(i,s,e)){let a=o.data[xn()];Y0(o,a,i,i[Se],t,i[s+1]=dV(e,n),r,s)}}function rV(t,e,n,r){let i=ke(),o=hd(2);i.firstUpdatePass&&Q0(i,null,o,r);let s=Y();if(n!==St&&Ln(s,o,n)){let a=i.data[xn()];if(Z0(a,r)&&!K0(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(n=Jl(u,n||"")),vy(i,a,s,n,r)}else lV(i,a,s,s[Se],s[o+1],s[o+1]=cV(t,e,n),r,o)}}function K0(t,e){return e>=t.expandoStartIndex}function Q0(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[xn()],s=K0(t,n);Z0(o,r)&&e===null&&!s&&(e=!1),e=iV(i,o,e,r),KL(i,o,e,n,s,r)}}function iV(t,e,n,r){let i=oC(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Hm(null,t,e,n,r),n=Cc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Hm(i,t,e,n,r),o===null){let u=oV(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Hm(null,t,e,u[1],r),u=Cc(u,e.attrs,r),sV(t,e,r,u))}else o=aV(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function oV(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Is(r)!==0)return t[Yi(r)]}function sV(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Yi(i)]=r}function aV(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Cc(r,s,n)}return Cc(r,e.attrs,n)}function Hm(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Cc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Cc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),nd(t,s,n?!0:e[++o]))}return t===void 0?null:t}function cV(t,e,n){if(n==null||n==="")return Dt;let r=[],i=Sc(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function uV(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&nd(t,r,n)}function lV(t,e,n,r,i,o,s,a){i===St&&(i=Dt);let u=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let g=u<i.length?i[u+1]:void 0,y=l<o.length?o[l+1]:void 0,I=null,S;h===p?(u+=2,l+=2,g!==y&&(I=p,S=y)):p===null||h!==null&&h<p?(u+=2,I=h):(l+=2,I=p,S=y),I!==null&&Y0(t,e,n,r,I,S,s,a),h=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function Y0(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=WL(l)?WC(u,e,n,i,Is(l),s):void 0;if(!Kd(h)){Kd(o)||zL(l)&&(o=WC(u,null,n,i,a,s));let p=ad(xn(),n);i1(r,s,p,i,o)}}function WC(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=n[i+1];g===St&&(g=p?Dt:void 0);let y=p?rd(g,r):h===r?g:void 0;if(l&&!Kd(y)&&(y=rd(u,r)),Kd(y)&&(a=y,s))return a;let I=t[i+1];i=s?Yi(I):Is(I)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=rd(u,r))}return a}function Kd(t){return t!==void 0}function dV(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=nr(Sc(t)))),t}function Z0(t,e){return(t.flags&(e?8:16))!==0}function hV(t,e=""){let n=Y(),r=ke(),i=t+De,o=r.firstCreatePass?Ac(r,i,1,e,null):r.data[i],s=fV(r,n,o,e,t);n[i]=s,yd()&&Fy(r,n,s,o),cs(o,!1)}var fV=(t,e,n,r,i)=>(vd(!0),jO(e[Se],r));function pV(t,e,n,r=""){return Ln(t,ls(),n)?e+Fi(n)+r:St}function gV(t,e,n,r,i,o=""){let s=eC(),a=f0(t,s,n,i);return hd(2),a?e+Fi(n)+r+Fi(i)+o:St}function J0(t){return dv("",t),J0}function dv(t,e,n){let r=Y(),i=pV(r,t,e,n);return i!==St&&eS(r,xn(),i),dv}function X0(t,e,n,r,i){let o=Y(),s=gV(o,t,e,n,r,i);return s!==St&&eS(o,xn(),s),X0}function eS(t,e,n){let r=ad(e,t);UO(t[Se],r,n)}function mV(t,e,n){let r=ke();if(r.firstCreatePass){let i=hn(t);Iy(n,r.data,r.blueprint,i,!0),Iy(e,r.data,r.blueprint,i,!1)}}function Iy(t,e,n,r,i){if(t=Je(t),Array.isArray(t))for(let o=0;o<t.length;o++)Iy(t[o],e,n,r,i);else{let o=ke(),s=Y(),a=tt(),u=Pi(t)?t:Je(t.provide),l=sm(t),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Pi(t)||!t.multi){let y=new zi(l,i,X,null),I=zm(u,e,i?h:h+g,p);I===-1?(Wm(xd(a,s),o,u),qm(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[I]=y,s[I]=y)}else{let y=zm(u,e,h+g,p),I=zm(u,e,h,h+g),S=y>=0&&n[y],R=I>=0&&n[I];if(i&&!R||!i&&!S){Wm(xd(a,s),o,u);let k=_V(i?vV:yV,n.length,i,r,l,t);!i&&R&&(n[I].providerFactory=k),qm(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(k),s.push(k)}else{let k=tS(n[i?I:y],l,!i&&r);qm(o,t,y>-1?y:I,k)}!i&&r&&R&&n[I].componentProviders++}}}function qm(t,e,n,r){let i=Pi(e),o=jT(e);if(i||o){let u=(o?Je(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function tS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function zm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function yV(t,e,n,r,i){return wy(this.multi,[])}function vV(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=Ec(r,r[B],this.providerFactory.index,i);s=u.slice(0,a),wy(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],wy(o,s);return s}function wy(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function _V(t,e,n,r,i,o){let s=new zi(t,n,X,null);return s.multi=[],s.index=e,s.componentProviders=0,tS(s,i,r&&!n),s}function ei(t,e=[]){return n=>{n.providersResolver=(r,i)=>mV(r,i?i(t):t,e)}}function EV(t,e,n){let r=dd()+t,i=Y();return i[r]===St?zy(i,r,n?e.call(n):e()):nF(i,r)}function IV(t,e,n,r,i){return DV(Y(),dd(),t,e,n,r,i)}function nS(t,e){let n=t[e];return n===St?void 0:n}function wV(t,e,n,r,i,o){let s=e+n;return Ln(t,s,i)?zy(t,s+1,o?r.call(o,i):r(i)):nS(t,s+1)}function DV(t,e,n,r,i,o,s){let a=e+n;return f0(t,a,i,o)?zy(t,a+2,s?r.call(s,i,o):r(i,o)):nS(t,a+2)}function TV(t,e){let n=ke(),r,i=t+De;n.firstCreatePass?(r=CV(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=jr(r.type,!0)),s,a=wt(X);try{let u=Pd(!1),l=o();return Pd(u),dm(n,Y(),i,l),l}finally{wt(a)}}function CV(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function bV(t,e,n){let r=t+De,i=Y(),o=lm(i,r);return SV(i,r)?wV(i,dd(),e,o.transform,n,o):o.transform(n)}function SV(t,e){return t[B].data[e].pure}var Qd=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},hv=(()=>{class t{compileModuleSync(n){return new Hd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=rm(n),o=Nb(i.declarations).reduce((s,a)=>{let u=or(a);return u&&s.push(new Es(u)),s},[]);return new Qd(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var AV=(()=>{class t{zone=M(_e);changeDetectionScheduler=M(Kt);applicationRef=M(ur);applicationErrorHandler=M(bt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rS({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new _e(W(x({},iS()),{scheduleInRootZone:n})),[{provide:_e,useFactory:t},{provide:ir,multi:!0,useFactory:()=>{let r=M(AV,{optional:!0});return()=>r.initialize()}},{provide:ir,multi:!0,useFactory:()=>{let r=M(RV);return()=>{r.initialize()}}},e===!0?{provide:Pm,useValue:!0}:[],{provide:_d,useValue:n??R0},{provide:bt,useFactory:()=>{let r=M(_e),i=M(je),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Vt),o.handleError(s))})}}}]}function iS(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var RV=(()=>{class t{subscription=new Pe;initialized=!1;zone=M(_e);pendingTasks=M(kn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var fv=(()=>{class t{applicationErrorHandler=M(bt);appRef=M(ur);taskService=M(kn);ngZone=M(_e);zonelessEnabled=M(mc);tracing=M(Xi,{optional:!0});disableScheduling=M(Pm,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Pe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(qd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(M(_d,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Tc||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?FC:N0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(qd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,FC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function NV(){return vn("NgZoneless"),un([{provide:Kt,useExisting:fv},{provide:_e,useClass:Tc},{provide:mc,useValue:!0},{provide:_d,useValue:!1},[]])}function MV(){return typeof $localize<"u"&&$localize.locale||kc}var dh=new j("",{providedIn:"root",factory:()=>M(dh,{optional:!0,skipSelf:!0})||MV()});var hh=class{destroyed=!1;listeners=null;errorHandler=M(Vt,{optional:!0});destroyRef=M(ut);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new V(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed){console.warn(ki(953,!1));return}if(this.listeners===null)return;let n=K(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{K(n)}}};function Bt(t){return wT(t)}function Xt(t,e){return zl(t,e?.equal)}var pv=class{[It];constructor(e){this[It]=e}destroy(){this[It].destroy()}};function fh(t,e){let n=e?.injector??M(Ue),r=e?.manualCleanup!==!0?n.get(ut):null,i,o=n.get(ds,null,{optional:!0}),s=n.get(Kt);return o!==null?(i=kV(o.view,s,t),r instanceof ic&&r._lView===o.view&&(r=null)):i=OV(t,n.get(yc),s),i.injector=n,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new pv(i)}var oS=W(x({},Lr),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Hi,run(){if(this.dirty=!1,this.hasRun&&!es(this))return;this.hasRun=!0;let t=r=>(this.cleanupFns??=[]).push(r),e=Vr(this),n=us(!1);try{this.maybeCleanup(),this.fn(t)}finally{us(n),Ri(this,e)}},maybeCleanup(){if(!this.cleanupFns?.length)return;let t=K(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],K(t)}}}),PV=W(x({},oS),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){ts(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),xV=W(x({},oS),{consumerMarkedDirty(){this.view[Q]|=8192,zr(this.view),this.notifier.notify(13)},destroy(){ts(this),this.onDestroyFn(),this.maybeCleanup(),this.view[sr]?.delete(this)}});function kV(t,e,n){let r=Object.create(xV);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=n,t[sr]??=new Set,t[sr].add(r),r.consumerMarkedDirty(r),r}function OV(t,e,n){let r=Object.create(PV);return r.fn=t,r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}var aS=Symbol("InputSignalNode#UNSET"),e2=W(x({},Gl),{transformFn:void 0,applyValueToInputSignal(t,e){ns(t,e)}});function cS(t,e){let n=Object.create(e2);n.value=t,n.transformFn=e?.transform;function r(){if(Xo(n),n.value===aS){let i=null;throw new V(-950,i)}return n.value}return r[It]=n,r}var gh=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>bc(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},t2=new j("");t2.__NG_ELEMENT_ID__=t=>{let e=tt();if(e===null)throw new V(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new V(204,!1)};function uS(t){return new hh}function sS(t,e){return cS(t,e)}function n2(t){return cS(aS,t)}var Ms=(sS.required=n2,sS);var Ns=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},lS=new Ns("20.1.2");var gv=new j(""),r2=new j("");function Fc(t){return!t.moduleRef}function i2(t){let e=Fc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(_e);return n.run(()=>{Fc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(bt),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Fc(t)){let o=()=>e.destroy(),s=t.platformInjector.get(gv);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(gv);s.add(o),t.moduleRef.onDestroy(()=>{_c(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return s2(r,n,()=>{let o=e.get(kn),s=o.add(),a=e.get(tv);return a.runInitializers(),a.donePromise.then(()=>{try{let u=e.get(dh,kc);if(q0(u||kc),!e.get(r2,!0))return Fc(t)?e.get(ur):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Fc(t)){let h=e.get(ur);return t.rootComponent!==void 0&&h.bootstrap(t.rootComponent),h}else return o2?.(t.moduleRef,t.allPlatformModules),t.moduleRef}finally{o.remove(s)}})})})}var o2;function s2(t,e,n){try{let r=n();return Xr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var ph=null;function a2(t=[],e){return Ue.create({name:e,providers:[{provide:uc,useValue:"platform"},{provide:gv,useValue:new Set([()=>ph=null])},...t]})}function c2(t=[]){if(ph)return ph;let e=a2(t);return ph=e,V0(),u2(e),e}function u2(t){let e=t.get(Zd,null);Xe(t,()=>{e?.forEach(n=>n())})}function mv(){return!1}var eo=(()=>{class t{static __NG_ELEMENT_ID__=l2}return t})();function l2(t){return d2(tt(),Y(),(t&16)===16)}function d2(t,e,n){if(qr(t)&&!n){let r=Zt(t.index,e);return new Qr(r,r)}else if(t.type&175){let r=e[Ct];return new Qr(r,e)}return null}function dS(t){pe(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=c2(r),o=[rS({}),{provide:Kt,useExisting:fv},hC,...n||[]],s=new Dc({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return i2({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{pe(9)}}function Lc(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var pS=null;function en(){return pS}function yv(t){pS??=t}var Vc=class{},vv=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>M(gS),providedIn:"platform"})}return t})();var gS=(()=>{class t extends vv{_location;_history;_doc=M(rt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return en().getBaseHref(this._doc)}onPopState(n){let r=en().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=en().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function mS(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function hS(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function ti(t){return t&&t[0]!=="?"?`?${t}`:t}var Ps=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>M(vS),providedIn:"root"})}return t})(),yS=new j(""),vS=(()=>{class t extends Ps{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??M(rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return mS(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+ti(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+ti(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+ti(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(ne(vv),ne(yS,8))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xs=(()=>{class t{_subject=new Ve;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=p2(hS(fS(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ti(r))}normalize(n){return t.stripTrailingSlash(f2(this._basePath,fS(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ti(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ti(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=ti;static joinWithSlash=mS;static stripTrailingSlash=hS;static \u0275fac=function(r){return new(r||t)(ne(Ps))};static \u0275prov=U({token:t,factory:()=>h2(),providedIn:"root"})}return t})();function h2(){return new xs(ne(Ps))}function f2(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function fS(t){return t.replace(/\/index.html$/,"")}function p2(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function g2(t,e){return new V(2100,!1)}var m2=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,y2=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw g2(t,n);return n.replace(m2,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||t)};static \u0275pipe=Mc({name:"titlecase",type:t,pure:!0})}return t})();function _v(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var jc=class{};var _S="browser";var yh=new j(""),Tv=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new V(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(ne(yh),ne(_e))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),Uc=class{_doc;constructor(e){this._doc=e}manager},Ev="ng-app-id";function ES(t){for(let e of t)e.remove()}function IS(t,e){let n=e.createElement("style");return n.textContent=t,n}function I2(t,e,n,r){let i=t.head?.querySelectorAll(`style[${Ev}="${e}"],link[${Ev}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Ev),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function wv(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Cv=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,I2(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,IS);r?.forEach(i=>this.addUsage(i,this.external,wv))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(ES(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])ES(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,IS(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,wv(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(ne(rt),ne(Yd),ne(Jd,8),ne(Zr))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),Iv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},bv=/%COMP%/g;var DS="%COMP%",w2=`_nghost-${DS}`,D2=`_ngcontent-${DS}`,T2=!0,C2=new j("",{providedIn:"root",factory:()=>T2});function b2(t){return D2.replace(bv,t)}function S2(t){return w2.replace(bv,t)}function TS(t,e){return e.map(n=>n.replace(bv,t))}var Sv=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,u,l=null,h=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new Bc(n,s,u,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof mh?i.applyToHost(n):i instanceof $c&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case ar.Emulated:o=new mh(u,l,r,this.appId,h,s,a,p,g);break;case ar.ShadowDom:return new Dv(u,l,n,r,s,a,this.nonce,p,g);default:o=new $c(u,l,r,h,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(ne(Tv),ne(Cv),ne(Yd),ne(C2),ne(rt),ne(Zr),ne(_e),ne(Jd),ne(Xi,8))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),Bc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Iv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(wS(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(wS(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Iv[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Iv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Fn.DashCase|Fn.Important)?e.style.setProperty(n,r,i&Fn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Fn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=en().getGlobalEventTarget(this.doc,e),!e))throw new V(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function wS(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Dv=class extends Bc{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=TS(i.id,h);for(let g of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=g,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let g of p){let y=wv(g,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},$c=class extends Bc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?TS(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},mh=class extends $c{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,n,r,o,s,a,u,l,h),this.contentAttr=b2(h),this.hostAttr=S2(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var vh=class t extends Vc{supportsDOMEvents=!0;static makeCurrent(){yv(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=A2();return n==null?null:R2(n)}resetBaseElement(){Hc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return _v(document.cookie,e)}},Hc=null;function A2(){return Hc=Hc||document.head.querySelector("base"),Hc?Hc.getAttribute("href"):null}function R2(t){return new URL(t,document.baseURI).pathname}var N2=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),bS=(()=>{class t extends Uc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(ne(rt))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),CS=["alt","control","meta","shift"],M2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},P2={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},SS=(()=>{class t extends Uc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>en().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),CS.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=M2[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),CS.forEach(s=>{if(s!==i){let a=P2[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(ne(rt))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})();function x2(t,e){return dS(x({rootComponent:t},k2(e)))}function k2(t){return{appProviders:[...j2,...t?.providers??[]],platformProviders:V2}}function O2(){vh.makeCurrent()}function F2(){return new Vt}function L2(){return Cy(document),document}var V2=[{provide:Zr,useValue:_S},{provide:Zd,useValue:O2,multi:!0},{provide:rt,useFactory:L2}];var j2=[{provide:uc,useValue:"root"},{provide:Vt,useFactory:F2},{provide:yh,useClass:bS,multi:!0,deps:[rt]},{provide:yh,useClass:SS,multi:!0,deps:[rt]},Sv,Cv,Tv,{provide:Wi,useExisting:Sv},{provide:jc,useClass:N2},[]];var AS=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(ne(rt))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var re="primary",iu=Symbol("RouteTitle"),Pv=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ro(t){return new Pv(t)}function FS(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function B2(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Vn(t[n],e[n]))return!1;return!0}function Vn(t,e){let n=t?xv(t):void 0,r=e?xv(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!LS(t[i],e[i]))return!1;return!0}function xv(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function LS(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function VS(t){return t.length>0?t[t.length-1]:null}function hr(t){return _g(t)?t:Xr(t)?Re(Promise.resolve(t)):Z(t)}var $2={exact:US,subset:BS},jS={exact:H2,subset:q2,ignored:()=>!0};function RS(t,e,n){return $2[n.paths](t.root,e.root,n.matrixParams)&&jS[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function H2(t,e){return Vn(t,e)}function US(t,e,n){if(!to(t.segments,e.segments)||!Ih(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!US(t.children[r],e.children[r],n))return!1;return!0}function q2(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>LS(t[n],e[n]))}function BS(t,e,n){return $S(t,e,e.segments,n)}function $S(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!to(i,n)||e.hasChildren()||!Ih(i,n,r))}else if(t.segments.length===n.length){if(!to(t.segments,n)||!Ih(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!BS(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!to(t.segments,i)||!Ih(t.segments,i,r)||!t.children[re]?!1:$S(t.children[re],e,o,r)}}function Ih(t,e,n){return e.every((r,i)=>jS[n](t[i].parameters,r.parameters))}var Un=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ge([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ro(this.queryParams),this._queryParamMap}toString(){return W2.serialize(this)}},ge=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wh(this)}},ni=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ro(this.parameters),this._parameterMap}toString(){return qS(this)}};function z2(t,e){return to(t,e)&&t.every((n,r)=>Vn(n.parameters,e[r].parameters))}function to(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function G2(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===re&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==re&&(n=n.concat(e(i,r)))}),n}var ou=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>new io,providedIn:"root"})}return t})(),io=class{parse(e){let n=new Ov(e);return new Un(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${qc(e.root,!0)}`,r=Y2(e.queryParams),i=typeof e.fragment=="string"?`#${K2(e.fragment)}`:"";return`${n}${r}${i}`}},W2=new io;function wh(t){return t.segments.map(e=>qS(e)).join("/")}function qc(t,e){if(!t.hasChildren())return wh(t);if(e){let n=t.children[re]?qc(t.children[re],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==re&&r.push(`${i}:${qc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=G2(t,(r,i)=>i===re?[qc(t.children[re],!1)]:[`${i}:${qc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[re]!=null?`${wh(t)}/${n[0]}`:`${wh(t)}/(${n.join("//")})`}}function HS(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _h(t){return HS(t).replace(/%3B/gi,";")}function K2(t){return encodeURI(t)}function kv(t){return HS(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dh(t){return decodeURIComponent(t)}function NS(t){return Dh(t.replace(/\+/g,"%20"))}function qS(t){return`${kv(t.path)}${Q2(t.parameters)}`}function Q2(t){return Object.entries(t).map(([e,n])=>`;${kv(e)}=${kv(n)}`).join("")}function Y2(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${_h(n)}=${_h(i)}`).join("&"):`${_h(n)}=${_h(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Z2=/^[^\/()?;#]+/;function Av(t){let e=t.match(Z2);return e?e[0]:""}var J2=/^[^\/()?;=#]+/;function X2(t){let e=t.match(J2);return e?e[0]:""}var ej=/^[^=?&#]+/;function tj(t){let e=t.match(ej);return e?e[0]:""}var nj=/^[^&#]+/;function rj(t){let e=t.match(nj);return e?e[0]:""}var Ov=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new ge(e,n)),r}parseSegment(){let e=Av(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new ni(Dh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=X2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Av(this.remaining);i&&(r=i,this.capture(r))}e[Dh(n)]=Dh(r)}parseQueryParam(e){let n=tj(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=rj(this.remaining);s&&(r=s,this.capture(r))}let i=NS(n),o=NS(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Av(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new V(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=re);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[re]:new ge([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}};function zS(t){return t.segments.length>0?new ge([],{[re]:t}):t}function GS(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=GS(i);if(r===re&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ge(t.segments,e);return ij(n)}function ij(t){if(t.numberOfChildren===1&&t.children[re]){let e=t.children[re];return new ge(t.segments.concat(e.segments),e.children)}return t}function ri(t){return t instanceof Un}function WS(t,e,n=null,r=null){let i=KS(t);return QS(i,e,n,r)}function KS(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new ge(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=zS(r);return e??i}function QS(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Rv(i,i,i,n,r);let o=oj(e);if(o.toRoot())return Rv(i,i,new ge([],{}),n,r);let s=sj(o,i,t),a=s.processChildren?Gc(s.segmentGroup,s.index,o.commands):ZS(s.segmentGroup,s.index,o.commands);return Rv(i,s.segmentGroup,a,n,r)}function Th(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Qc(t){return typeof t=="object"&&t!=null&&t.outlets}function Rv(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=YS(t,e,n);let a=zS(GS(s));return new Un(a,o,i)}function YS(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=YS(o,e,n)}),new ge(t.segments,r)}var Ch=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Th(r[0]))throw new V(4003,!1);let i=r.find(Qc);if(i&&i!==VS(r))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function oj(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ch(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Ch(n,e,r)}var Fs=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function sj(t,e,n){if(t.isAbsolute)return new Fs(e,!0,0);if(!n)return new Fs(e,!1,NaN);if(n.parent===null)return new Fs(n,!0,0);let r=Th(t.commands[0])?0:1,i=n.segments.length-1+r;return aj(n,i,t.numberOfDoubleDots)}function aj(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new V(4005,!1);i=r.segments.length}return new Fs(r,!1,i-o)}function cj(t){return Qc(t[0])?t[0].outlets:{[re]:t}}function ZS(t,e,n){if(t??=new ge([],{}),t.segments.length===0&&t.hasChildren())return Gc(t,e,n);let r=uj(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ge(t.segments.slice(0,r.pathIndex),{});return o.children[re]=new ge(t.segments.slice(r.pathIndex),t.children),Gc(o,0,i)}else return r.match&&i.length===0?new ge(t.segments,{}):r.match&&!t.hasChildren()?Fv(t,e,n):r.match?Gc(t,0,i):Fv(t,e,n)}function Gc(t,e,n){if(n.length===0)return new ge(t.segments,{});{let r=cj(n),i={};if(Object.keys(r).some(o=>o!==re)&&t.children[re]&&t.numberOfChildren===1&&t.children[re].segments.length===0){let o=Gc(t.children[re],e,n);return new ge(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=ZS(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ge(t.segments,i)}}function uj(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Qc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!PS(u,l,s))return o;r+=2}else{if(!PS(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Fv(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Qc(o)){let u=lj(o.outlets);return new ge(r,u)}if(i===0&&Th(n[0])){let u=t.segments[e];r.push(new ni(u.path,MS(n[0]))),i++;continue}let s=Qc(o)?o.outlets[re]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Th(a)?(r.push(new ni(s,MS(a))),i+=2):(r.push(new ni(s,{})),i++)}return new ge(r,{})}function lj(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Fv(new ge([],{}),0,r))}),e}function MS(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function PS(t,e,n){return t==n.path&&Vn(e,n.parameters)}var Wc="imperative",it=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(it||{}),Ht=class{id;url;constructor(e,n){this.id=e,this.url=n}},oo=class extends Ht{type=it.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},In=class extends Ht{urlAfterRedirects;type=it.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},At=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t}(At||{}),Yc=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Yc||{}),jn=class extends Ht{reason;code;type=it.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},lr=class extends Ht{reason;code;type=it.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Vs=class extends Ht{error;target;type=it.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Zc=class extends Ht{urlAfterRedirects;state;type=it.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bh=class extends Ht{urlAfterRedirects;state;type=it.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sh=class extends Ht{urlAfterRedirects;state;shouldActivate;type=it.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ah=class extends Ht{urlAfterRedirects;state;type=it.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rh=class extends Ht{urlAfterRedirects;state;type=it.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nh=class{route;type=it.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Mh=class{route;type=it.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ph=class{snapshot;type=it.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xh=class{snapshot;type=it.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kh=class{snapshot;type=it.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Oh=class{snapshot;type=it.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Jc=class{},js=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function dj(t){return!(t instanceof Jc)&&!(t instanceof js)}function hj(t,e){return t.providers&&!t._injector&&(t._injector=bs(t.providers,e,`Route: ${t.path}`)),t._injector??e}function En(t){return t.outlet||re}function fj(t,e){let n=t.filter(r=>En(r)===e);return n.push(...t.filter(r=>En(r)!==e)),n}function $s(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Fh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return $s(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Hs(this.rootInjector)}},Hs=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Fh(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(ne(je))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Lh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Lv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Lv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Vv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Vv(e,this._root).map(n=>n.value)}};function Lv(t,e){if(t===e.value)return e;for(let n of e.children){let r=Lv(t,n);if(r)return r}return null}function Vv(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Vv(t,n);if(r.length)return r.unshift(e),r}return[]}var $t=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Os(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Xc=class extends Lh{snapshot;constructor(e,n){super(e),this.snapshot=n,Gv(this,e)}toString(){return this.snapshot.toString()}};function JS(t){let e=pj(t),n=new ct([new ni("",{})]),r=new ct({}),i=new ct({}),o=new ct({}),s=new ct(""),a=new dr(n,r,o,s,i,re,t,e.root);return a.snapshot=e.root,new Xc(new $t(a,[]),e)}function pj(t){let e={},n={},r={},i="",o=new no([],e,r,i,n,re,t,null,{});return new eu("",new $t(o,[]))}var dr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ce(l=>l[iu]))??Z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ce(e=>ro(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ce(e=>ro(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Vh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:x(x({},e.params),t.params),data:x(x({},e.data),t.data),resolve:x(x(x(x({},t.data),e.data),i?.data),t._resolvedData)}:r={params:x({},t.params),data:x({},t.data),resolve:x(x({},t.data),t._resolvedData??{})},i&&eA(i)&&(r.resolve[iu]=i.title),r}var no=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[iu]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ro(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ro(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},eu=class extends Lh{url;constructor(e,n){super(n),this.url=e,Gv(this,n)}toString(){return XS(this._root)}};function Gv(t,e){e.value._routerState=t,e.children.forEach(n=>Gv(t,n))}function XS(t){let e=t.children.length>0?` { ${t.children.map(XS).join(", ")} } `:"";return`${t.value}${e}`}function Nv(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Vn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Vn(e.params,n.params)||t.paramsSubject.next(n.params),B2(e.url,n.url)||t.urlSubject.next(n.url),Vn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function jv(t,e){let n=Vn(t.params,e.params)&&z2(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||jv(t.parent,e.parent))}function eA(t){return typeof t.title=="string"||t.title===null}var tA=new j(""),Wv=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=re;activateEvents=new Oe;deactivateEvents=new Oe;attachEvents=new Oe;detachEvents=new Oe;routerOutletData=Ms(void 0);parentContexts=M(Hs);location=M(Zi);changeDetector=M(eo);inputBinder=M($h,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Uv(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=le({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[yn]})}return t})(),Uv=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===dr?this.route:e===Hs?this.childContexts:e===tA?this.outletData:this.parent.get(e,n)}},$h=new j("");var Kv=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Nc({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Rs(0,"router-outlet")},dependencies:[Wv],encapsulation:2})}return t})();function Qv(t){let e=t.children&&t.children.map(Qv),n=e?W(x({},t),{children:e}):x({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=Kv),n}function gj(t,e,n){let r=tu(t,e._root,n?n._root:void 0);return new Xc(r,e)}function tu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=mj(t,e,n);return new $t(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>tu(t,a)),s}}let r=yj(e.value),i=e.children.map(o=>tu(t,o));return new $t(r,i)}}function mj(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return tu(t,r,i);return tu(t,r)})}function yj(t){return new dr(new ct(t.url),new ct(t.params),new ct(t.queryParams),new ct(t.fragment),new ct(t.data),t.outlet,t.component,t)}var Us=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},nA="ngNavigationCancelingError";function jh(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ri(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=rA(!1,At.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function rA(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[nA]=!0,n.cancellationCode=e,n}function vj(t){return iA(t)&&ri(t.url)}function iA(t){return!!t&&t[nA]}var _j=(t,e,n,r)=>ce(i=>(new Bv(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Bv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Nv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Os(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Os(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Os(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Os(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Oh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new xh(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Nv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Nv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Uh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ls=class{component;route;constructor(e,n){this.component=e,this.route=n}};function Ej(t,e,n){let r=t._root,i=e?e._root:null;return zc(r,i,n,[r.value])}function Ij(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function qs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!zg(t)?t:e.get(t):r}function zc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Os(e);return t.children.forEach(s=>{wj(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Kc(a,n.getContext(s),i)),i}function wj(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Dj(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Uh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?zc(t,e,a?a.children:null,r,i):zc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ls(a.outlet.component,s))}else s&&Kc(e,a,i),i.canActivateChecks.push(new Uh(r)),o.component?zc(t,null,a?a.children:null,r,i):zc(t,null,n,r,i);return i}function Dj(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!to(t.url,e.url);case"pathParamsOrQueryParamsChange":return!to(t.url,e.url)||!Vn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jv(t,e)||!Vn(t.queryParams,e.queryParams);case"paramsChange":default:return!jv(t,e)}}function Kc(t,e,n){let r=Os(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Kc(s,e.children.getContext(o),n):Kc(s,null,n):Kc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ls(e.outlet.component,i)):n.canDeactivateChecks.push(new Ls(null,i)):n.canDeactivateChecks.push(new Ls(null,i))}function su(t){return typeof t=="function"}function Tj(t){return typeof t=="boolean"}function Cj(t){return t&&su(t.canLoad)}function bj(t){return t&&su(t.canActivate)}function Sj(t){return t&&su(t.canActivateChild)}function Aj(t){return t&&su(t.canDeactivate)}function Rj(t){return t&&su(t.canMatch)}function oA(t){return t instanceof Zn||t?.name==="EmptyError"}var Eh=Symbol("INITIAL_VALUE");function Bs(){return Wt(t=>Ml(t.map(e=>e.pipe(Xn(1),Tg(Eh)))).pipe(ce(e=>{for(let n of e)if(n!==!0){if(n===Eh)return Eh;if(n===!1||Nj(n))return n}return!0}),Mt(e=>e!==Eh),Xn(1)))}function Nj(t){return ri(t)||t instanceof Us}function Mj(t,e){return xe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Z(W(x({},n),{guardsResult:!0})):Pj(s,r,i,t).pipe(xe(a=>a&&Tj(a)?xj(r,o,t,e):Z(a)),ce(a=>W(x({},n),{guardsResult:a})))})}function Pj(t,e,n,r){return Re(t).pipe(xe(i=>Vj(i.component,i.route,n,e,r)),er(i=>i!==!0,!0))}function xj(t,e,n,r){return Re(e).pipe(Ai(i=>Yo(Oj(i.route.parent,r),kj(i.route,r),Lj(t,i.path,n),Fj(t,i.route,n))),er(i=>i!==!0,!0))}function kj(t,e){return t!==null&&e&&e(new kh(t)),Z(!0)}function Oj(t,e){return t!==null&&e&&e(new Ph(t)),Z(!0)}function Fj(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let i=r.map(o=>Ya(()=>{let s=$s(e)??n,a=qs(o,s),u=bj(a)?a.canActivate(e,t):Xe(s,()=>a(e,t));return hr(u).pipe(er())}));return Z(i).pipe(Bs())}function Lj(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Ij(s)).filter(s=>s!==null).map(s=>Ya(()=>{let a=s.guards.map(u=>{let l=$s(s.node)??n,h=qs(u,l),p=Sj(h)?h.canActivateChild(r,t):Xe(l,()=>h(r,t));return hr(p).pipe(er())});return Z(a).pipe(Bs())}));return Z(o).pipe(Bs())}function Vj(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Z(!0);let s=o.map(a=>{let u=$s(e)??i,l=qs(a,u),h=Aj(l)?l.canDeactivate(t,e,n,r):Xe(u,()=>l(t,e,n,r));return hr(h).pipe(er())});return Z(s).pipe(Bs())}function jj(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Z(!0);let o=i.map(s=>{let a=qs(s,t),u=Cj(a)?a.canLoad(e,n):Xe(t,()=>a(e,n));return hr(u)});return Z(o).pipe(Bs(),sA(r))}function sA(t){return fg(nt(e=>{if(typeof e!="boolean")throw jh(t,e)}),ce(e=>e===!0))}function Uj(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Z(!0);let o=i.map(s=>{let a=qs(s,t),u=Rj(a)?a.canMatch(e,n):Xe(t,()=>a(e,n));return hr(u)});return Z(o).pipe(Bs(),sA(r))}var nu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},ru=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ks(t){return Wo(new nu(t))}function Bj(t){return Wo(new V(4e3,!1))}function $j(t){return Wo(rA(!1,At.GuardRejected))}var $v=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Z(r);if(i.numberOfChildren>1||!i.children[re])return Bj(`${e.redirectTo}`);i=i.children[re]}}applyRedirectCommands(e,n,r,i,o){return Hj(n,i,o).pipe(ce(s=>{if(s instanceof Un)throw new ru(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new ru(a);return a}))}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Un(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new ge(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new V(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function Hj(t,e,n){if(typeof t=="string")return Z(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return hr(Xe(n,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var Hv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qj(t,e,n,r,i){let o=aA(t,e,n);return o.matched?(r=hj(e,r),Uj(r,e,n,i).pipe(ce(s=>s===!0?o:x({},Hv)))):Z(o)}function aA(t,e,n){if(e.path==="**")return zj(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?x({},Hv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||FS)(n,t,e);if(!i)return x({},Hv);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?x(x({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function zj(t){return{matched:!0,parameters:t.length>0?VS(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function xS(t,e,n,r){return n.length>0&&Kj(t,n,r)?{segmentGroup:new ge(e,Wj(r,new ge(n,t.children))),slicedSegments:[]}:n.length===0&&Qj(t,n,r)?{segmentGroup:new ge(t.segments,Gj(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ge(t.segments,t.children),slicedSegments:n}}function Gj(t,e,n,r){let i={};for(let o of n)if(Hh(t,e,o)&&!r[En(o)]){let s=new ge([],{});i[En(o)]=s}return x(x({},r),i)}function Wj(t,e){let n={};n[re]=e;for(let r of t)if(r.path===""&&En(r)!==re){let i=new ge([],{});n[En(r)]=i}return n}function Kj(t,e,n){return n.some(r=>Hh(t,e,r)&&En(r)!==re)}function Qj(t,e,n){return n.some(r=>Hh(t,e,r))}function Hh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Yj(t,e,n){return e.length===0&&!t.children[n]}var qv=class{};function Zj(t,e,n,r,i,o,s="emptyOnly"){return new zv(t,e,n,r,i,s,o).recognize()}var Jj=31,zv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new $v(this.urlSerializer,this.urlTree)}noMatchError(e){return new V(4002,`'${e.segmentGroup}'`)}recognize(){let e=xS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ce(({children:n,rootSnapshot:r})=>{let i=new $t(r,n),o=new eu("",i),s=WS(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new no([],Object.freeze({}),Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,re,n).pipe(ce(r=>({children:r,rootSnapshot:n})),Jn(r=>{if(r instanceof ru)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof nu?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(ce(s=>s instanceof $t?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Re(o).pipe(Ai(s=>{let a=r.children[s],u=fj(n,s);return this.processSegmentGroup(e,u,a,s,i)}),Dg((s,a)=>(s.push(...a),s)),Fr(null),wg(),xe(s=>{if(s===null)return ks(r);let a=cA(s);return Xj(a),Z(a)}))}processSegment(e,n,r,i,o,s,a){return Re(n).pipe(Ai(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(Jn(l=>{if(l instanceof nu)return Z(null);throw l}))),er(u=>!!u),Jn(u=>{if(oA(u))return Yj(r,i,o)?Z(new qv):ks(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return En(r)!==s&&(s===re||!Hh(i,o,r))?ks(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):ks(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=aA(n,i,o);if(!u)return ks(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Jj&&(this.allowRedirects=!1));let y=new no(o,l,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,kS(i),En(i),i.component??i._loadedComponent??null,i,OS(i)),I=Vh(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(I.params),y.data=Object.freeze(I.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(Wt(R=>this.applyRedirects.lineralizeSegments(i,R)),xe(R=>this.processSegment(e,r,n,R.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=qj(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Wt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Wt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:y}=u,I=new no(g,p,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,kS(r),En(r),r.component??r._loadedComponent??null,r,OS(r)),S=Vh(I,s,this.paramsInheritanceStrategy);I.params=Object.freeze(S.params),I.data=Object.freeze(S.data);let{segmentGroup:R,slicedSegments:k}=xS(n,g,y,l);if(k.length===0&&R.hasChildren())return this.processChildren(h,l,R,I).pipe(ce(G=>new $t(I,G)));if(l.length===0&&k.length===0)return Z(new $t(I,[]));let $=En(r)===o;return this.processSegment(h,l,R,k,$?re:o,!0,I).pipe(ce(G=>new $t(I,G instanceof $t?[G]:[])))}))):ks(n)))}getChildConfig(e,n,r){return n.children?Z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Z({routes:n._loadedRoutes,injector:n._loadedInjector}):jj(e,n,r,this.urlSerializer).pipe(xe(i=>i?this.configLoader.loadChildren(e,n).pipe(nt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):$j(n))):Z({routes:[],injector:e})}};function Xj(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}function eU(t){let e=t.value.routeConfig;return e&&e.path===""}function cA(t){let e=[],n=new Set;for(let r of t){if(!eU(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=cA(r.children);e.push(new $t(r.value,i))}return e.filter(r=>!n.has(r))}function kS(t){return t.data||{}}function OS(t){return t.resolve||{}}function tU(t,e,n,r,i,o){return xe(s=>Zj(t,e,n,r,s.extractedUrl,i,o).pipe(ce(({state:a,tree:u})=>W(x({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function nU(t,e){return xe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Z(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of uA(u))s.add(l);let a=0;return Re(s).pipe(Ai(u=>o.has(u)?rU(u,r,t,e):(u.data=Vh(u,u.parent,t).resolve,Z(void 0))),nt(()=>a++),Zo(1),xe(u=>a===s.size?Z(n):Pt))})}function uA(t){let e=t.children.map(n=>uA(n)).flat();return[t,...e]}function rU(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!eA(i)&&(o[iu]=i.title),Ya(()=>(t.data=Vh(t,t.parent,n).resolve,iU(o,t,e,r).pipe(ce(s=>(t._resolvedData=s,t.data=x(x({},t.data),s),null)))))}function iU(t,e,n,r){let i=xv(t);if(i.length===0)return Z({});let o={};return Re(i).pipe(xe(s=>oU(t[s],e,n,r).pipe(er(),nt(a=>{if(a instanceof Us)throw jh(new io,a);o[s]=a}))),Zo(1),ce(()=>o),Jn(s=>oA(s)?Pt:Wo(s)))}function oU(t,e,n,r){let i=$s(e)??r,o=qs(t,i),s=o.resolve?o.resolve(e,n):Xe(i,()=>o(e,n));return hr(s)}function Mv(t){return Wt(e=>{let n=t(e);return n?Re(n).pipe(ce(()=>e)):Z(e)})}var Yv=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===re);return r}getResolvedTitleForRoute(n){return n.data[iu]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>M(lA),providedIn:"root"})}return t})(),lA=(()=>{class t extends Yv{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(ne(AS))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),zs=new j("",{providedIn:"root",factory:()=>({})}),au=new j(""),dA=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=M(hv);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Z(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=hr(Xe(n,()=>r.loadComponent())).pipe(ce(fA),nt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Za(()=>{this.componentLoaders.delete(r)})),o=new $o(i,()=>new Ve).pipe(Bo());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=hA(r,this.compiler,n,this.onLoadEndListener).pipe(Za(()=>{this.childrenLoaders.delete(r)})),s=new $o(o,()=>new Ve).pipe(Bo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function hA(t,e,n,r){return hr(Xe(n,()=>t.loadChildren())).pipe(ce(fA),xe(i=>i instanceof sh||Array.isArray(i)?Z(i):Re(e.compileModuleAsync(i))),ce(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(au,[],{optional:!0,self:!0}).flat()),{routes:s.map(Qv),injector:o}}))}function sU(t){return t&&typeof t=="object"&&"default"in t}function fA(t){return sU(t)?t.default:t}var qh=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>M(aU),providedIn:"root"})}return t})(),aU=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pA=new j("");var Zv=new j(""),gA=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ve;transitionAbortWithErrorSubject=new Ve;configLoader=M(dA);environmentInjector=M(je);destroyRef=M(ut);urlSerializer=M(ou);rootContexts=M(Hs);location=M(xs);inputBindingEnabled=M($h,{optional:!0})!==null;titleStrategy=M(Yv);options=M(zs,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=M(qh);createViewTransition=M(pA,{optional:!0});navigationErrorHandler=M(Zv,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Z(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Nh(i)),r=i=>this.events.next(new Mh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(W(x({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(n){return this.transitions=new ct(null),this.transitions.pipe(Mt(r=>r!==null),Wt(r=>{let i=!1;return Z(r).pipe(Wt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",At.SupersededByNewNavigation),Pt;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?W(x({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload"){let u="";return this.events.next(new lr(o.id,this.urlSerializer.serialize(o.rawUrl),u,Yc.IgnoredSameUrlNavigation)),o.resolve(!1),Pt}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Z(o).pipe(Wt(u=>(this.events.next(new oo(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Pt:Promise.resolve(u))),tU(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),nt(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=W(x({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let l=new Zc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:g}=o,y=new oo(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let I=JS(this.rootComponentType).snapshot;return this.currentTransition=r=W(x({},o),{targetSnapshot:I,urlAfterRedirects:l,extras:W(x({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,Z(r)}else{let u="";return this.events.next(new lr(o.id,this.urlSerializer.serialize(o.extractedUrl),u,Yc.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Pt}}),nt(o=>{let s=new bh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),ce(o=>(this.currentTransition=r=W(x({},o),{guards:Ej(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),Mj(this.environmentInjector,o=>this.events.next(o)),nt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw jh(this.urlSerializer,o.guardsResult);let s=new Sh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Mt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",At.GuardRejected),!1)),Mv(o=>{if(o.guards.canActivateChecks.length!==0)return Z(o).pipe(nt(s=>{let a=new Ah(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Wt(s=>{let a=!1;return Z(s).pipe(nU(this.paramsInheritanceStrategy,this.environmentInjector),nt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",At.NoDataFromResolver)}}))}),nt(s=>{let a=new Rh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),Mv(o=>{let s=a=>{let u=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let l=$s(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(nt(h=>{a.component=h}),ce(()=>{})))}for(let l of a.children)u.push(...s(l));return u};return Ml(s(o.targetSnapshot.root)).pipe(Fr(null),Xn(1))}),Mv(()=>this.afterPreactivation()),Wt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Re(a).pipe(ce(()=>r)):Z(r)}),ce(o=>{let s=gj(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=W(x({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),nt(()=>{this.events.next(new Jc)}),_j(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Xn(1),xl(new J(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Mt(()=>!i&&!r.targetRouterState),nt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",At.Aborted)}))),nt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new In(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),xl(this.transitionAbortWithErrorSubject.pipe(nt(o=>{throw o}))),Za(()=>{i||this.cancelNavigationTransition(r,"",At.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Jn(o=>{if(this.destroyed)return r.resolve(!1),Pt;if(i=!0,iA(o))this.events.next(new jn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),vj(o)?this.events.next(new js(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Vs(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Xe(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Us){let{message:u,cancellationCode:l}=jh(this.urlSerializer,a);this.events.next(new jn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new js(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Pt}))}))}cancelNavigationTransition(n,r,i){let o=new jn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cU(t){return t!==Wc}var mA=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>M(uU),providedIn:"root"})}return t})(),Bh=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},uU=(()=>{class t extends Bh{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Yr(t)))(i||t)}})();static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),yA=(()=>{class t{urlSerializer=M(ou);options=M(zs,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=M(xs);urlHandlingStrategy=M(qh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Un;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof Un?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=JS(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>M(lU),providedIn:"root"})}return t})(),lU=(()=>{class t extends yA{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof oo?this.updateStateMemento():n instanceof lr?this.commitTransition(r):n instanceof Zc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Jc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof jn&&n.code!==At.SupersededByNewNavigation&&n.code!==At.Redirect?this.restoreHistory(r):n instanceof Vs?this.restoreHistory(r,!0):n instanceof In&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,u=x(x({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",u)}else{let a=x(x({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Yr(t)))(i||t)}})();static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Jv(t,e){t.events.pipe(Mt(n=>n instanceof In||n instanceof jn||n instanceof Vs||n instanceof lr),ce(n=>n instanceof In||n instanceof lr?0:(n instanceof jn?n.code===At.Redirect||n.code===At.SupersededByNewNavigation:!1)?2:1),Mt(n=>n!==2),Xn(1)).subscribe(()=>{e()})}var dU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Gs=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=M(Jy);stateManager=M(yA);options=M(zs,{optional:!0})||{};pendingTasks=M(kn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=M(gA);urlSerializer=M(ou);location=M(xs);urlHandlingStrategy=M(qh);injector=M(je);_events=new Ve;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=M(mA);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=M(au,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!M($h,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Pe;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof jn&&r.code!==At.Redirect&&r.code!==At.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof In)this.navigated=!0;else if(r instanceof js){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=x({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||cU(i.source)},s);this.scheduleNavigation(a,Wc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}dj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Wc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=x({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(bt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Qv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=x(x({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=KS(g)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return QS(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ri(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Wc,null,r)}navigate(n,r={skipLocationChange:!1}){return fU(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=x({},dU):r===!1?i=x({},hU):i=r,ri(n))return RS(this.currentUrlTree,n,i);let o=this.parseUrl(n);return RS(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return Jv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fU(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new V(4008,!1)}var zh=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Ne(null);get href(){return Bt(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ve;applicationErrorHandler=M(bt);options=M(zs,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(M(new gh("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof In&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ri(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:ri(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(X(Gs),X(dr),bc("tabindex"),X(Jt),X(mt),X(Ps))};static \u0275dir=le({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&_n("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&xc("href",i.reactiveHref(),Ry)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Lc],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Lc],replaceUrl:[2,"replaceUrl","replaceUrl",Lc],routerLink:"routerLink"},features:[yn]})}return t})(),gU=(()=>{class t{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Oe;constructor(n,r,i,o,s){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof In&&this.update()})}ngAfterContentInit(){Z(this.links.changes,Z(null)).pipe(Qo()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Re(n).pipe(Qo()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=mU(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||t)(X(Gs),X(mt),X(Jt),X(eo),X(zh,8))};static \u0275dir=le({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&av(o,zh,5),r&2){let s;cv(s=uv())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[yn]})}return t})();function mU(t){return!!t.paths}var yU=new j("");function vU(t,...e){return un([{provide:au,multi:!0,useValue:t},[],{provide:dr,useFactory:_U,deps:[Gs]},{provide:lh,multi:!0,useFactory:IU},e.map(n=>n.\u0275providers)])}function _U(t){return t.routerState.root}function EU(t,e){return{\u0275kind:t,\u0275providers:e}}function IU(){let t=M(Ue);return e=>{let n=t.get(ur);if(e!==n.components[0])return;let r=t.get(Gs),i=t.get(wU);t.get(DU)===1&&r.initialNavigation(),t.get(TU,null,{optional:!0})?.setUpPreloading(),t.get(yU,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var wU=new j("",{factory:()=>new Ve}),DU=new j("",{providedIn:"root",factory:()=>1});var TU=new j("");function CU(t){return EU(7,[{provide:Zv,useValue:t}])}var vA=class t{showNotification=Ne(!1);notificationMessage=Ne({type:"success",message:""});lastTimeoutId=void 0;abort=void 0;success(e){this.notificationMessage.set({type:"success",message:e??""}),this.setNotification(!0)}warn(e){this.notificationMessage.set({type:"warn",message:e??""}),this.setNotification(!0)}notFound(e){this.notificationMessage.set({type:"404",message:e??""}),this.setNotification(!0)}setNotification(e){if(this.showNotification.set(e),this.abort?.abort(),this.showNotification()){this.abort=new AbortController;let n=this.abort.signal;window.addEventListener("keydown",this.onKeyDown.bind(this),{once:!0,signal:n,capture:!0}),window.addEventListener("click",this.onClick.bind(this),{once:!0,signal:n,capture:!0}),this.setHideTimeout()}else this.clearHideTimeout()}setHideTimeout(){this.clearHideTimeout(),this.lastTimeoutId=window.setTimeout(()=>{this.setNotification(!1)},3e3)}clearHideTimeout(){this.lastTimeoutId&&(clearTimeout(this.lastTimeoutId),this.lastTimeoutId=void 0)}onKeyDown(e){e.key==="Escape"&&this.setNotification(!1)}onClick(e){this.setNotification(!1)}ngOnDestroy(){this.abort?.abort()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})};function Dre(t,e){let r=!e?.manualCleanup?e?.injector?.get(ut)??M(ut):null,i=bU(e?.equal),o;e?.requireSync?o=Ne({kind:0},{equal:i}):o=Ne({kind:1,value:e?.initialValue},{equal:i});let s,a=t.subscribe({next:u=>o.set({kind:1,value:u}),error:u=>{o.set({kind:2,error:u}),s?.()},complete:()=>{s?.()}});if(e?.requireSync&&o().kind===0)throw new V(601,!1);return s=r?.onDestroy(a.unsubscribe.bind(a)),Xt(()=>{let u=o();switch(u.kind){case 1:return u.value;case 2:throw u.error;case 0:throw new V(601,!1)}},{equal:e?.equal})}function bU(t=Object.is){return(e,n)=>e.kind===1&&n.kind===1&&t(e.value,n.value)}function _A(t){t===void 0&&(t=M(Ue));let e=t.get(Wr);return n=>new J(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var EA=()=>{};var DA=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},SU=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Gh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(n[h],n[p],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new e_;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let I=l<<6&192|p;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},e_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},AU=function(t){let e=DA(t);return Gh.encodeByteArray(e,!0)},uu=function(t){return AU(t).replace(/\./g,"")},Wh=function(t){try{return Gh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function n_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var RU=()=>n_().__FIREBASE_DEFAULTS__,NU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},MU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Wh(t[1]);return e&&JSON.parse(e)},Kh=()=>{try{return EA()||RU()||NU()||MU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},TA=t=>{var e,n;return(n=(e=Kh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},CA=t=>{let e=TA(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},r_=()=>{var t;return(t=Kh())===null||t===void 0?void 0:t.config},bA=t=>{var e;return(e=Kh())===null||e===void 0?void 0:e[`_${t}`]};var so=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function ao(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function i_(t){return(await fetch(t,{credentials:"include"})).ok}function SA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[uu(JSON.stringify(n)),uu(JSON.stringify(s)),""].join(".")}var cu={};function PU(){let t={prod:[],emulator:[]};for(let e of Object.keys(cu))cu[e]?t.emulator.push(e):t.prod.push(e);return t}function xU(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var IA=!1;function o_(t,e){if(typeof window>"u"||typeof document>"u"||!ao(window.location.host)||cu[t]===e||cu[t]||IA)return;cu[t]=e;function n(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=PU().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{IA=!0,s()},g}function h(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=xU(r),y=n("text"),I=document.getElementById(y)||document.createElement("span"),S=n("learnmore"),R=document.getElementById(S)||document.createElement("a"),k=n("preprendIcon"),$=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let G=g.element;a(G),h(R,S);let ye=l();u($,k),G.append($,I,R,ye),document.body.appendChild(G)}o?(I.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function kU(){var t;let e=(t=Kh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NA(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PA(){return!kU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lu(){try{return typeof indexedDB=="object"}catch{return!1}}function xA(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var OU="FirebaseError",tn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=OU,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wn.prototype.create)}},wn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?FU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new tn(i,a,r)}};function FU(t,e){return t.replace(LU,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var LU=/\{\$([^}]+)}/g;function co(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(wA(o)&&wA(s)){if(!co(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function wA(t){return t!==null&&typeof t=="object"}function s_(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function kA(t,e){let n=new t_(t,e);return n.subscribe.bind(n)}var t_=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");VU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Xv),i.error===void 0&&(i.error=Xv),i.complete===void 0&&(i.complete=Xv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function VU(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xv(){}var Are=4*60*60*1e3;function lt(t){return t&&t._delegate?t._delegate:t}var Rt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var uo="[DEFAULT]";var a_=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new so;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UU(e))try{this.getOrInitializeService({instanceIdentifier:uo})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=uo){return this.instances.has(e)}getOptions(e=uo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=uo){return this.component?this.component.multipleInstances?e:uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function jU(t){return t===uo?void 0:t}function UU(t){return t.instantiationMode==="EAGER"}var Qh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new a_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var BU=[],ue=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ue||{}),$U={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},HU=ue.INFO,qU={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},zU=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=qU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Bn=class{constructor(e){this.name=e,this._logLevel=HU,this._logHandler=zU,this._userLogHandler=null,BU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$U[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}};var GU=(t,e)=>e.some(n=>t instanceof n),OA,FA;function WU(){return OA||(OA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KU(){return FA||(FA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var LA=new WeakMap,u_=new WeakMap,VA=new WeakMap,c_=new WeakMap,d_=new WeakMap;function QU(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n($n(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&LA.set(n,t)}).catch(()=>{}),d_.set(e,t),e}function YU(t){if(u_.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});u_.set(t,e)}var l_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return u_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||VA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $n(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jA(t){l_=t(l_)}function ZU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Yh(this),e,...n);return VA.set(r,e.sort?e.sort():[e]),$n(r)}:KU().includes(t)?function(...e){return t.apply(Yh(this),e),$n(LA.get(this))}:function(...e){return $n(t.apply(Yh(this),e))}}function JU(t){return typeof t=="function"?ZU(t):(t instanceof IDBTransaction&&YU(t),GU(t,WU())?new Proxy(t,l_):t)}function $n(t){if(t instanceof IDBRequest)return QU(t);if(c_.has(t))return c_.get(t);let e=JU(t);return e!==t&&(c_.set(t,e),d_.set(e,t)),e}var Yh=t=>d_.get(t);function BA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=$n(s);return r&&s.addEventListener("upgradeneeded",u=>{r($n(s.result),u.oldVersion,u.newVersion,$n(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var XU=["get","getKey","getAll","getAllKeys","count"],eB=["put","add","delete","clear"],h_=new Map;function UA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(h_.get(e))return h_.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=eB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||XU.includes(n)))return;let o=async function(s,...a){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return h_.set(e,o),o}jA(t=>W(x({},t),{get:(e,n,r)=>UA(e,n)||t.get(e,n,r),has:(e,n)=>!!UA(e,n)||t.has(e,n)}));var p_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tB(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function tB(t){let e=t.getComponent();return e?.type==="VERSION"}var g_="@firebase/app",$A="0.13.2";var fr=new Bn("@firebase/app"),nB="@firebase/app-compat",rB="@firebase/analytics-compat",iB="@firebase/analytics",oB="@firebase/app-check-compat",sB="@firebase/app-check",aB="@firebase/auth",cB="@firebase/auth-compat",uB="@firebase/database",lB="@firebase/data-connect",dB="@firebase/database-compat",hB="@firebase/functions",fB="@firebase/functions-compat",pB="@firebase/installations",gB="@firebase/installations-compat",mB="@firebase/messaging",yB="@firebase/messaging-compat",vB="@firebase/performance",_B="@firebase/performance-compat",EB="@firebase/remote-config",IB="@firebase/remote-config-compat",wB="@firebase/storage",DB="@firebase/storage-compat",TB="@firebase/firestore",CB="@firebase/ai",bB="@firebase/firestore-compat",SB="firebase",AB="11.10.0";var m_="[DEFAULT]",RB={[g_]:"fire-core",[nB]:"fire-core-compat",[iB]:"fire-analytics",[rB]:"fire-analytics-compat",[sB]:"fire-app-check",[oB]:"fire-app-check-compat",[aB]:"fire-auth",[cB]:"fire-auth-compat",[uB]:"fire-rtdb",[lB]:"fire-data-connect",[dB]:"fire-rtdb-compat",[hB]:"fire-fn",[fB]:"fire-fn-compat",[pB]:"fire-iid",[gB]:"fire-iid-compat",[mB]:"fire-fcm",[yB]:"fire-fcm-compat",[vB]:"fire-perf",[_B]:"fire-perf-compat",[EB]:"fire-rc",[IB]:"fire-rc-compat",[wB]:"fire-gcs",[DB]:"fire-gcs-compat",[TB]:"fire-fst",[bB]:"fire-fst-compat",[CB]:"fire-vertex","fire-js":"fire-js",[SB]:"fire-js-all"};var du=new Map,NB=new Map,y_=new Map;function HA(t,e){try{t.container.addComponent(e)}catch(n){fr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dn(t){let e=t.name;if(y_.has(e))return fr.debug(`There were multiple attempts to register component ${e}.`),!1;y_.set(e,t);for(let n of du.values())HA(n,t);for(let n of NB.values())HA(n,t);return!0}function Zh(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pr(t){return t==null?!1:t.settings!==void 0}var MB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ii=new wn("app","Firebase",MB);var v_=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}};var Ws=AB;function I_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:m_,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ii.create("bad-app-name",{appName:String(i)});if(n||(n=r_()),!n)throw ii.create("no-options");let o=du.get(i);if(o){if(co(n,o.options)&&co(r,o.config))return o;throw ii.create("duplicate-app",{appName:i})}let s=new Qh(i);for(let u of y_.values())s.addComponent(u);let a=new v_(n,r,s);return du.set(i,a),a}function Ks(t=m_){let e=du.get(t);if(!e&&t===m_&&r_())return I_();if(!e)throw ii.create("no-app",{appName:t});return e}function Jh(){return Array.from(du.values())}function He(t,e,n){var r;let i=(r=RB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fr.warn(a.join(" "));return}Dn(new Rt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var PB="firebase-heartbeat-database",xB=1,hu="firebase-heartbeat-store",f_=null;function WA(){return f_||(f_=BA(PB,xB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ii.create("idb-open",{originalErrorMessage:t.message})})),f_}async function kB(t){try{let n=(await WA()).transaction(hu),r=await n.objectStore(hu).get(KA(t));return await n.done,r}catch(e){if(e instanceof tn)fr.warn(e.message);else{let n=ii.create("idb-get",{originalErrorMessage:e?.message});fr.warn(n.message)}}}async function qA(t,e){try{let r=(await WA()).transaction(hu,"readwrite");await r.objectStore(hu).put(e,KA(t)),await r.done}catch(n){if(n instanceof tn)fr.warn(n.message);else{let r=ii.create("idb-set",{originalErrorMessage:n?.message});fr.warn(r.message)}}}function KA(t){return`${t.name}!${t.options.appId}`}var OB=1024,FB=30,__=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new E_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=zA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>FB){let s=VB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){fr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=zA(),{heartbeatsToSend:r,unsentEntries:i}=LB(this._heartbeatsCache.heartbeats),o=uu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return fr.warn(n),""}}};function zA(){return new Date().toISOString().substring(0,10)}function LB(t,e=OB){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),GA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),GA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var E_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lu()?xA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await kB(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return qA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return qA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function GA(t){return uu(JSON.stringify({version:2,heartbeats:t})).length}function VB(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function jB(t){Dn(new Rt("platform-logger",e=>new p_(e),"PRIVATE")),Dn(new Rt("heartbeat",e=>new __(e),"PRIVATE")),He(g_,$A,t),He(g_,$A,"esm2017"),He("fire-js","")}jB("");var UB="firebase",BB="11.10.0";He(UB,BB,"app");var ho=new Ns("ANGULARFIRE2_VERSION");function ef(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ys=(t,e)=>{let n=e?[e]:Jh(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Qs=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(Qs||{}),QA=mv()&&typeof Zone<"u"?Qs.WARN:Qs.SILENT;var Xh=class{zone;delegate;constructor(e,n=yg){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},fo=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=M(_e);this.outsideAngular=n.runOutsideAngular(()=>new Xh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Xh(typeof Zone>"u"?void 0:Zone.current,Pr))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),YA=!1;function $B(t,e){!YA&&(QA>Qs.SILENT||mv())&&(YA=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),QA>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function HB(t){let e=M(_e,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function lo(t){let e=M(_e,{optional:!0});return e?e.run(()=>t()):t()}var qB=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),Xe(n,()=>lo(()=>t.apply(void 0,r)))),Nt=(t,e,n)=>(n||=e?Qs.WARN:Qs.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=M(fo),s=M(Wr),a=M(je)}catch{return $B(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=lo(()=>s.add())),i[l]=qB(i[l],r,a));let u=HB(()=>t.apply(this,i));return e?u instanceof J?u.pipe(Or(o.outsideAngular),kr(o.insideAngular),_A(a)):u instanceof Promise?lo(()=>{let l=s.add();return new Promise((h,p)=>{u.then(g=>Xe(a,()=>lo(()=>h(g))),g=>Xe(a,()=>lo(()=>p(g)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:lo(()=>u):u instanceof J?u.pipe(Or(o.outsideAngular),kr(o.insideAngular)):lo(()=>u)});var po=class{constructor(e){return e}},fu=class{constructor(){return Jh()}};function zB(t){return t&&t.length===1?t[0]:new po(Ks())}var w_=new j("angularfire2._apps"),GB={provide:po,useFactory:zB,deps:[[new cr,w_]]},WB={provide:fu,deps:[[new cr,w_]]};function KB(t){return(e,n)=>{let r=n.get(Zr);He("angularfire",ho.full,"core"),He("angularfire",ho.full,"app"),He("angular",lS.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new po(i)}}function fie(t,...e){return un([GB,WB,{provide:w_,useFactory:KB(t),multi:!0,deps:[_e,Ue,fo,...e]}])}var pie=Nt(I_,!0);var QB=new Map,YB={activated:!1,tokenObservers:[]},ZB={initialized:!1,enabled:!1};function Tn(t){return QB.get(t)||Object.assign({},YB)}function eR(){return ZB}var JB="https://content-firebaseappcheck.googleapis.com/v1";var XB="exchangeDebugToken",ZA={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Die=24*60*60*1e3;var C_=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new so,this.pending.promise.catch(n=>{}),await e$(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new so,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function e$(t){return new Promise(e=>{setTimeout(e,t)})}var t$={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},oi=new wn("appCheck","AppCheck",t$);function tR(t){if(!Tn(t).activated)throw oi.create("use-before-activation",{appName:t.name})}async function nR({url:t,body:e},n){let r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){let p=await i.getHeartbeatsHeader();p&&(r["X-Firebase-Client"]=p)}let o={method:"POST",body:JSON.stringify(e),headers:r},s;try{s=await fetch(t,o)}catch(p){throw oi.create("fetch-network-error",{originalErrorMessage:p?.message})}if(s.status!==200)throw oi.create("fetch-status-error",{httpStatus:s.status});let a;try{a=await s.json()}catch(p){throw oi.create("fetch-parse-error",{originalErrorMessage:p?.message})}let u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw oi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});let l=Number(u[1])*1e3,h=Date.now();return{token:a.token,expireTimeMillis:h+l,issuedAtTimeMillis:h}}function rR(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${JB}/projects/${n}/apps/${r}:${XB}?key=${i}`,body:{debug_token:e}}}var n$="firebase-app-check-database",r$=1,b_="firebase-app-check-store";var tf=null;function i$(){return tf||(tf=new Promise((t,e)=>{try{let n=indexedDB.open(n$,r$);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(oi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(b_,{keyPath:"compositeKey"})}}}catch(n){e(oi.create("storage-open",{originalErrorMessage:n?.message}))}}),tf)}function o$(t,e){return s$(a$(t),e)}async function s$(t,e){let r=(await i$()).transaction(b_,"readwrite"),o=r.objectStore(b_).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(oi.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}function a$(t){return`${t.options.appId}-${t.name}`}var pu=new Bn("@firebase/app-check");function D_(t,e){return lu()?o$(t,e).catch(n=>{pu.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function iR(){return eR().enabled}async function oR(){let t=eR();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var c$={error:"UNKNOWN_ERROR"};function u$(t){return Gh.encodeString(JSON.stringify(t),!1)}async function S_(t,e=!1,n=!1){let r=t.app;tR(r);let i=Tn(r),o=i.token,s;if(o&&!gu(o)&&(i.token=void 0,o=void 0),!o){let l=await i.cachedTokenPromise;l&&(gu(l)?o=l:await D_(r,void 0))}if(!e&&o&&gu(o))return{token:o.token};let a=!1;if(iR())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=nR(rR(r,await oR()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=await i.exchangeTokenPromise;return await D_(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?pu.warn(l.message):n&&pu.error(l),T_(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=await Tn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?pu.warn(l.message):n&&pu.error(l),s=l}let u;return o?s?gu(o)?u={token:o.token,internalError:s}:u=T_(s):(u={token:o.token},i.token=o,await D_(r,o)):u=T_(s),a&&f$(r,u),u}async function l$(t){let e=t.app;tR(e);let{provider:n}=Tn(e);if(iR()){let r=await oR(),{token:i}=await nR(rR(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await n.getToken();return{token:r}}}function d$(t,e,n,r){let{app:i}=t,o=Tn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&gu(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),JA(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>JA(t))}function sR(t,e){let n=Tn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function JA(t){let{app:e}=t,n=Tn(e),r=n.tokenRefresher;r||(r=h$(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function h$(t){let{app:e}=t;return new C_(async()=>{let n=Tn(e),r;if(n.token?r=await S_(t,!0):r=await S_(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let n=Tn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},ZA.RETRIAL_MIN_WAIT,ZA.RETRIAL_MAX_WAIT)}function f$(t,e){let n=Tn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function gu(t){return t.expireTimeMillis-Date.now()>0}function T_(t){return{token:u$(c$),error:t}}var A_=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Tn(this.app);for(let n of e)sR(this.app,n.next);return Promise.resolve()}};function p$(t,e){return new A_(t,e)}function g$(t){return{getToken:e=>S_(t,e),getLimitedUseToken:()=>l$(t),addTokenListener:e=>d$(t,"INTERNAL",e),removeTokenListener:e=>sR(t.app,e)}}var m$="@firebase/app-check",y$="0.10.1";var v$="app-check",XA="app-check-internal";function _$(){Dn(new Rt(v$,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return p$(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(XA).initialize()})),Dn(new Rt(XA,t=>{let e=t.getProvider("app-check").getImmediate();return g$(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),He(m$,y$)}_$();var E$="app-check";var nf=class{constructor(){return Ys(E$)}};var I$=["localhost","0.0.0.0","127.0.0.1"],Oie=typeof window<"u"&&I$.includes(window.location.hostname);function pR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var gR=pR,mR=new wn("auth","Firebase",pR());var af=new Bn("@firebase/auth");function w$(t,...e){af.logLevel<=ue.WARN&&af.warn(`Auth (${Ws}): ${t}`,...e)}function of(t,...e){af.logLevel<=ue.ERROR&&af.error(`Auth (${Ws}): ${t}`,...e)}function aR(t,...e){throw U_(t,...e)}function j_(t,...e){return U_(t,...e)}function yR(t,e,n){let r=Object.assign(Object.assign({},gR()),{[e]:n});return new wn("auth","Firebase",r).create(e,{appName:t.name})}function sf(t){return yR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function U_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return mR.create(t,...e)}function me(t,e,...n){if(!t)throw U_(e,...n)}function mu(t){let e="INTERNAL ASSERTION FAILED: "+t;throw of(e),new Error(e)}function cf(t,e){t||mu(e)}function D$(){return cR()==="http:"||cR()==="https:"}function cR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function T$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(D$()||NA()||"connection"in navigator)?navigator.onLine:!0}function C$(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var yo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,cf(n>e,"Short delay should be less than long delay!"),this.isMobile=AA()||MA()}get(){return T$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function b$(t,e){cf(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var uf=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var S$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var A$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],R$=new yo(3e4,6e4);function vR(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function pf(t,e,n,r,i={}){return _R(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=s_(Object.assign({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);let l=Object.assign({method:e,headers:u},o);return RA()||(l.referrerPolicy="no-referrer"),t.emulatorConfig&&ao(t.emulatorConfig.host)&&(l.credentials="include"),uf.fetch()(await ER(t,t.config.apiHost,n,a),l)})}async function _R(t,e,n){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},S$),e);try{let i=new M_(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw rf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw rf(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw rf(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw rf(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw yR(t,h,l);aR(t,h)}}catch(i){if(i instanceof tn)throw i;aR(t,"network-request-failed",{message:String(i)})}}async function ER(t,e,n,r){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?b$(t.config,i):`${t.config.apiScheme}://${i}`;return A$.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}var M_=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(j_(this.auth,"network-request-failed")),R$.get())})}};function rf(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=j_(t,e,r);return i.customData._tokenResponse=n,i}async function N$(t,e){return pf(t,"POST","/v1/accounts:delete",e)}async function lf(t,e){return pf(t,"POST","/v1/accounts:lookup",e)}function yu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function B_(t,e=!1){let n=lt(t),r=await n.getIdToken(e),i=IR(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:yu(R_(i.auth_time)),issuedAtTime:yu(R_(i.iat)),expirationTime:yu(R_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function R_(t){return Number(t)*1e3}function IR(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return of("JWT malformed, contained fewer than 3 sections"),null;try{let i=Wh(n);return i?JSON.parse(i):(of("Failed to decode base64 JWT payload"),null)}catch(i){return of("Caught error parsing JWT payload as JSON",i?.toString()),null}}function uR(t){let e=IR(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function P_(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof tn&&M$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function M$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var x_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var _u=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yu(this.lastLoginAt),this.creationTime=yu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function df(t){var e;let n=t.auth,r=await t.getIdToken(),i=await P_(t,lf(n,{idToken:r}));me(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?wR(o.providerUserInfo):[],a=P$(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new _u(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function $_(t){let e=lt(t);await df(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function P$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function wR(t){return t.map(e=>{var{providerId:n}=e,r=vg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function x$(t,e){let n=await _R(t,{},async()=>{let r=s_({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await ER(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return t.emulatorConfig&&ao(t.emulatorConfig.host)&&(u.credentials="include"),uf.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function k$(t,e){return pf(t,"POST","/v2/accounts:revokeToken",vR(t,e))}var vu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){me(e.length!==0,"internal-error");let n=uR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:i,expiresIn:o}=await x$(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(me(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(me(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return mu("not implemented")}};function si(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var go=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=vg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new x_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new _u(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){let n=await P_(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return B_(this,e)}reload(){return $_(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await df(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pr(this.auth.app))return Promise.reject(sf(this.auth));let e=await this.getIdToken();return await P_(this,N$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,I=(s=n.photoURL)!==null&&s!==void 0?s:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,k=(l=n.createdAt)!==null&&l!==void 0?l:void 0,$=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:G,emailVerified:ye,isAnonymous:Le,providerData:Ie,stsTokenManager:D}=n;me(G&&D,e,"internal-error");let v=vu.fromJSON(this.name,D);me(typeof G=="string",e,"internal-error"),si(p,e.name),si(g,e.name),me(typeof ye=="boolean",e,"internal-error"),me(typeof Le=="boolean",e,"internal-error"),si(y,e.name),si(I,e.name),si(S,e.name),si(R,e.name),si(k,e.name),si($,e.name);let E=new t({uid:G,auth:e,email:g,emailVerified:ye,displayName:p,isAnonymous:Le,photoURL:I,phoneNumber:y,tenantId:S,stsTokenManager:v,createdAt:k,lastLoginAt:$});return Ie&&Array.isArray(Ie)&&(E.providerData=Ie.map(w=>Object.assign({},w))),R&&(E._redirectEventId=R),E}static async _fromIdTokenResponse(e,n,r=!1){let i=new vu;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await df(o),o}static async _fromGetAccountInfoResponse(e,n,r){let i=n.users[0];me(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?wR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new vu;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new _u(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var lR=new Map;function mo(t){cf(t instanceof Function,"Expected a class definition");let e=lR.get(t);return e?(cf(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lR.set(t,e),e)}var O$=(()=>{class t{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){let r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),k_=O$;function N_(t,e,n){return`firebase:${t}:${e}:${n}`}var hf=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=N_(this.userKey,i.apiKey,o),this.fullPersistenceKey=N_("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=await lf(this.auth,{idToken:e}).catch(()=>{});return n?go._fromGetAccountInfoResponse(this.auth,n,e):null}return go._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new t(mo(k_),e,r);let i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||mo(k_),s=N_(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=await l._get(s);if(h){let p;if(typeof h=="string"){let g=await lf(e,{idToken:h}).catch(()=>{});if(!g)break;p=await go._fromGetAccountInfoResponse(e,g,h)}else p=go._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new t(o,e,r))}};function dR(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(j$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(F$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(B$(e))return"Blackberry";if($$(e))return"Webos";if(L$(e))return"Safari";if((e.includes("chrome/")||V$(e))&&!e.includes("edge/"))return"Chrome";if(U$(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function F$(t=qt()){return/firefox\//i.test(t)}function L$(t=qt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function V$(t=qt()){return/crios\//i.test(t)}function j$(t=qt()){return/iemobile/i.test(t)}function U$(t=qt()){return/android/i.test(t)}function B$(t=qt()){return/blackberry/i.test(t)}function $$(t=qt()){return/webos/i.test(t)}function DR(t,e=[]){let n;switch(t){case"Browser":n=dR(qt());break;case"Worker":n=`${dR(qt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ws}/${r}`}var O_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function H$(t,e={}){return pf(t,"GET","/v2/passwordPolicy",vR(t,e))}var q$=6,F_=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:q$,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var L_=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ff(this),this.idTokenSubscription=new ff(this),this.beforeStateQueue=new O_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mo(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await hf.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await lf(this,{idToken:e}),r=await go._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(pr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await df(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=C$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pr(this.app))return Promise.reject(sf(this));let n=e?lt(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pr(this.app)?Promise.reject(sf(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pr(this.app)?Promise.reject(sf(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await H$(this),n=new F_(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await k$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&mo(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await hf.create(this,[mo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&w$(`Error while retrieving App Check token: ${n.error}`),n?.token}};function z$(t){return lt(t)}var ff=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=kA(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var G$={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W$(t){G$=t}function K$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Q$(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(mo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var Wie=K$("rcb"),Kie=new yo(3e4,6e4);var Qie=new yo(2e3,1e4);var Yie=10*60*1e3;var Zie=new yo(3e4,6e4);var Jie=new yo(5e3,15e3);var Xie=encodeURIComponent("fac");var hR="@firebase/auth",fR="1.10.8";var V_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Y$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Z$(t){Dn(new Rt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;me(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DR(t)},l=new L_(r,i,o,u);return Q$(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Dn(new Rt("auth-internal",e=>{let n=z$(e.getProvider("auth").getImmediate());return(r=>new V_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),He(hR,fR,Y$(t)),He(hR,fR,"esm2017")}var J$=5*60,eoe=bA("authIdTokenMaxAge")||J$;function X$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}W$({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=j_("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",X$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Z$("Browser");var ZH="auth";var gf=class{constructor(){return Ys(ZH)}};var TR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},CR={};var gr,H_;(function(){var t;function e(D,v){function E(){}E.prototype=v.prototype,D.D=v.prototype,D.prototype=new E,D.prototype.constructor=D,D.C=function(w,T,b){for(var _=Array(arguments.length-2),Kn=2;Kn<arguments.length;Kn++)_[Kn-2]=arguments[Kn];return v.prototype[T].apply(w,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,E){E||(E=0);var w=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)w[T]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(T=0;16>T;++T)w[T]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=D.g[0],E=D.g[1],T=D.g[2];var b=D.g[3],_=v+(b^E&(T^b))+w[0]+3614090360&4294967295;v=E+(_<<7&4294967295|_>>>25),_=b+(T^v&(E^T))+w[1]+3905402710&4294967295,b=v+(_<<12&4294967295|_>>>20),_=T+(E^b&(v^E))+w[2]+606105819&4294967295,T=b+(_<<17&4294967295|_>>>15),_=E+(v^T&(b^v))+w[3]+3250441966&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(b^E&(T^b))+w[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=b+(T^v&(E^T))+w[5]+1200080426&4294967295,b=v+(_<<12&4294967295|_>>>20),_=T+(E^b&(v^E))+w[6]+2821735955&4294967295,T=b+(_<<17&4294967295|_>>>15),_=E+(v^T&(b^v))+w[7]+4249261313&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(b^E&(T^b))+w[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=b+(T^v&(E^T))+w[9]+2336552879&4294967295,b=v+(_<<12&4294967295|_>>>20),_=T+(E^b&(v^E))+w[10]+4294925233&4294967295,T=b+(_<<17&4294967295|_>>>15),_=E+(v^T&(b^v))+w[11]+2304563134&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(b^E&(T^b))+w[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=b+(T^v&(E^T))+w[13]+4254626195&4294967295,b=v+(_<<12&4294967295|_>>>20),_=T+(E^b&(v^E))+w[14]+2792965006&4294967295,T=b+(_<<17&4294967295|_>>>15),_=E+(v^T&(b^v))+w[15]+1236535329&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(T^b&(E^T))+w[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=b+(E^T&(v^E))+w[6]+3225465664&4294967295,b=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(b^v))+w[11]+643717713&4294967295,T=b+(_<<14&4294967295|_>>>18),_=E+(b^v&(T^b))+w[0]+3921069994&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(T^b&(E^T))+w[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=b+(E^T&(v^E))+w[10]+38016083&4294967295,b=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(b^v))+w[15]+3634488961&4294967295,T=b+(_<<14&4294967295|_>>>18),_=E+(b^v&(T^b))+w[4]+3889429448&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(T^b&(E^T))+w[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=b+(E^T&(v^E))+w[14]+3275163606&4294967295,b=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(b^v))+w[3]+4107603335&4294967295,T=b+(_<<14&4294967295|_>>>18),_=E+(b^v&(T^b))+w[8]+1163531501&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(T^b&(E^T))+w[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=b+(E^T&(v^E))+w[2]+4243563512&4294967295,b=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(b^v))+w[7]+1735328473&4294967295,T=b+(_<<14&4294967295|_>>>18),_=E+(b^v&(T^b))+w[12]+2368359562&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(E^T^b)+w[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=b+(v^E^T)+w[8]+2272392833&4294967295,b=v+(_<<11&4294967295|_>>>21),_=T+(b^v^E)+w[11]+1839030562&4294967295,T=b+(_<<16&4294967295|_>>>16),_=E+(T^b^v)+w[14]+4259657740&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(E^T^b)+w[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=b+(v^E^T)+w[4]+1272893353&4294967295,b=v+(_<<11&4294967295|_>>>21),_=T+(b^v^E)+w[7]+4139469664&4294967295,T=b+(_<<16&4294967295|_>>>16),_=E+(T^b^v)+w[10]+3200236656&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(E^T^b)+w[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=b+(v^E^T)+w[0]+3936430074&4294967295,b=v+(_<<11&4294967295|_>>>21),_=T+(b^v^E)+w[3]+3572445317&4294967295,T=b+(_<<16&4294967295|_>>>16),_=E+(T^b^v)+w[6]+76029189&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(E^T^b)+w[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=b+(v^E^T)+w[12]+3873151461&4294967295,b=v+(_<<11&4294967295|_>>>21),_=T+(b^v^E)+w[15]+530742520&4294967295,T=b+(_<<16&4294967295|_>>>16),_=E+(T^b^v)+w[2]+3299628645&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(T^(E|~b))+w[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=b+(E^(v|~T))+w[7]+1126891415&4294967295,b=v+(_<<10&4294967295|_>>>22),_=T+(v^(b|~E))+w[14]+2878612391&4294967295,T=b+(_<<15&4294967295|_>>>17),_=E+(b^(T|~v))+w[5]+4237533241&4294967295,E=T+(_<<21&4294967295|_>>>11),_=v+(T^(E|~b))+w[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=b+(E^(v|~T))+w[3]+2399980690&4294967295,b=v+(_<<10&4294967295|_>>>22),_=T+(v^(b|~E))+w[10]+4293915773&4294967295,T=b+(_<<15&4294967295|_>>>17),_=E+(b^(T|~v))+w[1]+2240044497&4294967295,E=T+(_<<21&4294967295|_>>>11),_=v+(T^(E|~b))+w[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=b+(E^(v|~T))+w[15]+4264355552&4294967295,b=v+(_<<10&4294967295|_>>>22),_=T+(v^(b|~E))+w[6]+2734768916&4294967295,T=b+(_<<15&4294967295|_>>>17),_=E+(b^(T|~v))+w[13]+1309151649&4294967295,E=T+(_<<21&4294967295|_>>>11),_=v+(T^(E|~b))+w[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=b+(E^(v|~T))+w[11]+3174756917&4294967295,b=v+(_<<10&4294967295|_>>>22),_=T+(v^(b|~E))+w[2]+718787259&4294967295,T=b+(_<<15&4294967295|_>>>17),_=E+(b^(T|~v))+w[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(T+(_<<21&4294967295|_>>>11))&4294967295,D.g[2]=D.g[2]+T&4294967295,D.g[3]=D.g[3]+b&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var E=v-this.blockSize,w=this.B,T=this.h,b=0;b<v;){if(T==0)for(;b<=E;)i(this,D,b),b+=this.blockSize;if(typeof D=="string"){for(;b<v;)if(w[T++]=D.charCodeAt(b++),T==this.blockSize){i(this,w),T=0;break}}else for(;b<v;)if(w[T++]=D[b++],T==this.blockSize){i(this,w),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var E=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=E&255,E/=256;for(this.u(D),D=Array(16),v=E=0;4>v;++v)for(var w=0;32>w;w+=8)D[E++]=this.g[v]>>>w&255;return D};function o(D,v){var E=a;return Object.prototype.hasOwnProperty.call(E,D)?E[D]:E[D]=v(D)}function s(D,v){this.h=v;for(var E=[],w=!0,T=D.length-1;0<=T;T--){var b=D[T]|0;w&&b==v||(E[T]=b,w=!1)}this.g=E}var a={};function u(D){return-128<=D&&128>D?o(D,function(v){return new s([v|0],0>v?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(l(-D));for(var v=[],E=1,w=0;D>=E;w++)v[w]=D/E|0,E*=4294967296;return new s(v,0)}function h(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return R(h(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),w=p,T=0;T<D.length;T+=8){var b=Math.min(8,D.length-T),_=parseInt(D.substring(T,T+b),v);8>b?(b=l(Math.pow(v,b)),w=w.j(b).add(l(_))):(w=w.j(E),w=w.add(l(_)))}return w}var p=u(0),g=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(S(this))return-R(this).m();for(var D=0,v=1,E=0;E<this.g.length;E++){var w=this.i(E);D+=(0<=w?w:4294967296+w)*v,v*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(I(this))return"0";if(S(this))return"-"+R(this).toString(D);for(var v=l(Math.pow(D,6)),E=this,w="";;){var T=ye(E,v).g;E=k(E,T.j(v));var b=((0<E.g.length?E.g[0]:E.h)>>>0).toString(D);if(E=T,I(E))return b+w;for(;6>b.length;)b="0"+b;w=b+w}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function I(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function S(D){return D.h==-1}t.l=function(D){return D=k(this,D),S(D)?-1:I(D)?0:1};function R(D){for(var v=D.g.length,E=[],w=0;w<v;w++)E[w]=~D.g[w];return new s(E,~D.h).add(g)}t.abs=function(){return S(this)?R(this):this},t.add=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],w=0,T=0;T<=v;T++){var b=w+(this.i(T)&65535)+(D.i(T)&65535),_=(b>>>16)+(this.i(T)>>>16)+(D.i(T)>>>16);w=_>>>16,b&=65535,_&=65535,E[T]=_<<16|b}return new s(E,E[E.length-1]&-2147483648?-1:0)};function k(D,v){return D.add(R(v))}t.j=function(D){if(I(this)||I(D))return p;if(S(this))return S(D)?R(this).j(R(D)):R(R(this).j(D));if(S(D))return R(this.j(R(D)));if(0>this.l(y)&&0>D.l(y))return l(this.m()*D.m());for(var v=this.g.length+D.g.length,E=[],w=0;w<2*v;w++)E[w]=0;for(w=0;w<this.g.length;w++)for(var T=0;T<D.g.length;T++){var b=this.i(w)>>>16,_=this.i(w)&65535,Kn=D.i(T)>>>16,Ra=D.i(T)&65535;E[2*w+2*T]+=_*Ra,$(E,2*w+2*T),E[2*w+2*T+1]+=b*Ra,$(E,2*w+2*T+1),E[2*w+2*T+1]+=_*Kn,$(E,2*w+2*T+1),E[2*w+2*T+2]+=b*Kn,$(E,2*w+2*T+2)}for(w=0;w<v;w++)E[w]=E[2*w+1]<<16|E[2*w];for(w=v;w<2*v;w++)E[w]=0;return new s(E,0)};function $(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function G(D,v){this.g=D,this.h=v}function ye(D,v){if(I(v))throw Error("division by zero");if(I(D))return new G(p,p);if(S(D))return v=ye(R(D),v),new G(R(v.g),R(v.h));if(S(v))return v=ye(D,R(v)),new G(R(v.g),v.h);if(30<D.g.length){if(S(D)||S(v))throw Error("slowDivide_ only works with positive integers.");for(var E=g,w=v;0>=w.l(D);)E=Le(E),w=Le(w);var T=Ie(E,1),b=Ie(w,1);for(w=Ie(w,2),E=Ie(E,2);!I(w);){var _=b.add(w);0>=_.l(D)&&(T=T.add(E),b=_),w=Ie(w,1),E=Ie(E,1)}return v=k(D,T.j(v)),new G(T,v)}for(T=p;0<=D.l(v);){for(E=Math.max(1,Math.floor(D.m()/v.m())),w=Math.ceil(Math.log(E)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),b=l(E),_=b.j(v);S(_)||0<_.l(D);)E-=w,b=l(E),_=b.j(v);I(b)&&(b=g),T=T.add(b),D=k(D,_)}return new G(T,D)}t.A=function(D){return ye(this,D).h},t.and=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)&D.i(w);return new s(E,this.h&D.h)},t.or=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)|D.i(w);return new s(E,this.h|D.h)},t.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)^D.i(w);return new s(E,this.h^D.h)};function Le(D){for(var v=D.g.length+1,E=[],w=0;w<v;w++)E[w]=D.i(w)<<1|D.i(w-1)>>>31;return new s(E,D.h)}function Ie(D,v){var E=v>>5;v%=32;for(var w=D.g.length-E,T=[],b=0;b<w;b++)T[b]=0<v?D.i(b+E)>>>v|D.i(b+E+1)<<32-v:D.i(b+E);return new s(T,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,H_=CR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,gr=CR.Integer=s}).apply(typeof TR<"u"?TR:typeof self<"u"?self:typeof window<"u"?window:{});var mf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mr={};var q_,JH,Zs,z_,Eu,yf,G_,W_,K_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof mf=="object"&&mf];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var C=c[m];if(!(C in f))break e;f=f[C]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,C={next:function(){if(!m&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return m=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,m),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function I(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,C,A){for(var F=Array(arguments.length-2),we=2;we<arguments.length;we++)F[we-2]=arguments[we];return d.prototype[C].apply(m,F)}}function S(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let C=c.length||0,A=m.length||0;c.length=C+A;for(let F=0;F<A;F++)c[C+F]=m[F]}else c.push(m)}}class k{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function $(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ye(c){return ye[" "](c),c}ye[" "]=function(){};var Le=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function Ie(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let f,m;for(let C=1;C<arguments.length;C++){m=arguments[C];for(f in m)c[f]=m[f];for(let A=0;A<E.length;A++)f=E[A],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function b(c){a.setTimeout(()=>{throw c},0)}function _(){var c=Op;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Kn{constructor(){this.h=this.g=null}add(d,f){let m=Ra.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var Ra=new k(()=>new BP,c=>c.reset());class BP{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Na,Ma=!1,Op=new Kn,Vw=()=>{let c=a.Promise.resolve(void 0);Na=()=>{c.then($P)}};var $P=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(f){b(f)}var d=Ra;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ma=!1};function Ar(){this.s=this.s,this.C=this.C}Ar.prototype.s=!1,Ar.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ar.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ht(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ht.prototype.h=function(){this.defaultPrevented=!0};var HP=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Pa(c,d){if(ht.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Le){e:{try{ye(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:qP[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Pa.aa.h.call(this)}}I(Pa,ht);var qP={2:"touch",3:"pen",4:"mouse"};Pa.prototype.h=function(){Pa.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var xa="closure_listenable_"+(1e6*Math.random()|0),zP=0;function GP(c,d,f,m,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=C,this.key=++zP,this.da=this.fa=!1}function Wu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ku(c){this.src=c,this.g={},this.h=0}Ku.prototype.add=function(c,d,f,m,C){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var F=Lp(c,d,m,C);return-1<F?(d=c[F],f||(d.fa=!1)):(d=new GP(d,this.src,A,!!m,C),d.fa=f,c.push(d)),d};function Fp(c,d){var f=d.type;if(f in c.g){var m=c.g[f],C=Array.prototype.indexOf.call(m,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(m,C,1),A&&(Wu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Lp(c,d,f,m){for(var C=0;C<c.length;++C){var A=c[C];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==m)return C}return-1}var Vp="closure_lm_"+(1e6*Math.random()|0),jp={};function jw(c,d,f,m,C){if(m&&m.once)return Bw(c,d,f,m,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)jw(c,d[A],f,m,C);return null}return f=Hp(f),c&&c[xa]?c.K(d,f,l(m)?!!m.capture:!!m,C):Uw(c,d,f,!1,m,C)}function Uw(c,d,f,m,C,A){if(!d)throw Error("Invalid event type");var F=l(C)?!!C.capture:!!C,we=Bp(c);if(we||(c[Vp]=we=new Ku(c)),f=we.add(d,f,m,F,A),f.proxy)return f;if(m=WP(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)HP||(C=F),C===void 0&&(C=!1),c.addEventListener(d.toString(),m,C);else if(c.attachEvent)c.attachEvent(Hw(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function WP(){function c(f){return d.call(c.src,c.listener,f)}let d=KP;return c}function Bw(c,d,f,m,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)Bw(c,d[A],f,m,C);return null}return f=Hp(f),c&&c[xa]?c.L(d,f,l(m)?!!m.capture:!!m,C):Uw(c,d,f,!0,m,C)}function $w(c,d,f,m,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)$w(c,d[A],f,m,C);else m=l(m)?!!m.capture:!!m,f=Hp(f),c&&c[xa]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=Lp(A,f,m,C),-1<f&&(Wu(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=Bp(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Lp(d,f,m,C)),(f=-1<c?d[c]:null)&&Up(f))}function Up(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[xa])Fp(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(Hw(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=Bp(d))?(Fp(f,c),f.h==0&&(f.src=null,d[Vp]=null)):Wu(c)}}}function Hw(c){return c in jp?jp[c]:jp[c]="on"+c}function KP(c,d){if(c.da)c=!0;else{d=new Pa(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&Up(c),c=f.call(m,d)}return c}function Bp(c){return c=c[Vp],c instanceof Ku?c:null}var $p="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hp(c){return typeof c=="function"?c:(c[$p]||(c[$p]=function(d){return c.handleEvent(d)}),c[$p])}function ft(){Ar.call(this),this.i=new Ku(this),this.M=this,this.F=null}I(ft,Ar),ft.prototype[xa]=!0,ft.prototype.removeEventListener=function(c,d,f,m){$w(this,c,d,f,m)};function _t(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new ht(d,c);else if(d instanceof ht)d.target=d.target||c;else{var C=d;d=new ht(m,c),w(d,C)}if(C=!0,f)for(var A=f.length-1;0<=A;A--){var F=d.g=f[A];C=Qu(F,m,!0,d)&&C}if(F=d.g=c,C=Qu(F,m,!0,d)&&C,C=Qu(F,m,!1,d)&&C,f)for(A=0;A<f.length;A++)F=d.g=f[A],C=Qu(F,m,!1,d)&&C}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)Wu(f[m]);delete c.g[d],c.h--}}this.F=null},ft.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},ft.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function Qu(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var F=d[A];if(F&&!F.da&&F.capture==f){var we=F.listener,at=F.ha||F.src;F.fa&&Fp(c.i,F),C=we.call(at,m)!==!1&&C}}return C&&!m.defaultPrevented}function qw(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function zw(c){c.g=qw(()=>{c.g=null,c.i&&(c.i=!1,zw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class QP extends Ar{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:zw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ka(c){Ar.call(this),this.h=c,this.g={}}I(ka,Ar);var Gw=[];function Ww(c){Ie(c.g,function(d,f){this.g.hasOwnProperty(f)&&Up(d)},c),c.g={}}ka.prototype.N=function(){ka.aa.N.call(this),Ww(this)},ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qp=a.JSON.stringify,YP=a.JSON.parse,ZP=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function zp(){}zp.prototype.h=null;function Kw(c){return c.h||(c.h=c.i())}function Qw(){}var Oa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gp(){ht.call(this,"d")}I(Gp,ht);function Wp(){ht.call(this,"c")}I(Wp,ht);var Ei={},Yw=null;function Yu(){return Yw=Yw||new ft}Ei.La="serverreachability";function Zw(c){ht.call(this,Ei.La,c)}I(Zw,ht);function Fa(c){let d=Yu();_t(d,new Zw(d))}Ei.STAT_EVENT="statevent";function Jw(c,d){ht.call(this,Ei.STAT_EVENT,c),this.stat=d}I(Jw,ht);function Et(c){let d=Yu();_t(d,new Jw(d,c))}Ei.Ma="timingevent";function Xw(c,d){ht.call(this,Ei.Ma,c),this.size=d}I(Xw,ht);function La(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Va(){this.g=!0}Va.prototype.xa=function(){this.g=!1};function JP(c,d,f,m,C,A){c.info(function(){if(c.g)if(A)for(var F="",we=A.split("&"),at=0;at<we.length;at++){var fe=we[at].split("=");if(1<fe.length){var pt=fe[0];fe=fe[1];var gt=pt.split("_");F=2<=gt.length&&gt[1]=="type"?F+(pt+"="+fe+"&"):F+(pt+"=redacted&")}}else F=null;else F=A;return"XMLHTTP REQ ("+m+") [attempt "+C+"]: "+d+`
`+f+`
`+F})}function XP(c,d,f,m,C,A,F){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+C+"]: "+d+`
`+f+`
`+A+" "+F})}function Po(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+tx(c,f)+(m?" "+m:"")})}function ex(c,d){c.info(function(){return"TIMEOUT: "+d})}Va.prototype.info=function(){};function tx(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var C=m[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var F=1;F<C.length;F++)C[F]=""}}}}return qp(f)}catch{return d}}var Zu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},eD={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kp;function Ju(){}I(Ju,zp),Ju.prototype.g=function(){return new XMLHttpRequest},Ju.prototype.i=function(){return{}},Kp=new Ju;function Rr(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new ka(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tD}function tD(){this.i=null,this.g="",this.h=!1}var nD={},Qp={};function Yp(c,d,f){c.L=1,c.v=nl(Qn(d)),c.m=f,c.P=!0,rD(c,null)}function rD(c,d){c.F=Date.now(),Xu(c),c.A=Qn(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),yD(f.i,"t",m),c.C=0,f=c.j.J,c.h=new tD,c.g=OD(c.j,f?d:null,!c.m),0<c.O&&(c.M=new QP(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(Gw[0]=C.toString()),C=Gw);for(var A=0;A<C.length;A++){var F=jw(f,C[A],m||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Fa(),JP(c.i,c.u,c.A,c.l,c.R,c.m)}Rr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Yn(c)==3?d.j():this.Y(c)},Rr.prototype.Y=function(c){try{if(c==this.g)e:{let gt=Yn(this.g);var d=this.g.Ba();let Oo=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||TD(this.g)))){this.J||gt!=4||d==7||(d==8||0>=Oo?Fa(3):Fa(2)),Zp(this);var f=this.g.Z();this.X=f;t:if(iD(this)){var m=TD(this.g);c="";var C=m.length,A=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ii(this),ja(this);var F="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(A&&d==C-1)});m.length=0,this.h.g+=c,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=f==200,XP(this.i,this.u,this.A,this.l,this.R,gt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var we,at=this.g;if((we=at.g?at.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(we)){var fe=we;break t}}fe=null}if(f=fe)Po(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jp(this,f);else{this.o=!1,this.s=3,Et(12),Ii(this),ja(this);break e}}if(this.P){f=!0;let on;for(;!this.J&&this.C<F.length;)if(on=nx(this,F),on==Qp){gt==4&&(this.s=4,Et(14),f=!1),Po(this.i,this.l,null,"[Incomplete Response]");break}else if(on==nD){this.s=4,Et(15),Po(this.i,this.l,F,"[Invalid Chunk]"),f=!1;break}else Po(this.i,this.l,on,null),Jp(this,on);if(iD(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||F.length!=0||this.h.h||(this.s=1,Et(16),f=!1),this.o=this.o&&f,!f)Po(this.i,this.l,F,"[Invalid Chunked Response]"),Ii(this),ja(this);else if(0<F.length&&!this.W){this.W=!0;var pt=this.j;pt.g==this&&pt.ba&&!pt.M&&(pt.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),ig(pt),pt.M=!0,Et(11))}}else Po(this.i,this.l,F,null),Jp(this,F);gt==4&&Ii(this),this.o&&!this.J&&(gt==4?MD(this.j,this):(this.o=!1,Xu(this)))}else _x(this.g),f==400&&0<F.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),Ii(this),ja(this)}}}catch{}finally{}};function iD(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function nx(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?Qp:(f=Number(d.substring(f,m)),isNaN(f)?nD:(m+=1,m+f>d.length?Qp:(d=d.slice(m,m+f),c.C=m+f,d)))}Rr.prototype.cancel=function(){this.J=!0,Ii(this)};function Xu(c){c.S=Date.now()+c.I,oD(c,c.I)}function oD(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=La(g(c.ba,c),d)}function Zp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Rr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(ex(this.i,this.A),this.L!=2&&(Fa(),Et(17)),Ii(this),this.s=2,ja(this)):oD(this,this.S-c)};function ja(c){c.j.G==0||c.J||MD(c.j,c)}function Ii(c){Zp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Ww(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Jp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Xp(f.h,c))){if(!c.K&&Xp(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var C=m;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)al(f),ol(f);else break e;rg(f),Et(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=La(g(f.Za,f),6e3));if(1>=cD(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Di(f,11)}else if((c.K||f.g==c)&&al(f),!$(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let fe=C[d];if(f.T=fe[0],fe=fe[1],f.G==2)if(fe[0]=="c"){f.K=fe[1],f.ia=fe[2];let pt=fe[3];pt!=null&&(f.la=pt,f.j.info("VER="+f.la));let gt=fe[4];gt!=null&&(f.Aa=gt,f.j.info("SVER="+f.Aa));let Oo=fe[5];Oo!=null&&typeof Oo=="number"&&0<Oo&&(m=1.5*Oo,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let on=c.g;if(on){let ul=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ul){var A=m.h;A.g||ul.indexOf("spdy")==-1&&ul.indexOf("quic")==-1&&ul.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(eg(A,A.h),A.h=null))}if(m.D){let og=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;og&&(m.ya=og,Te(m.I,m.D,og))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var F=c;if(m.qa=kD(m,m.J?m.ia:null,m.W),F.K){uD(m.h,F);var we=F,at=m.L;at&&(we.I=at),we.B&&(Zp(we),Xu(we)),m.g=F}else RD(m);0<f.i.length&&sl(f)}else fe[0]!="stop"&&fe[0]!="close"||Di(f,7);else f.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?Di(f,7):ng(f):fe[0]!="noop"&&f.l&&f.l.ta(fe),f.v=0)}}Fa(4)}catch{}}var rx=class{constructor(c,d){this.g=c,this.map=d}};function sD(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function aD(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function cD(c){return c.h?1:c.g?c.g.size:0}function Xp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function eg(c,d){c.g?c.g.add(d):c.h=d}function uD(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}sD.prototype.cancel=function(){if(this.i=lD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function lD(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return S(c.i)}function ix(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function ox(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function dD(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=ox(c),m=ix(c),C=m.length,A=0;A<C;A++)d.call(void 0,m[A],f&&f[A],c)}var hD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sx(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),C=null;if(0<=m){var A=c[f].substring(0,m);C=c[f].substring(m+1)}else A=c[f];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function wi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof wi){this.h=c.h,el(this,c.j),this.o=c.o,this.g=c.g,tl(this,c.s),this.l=c.l;var d=c.i,f=new $a;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),fD(this,f),this.m=c.m}else c&&(d=String(c).match(hD))?(this.h=!1,el(this,d[1]||"",!0),this.o=Ua(d[2]||""),this.g=Ua(d[3]||"",!0),tl(this,d[4]),this.l=Ua(d[5]||"",!0),fD(this,d[6]||"",!0),this.m=Ua(d[7]||"")):(this.h=!1,this.i=new $a(null,this.h))}wi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Ba(d,pD,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Ba(d,pD,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Ba(f,f.charAt(0)=="/"?ux:cx,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Ba(f,dx)),c.join("")};function Qn(c){return new wi(c)}function el(c,d,f){c.j=f?Ua(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function tl(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function fD(c,d,f){d instanceof $a?(c.i=d,hx(c.i,c.h)):(f||(d=Ba(d,lx)),c.i=new $a(d,c.h))}function Te(c,d,f){c.i.set(d,f)}function nl(c){return Te(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ua(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ba(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,ax),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ax(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var pD=/[#\/\?@]/g,cx=/[#\?:]/g,ux=/[#\?]/g,lx=/[#\?@]/g,dx=/#/g;function $a(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Nr(c){c.g||(c.g=new Map,c.h=0,c.i&&sx(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=$a.prototype,t.add=function(c,d){Nr(this),this.i=null,c=xo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function gD(c,d){Nr(c),d=xo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function mD(c,d){return Nr(c),d=xo(c,d),c.g.has(d)}t.forEach=function(c,d){Nr(this),this.g.forEach(function(f,m){f.forEach(function(C){c.call(d,C,m,this)},this)},this)},t.na=function(){Nr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let C=c[m];for(let A=0;A<C.length;A++)f.push(d[m])}return f},t.V=function(c){Nr(this);let d=[];if(typeof c=="string")mD(this,c)&&(d=d.concat(this.g.get(xo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return Nr(this),this.i=null,c=xo(this,c),mD(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function yD(c,d,f){gD(c,d),0<f.length&&(c.i=null,c.g.set(xo(c,d),S(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let A=encodeURIComponent(String(m)),F=this.V(m);for(m=0;m<F.length;m++){var C=A;F[m]!==""&&(C+="="+encodeURIComponent(String(F[m]))),c.push(C)}}return this.i=c.join("&")};function xo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function hx(c,d){d&&!c.j&&(Nr(c),c.i=null,c.g.forEach(function(f,m){var C=m.toLowerCase();m!=C&&(gD(this,m),yD(this,C,f))},c)),c.j=d}function fx(c,d){let f=new Va;if(a.Image){let m=new Image;m.onload=y(Mr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=y(Mr,f,"TestLoadImage: error",!1,d,m),m.onabort=y(Mr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(Mr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function px(c,d){let f=new Va,m=new AbortController,C=setTimeout(()=>{m.abort(),Mr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(A=>{clearTimeout(C),A.ok?Mr(f,"TestPingServer: ok",!0,d):Mr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Mr(f,"TestPingServer: error",!1,d)})}function Mr(c,d,f,m,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),m(f)}catch{}}function gx(){this.g=new ZP}function mx(c,d,f){let m=f||"";try{dD(c,function(C,A){let F=C;l(C)&&(F=qp(C)),d.push(m+A+"="+encodeURIComponent(F))})}catch(C){throw d.push(m+"type="+encodeURIComponent("_badmap")),C}}function Ha(c){this.l=c.Ub||null,this.j=c.eb||!1}I(Ha,zp),Ha.prototype.g=function(){return new rl(this.l,this.j)},Ha.prototype.i=function(c){return function(){return c}}({});function rl(c,d){ft.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(rl,ft),t=rl.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,za(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qa(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,za(this)),this.g&&(this.readyState=3,za(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vD(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function vD(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?qa(this):za(this),this.readyState==3&&vD(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,qa(this))},t.Qa=function(c){this.g&&(this.response=c,qa(this))},t.ga=function(){this.g&&qa(this)};function qa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,za(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function za(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(rl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function _D(c){let d="";return Ie(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function tg(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=_D(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Te(c,d,f))}function Me(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Me,ft);var yx=/^https?$/i,vx=["POST","PUT"];t=Me.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kp.g(),this.v=this.o?Kw(this.o):Kw(Kp),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){ED(this,A);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var C in m)f.set(C,m[C]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let A of m.keys())f.set(A,m.get(A));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(vx,d,void 0))||m||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,F]of f)this.g.setRequestHeader(A,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{DD(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){ED(this,A)}};function ED(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,ID(c),il(c)}function ID(c){c.A||(c.A=!0,_t(c,"complete"),_t(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,_t(this,"complete"),_t(this,"abort"),il(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),il(this,!0)),Me.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?wD(this):this.bb())},t.bb=function(){wD(this)};function wD(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Yn(c)!=4||c.Z()!=2)){if(c.u&&Yn(c)==4)qw(c.Ea,0,c);else if(_t(c,"readystatechange"),Yn(c)==4){c.h=!1;try{let F=c.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=F===0){var C=String(c.D).match(hD)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),m=!yx.test(C?C.toLowerCase():"")}f=m}if(f)_t(c,"complete"),_t(c,"success");else{c.m=6;try{var A=2<Yn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",ID(c)}}finally{il(c)}}}}function il(c,d){if(c.g){DD(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||_t(c,"ready");try{f.onreadystatechange=m}catch{}}}function DD(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),YP(d)}};function TD(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function _x(c){let d={};c=(c.g&&2<=Yn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if($(c[m]))continue;var f=T(c[m]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[C]||[];d[C]=A,A.push(f)}D(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ga(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function CD(c){this.Aa=0,this.i=[],this.j=new Va,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ga("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ga("baseRetryDelayMs",5e3,c),this.cb=Ga("retryDelaySeedMs",1e4,c),this.Wa=Ga("forwardChannelMaxRetries",2,c),this.wa=Ga("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new sD(c&&c.concurrentRequestLimit),this.Da=new gx,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=CD.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,m){Et(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=kD(this,null,this.W),sl(this)};function ng(c){if(bD(c),c.G==3){var d=c.U++,f=Qn(c.I);if(Te(f,"SID",c.K),Te(f,"RID",d),Te(f,"TYPE","terminate"),Wa(c,f),d=new Rr(c,c.j,d),d.L=2,d.v=nl(Qn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=OD(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Xu(d)}xD(c)}function ol(c){c.g&&(ig(c),c.g.cancel(),c.g=null)}function bD(c){ol(c),c.u&&(a.clearTimeout(c.u),c.u=null),al(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function sl(c){if(!aD(c.h)&&!c.s){c.s=!0;var d=c.Ga;Na||Vw(),Ma||(Na(),Ma=!0),Op.add(d,c),c.B=0}}function Ex(c,d){return cD(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=La(g(c.Ga,c,d),PD(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new Rr(this,this.j,c),A=this.o;if(this.S&&(A?(A=v(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=AD(this,C,d),f=Qn(this.I),Te(f,"RID",c),Te(f,"CVER",22),this.D&&Te(f,"X-HTTP-Session-Id",this.D),Wa(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(_D(A)))+"&"+d:this.m&&tg(f,this.m,A)),eg(this.h,C),this.Ua&&Te(f,"TYPE","init"),this.P?(Te(f,"$req",d),Te(f,"SID","null"),C.T=!0,Yp(C,f,null)):Yp(C,f,d),this.G=2}}else this.G==3&&(c?SD(this,c):this.i.length==0||aD(this.h)||SD(this))};function SD(c,d){var f;d?f=d.l:f=c.U++;let m=Qn(c.I);Te(m,"SID",c.K),Te(m,"RID",f),Te(m,"AID",c.T),Wa(c,m),c.m&&c.o&&tg(m,c.m,c.o),f=new Rr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=AD(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),eg(c.h,f),Yp(f,m,d)}function Wa(c,d){c.H&&Ie(c.H,function(f,m){Te(d,m,f)}),c.l&&dD({},function(f,m){Te(d,m,f)})}function AD(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var C=c.i;let A=-1;for(;;){let F=["count="+f];A==-1?0<f?(A=C[0].g,F.push("ofs="+A)):A=0:F.push("ofs="+A);let we=!0;for(let at=0;at<f;at++){let fe=C[at].g,pt=C[at].map;if(fe-=A,0>fe)A=Math.max(0,C[at].g-100),we=!1;else try{mx(pt,F,"req"+fe+"_")}catch{m&&m(pt)}}if(we){m=F.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function RD(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Na||Vw(),Ma||(Na(),Ma=!0),Op.add(d,c),c.v=0}}function rg(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=La(g(c.Fa,c),PD(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,ND(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=La(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),ol(this),ND(this))};function ig(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function ND(c){c.g=new Rr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Qn(c.qa);Te(d,"RID","rpc"),Te(d,"SID",c.K),Te(d,"AID",c.T),Te(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Te(d,"TO",c.ja),Te(d,"TYPE","xmlhttp"),Wa(c,d),c.m&&c.o&&tg(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=nl(Qn(d)),f.m=null,f.P=!0,rD(f,c)}t.Za=function(){this.C!=null&&(this.C=null,ol(this),rg(this),Et(19))};function al(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function MD(c,d){var f=null;if(c.g==d){al(c),ig(c),c.g=null;var m=2}else if(Xp(c.h,d))f=d.D,uD(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;m=Yu(),_t(m,new Xw(m,f)),sl(c)}else RD(c);else if(C=d.s,C==3||C==0&&0<d.X||!(m==1&&Ex(c,d)||m==2&&rg(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:Di(c,5);break;case 4:Di(c,10);break;case 3:Di(c,6);break;default:Di(c,2)}}}function PD(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Di(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let C=!m;m=new wi(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||el(m,"https"),nl(m),C?fx(m.toString(),f):px(m.toString(),f)}else Et(2);c.G=0,c.l&&c.l.sa(d),xD(c),bD(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function xD(c){if(c.G=0,c.ka=[],c.l){let d=lD(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,S(c.i),c.i.length=0),c.l.ra()}}function kD(c,d,f){var m=f instanceof wi?Qn(f):new wi(f);if(m.g!="")d&&(m.g=d+"."+m.g),tl(m,m.s);else{var C=a.location;m=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new wi(null);m&&el(A,m),d&&(A.g=d),C&&tl(A,C),f&&(A.l=f),m=A}return f=c.D,d=c.ya,f&&d&&Te(m,f,d),Te(m,"VER",c.la),Wa(c,m),m}function OD(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Me(new Ha({eb:f})):new Me(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function FD(){}t=FD.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function cl(){}cl.prototype.g=function(c,d){return new Ft(c,d)};function Ft(c,d){ft.call(this),this.g=new CD(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!$(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!$(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ko(this)}I(Ft,ft),Ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){ng(this.g)},Ft.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=qp(c),c=f);d.i.push(new rx(d.Ya++,c)),d.G==3&&sl(d)},Ft.prototype.N=function(){this.g.l=null,delete this.j,ng(this.g),delete this.g,Ft.aa.N.call(this)};function LD(c){Gp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}I(LD,Gp);function VD(){Wp.call(this),this.status=1}I(VD,Wp);function ko(c){this.g=c}I(ko,FD),ko.prototype.ua=function(){_t(this.g,"a")},ko.prototype.ta=function(c){_t(this.g,new LD(c))},ko.prototype.sa=function(c){_t(this.g,new VD)},ko.prototype.ra=function(){_t(this.g,"b")},cl.prototype.createWebChannel=cl.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,K_=mr.createWebChannelTransport=function(){return new cl},W_=mr.getStatEventTarget=function(){return Yu()},G_=mr.Event=Ei,yf=mr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zu.NO_ERROR=0,Zu.TIMEOUT=8,Zu.HTTP_ERROR=6,Eu=mr.ErrorCode=Zu,eD.COMPLETE="complete",z_=mr.EventType=eD,Qw.EventType=Oa,Oa.OPEN="a",Oa.CLOSE="b",Oa.ERROR="c",Oa.MESSAGE="d",ft.prototype.listen=ft.prototype.K,Zs=mr.WebChannel=Qw,JH=mr.FetchXmlHttpFactory=Ha,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,q_=mr.XhrIo=Me}).apply(typeof mf<"u"?mf:typeof self<"u"?self:typeof window<"u"?window:{});var bR="@firebase/firestore",SR="4.8.0";var ot=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ot.UNAUTHENTICATED=new ot(null),ot.GOOGLE_CREDENTIALS=new ot("google-credentials-uid"),ot.FIRST_PARTY=new ot("first-party-uid"),ot.MOCK_USER=new ot("mock-user");var _a="11.10.0";var wo=new Bn("@firebase/firestore");function Js(){return wo.logLevel}function L(t,...e){if(wo.logLevel<=ue.DEBUG){let n=e.map(LI);wo.debug(`Firestore (${_a}): ${t}`,...n)}}function vr(t,...e){if(wo.logLevel<=ue.ERROR){let n=e.map(LI);wo.error(`Firestore (${_a}): ${t}`,...n)}}function di(t,...e){if(wo.logLevel<=ue.WARN){let n=e.map(LI);wo.warn(`Firestore (${_a}): ${t}`,...n)}}function LI(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function z(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,yN(t,r,n)}function yN(t,e,n){let r=`FIRESTORE (${_a}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw vr(r),new Error(r)}function Ee(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||yN(e,i,r)}function ee(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},O=class extends tn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Cn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Tf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},X_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ot.UNAUTHENTICATED))}shutdown(){}},eE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},tE=class{constructor(e){this.t=e,this.currentUser=ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ee(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Cn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Cn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Cn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ee(typeof r.accessToken=="string",31837,{l:r}),new Tf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string",2055,{h:e}),new ot(e)}},nE=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ot.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},rE=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new nE(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Cf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},iE=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ee(this.o===void 0,3512);let r=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Cf(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ee(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Cf(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function XH(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function vN(){return new TextEncoder}var Cu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=XH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function se(t,e){return t<e?-1:t>e?1:0}function oE(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return se(r,i);{let o=vN(),s=e4(o.encode(AR(t,n)),o.encode(AR(e,n)));return s!==0?s:se(r,i)}}n+=r>65535?2:1}return se(t.length,e.length)}function AR(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function e4(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return se(t[n],e[n]);return se(t.length,e.length)}function aa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var RR="__name__",bf=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&z(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&z(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return se(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):oE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gr.fromString(e.substring(4,e.length-2))}},Ce=class t extends bf{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new O(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},t4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Gt=class t extends bf{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return t4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===RR}static keyField(){return new t([RR])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new O(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new O(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new O(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new O(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var H=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ce.fromString(e))}static fromName(e){return new t(Ce.fromString(e).popFirst(5))}static empty(){return new t(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ce.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ce(e.slice()))}};function _N(t,e,n){if(!n)throw new O(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function n4(t,e,n,r){if(e===!0&&r===!0)throw new O(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function NR(t){if(!H.isDocumentKey(t))throw new O(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function MR(t){if(H.isDocumentKey(t))throw new O(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function EN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function sp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":z(12329,{type:typeof t})}function _r(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new O(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=sp(t);throw new O(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function r4(t,e){if(e<=0)throw new O(N.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Qe(t,e){let n={typeString:t};return e&&(n.value=e),n}function Vu(t,e){if(!EN(t))throw new O(N.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new O(N.INVALID_ARGUMENT,n);return!0}var PR=-62135596800,xR=1e6,Ye=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*xR);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new O(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new O(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<PR)throw new O(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new O(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xR}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vu(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-PR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Ye._jsonSchemaVersion="firestore/timestamp/1.0",Ye._jsonSchema={type:Qe("string",Ye._jsonSchemaVersion),seconds:Qe("number"),nanoseconds:Qe("number")};var te=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new Ye(0,0))}static max(){return new t(new Ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var bu=-1,sE=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};sE.UNKNOWN_ID=-1;function i4(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new Ye(n+1,0):new Ye(n,r));return new Do(i,H.empty(),e)}function o4(t){return new Do(t.readTime,t.key,bu)}var Do=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(te.min(),H.empty(),bu)}static max(){return new t(te.max(),H.empty(),bu)}};function s4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:se(t.largestBatchId,e.largestBatchId))}var a4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",aE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function Ea(t){if(t.code!==N.FAILED_PRECONDITION||t.message!==a4)throw t;L("LocalStore","Unexpectedly lost primary lease")}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function c4(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ia(t){return t.name==="IndexedDbTransactionError"}var VI=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),jI=-1;function ap(t){return t==null}function Su(t){return t===0&&1/t==-1/0}function u4(t){return typeof t=="number"&&Number.isInteger(t)&&!Su(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var IN="";function l4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=kR(e)),e=d4(t.get(n),e);return kR(e)}function d4(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case IN:n+="";break;default:n+=o}}return n}function kR(t){return t+IN+""}var h4="remoteDocuments",wN="owner";var DN="mutationQueues";var TN="mutations";var CN="documentMutations",f4="remoteDocumentsV14";var bN="remoteDocumentGlobal";var SN="targets";var AN="targetDocuments";var RN="targetGlobal",NN="collectionParents";var MN="clientMetadata";var PN="bundles";var xN="namedQueries";var p4="indexConfiguration";var g4="indexState";var m4="indexEntries";var kN="documentOverlays";var y4="globals";var v4=[DN,TN,CN,h4,SN,wN,RN,AN,MN,bN,NN,PN,xN],rse=[...v4,kN],_4=[DN,TN,CN,f4,SN,wN,RN,AN,MN,bN,NN,PN,xN,kN],E4=_4,I4=[...E4,p4,g4,m4];var ise=[...I4,y4];function OR(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yi(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ON(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Fe=class t{constructor(e,n){this.comparator=e,this.root=n||Hn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Hn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new na(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new na(this.root,e,this.comparator,!1)}getReverseIterator(){return new na(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new na(this.root,e,this.comparator,!0)}},na=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Hn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw z(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw z(27949);return e+(this.isRed()?0:1)}};Hn.EMPTY=null,Hn.RED=!0,Hn.BLACK=!1;Hn.EMPTY=new class{constructor(){this.size=0}get key(){throw z(57766)}get value(){throw z(16141)}get color(){throw z(16727)}get left(){throw z(29726)}get right(){throw z(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var st=class t{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Sf(this.data.getIterator())}getIteratorFrom(e){return new Sf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Sf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var rn=class t{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new t([])}unionWith(e){let n=new st(Gt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return aa(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Af=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var vt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Af("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};vt.EMPTY_BYTE_STRING=new vt("");var w4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(t){if(Ee(!!t,39018),typeof t=="string"){let e=0,n=w4.exec(t);if(Ee(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ae(t.seconds),nanos:Ae(t.nanos)}}function Ae(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ir(t){return typeof t=="string"?vt.fromBase64String(t):vt.fromUint8Array(t)}var FN="server_timestamp",LN="__type__",VN="__previous_value__",jN="__local_write_time__";function cp(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[LN])===null||n===void 0?void 0:n.stringValue)===FN}function up(t){let e=t.mapValue.fields[VN];return cp(e)?up(e):e}function Au(t){let e=Er(t.mapValue.fields[jN].timestampValue);return new Ye(e.seconds,e.nanos)}var cE=class{constructor(e,n,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},Rf="(default)",Nf=class t{constructor(e,n){this.projectId=e,this.database=n||Rf}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Rf}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var UI="__type__",UN="__max__",vf={mapValue:{fields:{__type__:{stringValue:UN}}}},BI="__vector__",ca="value";function hi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cp(t)?4:$N(t)?9007199254740991:BN(t)?10:11:z(28295,{value:t})}function Gn(t,e){if(t===e)return!0;let n=hi(t);if(n!==hi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Au(t).isEqual(Au(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Er(i.timestampValue),a=Er(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ir(i.bytesValue).isEqual(Ir(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ae(i.geoPointValue.latitude)===Ae(o.geoPointValue.latitude)&&Ae(i.geoPointValue.longitude)===Ae(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ae(i.integerValue)===Ae(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ae(i.doubleValue),a=Ae(o.doubleValue);return s===a?Su(s)===Su(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return aa(t.arrayValue.values||[],e.arrayValue.values||[],Gn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(OR(s)!==OR(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Gn(s[u],a[u])))return!1;return!0}(t,e);default:return z(52216,{left:t})}}function Ru(t,e){return(t.values||[]).find(n=>Gn(n,e))!==void 0}function ua(t,e){if(t===e)return 0;let n=hi(t),r=hi(e);if(n!==r)return se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ae(o.integerValue||o.doubleValue),u=Ae(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return FR(t.timestampValue,e.timestampValue);case 4:return FR(Au(t),Au(e));case 5:return oE(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Ir(o),u=Ir(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=se(a[l],u[l]);if(h!==0)return h}return se(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=se(Ae(o.latitude),Ae(s.latitude));return a!==0?a:se(Ae(o.longitude),Ae(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return LR(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},y=(a=p[ca])===null||a===void 0?void 0:a.arrayValue,I=(u=g[ca])===null||u===void 0?void 0:u.arrayValue,S=se(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=I?.values)===null||h===void 0?void 0:h.length)||0);return S!==0?S:LR(y,I)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===vf.mapValue&&s===vf.mapValue)return 0;if(o===vf.mapValue)return 1;if(s===vf.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=oE(u[p],h[p]);if(g!==0)return g;let y=ua(a[u[p]],l[h[p]]);if(y!==0)return y}return se(u.length,h.length)}(t.mapValue,e.mapValue);default:throw z(23264,{le:n})}}function FR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return se(t,e);let n=Er(t),r=Er(e),i=se(n.seconds,r.seconds);return i!==0?i:se(n.nanos,r.nanos)}function LR(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=ua(n[i],r[i]);if(o)return o}return se(n.length,r.length)}function la(t){return uE(t)}function uE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Er(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ir(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return H.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=uE(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${uE(n.fields[s])}`;return i+"}"}(t.mapValue):z(61005,{value:t})}function If(t){switch(hi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=up(t);return e?16+If(e):16;case 5:return 2*t.stringValue.length;case 6:return Ir(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+If(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return yi(r.fields,(o,s)=>{i+=o.length+If(s)}),i}(t.mapValue);default:throw z(13486,{value:t})}}function Mf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function lE(t){return!!t&&"integerValue"in t}function $I(t){return!!t&&"arrayValue"in t}function VR(t){return!!t&&"nullValue"in t}function jR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wf(t){return!!t&&"mapValue"in t}function BN(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[UI])===null||n===void 0?void 0:n.stringValue)===BI}function wu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return yi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $N(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===UN}var sse={mapValue:{fields:{[UI]:{stringValue:BI},[ca]:{arrayValue:{}}}}};var zt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wu(n)}setAll(e){let n=Gt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=wu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());wf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){yi(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(wu(this.value))}};function HN(t){let e=[];return yi(t.fields,(n,r)=>{let i=new Gt([n]);if(wf(r)){let o=HN(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new rn(e)}var bn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,te.min(),te.min(),te.min(),zt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,te.min(),te.min(),zt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,te.min(),te.min(),zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var fi=class{constructor(e,n){this.position=e,this.inclusive=n}};function UR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=H.comparator(H.fromName(s.referenceValue),n.key):r=ua(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function BR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gn(t.position[n],e.position[n]))return!1;return!0}var To=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function D4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Pf=class{},Ke=class t extends Pf{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hE(e,n,r):n==="array-contains"?new gE(e,r):n==="in"?new mE(e,r):n==="not-in"?new yE(e,r):n==="array-contains-any"?new vE(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new fE(e,r):new pE(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ua(n,this.value)):n!==null&&hi(this.value)===hi(n)&&this.matchesComparison(ua(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Sn=class t extends Pf{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return qN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function qN(t){return t.op==="and"}function zN(t){return T4(t)&&qN(t)}function T4(t){for(let e of t.filters)if(e instanceof Sn)return!1;return!0}function dE(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+la(t.value);if(zN(t))return t.filters.map(e=>dE(e)).join(",");{let e=t.filters.map(n=>dE(n)).join(",");return`${t.op}(${e})`}}function GN(t,e){return t instanceof Ke?function(r,i){return i instanceof Ke&&r.op===i.op&&r.field.isEqual(i.field)&&Gn(r.value,i.value)}(t,e):t instanceof Sn?function(r,i){return i instanceof Sn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&GN(s,i.filters[a]),!0):!1}(t,e):void z(19439)}function WN(t){return t instanceof Ke?function(n){return`${n.field.canonicalString()} ${n.op} ${la(n.value)}`}(t):t instanceof Sn?function(n){return n.op.toString()+" {"+n.getFilters().map(WN).join(" ,")+"}"}(t):"Filter"}var hE=class extends Ke{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){let n=H.comparator(e.key,this.key);return this.matchesComparison(n)}},fE=class extends Ke{constructor(e,n){super(e,"in",n),this.keys=KN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},pE=class extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=KN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function KN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}var gE=class extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return $I(n)&&Ru(n.arrayValue,this.value)}},mE=class extends Ke{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ru(this.value.arrayValue,n)}},yE=class extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ru(this.value.arrayValue,n)}},vE=class extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!$I(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ru(this.value.arrayValue,r))}};var _E=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function $R(t,e=null,n=[],r=[],i=null,o=null,s=null){return new _E(t,e,n,r,i,o,s)}function HI(t){let e=ee(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>dE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ap(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>la(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>la(r)).join(",")),e.Pe=n}return e.Pe}function qI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!D4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!BR(t.startAt,e.startAt)&&BR(t.endAt,e.endAt)}function EE(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var wr=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function C4(t,e,n,r,i,o,s,a){return new wr(t,e,n,r,i,o,s,a)}function zI(t){return new wr(t)}function HR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function GI(t){return t.collectionGroup!==null}function ra(t){let e=ee(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new st(Gt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new To(o,r))}),n.has(Gt.keyField().canonicalString())||e.Te.push(new To(Gt.keyField(),r))}return e.Te}function qn(t){let e=ee(t);return e.Ie||(e.Ie=b4(e,ra(t))),e.Ie}function b4(t,e){if(t.limitType==="F")return $R(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new To(i.field,o)});let n=t.endAt?new fi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fi(t.startAt.position,t.startAt.inclusive):null;return $R(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function IE(t,e){let n=t.filters.concat([e]);return new wr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xf(t,e,n){return new wr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lp(t,e){return qI(qn(t),qn(e))&&t.limitType===e.limitType}function QN(t){return`${HI(qn(t))}|lt:${t.limitType}`}function Xs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>WN(i)).join(", ")}]`),ap(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>la(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>la(i)).join(",")),`Target(${r})`}(qn(t))}; limitType=${t.limitType})`}function dp(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):H.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of ra(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=UR(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,ra(r),i)||r.endAt&&!function(s,a,u){let l=UR(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,ra(r),i))}(t,e)}function S4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function YN(t){return(e,n)=>{let r=!1;for(let i of ra(t)){let o=A4(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function A4(t,e,n){let r=t.field.isKeyField()?H.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?ua(u,l):z(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return z(19790,{direction:t.dir})}}var Dr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yi(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return ON(this.inner)}size(){return this.innerSize}};var R4=new Fe(H.comparator);function Tr(){return R4}var ZN=new Fe(H.comparator);function Iu(...t){let e=ZN;for(let n of t)e=e.insert(n.key,n);return e}function JN(t){let e=ZN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vo(){return Du()}function XN(){return Du()}function Du(){return new Dr(t=>t.toString(),(t,e)=>t.isEqual(e))}var N4=new Fe(H.comparator),M4=new st(H.comparator);function de(...t){let e=M4;for(let n of t)e=e.add(n);return e}var P4=new st(se);function x4(){return P4}function WI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Su(e)?"-0":e}}function eM(t){return{integerValue:""+t}}function k4(t,e){return u4(e)?eM(e):WI(t,e)}var da=class{constructor(){this._=void 0}};function O4(t,e,n){return t instanceof ha?function(i,o){let s={fields:{[LN]:{stringValue:FN},[jN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&cp(o)&&(o=up(o)),o&&(s.fields[VN]=o),{mapValue:s}}(n,e):t instanceof Co?nM(t,e):t instanceof bo?rM(t,e):function(i,o){let s=tM(i,o),a=qR(s)+qR(i.Ee);return lE(s)&&lE(i.Ee)?eM(a):WI(i.serializer,a)}(t,e)}function F4(t,e,n){return t instanceof Co?nM(t,e):t instanceof bo?rM(t,e):n}function tM(t,e){return t instanceof fa?function(r){return lE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var ha=class extends da{},Co=class extends da{constructor(e){super(),this.elements=e}};function nM(t,e){let n=iM(e);for(let r of t.elements)n.some(i=>Gn(i,r))||n.push(r);return{arrayValue:{values:n}}}var bo=class extends da{constructor(e){super(),this.elements=e}};function rM(t,e){let n=iM(e);for(let r of t.elements)n=n.filter(i=>!Gn(i,r));return{arrayValue:{values:n}}}var fa=class extends da{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function qR(t){return Ae(t.integerValue||t.doubleValue)}function iM(t){return $I(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function L4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Co&&i instanceof Co||r instanceof bo&&i instanceof bo?aa(r.elements,i.elements,Gn):r instanceof fa&&i instanceof fa?Gn(r.Ee,i.Ee):r instanceof ha&&i instanceof ha}(t.transform,e.transform)}var wE=class{constructor(e,n){this.version=e,this.transformResults=n}},yr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Df(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var pa=class{};function oM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Nu(t.key,yr.none()):new So(t.key,t.data,yr.none());{let n=t.data,r=zt.empty(),i=new st(Gt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Wn(t.key,r,new rn(i.toArray()),yr.none())}}function V4(t,e,n){t instanceof So?function(i,o,s){let a=i.value.clone(),u=GR(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Wn?function(i,o,s){if(!Df(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=GR(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(sM(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Tu(t,e,n,r){return t instanceof So?function(o,s,a,u){if(!Df(o.precondition,s))return a;let l=o.value.clone(),h=WR(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Wn?function(o,s,a,u){if(!Df(o.precondition,s))return a;let l=WR(o.fieldTransforms,u,s),h=s.data;return h.setAll(sM(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return Df(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function j4(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=tM(r.transform,i||null);o!=null&&(n===null&&(n=zt.empty()),n.set(r.field,o))}return n||null}function zR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&aa(r,i,(o,s)=>L4(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var So=class extends pa{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Wn=class extends pa{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function sM(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function GR(t,e,n){let r=new Map;Ee(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,F4(s,a,n[i]))}return r}function WR(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,O4(o,s,e))}return r}var Nu=class extends pa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},DE=class extends pa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var TE=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&V4(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Tu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Tu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=XN();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=oM(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&aa(this.mutations,e.mutations,(n,r)=>zR(n,r))&&aa(this.baseMutations,e.baseMutations,(n,r)=>zR(n,r))}},CE=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ee(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return N4}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var bE=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var SE=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ge,he;function U4(t){switch(t){case N.OK:return z(64938);case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return z(15467,{code:t})}}function aM(t){if(t===void 0)return vr("GRPC error has no .code"),N.UNKNOWN;switch(t){case Ge.OK:return N.OK;case Ge.CANCELLED:return N.CANCELLED;case Ge.UNKNOWN:return N.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return N.INTERNAL;case Ge.UNAVAILABLE:return N.UNAVAILABLE;case Ge.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Ge.NOT_FOUND:return N.NOT_FOUND;case Ge.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Ge.ABORTED:return N.ABORTED;case Ge.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Ge.DATA_LOSS:return N.DATA_LOSS;default:return z(39323,{code:t})}}(he=Ge||(Ge={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var KR=null;var B4=new gr([4294967295,4294967295],0);function QR(t){let e=vN().encode(t),n=new H_;return n.update(e),new Uint8Array(n.digest())}function YR(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new gr([n,r],0),new gr([i,o],0)]}var AE=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _o(`Invalid padding: ${n}`);if(r<0)throw new _o(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _o(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _o(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=gr.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(gr.fromNumber(r)));return i.compare(B4)===1&&(i=new gr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let n=QR(e),[r,i]=YR(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let n=QR(e),[r,i]=YR(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},_o=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var kf=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Mu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(te.min(),i,new Fe(se),Tr(),de())}},Mu=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,de(),de(),de())}};var ia=class{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}},Of=class{constructor(e,n){this.targetId=e,this.De=n}},Ff=class{constructor(e,n,r=vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Lf=class{constructor(){this.ve=0,this.Ce=ZR(),this.Fe=vt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=de(),n=de(),r=de();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:z(38017,{changeType:o})}}),new Mu(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=ZR()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ee(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},RE=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Tr(),this.je=_f(),this.Je=_f(),this.He=new Fe(se)}Ye(e){for(let n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(let n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{let r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:z(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){let n=e.targetId,r=e.De.count,i=this.st(n);if(i){let o=i.target;if(EE(o))if(r===0){let s=new H(o.path);this.Xe(n,s,bn.newNoDocument(s,te.min()))}else Ee(r===1,20013,{expectedCount:r});else{let s=this.ot(n);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,l)}KR?.ct(function(h,p,g,y,I){var S,R,k,$,G,ye;let Le={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},Ie=p.unchangedNames;return Ie&&(Le.bloomFilter={applied:I===0,hashCount:(S=Ie?.hashCount)!==null&&S!==void 0?S:0,bitmapLength:($=(k=(R=Ie?.bits)===null||R===void 0?void 0:R.bitmap)===null||k===void 0?void 0:k.length)!==null&&$!==void 0?$:0,padding:(ye=(G=Ie?.bits)===null||G===void 0?void 0:G.padding)!==null&&ye!==void 0?ye:0,mightContain:D=>{var v;return(v=y?.mightContain(D))!==null&&v!==void 0&&v}}),Le}(s,e.De,this.We.lt(),a,u))}}}}_t(e){let n=e.De.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Ir(r).toUint8Array()}catch(u){if(u instanceof Af)return di("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new AE(s,i,o)}catch(u){return di(u instanceof _o?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){let r=this.We.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,o,null),i++)}),i}Pt(e){let n=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&EE(a.target)){let u=new H(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,bn.newNoDocument(u,e))}o.Ne&&(n.set(s,o.Le()),o.ke())}});let r=de();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new kf(e,n,this.He,this.ze,r);return this.ze=Tr(),this.je=_f(),this.Je=_f(),this.He=new Fe(se),i}Ze(e,n){if(!this.nt(e))return;let r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new Lf,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new st(se),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new st(se),this.je=this.je.insert(e,n)),n}nt(e){let n=this.st(e)!==null;return n||L("WatchChangeAggregator","Detected inactive target",e),n}st(e){let n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Lf),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}};function _f(){return new Fe(H.comparator)}function ZR(){return new Fe(H.comparator)}var $4={asc:"ASCENDING",desc:"DESCENDING"},H4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},q4={and:"AND",or:"OR"},NE=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function ME(t,e){return t.useProto3Json||ap(e)?e:{value:e}}function Vf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function z4(t,e){return Vf(t,e.toTimestamp())}function zn(t){return Ee(!!t,49232),te.fromTimestamp(function(n){let r=Er(n);return new Ye(r.seconds,r.nanos)}(t))}function KI(t,e){return PE(t,e).canonicalString()}function PE(t,e){let n=function(i){return new Ce(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uM(t){let e=Ce.fromString(t);return Ee(pM(e),10190,{key:e.toString()}),e}function xE(t,e){return KI(t.databaseId,e.path)}function Q_(t,e){let n=uM(e);if(n.get(1)!==t.databaseId.projectId)throw new O(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new O(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(dM(n))}function lM(t,e){return KI(t.databaseId,e)}function G4(t){let e=uM(t);return e.length===4?Ce.emptyPath():dM(e)}function kE(t){return new Ce(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dM(t){return Ee(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function JR(t,e,n){return{name:xE(t,e),fields:n.value.mapValue.fields}}function W4(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:z(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Ee(h===void 0||typeof h=="string",58123),vt.fromBase64String(h||"")):(Ee(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),vt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?N.UNKNOWN:aM(l.code);return new O(h,l.message||"")}(s);n=new Ff(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Q_(t,r.document.name),o=zn(r.document.updateTime),s=r.document.createTime?zn(r.document.createTime):te.min(),a=new zt({mapValue:{fields:r.document.fields}}),u=bn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new ia(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Q_(t,r.document),o=r.readTime?zn(r.readTime):te.min(),s=bn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ia([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Q_(t,r.document),o=r.removedTargetIds||[];n=new ia([],o,i,null)}else{if(!("filter"in e))return z(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new SE(i,o),a=r.targetId;n=new Of(a,s)}}return n}function K4(t,e){let n;if(e instanceof So)n={update:JR(t,e.key,e.value)};else if(e instanceof Nu)n={delete:xE(t,e.key)};else if(e instanceof Wn)n={update:JR(t,e.key,e.data),updateMask:rq(e.fieldMask)};else{if(!(e instanceof DE))return z(16599,{Rt:e.type});n={verify:xE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof ha)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Co)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fa)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw z(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:z4(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:z(27497)}(t,e.precondition)),n}function Q4(t,e){return t&&t.length>0?(Ee(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?zn(i.updateTime):zn(o);return s.isEqual(te.min())&&(s=zn(o)),new wE(s,i.transformResults||[])}(n,e))):[]}function Y4(t,e){return{documents:[lM(t,e.path)]}}function Z4(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lM(t,i);let o=function(l){if(l.length!==0)return fM(Sn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:ea(g.field),direction:eq(g.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=ME(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{Vt:n,parent:i}}function J4(t){let e=G4(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ee(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let g=hM(p);return g instanceof Sn&&zN(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(g=>function(I){return new To(ta(I.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,ap(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){let g=!!p.before,y=p.values||[];return new fi(y,g)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let g=!p.before,y=p.values||[];return new fi(y,g)}(n.endAt)),C4(e,i,s,o,a,"F",u,l)}function X4(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return z(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ta(n.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ta(n.unaryFilter.field);return Ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ta(n.unaryFilter.field);return Ke.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ta(n.unaryFilter.field);return Ke.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return z(61313);default:return z(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ke.create(ta(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return z(58110);default:return z(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Sn.create(n.compositeFilter.filters.map(r=>hM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return z(1026)}}(n.compositeFilter.op))}(t):z(30097,{filter:t})}function eq(t){return $4[t]}function tq(t){return H4[t]}function nq(t){return q4[t]}function ea(t){return{fieldPath:t.canonicalString()}}function ta(t){return Gt.fromServerFormat(t.fieldPath)}function fM(t){return t instanceof Ke?function(n){if(n.op==="=="){if(jR(n.value))return{unaryFilter:{field:ea(n.field),op:"IS_NAN"}};if(VR(n.value))return{unaryFilter:{field:ea(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jR(n.value))return{unaryFilter:{field:ea(n.field),op:"IS_NOT_NAN"}};if(VR(n.value))return{unaryFilter:{field:ea(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ea(n.field),op:tq(n.op),value:n.value}}}(t):t instanceof Sn?function(n){let r=n.getFilters().map(i=>fM(i));return r.length===1?r[0]:{compositeFilter:{op:nq(n.op),filters:r}}}(t):z(54877,{filter:t})}function rq(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Pu=class t{constructor(e,n,r,i,o=te.min(),s=te.min(),a=vt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var OE=class{constructor(e){this.gt=e}};function iq(t){let e=J4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xf(e,e.limit,"L"):e}var jf=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(Ae(e.integerValue));else if("doubleValue"in e){let r=Ae(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),Su(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=Er(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(Ir(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?$N(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):BN(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):z(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=ca,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(Ae(a)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),H.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};jf.Ut=new jf;var FE=class{constructor(){this.Dn=new LE}addToCollectionParentIndex(e,n){return this.Dn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Do.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Do.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},LE=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new st(Ce.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new st(Ce.comparator)).toArray()}};var ase=new Uint8Array(0);var XR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gM=41943040,nn=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(gM,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);var xu=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var eN="LruGarbageCollector",oq=1048576;function tN([t,e],[n,r]){let i=se(t,n);return i===0?se(e,r):i}var VE=class{constructor(e){this.Tr=e,this.buffer=new st(tN),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();tN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},jE=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){L(eN,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ia(n)?L(eN,"Ignoring IndexedDB error during garbage collection: ",n):await Ea(n)}await this.Rr(3e5)})}},UE=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return P.resolve(VI.ue);let r=new VE(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(L("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(XR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(L("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XR):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(L("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Js()<=ue.DEBUG&&L("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function sq(t,e){return new UE(t,e)}var BE=class{constructor(){this.changes=new Dr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var $E=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var HE=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Tu(r.mutation,i,rn.empty(),Ye.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){let i=vo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Iu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=vo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Tr(),s=Du(),a=function(){return Du()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Wn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Tu(h.mutation,l,h.mutation.getFieldMask(),Ye.now())):s.set(l.key,rn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new $E(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Du(),i=new Fe((s,a)=>s-a),o=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||rn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||de()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=XN();h.forEach(g=>{if(!o.has(g)){let y=oM(n.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return H.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):GI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(vo()),a=bu,u=o;return s.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,de())).next(h=>({batchId:a,changes:JN(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=Iu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Iu();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,u=>{let l=function(p,g){return new wr(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,bn.newInvalidDocument(h)))});let a=Iu();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Tu(h.mutation,l,rn.empty(),Ye.now()),dp(n,l)&&(a=a.insert(u,l))}),a})}};var qE=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return P.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:zn(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:iq(i.bundledQuery),readTime:zn(i.readTime)}}(n)),P.resolve()}};var zE=class{constructor(){this.overlays=new Fe(H.comparator),this.kr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=vo();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=vo(),o=n.length+1,s=new H(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Fe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=vo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=vo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new bE(n,r));let o=this.kr.get(n);o===void 0&&(o=de(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var GE=class{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var ku=class{constructor(){this.qr=new st(We.Qr),this.$r=new st(We.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new We(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new We(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new H(new Ce([])),r=new We(n,e),i=new We(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new H(new Ce([])),r=new We(n,e),i=new We(n,e+1),o=de();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new We(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},We=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return H.comparator(e.key,n.key)||se(e.Hr,n.Hr)}static Ur(e,n){return se(e.Hr,n.Hr)||H.comparator(e.key,n.key)}};var WE=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new st(We.Qr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new TE(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new We(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?jI:this.er-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new We(n,0),i=new We(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new st(se);return n.forEach(i=>{let o=new We(i,0),s=new We(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),P.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;H.isDocumentKey(o)||(o=o.child(""));let s=new We(new H(o),0),a=new st(se);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),P.resolve(this.ei(a))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ee(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return P.forEach(n.mutations,i=>{let o=new We(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new We(n,0),i=this.Yr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var KE=class{constructor(e){this.ni=e,this.docs=function(){return new Fe(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():bn.newInvalidDocument(n))}getEntries(e,n){let r=Tr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():bn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Tr(),s=n.path,a=new H(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||s4(o4(h),r)<=0||(i.has(h.key)||dp(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){z(9500)}ri(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new QE(this)}getSize(e){return P.resolve(this.size)}},QE=class extends BE{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var YE=class{constructor(e){this.persistence=e,this.ii=new Dr(n=>HI(n),qI),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.si=0,this.oi=new ku,this.targetCount=0,this._i=xu.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),P.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new xu(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.hr(n),P.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.oi.containsKey(n))}};var Uf=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new VI(0),this.ci=!1,this.ci=!0,this.li=new GE,this.referenceDelegate=e(this),this.hi=new YE(this),this.indexManager=new FE,this.remoteDocumentCache=function(i){return new KE(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new OE(n),this.Ti=new qE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new WE(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){L("MemoryPersistence","Starting transaction:",e);let i=new ZE(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return P.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},ZE=class extends aE{constructor(e){super(),this.currentSequenceNumber=e}},JE=class t{constructor(e){this.persistence=e,this.Ai=new ku,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw z(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),P.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.mi,r=>{let i=H.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,te.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return P.or([()=>P.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},Bf=class t{constructor(e,n){this.persistence=e,this.gi=new Dr(r=>l4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=sq(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return P.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return P.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?P.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,te.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=If(e.data.value)),n}Sr(e,n,r){return P.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var XE=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=de(),i=de();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var eI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var tI=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return PA()?8:c4(qt())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new eI;return this.ws(e,n,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,n,s,a.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Js()<=ue.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",Xs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(Js()<=ue.DEBUG&&L("QueryEngine","Query:",Xs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Js()<=ue.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",Xs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(n))):P.resolve())}ps(e,n){if(HR(n))return P.resolve(null);let r=qn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=xf(n,null,"F"),r=qn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=de(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(n,a);return this.Ds(n,l,s,u.readTime)?this.ps(e,xf(n,null,"F")):this.vs(e,l,n,u)}))})))}ys(e,n,r,i){return HR(n)||i.isEqual(te.min())?P.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?P.resolve(null):(Js()<=ue.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xs(n)),this.vs(e,s,n,i4(i,bu)).next(a=>a))})}bs(e,n){let r=new st(YN(e));return n.forEach((i,o)=>{dp(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return Js()<=ue.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",Xs(n)),this.gs.getDocumentsMatchingQuery(e,n,Do.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var QI="LocalStore",aq=3e8,nI=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Fe(se),this.Ms=new Dr(o=>HI(o),qI),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HE(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function cq(t,e,n,r){return new nI(t,e,n,r)}async function mM(t,e){let n=ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=de();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})}function uq(t,e){let n=ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,g=p.keys(),y=P.resolve();return g.forEach(I=>{y=y.next(()=>h.getEntry(u,I)).next(S=>{let R=l.docVersions.get(I);Ee(R!==null,48541),S.version.compareTo(R)<0&&(p.applyToRemoteDocument(S,l),S.isValidDocument()&&(S.setReadTime(l.commitVersion),h.addEntry(S)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=de();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function yM(t){let e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function lq(t,e){let n=ee(t),r=e.snapshotVersion,i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(n.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(vt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(S,R,k){return S.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=aq?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(g,y,h)&&a.push(n.hi.updateTargetData(o,y))});let u=Tr(),l=de();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(dq(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(te.min())){let h=n.hi.getLastRemoteSnapshotVersion(o).next(p=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Fs=i,o))}function dq(t,e,n){let r=de(),i=de();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Tr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):L(QI,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function hq(t,e){let n=ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=jI),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fq(t,e){let n=ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new Pu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function rI(t,e,n){let r=ee(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Ia(s))throw s;L(QI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function nN(t,e,n){let r=ee(t),i=te.min(),o=de();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ee(u),g=p.Ms.get(h);return g!==void 0?P.resolve(p.Fs.get(g)):p.hi.getTargetData(l,h)}(r,s,qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:te.min(),n?o:de())).next(a=>(pq(r,S4(e),a),{documents:a,qs:o})))}function pq(t,e,n){let r=t.xs.get(e)||te.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}var $f=class{constructor(){this.activeTargetIds=x4()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var iI=class{constructor(){this.Fo=new $f,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new $f,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var oI=class{xo(e){}shutdown(){}};var rN="ConnectivityMonitor",Hf=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){L(rN,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){L(rN,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ef=null;function sI(){return Ef===null?Ef=function(){return 268435456+Math.round(2147483648*Math.random())}():Ef++,"0x"+Ef.toString(16)}var Y_="RestConnection",gq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},aI=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Rf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=sI(),a=this.Go(e,n.toUriEncodedString());L(Y_,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=ao(l);return this.jo(e,a,u,r,h).then(p=>(L(Y_,`Received RPC '${e}' ${s}: `,p),p),p=>{throw di(Y_,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_a}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=gq[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var cI=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var yt="WebChannelConnection",uI=class extends aI{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=sI();return new Promise((a,u)=>{let l=new q_;l.setWithCredentials(!0),l.listenOnce(z_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Eu.NO_ERROR:let p=l.getResponseJson();L(yt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Eu.TIMEOUT:L(yt,`RPC '${e}' ${s} timed out`),u(new O(N.DEADLINE_EXCEEDED,"Request time out"));break;case Eu.HTTP_ERROR:let g=l.getStatus();if(L(yt,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let I=y?.error;if(I&&I.status&&I.message){let S=function(k){let $=k.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf($)>=0?$:N.UNKNOWN}(I.status);u(new O(S,I.message))}else u(new O(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new O(N.UNAVAILABLE,"Connection failed."));break;default:z(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{L(yt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);L(yt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}P_(e,n,r){let i=sI(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=K_(),a=W_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");L(yt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let g=!1,y=!1,I=new cI({Ho:R=>{y?L(yt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(g||(L(yt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),L(yt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Yo:()=>p.close()}),S=(R,k,$)=>{R.listen(k,G=>{try{$(G)}catch(ye){setTimeout(()=>{throw ye},0)}})};return S(p,Zs.EventType.OPEN,()=>{y||(L(yt,`RPC '${e}' stream ${i} transport opened.`),I.s_())}),S(p,Zs.EventType.CLOSE,()=>{y||(y=!0,L(yt,`RPC '${e}' stream ${i} transport closed`),I.__(),this.I_(p))}),S(p,Zs.EventType.ERROR,R=>{y||(y=!0,di(yt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),I.__(new O(N.UNAVAILABLE,"The operation could not be completed")))}),S(p,Zs.EventType.MESSAGE,R=>{var k;if(!y){let $=R.data[0];Ee(!!$,16349);let G=$,ye=G?.error||((k=G[0])===null||k===void 0?void 0:k.error);if(ye){L(yt,`RPC '${e}' stream ${i} received error:`,ye);let Le=ye.status,Ie=function(E){let w=Ge[E];if(w!==void 0)return aM(w)}(Le),D=ye.message;Ie===void 0&&(Ie=N.INTERNAL,D="Unknown error status: "+Le+" with message "+ye.message),y=!0,I.__(new O(Ie,D)),p.close()}else L(yt,`RPC '${e}' stream ${i} received:`,$),I.a_($)}}),S(a,G_.STAT_EVENT,R=>{R.stat===yf.PROXY?L(yt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===yf.NOPROXY&&L(yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.o_()},0),I}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function Z_(){return typeof document<"u"?document:null}function hp(t){return new NE(t,!0)}var qf=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var iN="PersistentStream",zf=class{constructor(e,n,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new qf(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(vr(n.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new O(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return L(iN,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(L(iN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},lI=class extends zf{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let n=W4(this.serializer,e),r=function(o){if(!("targetChange"in o))return te.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?zn(s.readTime):te.min()}(e);return this.listener.J_(n,r)}H_(e){let n={};n.database=kE(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=EE(u)?{documents:Y4(o,u)}:{query:Z4(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=cM(o,s.resumeToken);let l=ME(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(te.min())>0){a.readTime=Vf(o,s.snapshotVersion.toTimestamp());let l=ME(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=X4(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){let n={};n.database=kE(this.serializer),n.removeTarget=e,this.k_(n)}},dI=class extends zf{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Ee(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ee(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ee(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let n=Q4(e.writeResults,e.commitTime),r=zn(e.commitTime);return this.listener.ta(r,n)}na(){let e={};e.database=kE(this.serializer),this.k_(e)}X_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>K4(this.serializer,r))};this.k_(n)}};var hI=class{},fI=class extends hI{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new O(N.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,PE(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new O(N.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,PE(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new O(N.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},pI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(vr(n),this._a=!1):L("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Ao="RemoteStore",gI=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(async()=>{Ro(this)&&(L(Ao,"Restarting streams for network reachability change."),await async function(u){let l=ee(u);l.Ia.add(4),await ju(l),l.Aa.set("Unknown"),l.Ia.delete(4),await fp(l)}(this))})}),this.Aa=new pI(r,i)}};async function fp(t){if(Ro(t))for(let e of t.da)await e(!0)}async function ju(t){for(let e of t.da)await e(!1)}function vM(t,e){let n=ee(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),XI(n)?JI(n):wa(n).x_()&&ZI(n,e))}function YI(t,e){let n=ee(t),r=wa(n);n.Ta.delete(e),r.x_()&&_M(n,e),n.Ta.size===0&&(r.x_()?r.B_():Ro(n)&&n.Aa.set("Unknown"))}function ZI(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wa(t).H_(e)}function _M(t,e){t.Ra.$e(e),wa(t).Y_(e)}function JI(t){t.Ra=new RE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),wa(t).start(),t.Aa.aa()}function XI(t){return Ro(t)&&!wa(t).M_()&&t.Ta.size>0}function Ro(t){return ee(t).Ia.size===0}function EM(t){t.Ra=void 0}async function mq(t){t.Aa.set("Online")}async function yq(t){t.Ta.forEach((e,n)=>{ZI(t,e)})}async function vq(t,e){EM(t),XI(t)?(t.Aa.la(e),JI(t)):t.Aa.set("Unknown")}async function _q(t,e,n){if(t.Aa.set("Online"),e instanceof Ff&&e.state===2&&e.cause)try{await async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))}(t,e)}catch(r){L(Ao,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gf(t,r)}else if(e instanceof ia?t.Ra.Ye(e):e instanceof Of?t.Ra.it(e):t.Ra.et(e),!n.isEqual(te.min()))try{let r=await yM(t.localStore);n.compareTo(r)>=0&&await function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(vt.EMPTY_BYTE_STRING,h.snapshotVersion)),_M(o,u);let p=new Pu(h.target,u,l,h.sequenceNumber);ZI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){L(Ao,"Failed to raise snapshot:",r),await Gf(t,r)}}async function Gf(t,e,n){if(!Ia(e))throw e;t.Ia.add(1),await ju(t),t.Aa.set("Offline"),n||(n=()=>yM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{L(Ao,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await fp(t)})}function IM(t,e){return e().catch(n=>Gf(t,n,e))}async function pp(t){let e=ee(t),n=pi(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:jI;for(;Eq(e);)try{let i=await hq(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,Iq(e,i)}catch(i){await Gf(e,i)}wM(e)&&DM(e)}function Eq(t){return Ro(t)&&t.Pa.length<10}function Iq(t,e){t.Pa.push(e);let n=pi(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function wM(t){return Ro(t)&&!pi(t).M_()&&t.Pa.length>0}function DM(t){pi(t).start()}async function wq(t){pi(t).na()}async function Dq(t){let e=pi(t);for(let n of t.Pa)e.X_(n.mutations)}async function Tq(t,e,n){let r=t.Pa.shift(),i=CE.from(r,e,n);await IM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await pp(t)}async function Cq(t,e){e&&pi(t).Z_&&await async function(r,i){if(function(s){return U4(s)&&s!==N.ABORTED}(i.code)){let o=r.Pa.shift();pi(r).N_(),await IM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await pp(r)}}(t,e),wM(t)&&DM(t)}async function oN(t,e){let n=ee(t);n.asyncQueue.verifyOperationInProgress(),L(Ao,"RemoteStore received new credentials");let r=Ro(n);n.Ia.add(3),await ju(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await fp(n)}async function bq(t,e){let n=ee(t);e?(n.Ia.delete(2),await fp(n)):e||(n.Ia.add(2),await ju(n),n.Aa.set("Unknown"))}function wa(t){return t.Va||(t.Va=function(n,r,i){let o=ee(n);return o.ia(),new lI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:mq.bind(null,t),e_:yq.bind(null,t),n_:vq.bind(null,t),J_:_q.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),XI(t)?JI(t):t.Aa.set("Unknown")):(await t.Va.stop(),EM(t))})),t.Va}function pi(t){return t.ma||(t.ma=function(n,r,i){let o=ee(n);return o.ia(),new dI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:wq.bind(null,t),n_:Cq.bind(null,t),ea:Dq.bind(null,t),ta:Tq.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await pp(t)):(await t.ma.stop(),t.Pa.length>0&&(L(Ao,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}var mI=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new O(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function ew(t,e){if(vr("AsyncQueue",`${e}: ${t}`),Ia(t))return new O(N.UNAVAILABLE,`${e}: ${t}`);throw t}var Wf=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=Iu(),this.sortedSet=new Fe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Kf=class{constructor(){this.fa=new Fe(H.comparator)}track(e){let n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):z(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){let e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}},ga=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Wf.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var yI=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},vI=class{constructor(){this.queries=sN(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=ee(n),o=i.queries;i.queries=sN(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new O(N.ABORTED,"Firestore shutting down"))}};function sN(){return new Dr(t=>QN(t),lp)}async function TM(t,e){let n=ee(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new yI,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await n.onListen(i,!0);break;case 1:o.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){let a=ew(s,`Initialization of query '${Xs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&tw(n)}async function CM(t,e){let n=ee(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Sq(t,e){let n=ee(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&tw(n)}function Aq(t,e,n){let r=ee(t),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(n);r.queries.delete(e)}function tw(t){t.Da.forEach(e=>{e.next()})}var _I,aN;(aN=_I||(_I={})).Fa="default",aN.Cache="cache";var Qf=class{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ga(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;let r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=ga.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==_I.Cache}};var Yf=class{constructor(e){this.key=e}},Zf=class{constructor(e){this.key=e}},EI=class{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=de(),this.mutatedKeys=de(),this.Xa=YN(e),this.eu=new Wf(this.Xa)}get tu(){return this.Ha}nu(e,n){let r=n?n.ru:new Kf,i=n?n.eu:this.eu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=dp(this.query,p)?p:null,I=!!g&&this.mutatedKeys.has(g.key),S=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;g&&y?g.data.isEqual(y.data)?I!==S&&(r.track({type:3,doc:y}),R=!0):this.iu(g,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),R=!0):g&&!y&&(r.track({type:1,doc:g}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=S?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>function(y,I){let S=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z(20277,{At:R})}};return S(y)-S(I)}(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=n&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new ga(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Kf,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=de(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new Zf(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new Yf(r))}),n}uu(e){this.Ha=e.qs,this.Za=de();let n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return ga.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},nw="SyncEngine",II=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},wI=class{constructor(e){this.key=e,this.lu=!1}},DI=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Dr(a=>QN(a),lp),this.Tu=new Map,this.Iu=new Set,this.du=new Fe(H.comparator),this.Eu=new Map,this.Au=new ku,this.Ru={},this.Vu=new Map,this.mu=xu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function Rq(t,e,n=!0){let r=MM(t),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await bM(r,e,n,!0),i}async function Nq(t,e){let n=MM(t);await bM(n,e,!0,!1)}async function bM(t,e,n,r){let i=await fq(t.localStore,qn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=await Mq(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&vM(t.remoteStore,i),a}async function Mq(t,e,n,r,i){t.gu=(p,g,y)=>async function(S,R,k,$){let G=R.view.nu(k);G.Ds&&(G=await nN(S.localStore,R.query,!1).then(({documents:D})=>R.view.nu(D,G)));let ye=$&&$.targetChanges.get(R.targetId),Le=$&&$.targetMismatches.get(R.targetId)!=null,Ie=R.view.applyChanges(G,S.isPrimaryClient,ye,Le);return uN(S,R.targetId,Ie._u),Ie.snapshot}(t,p,g,y);let o=await nN(t.localStore,e,!0),s=new EI(e,o.qs),a=s.nu(o.documents),u=Mu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);uN(t,n,l._u);let h=new II(e,n,s);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),l.snapshot}async function Pq(t,e,n){let r=ee(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!lp(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await rI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&YI(r.remoteStore,i.targetId),TI(r,i.targetId)}).catch(Ea)):(TI(r,i.targetId),await rI(r.localStore,i.targetId,!0))}async function xq(t,e){let n=ee(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),YI(n.remoteStore,r.targetId))}async function kq(t,e,n){let r=Bq(t);try{let i=await function(s,a){let u=ee(s),l=Ye.now(),h=a.reduce((y,I)=>y.add(I.key),de()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let I=Tr(),S=de();return u.Os.getEntries(y,h).next(R=>{I=R,I.forEach((k,$)=>{$.isValidDocument()||(S=S.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,I)).next(R=>{p=R;let k=[];for(let $ of a){let G=j4($,p.get($.key).overlayedDocument);G!=null&&k.push(new Wn($.key,G,HN(G.value.mapValue),yr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,k,a)}).next(R=>{g=R;let k=R.applyToLocalDocumentSet(p,S);return u.documentOverlayCache.saveOverlays(y,R.batchId,k)})}).then(()=>({batchId:g.batchId,changes:JN(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Fe(se)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l}(r,i.batchId,n),await Uu(r,i.changes),await pp(r.remoteStore)}catch(i){let o=ew(i,"Failed to persist write");n.reject(o)}}async function SM(t,e){let n=ee(t);try{let r=await lq(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(Ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Ee(s.lu,14607):i.removedDocuments.size>0&&(Ee(s.lu,42227),s.lu=!1))}),await Uu(n,r,e)}catch(r){await Ea(r)}}function cN(t,e,n){let r=ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ee(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.wa)g.va(a)&&(l=!0)}),l&&tw(u)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Oq(t,e,n){let r=ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Fe(H.comparator);s=s.insert(o,bn.newNoDocument(o,te.min()));let a=de().add(o),u=new kf(te.min(),new Map,new Fe(se),s,a);await SM(r,u),r.du=r.du.remove(o),r.Eu.delete(e),rw(r)}else await rI(r.localStore,e,!1).then(()=>TI(r,e,n)).catch(Ea)}async function Fq(t,e){let n=ee(t),r=e.batch.batchId;try{let i=await uq(n.localStore,e);RM(n,r,null),AM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Uu(n,i)}catch(i){await Ea(i)}}async function Lq(t,e,n){let r=ee(t);try{let i=await function(s,a){let u=ee(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ee(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);RM(r,e,n),AM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Uu(r,i)}catch(i){await Ea(i)}}function AM(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function RM(t,e,n){let r=ee(t),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function TI(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||NM(t,r)})}function NM(t,e){t.Iu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(YI(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),rw(t))}function uN(t,e,n){for(let r of n)r instanceof Yf?(t.Au.addReference(r.key,e),Vq(t,r)):r instanceof Zf?(L(nw,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||NM(t,r.key)):z(19791,{yu:r})}function Vq(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(L(nw,"New document in limbo: "+n),t.Iu.add(r),rw(t))}function rw(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Iu.values().next().value;t.Iu.delete(e);let n=new H(Ce.fromString(e)),r=t.mu.next();t.Eu.set(r,new wI(n)),t.du=t.du.insert(n,r),vM(t.remoteStore,new Pu(qn(zI(n.path)),r,"TargetPurposeLimboResolution",VI.ue))}}async function Uu(t,e,n){let r=ee(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=XE.Es(u.targetId,l);o.push(p)}}))}),await Promise.all(s),r.hu.J_(i),await async function(u,l){let h=ee(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,g=>P.forEach(g.Is,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>P.forEach(g.ds,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!Ia(p))throw p;L(QI,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.Fs.get(g),I=y.snapshotVersion,S=y.withLastLimboFreeSnapshotVersion(I);h.Fs=h.Fs.insert(g,S)}}}(r.localStore,o))}async function jq(t,e){let n=ee(t);if(!n.currentUser.isEqual(e)){L(nw,"User change. New user:",e.toKey());let r=await mM(n.localStore,e);n.currentUser=e,function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new O(N.CANCELLED,s))})}),o.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Uu(n,r.Bs)}}function Uq(t,e){let n=ee(t),r=n.Eu.get(e);if(r&&r.lu)return de().add(r.key);{let i=de(),o=n.Tu.get(e);if(!o)return i;for(let s of o){let a=n.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function MM(t){let e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=SM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Oq.bind(null,e),e.hu.J_=Sq.bind(null,e.eventManager),e.hu.pu=Aq.bind(null,e.eventManager),e}function Bq(t){let e=ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Fq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Lq.bind(null,e),e}var PM=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=hp(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)}Cu(n,r){return null}Fu(n,r){return null}vu(n){return cq(this.persistence,new tI,n.initialUser,this.serializer)}Du(n){return new Uf(JE.Vi,this.serializer)}bu(n){return new iI}async terminate(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return t.provider={build:()=>new t},t})(),CI=class extends PM{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Ee(this.persistence.referenceDelegate instanceof Bf,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new jE(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new Uf(r=>Bf.Vi(r,n),this.serializer)}};var $q=(()=>{class t{async initialize(n,r){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>cN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=jq.bind(null,this.syncEngine),await bq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return function(){return new vI}()}createDatastore(n){let r=hp(n.databaseInfo.databaseId),i=function(s){return new uI(s)}(n.databaseInfo);return function(s,a,u,l){return new fI(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new gI(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>cN(this.syncEngine,r,0),function(){return Hf.C()?new Hf:new oI}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let g=new DI(o,s,a,u,l,h);return p&&(g.fu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}async terminate(){var n,r;await async function(o){let s=ee(o);L(Ao,"RemoteStore shutting down."),s.Ia.add(5),await ju(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return t.provider={build:()=>new t},t})();var Jf=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var gi="FirestoreClient",bI=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ot.UNAUTHENTICATED,this.clientId=Cu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{L(gi,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(L(gi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=ew(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function J_(t,e){t.asyncQueue.verifyOperationInProgress(),L(gi,"Initializing OfflineComponentProvider");let n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await mM(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{di("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{L("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{di("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function lN(t,e){t.asyncQueue.verifyOperationInProgress();let n=await Hq(t);L(gi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>oN(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>oN(e.remoteStore,i)),t._onlineComponents=e}async function Hq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L(gi,"Using user provided OfflineComponentProvider");try{await J_(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;di("Error using user provided cache. Falling back to memory cache: "+n),await J_(t,new PM)}}else L(gi,"Using default OfflineComponentProvider"),await J_(t,new CI(void 0));return t._offlineComponents}async function xM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(L(gi,"Using user provided OnlineComponentProvider"),await lN(t,t._uninitializedComponentsProvider._online)):(L(gi,"Using default OnlineComponentProvider"),await lN(t,new $q))),t._onlineComponents}function qq(t){return xM(t).then(e=>e.syncEngine)}async function kM(t){let e=await xM(t),n=e.eventManager;return n.onListen=Rq.bind(null,e.syncEngine),n.onUnlisten=Pq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Nq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xq.bind(null,e.syncEngine),n}function zq(t,e,n={}){let r=new Cn;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,u,l){let h=new Jf({next:g=>{h.Ou(),s.enqueueAndForget(()=>CM(o,p));let y=g.docs.has(a);!y&&g.fromCache?l.reject(new O(N.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&u&&u.source==="server"?l.reject(new O(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new Qf(zI(a.path),h,{includeMetadataChanges:!0,ka:!0});return TM(o,p)}(await kM(t),t.asyncQueue,e,n,r)),r.promise}function Gq(t,e,n={}){let r=new Cn;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,u,l){let h=new Jf({next:g=>{h.Ou(),s.enqueueAndForget(()=>CM(o,p)),g.fromCache&&u.source==="server"?l.reject(new O(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new Qf(a,h,{includeMetadataChanges:!0,ka:!0});return TM(o,p)}(await kM(t),t.asyncQueue,e,n,r)),r.promise}function OM(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var dN=new Map;var FM="firestore.googleapis.com",hN=!0,Xf=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new O(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FM,this.ssl=hN}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:hN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oq)throw new O(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new O(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new O(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new O(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ma=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new O(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new O(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new X_;switch(r.type){case"firstParty":return new rE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new O(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=dN.get(n);r&&(L("ComponentProvider","Removing Datastore"),dN.delete(n),r.terminate())}(this),Promise.resolve()}};function LM(t,e,n,r={}){var i;t=_r(t,ma);let o=ao(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(i_(`https://${u}`),o_("Firestore",!0)),s.host!==FM&&s.host!==u&&di("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!co(l,a)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=ot.MOCK_USER;else{h=SA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new O(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ot(g)}t._authCredentials=new eE(new Tf(h,p))}}var Cr=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},dt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Vu(n,t._jsonSchema))return new t(e,r||null,new H(Ce.fromString(n.referencePath)))}};dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:Qe("string",dt._jsonSchemaVersion),referencePath:Qe("string")};var ai=class t extends Cr{constructor(e,n,r){super(e,n,zI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new H(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function VM(t,e,...n){if(t=lt(t),_N("collection","path",e),t instanceof ma){let r=Ce.fromString(e,...n);return MR(r),new ai(t,null,r)}{if(!(t instanceof dt||t instanceof ai))throw new O(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ce.fromString(e,...n));return MR(r),new ai(t.firestore,null,r)}}function iw(t,e,...n){if(t=lt(t),arguments.length===1&&(e=Cu.newId()),_N("doc","path",e),t instanceof ma){let r=Ce.fromString(e,...n);return NR(r),new dt(t,null,new H(r))}{if(!(t instanceof dt||t instanceof ai))throw new O(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ce.fromString(e,...n));return NR(r),new dt(t.firestore,t instanceof ai?t.converter:null,new H(r))}}var fN="AsyncQueue",ep=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new qf(this,"async_queue_retry"),this.oc=()=>{let r=Z_();r&&L(fN,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=Z_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=Z_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new Cn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ia(e))throw e;L(fN,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,vr("INTERNAL UNHANDLED ERROR: ",pN(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=mI.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&z(47125,{hc:pN(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function pN(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}var mi=class extends ma{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ep,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new ep(e),this._firestoreClient=void 0,await e}}};function jM(t,e){let n=typeof t=="object"?t:Ks(),r=typeof t=="string"?t:e||Rf,i=Zh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=CA("firestore");o&&LM(i,...o)}return i}function ow(t){if(t._terminated)throw new O(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Wq(t),t._firestoreClient}function Wq(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new cE(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,OM(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new bI(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var ci=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(vt.fromBase64String(e))}catch(n){throw new O(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vu(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};ci._jsonSchemaVersion="firestore/bytes/1.0",ci._jsonSchema={type:Qe("string",ci._jsonSchemaVersion),bytes:Qe("string")};var ya=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new O(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ou=class{constructor(e){this._methodName=e}};var ui=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new O(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new O(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(Vu(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};ui._jsonSchemaVersion="firestore/geoPoint/1.0",ui._jsonSchema={type:Qe("string",ui._jsonSchemaVersion),latitude:Qe("number"),longitude:Qe("number")};var li=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vu(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new O(N.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};li._jsonSchemaVersion="firestore/vectorValue/1.0",li._jsonSchema={type:Qe("string",li._jsonSchemaVersion),vectorValues:Qe("object")};var Kq=/^__.*__$/,SI=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Wn(e,this.data,this.fieldMask,n,this.fieldTransforms):new So(e,this.data,n,this.fieldTransforms)}},tp=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Wn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function UM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z(40011,{Ec:t})}}var AI=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return rp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(UM(this.Ec)&&Kq.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},RI=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hp(e)}Dc(e,n,r,i=!1){return new AI({Ec:e,methodName:n,bc:r,path:Gt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function gp(t){let e=t._freezeSettings(),n=hp(t._databaseId);return new RI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Qq(t,e,n,r,i,o={}){let s=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);sw("Data must be an object, but it was:",s,r);let a=$M(r,s),u,l;if(o.merge)u=new rn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=NI(e,p,n);if(!s.contains(g))throw new O(N.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);qM(h,g)||h.push(g)}u=new rn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new SI(new zt(a),u,l)}var np=class t extends Ou{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function Yq(t,e,n,r){let i=t.Dc(1,e,n);sw("Data must be an object, but it was:",i,r);let o=[],s=zt.empty();yi(r,(u,l)=>{let h=aw(e,u,n);l=lt(l);let p=i.gc(h);if(l instanceof np)o.push(h);else{let g=Bu(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new rn(o);return new tp(s,a,i.fieldTransforms)}function Zq(t,e,n,r,i,o){let s=t.Dc(1,e,n),a=[NI(e,r,n)],u=[i];if(o.length%2!=0)throw new O(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(NI(e,o[g])),u.push(o[g+1]);let l=[],h=zt.empty();for(let g=a.length-1;g>=0;--g)if(!qM(l,a[g])){let y=a[g],I=u[g];I=lt(I);let S=s.gc(y);if(I instanceof np)l.push(y);else{let R=Bu(I,S);R!=null&&(l.push(y),h.set(y,R))}}let p=new rn(l);return new tp(h,p,s.fieldTransforms)}function BM(t,e,n,r=!1){return Bu(n,t.Dc(r?4:3,e))}function Bu(t,e){if(HM(t=lt(t)))return sw("Unsupported field value:",e,t),$M(t,e);if(t instanceof Ou)return function(r,i){if(!UM(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Bu(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return k4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ye.fromDate(r);return{timestampValue:Vf(i.serializer,o)}}if(r instanceof Ye){let o=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vf(i.serializer,o)}}if(r instanceof ui)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ci)return{bytesValue:cM(i.serializer,r._byteString)};if(r instanceof dt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:KI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof li)return function(s,a){return{mapValue:{fields:{[UI]:{stringValue:BI},[ca]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return WI(a.serializer,l)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${sp(r)}`)}(t,e)}function $M(t,e){let n={};return ON(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yi(t,(r,i)=>{let o=Bu(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function HM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof ui||t instanceof ci||t instanceof dt||t instanceof Ou||t instanceof li)}function sw(t,e,n){if(!HM(n)||!EN(n)){let r=sp(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function NI(t,e,n){if((e=lt(e))instanceof ya)return e._internalPath;if(typeof e=="string")return aw(t,e);throw rp("Field path arguments must be of type string or ",t,!1,void 0,n)}var Jq=new RegExp("[~\\*/\\[\\]]");function aw(t,e,n){if(e.search(Jq)>=0)throw rp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ya(...e.split("."))._internalPath}catch{throw rp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rp(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new O(N.INVALID_ARGUMENT,a+t+u)}function qM(t,e){return t.some(n=>n.isEqual(e))}var Fu=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new MI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(mp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},MI=class extends Fu{data(){return super.data()}};function mp(t,e){return typeof e=="string"?aw(t,e):e instanceof ya?e._internalPath:e._delegate._internalPath}function Xq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new O(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Lu=class{},va=class extends Lu{};function zM(t,e,...n){let r=[];e instanceof Lu&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof PI).length,a=o.filter(u=>u instanceof ip).length;if(s>1||s>0&&a>0)throw new O(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var ip=class t extends va{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return KM(e._query,n),new Cr(e.firestore,e.converter,IE(e._query,n))}_parse(e){let n=gp(e.firestore);return function(o,s,a,u,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new O(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){mN(p,h);let I=[];for(let S of p)I.push(gN(u,o,S));g={arrayValue:{values:I}}}else g=gN(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||mN(p,h),g=BM(a,s,p,h==="in"||h==="not-in");return Ke.create(l,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function GM(t,e,n){let r=e,i=mp("where",t);return ip._create(i,r,n)}var PI=class t extends Lu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Sn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)KM(s,u),s=IE(s,u)}(e._query,n),new Cr(e.firestore,e.converter,IE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var xI=class t extends va{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new O(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new O(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new To(o,s)}(e._query,this._field,this._direction);return new Cr(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new wr(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function WM(t,e="asc"){let n=e,r=mp("orderBy",t);return xI._create(r,n)}var kI=class t extends va{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new Cr(e.firestore,e.converter,xf(e._query,this._limit,this._limitType))}};function cw(t){return r4("limit",t),kI._create("limit",t,"F")}var OI=class t extends va{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=e3(e,this.type,this._docOrFields,this._inclusive);return new Cr(e.firestore,e.converter,function(i,o){return new wr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}};function uw(...t){return OI._create("startAt",t,!0)}function e3(t,e,n,r){if(n[0]=lt(n[0]),n[0]instanceof Fu)return function(o,s,a,u,l){if(!u)throw new O(N.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let h=[];for(let p of ra(o))if(p.field.isKeyField())h.push(Mf(s,u.key));else{let g=u.data.field(p.field);if(cp(g))throw new O(N.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){let y=p.field.canonicalString();throw new O(N.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}h.push(g)}return new fi(h,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{let i=gp(t.firestore);return function(s,a,u,l,h,p){let g=s.explicitOrderBy;if(h.length>g.length)throw new O(N.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let y=[];for(let I=0;I<h.length;I++){let S=h[I];if(g[I].field.isKeyField()){if(typeof S!="string")throw new O(N.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof S}`);if(!GI(s)&&S.indexOf("/")!==-1)throw new O(N.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${S}' contains a slash.`);let R=s.path.child(Ce.fromString(S));if(!H.isDocumentKey(R))throw new O(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${R}' is not because it contains an odd number of segments.`);let k=new H(R);y.push(Mf(a,k))}else{let R=BM(u,l,S);y.push(R)}}return new fi(y,p)}(t._query,t.firestore._databaseId,i,e,n,r)}}function gN(t,e,n){if(typeof(n=lt(n))=="string"){if(n==="")throw new O(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GI(e)&&n.indexOf("/")!==-1)throw new O(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ce.fromString(n));if(!H.isDocumentKey(r))throw new O(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Mf(t,new H(r))}if(n instanceof dt)return Mf(t,n._key);throw new O(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sp(n)}.`)}function mN(t,e){if(!Array.isArray(t)||t.length===0)throw new O(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KM(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new O(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new O(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var FI=class{convertValue(e,n="none"){switch(hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw z(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return yi(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[ca].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ae(s.doubleValue));return new li(o)}convertGeoPoint(e){return new ui(Ae(e.latitude),Ae(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=up(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Au(e));default:return null}}convertTimestamp(e){let n=Er(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ce.fromString(e);Ee(pM(r),9688,{name:e});let i=new Nf(r.get(1),r.get(3)),o=new H(r.popFirst(5));return i.isEqual(n)||vr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function t3(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Eo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Io=class t extends Fu{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new oa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(mp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new O(N.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Io._jsonSchemaVersion="firestore/documentSnapshot/1.0",Io._jsonSchema={type:Qe("string",Io._jsonSchemaVersion),bundleSource:Qe("string","DocumentSnapshot"),bundleName:Qe("string"),bundle:Qe("string")};var oa=class extends Io{data(e={}){return super.data(e)}},sa=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Eo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new oa(this._firestore,this._userDataWriter,r.key,r,new Eo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new O(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new oa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Eo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new oa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Eo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:n3(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new O(N.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cu.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function n3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z(61501,{type:t})}}function lw(t){t=_r(t,dt);let e=_r(t.firestore,mi);return zq(ow(e),t._key).then(n=>r3(e,t,n))}sa._jsonSchemaVersion="firestore/querySnapshot/1.0",sa._jsonSchema={type:Qe("string",sa._jsonSchemaVersion),bundleSource:Qe("string","QuerySnapshot"),bundleName:Qe("string"),bundle:Qe("string")};var op=class extends FI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ci(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,n)}};function QM(t){t=_r(t,Cr);let e=_r(t.firestore,mi),n=ow(e),r=new op(e);return Xq(t._query),Gq(n,t._query).then(i=>new sa(e,r,t,i))}function YM(t,e,n,...r){t=_r(t,dt);let i=_r(t.firestore,mi),o=gp(i),s;return s=typeof(e=lt(e))=="string"||e instanceof ya?Zq(o,"updateDoc",t._key,e,n,r):Yq(o,"updateDoc",t._key,e),dw(i,[s.toMutation(t._key,yr.exists(!0))])}function ZM(t){return dw(_r(t.firestore,mi),[new Nu(t._key,yr.none())])}function JM(t,e){let n=_r(t.firestore,mi),r=iw(t),i=t3(t.converter,e);return dw(n,[Qq(gp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,yr.exists(!1))]).then(()=>r)}function dw(t,e){return function(r,i){let o=new Cn;return r.asyncQueue.enqueueAndForget(async()=>kq(await qq(r),i,o)),o.promise}(ow(t),e)}function r3(t,e,n){let r=n.docs.get(e._key),i=new op(t);return new Io(t,i,e._key,r,new Eo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){_a=i})(Ws),Dn(new Rt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new mi(new tE(r.getProvider("auth-internal")),new iE(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new O(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nf(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),He(bR,SR,e),He(bR,SR,"esm2017")})();var No=class{constructor(e){return e}},XM="firestore",hw=class{constructor(){return Ys(XM)}};var fw=new j("angularfire2.firestore-instances");function i3(t,e){let n=ef(XM,t,e);return n&&new No(n)}function o3(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new No(r)}}var s3={provide:hw,deps:[[new cr,fw]]},a3={provide:No,useFactory:i3,deps:[[new cr,fw],po]};function uae(t,...e){return He("angularfire",ho.full,"fst"),un([a3,s3,{provide:fw,useFactory:o3(t),multi:!0,deps:[_e,Ue,fo,fu,[new cr,gf],[new cr,nf],...e]}])}var yp=Nt(JM,!0,2);var vp=Nt(VM,!0,2);var _p=Nt(ZM,!0,2);var vi=Nt(iw,!0,2);var br=Nt(QM,!0);var lae=Nt(jM,!0);var eP=Nt(WM,!0,2),Sr=Nt(zM,!0,2);var Ep=Nt(YM,!0,2);var Da=Nt(GM,!0,2);var Ip=class t{async updateCategoryPromptCount(e,n){let r=vi(this.firestore,"categories",e);await Ep(r,{prompt_count:n,fecha_edicion:new Date})}async createCategory(e){await yp(this.categoriesCollection,W(x({},e),{slug:this.generateSlug(e.name||""),fecha_creacion:new Date}))}async updateTagPromptCount(e,n){let r=vi(this.firestore,"tags",e);await Ep(r,{prompt_count:n,fecha_edicion:new Date})}async createTag(e){await yp(this.tagsCollection,W(x({},e),{slug:this.generateSlug(e.name||""),fecha_creacion:new Date}))}firestore=M(No);promptsCollection=vp(this.firestore,"prompts");categoriesCollection=vp(this.firestore,"categories");tagsCollection=vp(this.firestore,"tags");currCategories=Ne([]);currTags=Ne([]);currPrompts=Ne([]);error=Ne(null);async getPrompts(){try{this.error.set(null);let e=this.currPrompts(),n=e.length===0?0:e[e.length-1].old_id,r=await br(Sr(this.promptsCollection,eP("old_id","asc"),uw(n),cw(10))),i=this.mapQuerySnapshotToPrompts(r);return console.log("Prompts obtenidos:",i,e),this.currPrompts.set([...e,...i.slice(1)]),this.currPrompts()}catch(e){let n=`Error al obtener prompts: ${e}`;return this.error.set(n),console.error(n),[]}}async getPromptBySlug(e){try{this.error.set(null);let n=Sr(this.promptsCollection,Da("slug","==",e)),r=await br(n);if(r.empty)return null;let i=r.docs[0];return i.exists()?this.mapDocumentToPrompt(i.id,i.data()):null}catch(n){let r=`Error al obtener prompt ${e}: ${n}`;return this.error.set(r),console.error(r),null}}async getPromptById(e){try{let n=vi(this.firestore,"prompts",e),r=await lw(n);return r.exists()?this.mapDocumentToPrompt(n.id,r.data()):null}catch(n){let r=`Error al obtener prompt ${e}: ${n}`;return this.error.set(r),console.error(r),null}}async createPrompt(e){try{this.error.set(null);let n=W(x({},e),{old_id:-1,slug:e.titulo??this.generateSlug(e.titulo),fecha_creacion:new Date});return(await yp(this.promptsCollection,n)).id}catch(n){let r=`Error al crear prompt: ${n}`;return this.error.set(r),console.error(r),null}}async updatePrompt(e,n){try{this.error.set(null);let r=vi(this.firestore,"prompts",e);return await Ep(r,W(x({},n),{fechaModificacion:new Date})),!0}catch(r){let i=`Error al actualizar prompt ${e}: ${r}`;return this.error.set(i),console.error(i),!1}}async deletePrompt(e){try{this.error.set(null);let n=vi(this.firestore,"prompts",e);return await _p(n),!0}catch(n){let r=`Error al eliminar prompt ${e}: ${n}`;return this.error.set(r),console.error(r),!1}}async deleteCategory(e){try{this.error.set(null);let n=vi(this.firestore,"categories",e);return await _p(n),!0}catch(n){let r=`Error al eliminar la categor\xEDa ${e}: ${n}`;return this.error.set(r),console.error(r),!1}}async deleteTag(e){try{this.error.set(null);let n=vi(this.firestore,"tags",e);return await _p(n),!0}catch(n){let r=`Error al eliminar la etiqueta ${e}: ${n}`;return this.error.set(r),console.error(r),!1}}async searchPrompts(e){try{this.error.set(null);let n=e.toLowerCase();return(await this.getPrompts()).filter(i=>i.titulo.toLowerCase().includes(n)||i.prompt.toLowerCase().includes(n)||i.descripcion.toLowerCase().includes(n)||i.categoria.toLowerCase().includes(n)||i.tags.some(o=>o.toLowerCase().includes(n)))}catch(n){let r=`Error en b\xFAsqueda: ${n}`;return this.error.set(r),console.error(r),[]}}async getPromptsByCategory(e){try{this.error.set(null);let n=Sr(this.promptsCollection,Da("categoria","==",e)),r=await br(n);return this.mapQuerySnapshotToPrompts(r)}catch(n){let r=`Error al obtener prompts por categor\xEDa: ${n}`;return this.error.set(r),console.error(r),[]}}async getPromptsByTag(e){try{this.error.set(null);let n=Sr(this.promptsCollection,Da("tags","array-contains",e)),r=await br(n);return this.mapQuerySnapshotToPrompts(r)}catch(n){let r=`Error al obtener prompts por tag: ${n}`;return this.error.set(r),console.error(r),[]}}async getCategories(){if(this.currCategories().length>0)return this.currCategories();try{this.error.set(null);let e=Sr(this.categoriesCollection),n=await br(e),r=this.mapQuerySnapshotToCategories(n);return this.currCategories.set(r),r}catch(e){let n=`Error al obtener categor\xEDs: ${e}`;return this.error.set(n),console.error(n),[]}}async getTags(){if(this.currTags().length>0)return this.currTags();try{this.error.set(null);let e=Sr(this.tagsCollection),n=await br(e),r=this.mapQuerySnapshotToTags(n);return this.currTags.set(r),r}catch(e){let n=`Error al obtener etiquetas: ${e}`;return this.error.set(n),console.error(n),[]}}async getCategoryBySlug(e){try{this.error.set(null);let n=Sr(this.categoriesCollection,Da("slug","==",e)),r=await br(n);if(r.empty)return null;let i=r.docs[0];return i.exists()?this.mapDocumentToCategory(i.id,i.data()):null}catch(n){let r=`Error al obtener category ${e}: ${n}`;return this.error.set(r),console.error(r),null}}async getTagBySlug(e){try{this.error.set(null);let n=Sr(this.tagsCollection,Da("slug","==",e)),r=await br(n);if(r.empty)return null;let i=r.docs[0];return i.exists()?this.mapDocumentToTag(i.id,i.data()):null}catch(n){let r=`Error al obtener tag ${e}: ${n}`;return this.error.set(r),console.error(r),null}}mapQuerySnapshotToPrompts(e){return e.docs.map(n=>this.mapDocumentToPrompt(n.id,n.data()))}mapQuerySnapshotToCategories(e){return e.docs.map(n=>this.mapDocumentToCategory(n.id,n.data()))}mapQuerySnapshotToTags(e){return e.docs.map(n=>this.mapDocumentToTag(n.id,n.data()))}mapDocumentToPrompt(e,n){return{id:e,old_id:n.old_id?parseInt(n.old_id):void 0,titulo:n.titulo||"",prompt:n.prompt||"",descripcion:n.descripcion||"",autor:n.autor||"",categoria:n.categoria||"",tags:n.tags||[],uso:n.uso||"texto",idioma:n.idioma||"es-AR",fecha_creacion:n.fecha_creacion?.toDate()||new Date,slug:n.slug||this.generateSlug(n.titulo||""),fecha_edicion:n.fecha_edicion?.toDate()||new Date,modelo:n.modelo,ejemplo:n.ejemplo,fuente:n.fuente,referencias:n.referencias,notas:n.notas,estado:n.estado,version:n.version,comentarios:n.comentarios,feedback:n.feedback,rating:n.rating,visibilidad:n.visibilidad,licencia:n.licencia}}mapDocumentToCategory(e,n){return{id:e,name:n.name||"",slug:n.slug||this.generateSlug(n.name||""),prompt_count:Number(n.prompt_count)||0,fecha_creacion:n.fecha_creacion?.toDate()||new Date}}mapDocumentToTag(e,n){return{id:e,name:n.name||"",slug:n.slug||this.generateSlug(n.name||""),prompt_count:Number(n.prompt_count)||0,fecha_creacion:n.fecha_creacion?.toDate()||new Date}}generateSlug(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").trim()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})};var tP=class t{firestoreService=M(Ip);error=Xt(()=>this.firestoreService.error());search(e,n=!0){return this.searchInFirestore(e,n)}async prompts(){return await this.firestoreService.getPrompts()}async categories(){return await this.firestoreService.getCategories()}async tags(){return await this.firestoreService.getTags()}async byCategory(e){return this.firestoreService.getCategoryBySlug(e).then(async r=>{if(!r)throw new Error(`No se encontr\xF3 la categor\xEDa '${e}'.`);let i=await this.firestoreService.getPromptsByCategory(r.name);return{name:this.titleCase(r.name),prompts:i}})}async byTag(e){let n=await this.firestoreService.getTagBySlug(e);if(!n)throw new Error(`No se encontr\xF3 el tag '${e}'.`);let r=await this.firestoreService.getPromptsByTag(n.name);return{name:this.titleCase(n.name),prompts:r}}async createPrompt(e){return await this.firestoreService.createPrompt(e)}async updateTagsAndCategory(e,n,r){let o=(await this.categories()).find(a=>a.name.toLowerCase()===n);if(o){let a=(o.prompt_count??0)+(r?-1:1);a<=0?(console.log(`Eliminando categor\xEDa '${o.name}' porque su prompt_count es 0`),await this.firestoreService.deleteCategory(o.id)):await this.firestoreService.updateCategoryPromptCount(o.id,a)}else await this.firestoreService.createCategory({name:n,prompt_count:1,slug:""});let s=await this.tags();for(let a of e){let u=s.find(l=>l.name.toLowerCase()===a);if(u){let l=(u.prompt_count??0)+(r?-1:1);l<=0?await this.firestoreService.deleteTag(u.id):await this.firestoreService.updateTagPromptCount(u.id,l)}else await this.firestoreService.createTag({name:a,prompt_count:1,slug:""})}}async deletePrompt(e){let n=await this.firestoreService.getPromptById(e);if(!n)throw new Error(`No se encontr\xF3 el prompt con ID '${e}'.`);console.log(`Eliminando prompt con ID '${e}' y actualizando tags/categor\xEDa...`,n.tags,n.categoria);let r=[...n.tags],i=n.categoria;await this.firestoreService.deletePrompt(e),await this.updateTagsAndCategory(r,i,!0)}async deleteTag(e){let n=(await this.tags()).find(r=>r.name.toLowerCase()===e.toLowerCase());if(!n)throw new Error(`No se encontr\xF3 el tag '${e}'.`);await this.firestoreService.deleteTag(n.id)}async deleteCategory(e){let n=(await this.categories()).find(r=>r.name.toLowerCase()===e.toLowerCase());if(!n)throw new Error(`No se encontr\xF3 la categor\xEDa '${e}'.`);await this.firestoreService.deleteCategory(n.id)}async bySlug(e){let n=await this.firestoreService.getPromptBySlug(e);if(!n)throw new Error(`No se encontr\xF3 un prompt '${e}'.`);return n}async searchInFirestore(e,n){try{let i=(await this.firestoreService.searchPrompts(e)).map(o=>({item:o,foundIn:"titulo",position:0,relevanceScore:1}));return{search:e,found:i}}catch(r){return console.error("Error en b\xFAsqueda de Firestore:",r),{search:e,found:[]}}}titleCase(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ta=class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=le({type:t,selectors:[["button","pd-button",""]],hostAttrs:[1,"h-10","min-w-10","flex","items-center","justify-center","active:scale-95","transition-all","duration-150"]})};var c3={menu:"M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z",back:"m313-440 224 224-57 56-320-320 320-320 57 56-224 224h487v80H313Z",search:"M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z",copy:"M360-240q-33 0-56.5-23.5T280-320v-480q0-33 23.5-56.5T360-880h360q33 0 56.5 23.5T800-800v480q0 33-23.5 56.5T720-240H360Zm0-80h360v-480H360v480ZM200-80q-33 0-56.5-23.5T120-160v-560h80v560h440v80H200Zm160-240v-480 480Z",share:"M680-80q-50 0-85-35t-35-85q0-6 3-28L282-392q-16 15-37 23.5t-45 8.5q-50 0-85-35t-35-85q0-50 35-85t85-35q24 0 45 8.5t37 23.5l281-164q-2-7-2.5-13.5T560-760q0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35q-24 0-45-8.5T598-672L317-508q2 7 2.5 13.5t.5 14.5q0 8-.5 14.5T317-452l281 164q16-15 37-23.5t45-8.5q50 0 85 35t35 85q0 50-35 85t-85 35Z","dark-mode":"M480-120q-150 0-255-105T120-480q0-150 105-255t255-105q14 0 27.5 1t26.5 3q-41 29-65.5 75.5T444-660q0 90 63 153t153 63q55 0 101-24.5t75-65.5q2 13 3 26.5t1 27.5q0 150-105 255T480-120Zm0-80q88 0 158-48.5T740-375q-20 5-40 8t-40 3q-123 0-209.5-86.5T364-660q0-20 3-40t8-40q-78 32-126.5 102T200-480q0 116 82 198t198 82Zm-10-270Z","light-mode":"M480-360q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0 80q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM200-440H40v-80h160v80Zm720 0H760v-80h160v80ZM440-760v-160h80v160h-80Zm0 720v-160h80v160h-80ZM256-650l-101-97 57-59 96 100-52 56Zm492 496-97-101 53-55 101 97-57 59Zm-98-550 97-101 59 57-100 96-56-52ZM154-212l101-97 55 53-97 101-59-57Zm326-268Z",close:"m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z",link:"M440-280H280q-83 0-141.5-58.5T80-480q0-83 58.5-141.5T280-680h160v80H280q-50 0-85 35t-35 85q0 50 35 85t85 35h160v80ZM320-440v-80h320v80H320Zm200 160v-80h160q50 0 85-35t35-85q0-50-35-85t-85-35H520v-80h160q83 0 141.5 58.5T880-480q0 83-58.5 141.5T680-280H520Z",terminal:"M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm0-80h640v-400H160v400Zm140-40-56-56 103-104-104-104 57-56 160 160-160 160Zm180 0v-80h240v80H480Z",check:"M382-240 154-468l57-57 171 171 367-367 57 57-424 424Z",add:"M440-120v-320H120v-80h320v-320h80v320h320v80H520v320h-80Z",delete:"M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"},wp=class t{elementRef=M(mt);renderer=M(Jt);icon=Ms.required({alias:"pdIcon"});size=Ms(24);fill=Ms("currentColor");constructor(){fh(()=>{this.createSvgIcon()})}createSvgIcon(){let e=c3[this.icon()];if(!e){console.warn(`Icon "${this.icon()}" not found`);return}this.elementRef.nativeElement.innerHTML="";let n=this.renderer.createElement("svg","http://www.w3.org/2000/svg");this.renderer.setAttribute(n,"height",`${this.size()}px`),this.renderer.setAttribute(n,"width",`${this.size()}px`),this.renderer.setAttribute(n,"viewBox","0 -960 960 960"),this.renderer.setAttribute(n,"fill",this.fill());let r=this.renderer.createElement("path","http://www.w3.org/2000/svg");this.renderer.setAttribute(r,"d",e),this.renderer.appendChild(n,r),this.renderer.appendChild(this.elementRef.nativeElement,n)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=le({type:t,selectors:[["","pdIcon",""]],inputs:{icon:[1,"pdIcon","icon"],size:[1,"size"],fill:[1,"fill"]}})};var Dp=class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=le({type:t,selectors:[["button","pdHeaderButton",""]],hostAttrs:[1,"rounded-md","hover:bg-button-hover","text-header-contrast"],features:[Ji([Ta])]})};var rP=class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=le({type:t,selectors:[["","pdTruncate",""]],hostAttrs:[1,"w-full","inline-block","truncate"]})};var l3=new Intl.RelativeTimeFormat("es",{numeric:"auto"});function pw(t){let e=new Date,n=t.getTime()-e.getTime(),r=d3(n);return l3.format(h3(n,r),r)}var gw=60*1e3,mw=60*gw,yw=24*mw,vw=7*yw,_w=4*vw,iP=_w*12;function d3(t){return t=Math.abs(t),t<gw?"second":t<mw?"minute":t<yw?"hour":t<vw?"day":t<_w?"week":t<iP?"month":"year"}function h3(t,e){return Math.round(e==="minute"?t/gw:e==="hour"?t/mw:e==="day"?t/yw:e==="week"?t/vw:e==="month"?t/_w:e==="year"?t/iP:t/1e3)}var oP=class t{transform(e){return e?(pw(e instanceof Date?e:new Date(e)),pw(new Date(e))):"Sin informaci\xF3n"}static \u0275fac=function(n){return new(n||t)};static \u0275pipe=Mc({name:"relDate",type:t,pure:!0})};var f3=["pdHeaderBackButton",""],sP=class t{back=uS();onClick(e){this.back.emit(e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Nc({type:t,selectors:[["button","pdHeaderBackButton",""]],hostAttrs:["title","Volver","aria-label","Volver"],hostBindings:function(n,r){n&1&&_n("click",function(o){return r.onClick(o)})},outputs:{back:"back"},features:[Ji([Dp])],attrs:f3,decls:1,vars:0,consts:[["pdIcon","back"]],template:function(n,r){n&1&&Rs(0,"span",0)},dependencies:[wp],encapsulation:2})};var Ew=class t{get height(){return this.actualHeight()}double=Ne(!1);actualHeight=Xt(()=>this.double()?"h-30":"h-14");static \u0275fac=function(n){return new(n||t)};static \u0275dir=le({type:t,selectors:[["","pdHeaderLayout",""]],hostAttrs:[1,"sticky","left-0","top-0","z-10","bg-header"],hostVars:2,hostBindings:function(n,r){n&2&&lv(r.height)}})},aP=class t extends Ew{constructor(){super(),this.double.set(!0)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=le({type:t,selectors:[["","pdDoubleHeaderLayout",""]],features:[Ot]})},cP=class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=le({type:t,selectors:[["","pdHeaderContent",""]],hostAttrs:[1,"px-3","flex","flex-col","justify-center","gap-1","bg-header"]})},uP=class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=le({type:t,selectors:[["","pdHeaderRow",""]],hostAttrs:[1,"flex","items-center","overflow-hidden","justify-between","gap-2","h-14"]})};var lP=class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=le({type:t,selectors:[["button","pdHeaderActionButton",""]],hostAttrs:[1,"hover:shadow-md","hover:shadow-black/20","shadow-black/40","rounded-full","bg-action","hover:bg-action-hover","text-header-contrast"],features:[Ji([Ta])]})};var _P=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(X(Jt),X(mt))};static \u0275dir=le({type:t})}return t})(),Sw=(()=>{class t extends _P{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Yr(t)))(i||t)}})();static \u0275dir=le({type:t,features:[Ot]})}return t})(),Gu=new j("");var p3={provide:Gu,useExisting:an(()=>EP),multi:!0};function g3(){let t=en()?en().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var m3=new j(""),EP=(()=>{class t extends _P{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!g3())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(X(Jt),X(mt),X(m3,8))};static \u0275dir=le({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&_n("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[ei([p3]),Ot]})}return t})();function Aw(t){return t==null||Rw(t)===0}function Rw(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var Nw=new j(""),Mw=new j(""),y3=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,dP=class{static min(e){return v3(e)}static max(e){return _3(e)}static required(e){return E3(e)}static requiredTrue(e){return I3(e)}static email(e){return w3(e)}static minLength(e){return D3(e)}static maxLength(e){return T3(e)}static pattern(e){return C3(e)}static nullValidator(e){return IP()}static compose(e){return SP(e)}static composeAsync(e){return RP(e)}};function v3(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function _3(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function E3(t){return Aw(t.value)?{required:!0}:null}function I3(t){return t.value===!0?null:{required:!0}}function w3(t){return Aw(t.value)||y3.test(t.value)?null:{email:!0}}function D3(t){return e=>{let n=e.value?.length??Rw(e.value);return n===null||n===0?null:n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}function T3(t){return e=>{let n=e.value?.length??Rw(e.value);return n!==null&&n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}function C3(t){if(!t)return IP;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Aw(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function IP(t){return null}function wP(t){return t!=null}function DP(t){return Xr(t)?Re(t):t}function TP(t){let e={};return t.forEach(n=>{e=n!=null?x(x({},e),n):e}),Object.keys(e).length===0?null:e}function CP(t,e){return e.map(n=>n(t))}function b3(t){return!t.validate}function bP(t){return t.map(e=>b3(e)?e:n=>e.validate(n))}function SP(t){if(!t)return null;let e=t.filter(wP);return e.length==0?null:function(n){return TP(CP(n,e))}}function AP(t){return t!=null?SP(bP(t)):null}function RP(t){if(!t)return null;let e=t.filter(wP);return e.length==0?null:function(n){let r=CP(n,e).map(DP);return Eg(r).pipe(ce(TP))}}function NP(t){return t!=null?RP(bP(t)):null}function hP(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function MP(t){return t._rawValidators}function PP(t){return t._rawAsyncValidators}function Iw(t){return t?Array.isArray(t)?t:[t]:[]}function bp(t,e){return Array.isArray(t)?t.includes(e):t===e}function fP(t,e){let n=Iw(e);return Iw(t).forEach(i=>{bp(n,i)||n.push(i)}),n}function pP(t,e){return Iw(e).filter(n=>!bp(t,n))}var Sp=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=AP(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=NP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Sa=class extends Sp{name;get formDirective(){return null}get path(){return null}},Mo=class extends Sp{_parent=null;name=null;valueAccessor=null},Ap=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},S3={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},cce=W(x({},S3),{"[class.ng-submitted]":"isSubmitted"}),uce=(()=>{class t extends Ap{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(X(Mo,2))};static \u0275dir=le({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Oc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Ot]})}return t})(),lce=(()=>{class t extends Ap{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(X(Sa,10))};static \u0275dir=le({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Oc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Ot]})}return t})();var $u="VALID",Tp="INVALID",Ca="PENDING",Hu="DISABLED",_i=class{},Rp=class extends _i{value;source;constructor(e,n){super(),this.value=e,this.source=n}},qu=class extends _i{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},zu=class extends _i{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},ba=class extends _i{status;source;constructor(e,n){super(),this.status=e,this.source=n}},ww=class extends _i{source;constructor(e){super(),this.source=e}},Dw=class extends _i{source;constructor(e){super(),this.source=e}};function Pw(t){return(kp(t)?t.validators:t)||null}function A3(t){return Array.isArray(t)?AP(t):t||null}function xw(t,e){return(kp(e)?e.asyncValidators:t)||null}function R3(t){return Array.isArray(t)?NP(t):t||null}function kp(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function xP(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new V(1e3,"");if(!r[n])throw new V(1001,"")}function kP(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new V(1002,"")})}var Aa=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Bt(this.statusReactive)}set status(e){Bt(()=>this.statusReactive.set(e))}_status=Xt(()=>this.statusReactive());statusReactive=Ne(void 0);get valid(){return this.status===$u}get invalid(){return this.status===Tp}get pending(){return this.status==Ca}get disabled(){return this.status===Hu}get enabled(){return this.status!==Hu}errors;get pristine(){return Bt(this.pristineReactive)}set pristine(e){Bt(()=>this.pristineReactive.set(e))}_pristine=Xt(()=>this.pristineReactive());pristineReactive=Ne(!0);get dirty(){return!this.pristine}get touched(){return Bt(this.touchedReactive)}set touched(e){Bt(()=>this.touchedReactive.set(e))}_touched=Xt(()=>this.touchedReactive());touchedReactive=Ne(!1);get untouched(){return!this.touched}_events=new Ve;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(fP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(fP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(pP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(pP(e,this._rawAsyncValidators))}hasValidator(e){return bp(this._rawValidators,e)}hasAsyncValidator(e){return bp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(W(x({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new zu(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new zu(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(W(x({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new qu(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new qu(!0,r))}markAsPending(e={}){this.status=Ca;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ba(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(W(x({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Hu,this.errors=null,this._forEachChild(i=>{i.disable(W(x({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Rp(this.value,r)),this._events.next(new ba(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(W(x({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=$u,this._forEachChild(r=>{r.enable(W(x({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(W(x({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$u||this.status===Ca)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Rp(this.value,n)),this._events.next(new ba(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(W(x({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hu:$u}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Ca,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=DP(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ba(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Oe,this.statusChanges=new Oe}_calculateStatus(){return this._allControlsDisabled()?Hu:this.errors?Tp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ca)?Ca:this._anyControlsHaveStatus(Tp)?Tp:$u}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new qu(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new zu(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){kp(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=A3(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=R3(this._rawAsyncValidators)}},Np=class extends Aa{constructor(e,n,r){super(Pw(n),xw(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){kP(this,!0,e),Object.keys(e).forEach(r=>{xP(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Tw=class extends Np{};var kw=new j("",{providedIn:"root",factory:()=>Ow}),Ow="always";function N3(t,e){return[...e.path,t]}function Cw(t,e,n=Ow){Fw(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),P3(t,e),k3(t,e),x3(t,e),M3(t,e)}function Mp(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),xp(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Pp(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function M3(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Fw(t,e){let n=MP(t);e.validator!==null?t.setValidators(hP(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=PP(t);e.asyncValidator!==null?t.setAsyncValidators(hP(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Pp(e._rawValidators,i),Pp(e._rawAsyncValidators,i)}function xp(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=MP(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=PP(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Pp(e._rawValidators,r),Pp(e._rawAsyncValidators,r),n}function P3(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&OP(t,e)})}function x3(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&OP(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function OP(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function k3(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function O3(t,e){t==null,Fw(t,e)}function F3(t,e){return xp(t,e)}function FP(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function L3(t){return Object.getPrototypeOf(t.constructor)===Sw}function V3(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function LP(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===EP?n=o:L3(o)?r=o:i=o}),i||r||n||null}function j3(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function gP(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function mP(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Cp=class extends Aa{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(Pw(n),xw(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kp(n)&&(n.nonNullable||n.initialValueIsDefault)&&(mP(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){gP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){gP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){mP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var U3=t=>t instanceof Cp;var hce=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=le({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var Lw=new j(""),B3={provide:Mo,useExisting:an(()=>$3)},$3=(()=>{class t extends Mo{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(n){}model;update=new Oe;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=LP(this,i)}ngOnChanges(n){if(this._isControlChanged(n)){let r=n.form.previousValue;r&&Mp(r,this,!1),Cw(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}FP(n,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Mp(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_isControlChanged(n){return n.hasOwnProperty("form")}static \u0275fac=function(r){return new(r||t)(X(Nw,10),X(Mw,10),X(Gu,10),X(Lw,8),X(kw,8))};static \u0275dir=le({type:t,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[ei([B3]),Ot,yn]})}return t})(),H3={provide:Sa,useExisting:an(()=>q3)},q3=(()=>{class t extends Sa{callSetDisabledState;get submitted(){return Bt(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=Xt(()=>this._submittedReactive());_submittedReactive=Ne(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Oe;constructor(n,r,i){super(),this.callSetDisabledState=i,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(xp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return Cw(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Mp(n.control||null,n,!1),j3(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),V3(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new ww(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0,r={}){this.form.reset(n,r),this._submittedReactive.set(!1),r?.emitEvent!==!1&&this.form._events.next(new Dw(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(Mp(r||null,n),U3(i)&&(Cw(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);O3(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&F3(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Fw(this.form,this),this._oldForm&&xp(this._oldForm,this)}static \u0275fac=function(r){return new(r||t)(X(Nw,10),X(Mw,10),X(kw,8))};static \u0275dir=le({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&_n("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ei([H3]),Ot,yn]})}return t})();var z3={provide:Mo,useExisting:an(()=>G3)},G3=(()=>{class t extends Mo{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new Oe;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=LP(this,o)}ngOnChanges(n){this._added||this._setUpControl(),FP(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return N3(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||t)(X(Sa,13),X(Nw,10),X(Mw,10),X(Gu,10),X(Lw,8))};static \u0275dir=le({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[ei([z3]),Ot,yn]})}return t})();var W3={provide:Gu,useExisting:an(()=>jP),multi:!0};function VP(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function K3(t){return t.split(":")[0]}var jP=(()=>{class t extends Sw{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=M(ur).injector;appRefDestroyRef=this.appRefInjector.get(ut);destroyRef=M(ut);cdr=M(eo);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefDestroyRef.destroyed||(this._queuedWrite=!0,ch({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),i=VP(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=K3(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Yr(t)))(i||t)}})();static \u0275dir=le({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&_n("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ei([W3]),Ot]})}return t})(),fce=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(VP(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||t)(X(mt),X(Jt),X(jP,9))};static \u0275dir=le({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),Q3={provide:Gu,useExisting:an(()=>UP),multi:!0};function yP(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Y3(t){return t.split(":")[0]}var UP=(()=>{class t extends Sw{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=Y3(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Yr(t)))(i||t)}})();static \u0275dir=le({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&_n("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ei([Q3]),Ot]})}return t})(),pce=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(yP(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(yP(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(X(mt),X(Jt),X(UP,9))};static \u0275dir=le({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var Z3=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Jr({type:t});static \u0275inj=rr({})}return t})(),bw=class extends Aa{constructor(e,n,r){super(Pw(n),xw(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){kP(this,!1,e),e.forEach((r,i)=>{xP(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function vP(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var gce=(()=>{class t{useNonNullable=!1;get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return vP(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Np(i,o)}record(n,r=null){let i=this._reduceControls(n);return new Tw(i,r)}control(n,r,i){let o={};return this.useNonNullable?(vP(r)?o=r:(o.validators=r,o.asyncValidators=i),new Cp(n,W(x({},o),{nonNullable:!0}))):new Cp(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new bw(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof Cp)return n;if(n instanceof Aa)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var mce=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Lw,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:kw,useValue:n.callSetDisabledState??Ow}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Jr({type:t});static \u0275inj=rr({imports:[Z3]})}return t})();export{x as a,W as b,Z as c,ce as d,xe as e,Ig as f,Mt as g,Jx as h,nt as i,ek as j,U as k,M as l,YT as m,ZT as n,Pk as o,Ne as p,yn as q,mt as r,GO as s,Jt as t,X as u,Nc as v,le as w,Ji as x,C0 as y,Oe as z,_e as A,TL as B,CL as C,xc as D,SL as E,AL as F,RL as G,NL as H,ML as I,PL as J,B0 as K,rv as L,iv as M,Rs as N,ov as O,sv as P,$0 as Q,OL as R,_n as S,z0 as T,VL as U,UL as V,BL as W,HL as X,cv as Y,uv as Z,qL as _,Oc as $,hV as aa,J0 as ba,dv as ca,X0 as da,EV as ea,IV as fa,TV as ga,bV as ha,NV as ia,Xt as ja,fh as ka,uS as la,Ms as ma,vv as na,yS as oa,y2 as pa,x2 as qa,AS as ra,dr as sa,Wv as ta,Gs as ua,zh as va,gU as wa,vU as xa,CU as ya,Ta as za,vA as Aa,Dre as Ba,fie as Ca,pie as Da,uae as Ea,lae as Fa,tP as Ga,wp as Ha,Dp as Ia,rP as Ja,pw as Ka,oP as La,sP as Ma,Ew as Na,aP as Oa,cP as Pa,uP as Qa,lP as Ra,EP as Sa,dP as Ta,uce as Ua,lce as Va,Cp as Wa,hce as Xa,$3 as Ya,q3 as Za,G3 as _a,jP as $a,fce as ab,pce as bb,gce as cb,mce as db};
