var aO=Object.defineProperty,cO=Object.defineProperties;var uO=Object.getOwnPropertyDescriptors;var qT=Object.getOwnPropertySymbols;var lO=Object.prototype.hasOwnProperty,dO=Object.prototype.propertyIsEnumerable;var zT=(n,e,t)=>e in n?aO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,x=(n,e)=>{for(var t in e||={})lO.call(e,t)&&zT(n,t,e[t]);if(qT)for(var t of qT(e))dO.call(e,t)&&zT(n,t,e[t]);return n},Z=(n,e)=>cO(n,uO(e));var Hm;function bd(){return Hm}function ur(n){let e=Hm;return Hm=n,e}var GT=Symbol("NotFound");function xs(n){return n===GT||n?.name==="\u0275NotFound"}function Rd(n,e){return Object.is(n,e)}var pt=null,Td=!1,$m=1,hO=null,Ht=Symbol("SIGNAL");function J(n){let e=pt;return pt=n,e}function Nd(){return pt}var Ci={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ks(n){if(Td)throw new Error("");if(pt===null)return;pt.consumerOnSignalRead(n);let e=pt.nextProducerIndex++;if(xd(pt),e<pt.producerNode.length&&pt.producerNode[e]!==n&&Jc(pt)){let t=pt.producerNode[e];Pd(t,pt.producerIndexOfThis[e])}pt.producerNode[e]!==n&&(pt.producerNode[e]=n,pt.producerIndexOfThis[e]=Jc(pt)?KT(n,pt,e):0),pt.producerLastReadVersion[e]=n.version}function WT(){$m++}function Md(n){if(!(Jc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===$m)){if(!n.producerMustRecompute(n)&&!Os(n)){Ad(n);return}n.producerRecomputeValue(n),Ad(n)}}function qm(n){if(n.liveConsumerNode===void 0)return;let e=Td;Td=!0;try{for(let t of n.liveConsumerNode)t.dirty||fO(t)}finally{Td=e}}function zm(){return pt?.consumerAllowSignalWrites!==!1}function fO(n){n.dirty=!0,qm(n),n.consumerMarkedDirty?.(n)}function Ad(n){n.dirty=!1,n.lastCleanEpoch=$m}function Si(n){return n&&(n.nextProducerIndex=0),J(n)}function Io(n,e){if(J(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Jc(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Pd(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Os(n){xd(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Md(t),r!==t.version))return!0}return!1}function Fs(n){if(xd(n),Jc(n))for(let e=0;e<n.producerNode.length;e++)Pd(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function KT(n,e,t){if(QT(n),n.liveConsumerNode.length===0&&YT(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=KT(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Pd(n,e){if(QT(n),n.liveConsumerNode.length===1&&YT(n))for(let r=0;r<n.producerNode.length;r++)Pd(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];xd(i),i.producerIndexOfThis[r]=e}}function Jc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function xd(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function QT(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function YT(n){return n.producerNode!==void 0}function kd(n){hO?.(n)}function Od(n,e){let t=Object.create(pO);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Md(t),ks(t),t.value===Zc)throw t.error;return t.value};return r[Ht]=t,kd(t),r}var Cd=Symbol("UNSET"),Sd=Symbol("COMPUTING"),Zc=Symbol("ERRORED"),pO=Z(x({},Ci),{value:Cd,dirty:!0,error:null,equal:Rd,kind:"computed",producerMustRecompute(n){return n.value===Cd||n.value===Sd},producerRecomputeValue(n){if(n.value===Sd)throw new Error("");let e=n.value;n.value=Sd;let t=Si(n),r,i=!1;try{r=n.computation(),J(null),i=e!==Cd&&e!==Zc&&r!==Zc&&n.equal(e,r)}catch(o){r=Zc,n.error=o}finally{Io(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function gO(){throw new Error}var ZT=gO;function JT(n){ZT(n)}function Gm(n){ZT=n}var mO=null;function Wm(n,e){let t=Object.create(Fd);t.value=n,e!==void 0&&(t.equal=e);let r=()=>XT(t);return r[Ht]=t,kd(t),[r,s=>Ls(t,s),s=>Km(t,s)]}function XT(n){return ks(n),n.value}function Ls(n,e){zm()||JT(n),n.equal(n.value,e)||(n.value=e,yO(n))}function Km(n,e){zm()||JT(n),Ls(n,e(n.value))}var Fd=Z(x({},Ci),{equal:Rd,value:void 0,kind:"signal"});function yO(n){n.version++,WT(),qm(n),mO?.(n)}function ae(n){return typeof n=="function"}function Vs(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Ld=Vs(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function wo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var $e=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ae(r))try{r()}catch(o){e=o instanceof Ld?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{e0(o)}catch(s){e=e??[],s instanceof Ld?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ld(e)}}add(e){var t;if(e&&e!==this)if(this.closed)e0(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&wo(t,e)}remove(e){let{_finalizers:t}=this;t&&wo(t,e),e instanceof n&&e._removeParent(this)}};$e.EMPTY=(()=>{let n=new $e;return n.closed=!0,n})();var Qm=$e.EMPTY;function Vd(n){return n instanceof $e||n&&"closed"in n&&ae(n.remove)&&ae(n.add)&&ae(n.unsubscribe)}function e0(n){ae(n)?n():n.unsubscribe()}var Bn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var js={setTimeout(n,e,...t){let{delegate:r}=js;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=js;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function jd(n){js.setTimeout(()=>{let{onUnhandledError:e}=Bn;if(e)e(n);else throw n})}function Xc(){}var t0=Ym("C",void 0,void 0);function n0(n){return Ym("E",void 0,n)}function r0(n){return Ym("N",n,void 0)}function Ym(n,e,t){return{kind:n,value:e,error:t}}var Do=null;function Us(n){if(Bn.useDeprecatedSynchronousErrorHandling){let e=!Do;if(e&&(Do={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Do;if(Do=null,t)throw r}}else n()}function i0(n){Bn.useDeprecatedSynchronousErrorHandling&&Do&&(Do.errorThrown=!0,Do.error=n)}var bo=class extends $e{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Vd(e)&&e.add(this)):this.destination=EO}static create(e,t,r){return new Bs(e,t,r)}next(e){this.isStopped?Jm(r0(e),this):this._next(e)}error(e){this.isStopped?Jm(n0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Jm(t0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},vO=Function.prototype.bind;function Zm(n,e){return vO.call(n,e)}var Xm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ud(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ud(r)}else Ud(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ud(t)}}},Bs=class extends bo{constructor(e,t,r){super();let i;if(ae(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Bn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Zm(e.next,o),error:e.error&&Zm(e.error,o),complete:e.complete&&Zm(e.complete,o)}):i=e}this.destination=new Xm(i)}};function Ud(n){Bn.useDeprecatedSynchronousErrorHandling?i0(n):jd(n)}function _O(n){throw n}function Jm(n,e){let{onStoppedNotification:t}=Bn;t&&js.setTimeout(()=>t(n,e))}var EO={closed:!0,next:Xc,error:_O,complete:Xc};var Hs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function fn(n){return n}function ey(...n){return ty(n)}function ty(n){return n.length===0?fn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var de=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=wO(t)?t:new Bs(t,r,i);return Us(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=o0(r),new r((i,o)=>{let s=new Bs({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Hs](){return this}pipe(...t){return ty(t)(this)}toPromise(t){return t=o0(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function o0(n){var e;return(e=n??Bn.Promise)!==null&&e!==void 0?e:Promise}function IO(n){return n&&ae(n.next)&&ae(n.error)&&ae(n.complete)}function wO(n){return n&&n instanceof bo||IO(n)&&Vd(n)}function ny(n){return ae(n?.lift)}function _e(n){return e=>{if(ny(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function me(n,e,t,r,i){return new ry(n,e,t,r,i)}var ry=class extends bo{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function $s(){return _e((n,e)=>{let t=null;n._refCount++;let r=me(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var qs=class extends de{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ny(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $e;let t=this.getSubject();e.add(this.source.subscribe(me(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$e.EMPTY)}return e}refCount(){return $s()(this)}};var s0=Vs(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ye=(()=>{class n extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Bd(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new s0}next(t){Us(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Us(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Us(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Qm:(this.currentObservers=null,o.push(t),new $e(()=>{this.currentObservers=null,wo(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new de;return t.source=this,t}}return n.create=(e,t)=>new Bd(e,t),n})(),Bd=class extends Ye{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Qm}};var Rt=class extends Ye{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var iy={now(){return(iy.delegate||Date).now()},delegate:void 0};var Hd=class extends $e{constructor(e,t){super()}schedule(e,t=0){return this}};var eu={setInterval(n,e,...t){let{delegate:r}=eu;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=eu;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var zs=class extends Hd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return eu.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&eu.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,wo(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Gs=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Gs.now=iy.now;var Ws=class extends Gs{constructor(e,t=Gs.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var tu=new Ws(zs);var $d=class extends zs{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var qd=class extends Ws{};var oy=new qd($d);var tn=new de(n=>n.complete());function a0(n){return n&&ae(n.schedule)}function c0(n){return n[n.length-1]}function zd(n){return ae(c0(n))?n.pop():void 0}function Ai(n){return a0(c0(n))?n.pop():void 0}function Gd(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function l0(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function u0(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function To(n){return this instanceof To?(this.v=n,this):new To(n)}function d0(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(I){return Promise.resolve(I).then(y,p)}}function a(y,I){r[y]&&(i[y]=function(A){return new Promise(function(N,k){o.push([y,A,N,k])>1||u(y,A)})},I&&(i[y]=I(i[y])))}function u(y,I){try{l(r[y](I))}catch(A){g(o[0][3],A)}}function l(y){y.value instanceof To?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,I){y(I),o.shift(),o.length&&u(o[0][0],o[0][1])}}function h0(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof u0=="function"?u0(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Wd=n=>n&&typeof n.length=="number"&&typeof n!="function";function Kd(n){return ae(n?.then)}function Qd(n){return ae(n[Hs])}function Yd(n){return Symbol.asyncIterator&&ae(n?.[Symbol.asyncIterator])}function Zd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function DO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Jd=DO();function Xd(n){return ae(n?.[Jd])}function eh(n){return d0(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield To(t.read());if(i)return yield To(void 0);yield yield To(r)}}finally{t.releaseLock()}})}function th(n){return ae(n?.getReader)}function it(n){if(n instanceof de)return n;if(n!=null){if(Qd(n))return bO(n);if(Wd(n))return TO(n);if(Kd(n))return CO(n);if(Yd(n))return f0(n);if(Xd(n))return SO(n);if(th(n))return AO(n)}throw Zd(n)}function bO(n){return new de(e=>{let t=n[Hs]();if(ae(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function TO(n){return new de(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function CO(n){return new de(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,jd)})}function SO(n){return new de(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function f0(n){return new de(e=>{RO(n,e).catch(t=>e.error(t))})}function AO(n){return f0(eh(n))}function RO(n,e){var t,r,i,o;return l0(this,void 0,void 0,function*(){try{for(t=h0(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function nn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ri(n,e=0){return _e((t,r)=>{t.subscribe(me(r,i=>nn(r,n,()=>r.next(i),e),()=>nn(r,n,()=>r.complete(),e),i=>nn(r,n,()=>r.error(i),e)))})}function Ni(n,e=0){return _e((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function p0(n,e){return it(n).pipe(Ni(e),Ri(e))}function g0(n,e){return it(n).pipe(Ni(e),Ri(e))}function m0(n,e){return new de(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function y0(n,e){return new de(t=>{let r;return nn(t,e,()=>{r=n[Jd](),nn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ae(r?.return)&&r.return()})}function nh(n,e){if(!n)throw new Error("Iterable cannot be null");return new de(t=>{nn(t,e,()=>{let r=n[Symbol.asyncIterator]();nn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function v0(n,e){return nh(eh(n),e)}function _0(n,e){if(n!=null){if(Qd(n))return p0(n,e);if(Wd(n))return m0(n,e);if(Kd(n))return g0(n,e);if(Yd(n))return nh(n,e);if(Xd(n))return y0(n,e);if(th(n))return v0(n,e)}throw Zd(n)}function Fe(n,e){return e?_0(n,e):it(n)}function W(...n){let e=Ai(n);return Fe(n,e)}function Ks(n,e){let t=ae(n)?n:()=>n,r=i=>i.error(t());return new de(e?i=>e.schedule(r,0,i):r)}function sy(n){return!!n&&(n instanceof de||ae(n.lift)&&ae(n.subscribe))}var $r=Vs(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function fe(n,e){return _e((t,r)=>{let i=0;t.subscribe(me(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:NO}=Array;function MO(n,e){return NO(e)?n(...e):n(e)}function rh(n){return fe(e=>MO(n,e))}var{isArray:PO}=Array,{getPrototypeOf:xO,prototype:kO,keys:OO}=Object;function ih(n){if(n.length===1){let e=n[0];if(PO(e))return{args:e,keys:null};if(FO(e)){let t=OO(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function FO(n){return n&&typeof n=="object"&&xO(n)===kO}function oh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function sh(...n){let e=Ai(n),t=zd(n),{args:r,keys:i}=ih(n);if(r.length===0)return Fe([],e);let o=new de(LO(r,e,i?s=>oh(i,s):fn));return t?o.pipe(rh(t)):o}function LO(n,e,t=fn){return r=>{E0(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)E0(e,()=>{let l=Fe(n[u],e),h=!1;l.subscribe(me(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function E0(n,e,t){n?nn(t,n,e):e()}function I0(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=A=>l<r?I(A):u.push(A),I=A=>{o&&e.next(A),l++;let N=!1;it(t(A,h++)).subscribe(me(e,k=>{i?.(k),o?y(k):e.next(k)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let k=u.shift();s?nn(e,s,()=>I(k)):I(k)}g()}catch(k){e.error(k)}}))};return n.subscribe(me(e,y,()=>{p=!0,g()})),()=>{a?.()}}function ot(n,e,t=1/0){return ae(e)?ot((r,i)=>fe((o,s)=>e(r,o,i,s))(it(n(r,i))),t):(typeof e=="number"&&(t=e),_e((r,i)=>I0(r,i,n,t)))}function Qs(n=1/0){return ot(fn,n)}function w0(){return Qs(1)}function Ys(...n){return w0()(Fe(n,Ai(n)))}function nu(n){return new de(e=>{it(n()).subscribe(e)})}function ay(...n){let e=zd(n),{args:t,keys:r}=ih(n),i=new de(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;it(t[h]).subscribe(me(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?oh(r,a):a),o.complete())}))}});return e?i.pipe(rh(e)):i}function rn(n,e){return _e((t,r)=>{let i=0;t.subscribe(me(r,o=>n.call(e,o,i++)&&r.next(o)))})}function qr(n){return _e((e,t)=>{let r=null,i=!1,o;r=e.subscribe(me(t,void 0,void 0,s=>{o=it(n(s,qr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function D0(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(me(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Co(n,e){return ae(e)?ot(n,e,1):ot(n,1)}function cy(n,e=tu){return _e((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function u(){let l=s+n,h=e.now();if(h<l){i=this.schedule(void 0,l-h),r.add(i);return}a()}t.subscribe(me(r,l=>{o=l,s=e.now(),i||(i=e.schedule(u,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function Mi(n){return _e((e,t)=>{let r=!1;e.subscribe(me(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Cn(n){return n<=0?()=>tn:_e((e,t)=>{let r=0;e.subscribe(me(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ah(n=VO){return _e((e,t)=>{let r=!1;e.subscribe(me(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function VO(){return new $r}function ru(n){return _e((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function zr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?rn((i,o)=>n(i,o,r)):fn,Cn(1),t?Mi(e):ah(()=>new $r))}function Zs(n){return n<=0?()=>tn:_e((e,t)=>{let r=[];e.subscribe(me(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function uy(n,e){let t=arguments.length>=2;return r=>r.pipe(n?rn((i,o)=>n(i,o,r)):fn,Zs(1),t?Mi(e):ah(()=>new $r))}function ly(n,e){return _e(D0(n,e,arguments.length>=2,!0))}function dy(...n){let e=Ai(n);return _e((t,r)=>{(e?Ys(n,t,e):Ys(n,t)).subscribe(r)})}function $t(n,e){return _e((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(me(r,u=>{i?.unsubscribe();let l=0,h=o++;it(n(u,h)).subscribe(i=me(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ch(n){return _e((e,t)=>{it(n).subscribe(me(t,()=>t.complete(),Xc)),!t.closed&&e.subscribe(t)})}function Ze(n,e,t){let r=ae(n)||e||t?{next:n,error:e,complete:t}:n;return r?_e((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(me(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):fn}function b0(n){let e=J(null);try{return n()}finally{J(e)}}var fh="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",j=class extends Error{code;constructor(e,t){super(Mo(e,t)),this.code=e}};function jO(n){return`NG0${Math.abs(n)}`}function Mo(n,e){return`${jO(n)}${e?": "+e:""}`}var uu=globalThis;function Se(n){for(let e in n)if(n[e]===Se)return e;throw Error("")}function S0(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Wr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Wr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function ph(n,e){return n?e?`${n} ${e}`:n:e||""}var UO=Se({__forward_ref__:Se});function An(n){return n.__forward_ref__=An,n.toString=function(){return Wr(this())},n}function gt(n){return Dy(n)?n():n}function Dy(n){return typeof n=="function"&&n.hasOwnProperty(UO)&&n.__forward_ref__===An}function A0(n,e){n==null&&by(e,n,null,"!=")}function by(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function F(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function lr(n){return{providers:n.providers||[],imports:n.imports||[]}}function lu(n){return BO(n,gh)}function Ty(n){return lu(n)!==null}function BO(n,e){return n.hasOwnProperty(e)&&n[e]||null}function HO(n){let e=n?.[gh]??null;return e||null}function fy(n){return n&&n.hasOwnProperty(lh)?n[lh]:null}var gh=Se({\u0275prov:Se}),lh=Se({\u0275inj:Se}),U=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=F({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Cy(n){return n&&!!n.\u0275providers}var Sy=Se({\u0275cmp:Se}),Ay=Se({\u0275dir:Se}),Ry=Se({\u0275pipe:Se}),Ny=Se({\u0275mod:Se}),su=Se({\u0275fac:Se}),Po=Se({__NG_ELEMENT_ID__:Se}),T0=Se({__NG_ENV_ID__:Se});function xo(n){return typeof n=="string"?n:n==null?"":String(n)}function dh(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():xo(n)}var My=Se({ngErrorCode:Se}),R0=Se({ngErrorMessage:Se}),ou=Se({ngTokenPath:Se});function Py(n,e){return N0("",-200,e)}function mh(n,e){throw new j(-201,!1)}function $O(n,e){n[ou]??=[];let t=n[ou],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(A0(e.provide,"Token with multi: true should have a provide property"),r=dh(e.provide)):r=dh(e),t[0]!==r&&n[ou].unshift(r)}function qO(n,e){let t=n[ou],r=n[My],i=n[R0]||n.message;return n.message=GO(i,r,t,e),n}function N0(n,e,t){let r=new j(e,n);return r[My]=e,r[R0]=n,t&&(r[ou]=t),r}function zO(n){return n[My]}function GO(n,e,t=[],r=null){let i="";t&&t.length>1&&(i=` Path: ${t.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return Mo(e,`${n}${o}${i}`)}var py;function M0(){return py}function qt(n){let e=py;return py=n,e}function xy(n,e,t){let r=lu(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;mh(n,"Injector")}var WO={},So=WO,gy="__NG_DI_FLAG__",my=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Ao(t)||0;try{return this.injector.get(e,r&8?null:So,r)}catch(i){if(xs(i))return i;throw i}}};function KO(n,e=0){let t=bd();if(t===void 0)throw new j(-203,!1);if(t===null)return xy(n,void 0,e);{let r=QO(e),i=t.retrieve(n,r);if(xs(i)){if(r.optional)return null;throw i}return i}}function K(n,e=0){return(M0()||KO)(gt(n),e)}function S(n,e){return K(n,Ao(e))}function Ao(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function QO(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function yy(n){let e=[];for(let t=0;t<n.length;t++){let r=gt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=YO(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(K(i,o))}else e.push(K(r))}return e}function ky(n,e){return n[gy]=e,n.prototype[gy]=e,n}function YO(n){return n[gy]}function Pi(n,e){let t=n.hasOwnProperty(su);return t?n[su]:null}function P0(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function x0(n){return n.flat(Number.POSITIVE_INFINITY)}function yh(n,e){n.forEach(t=>Array.isArray(t)?yh(t,e):e(t))}function Oy(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function du(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function k0(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function O0(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function vh(n,e,t){let r=Xs(n,e);return r>=0?n[r|1]=t:(r=~r,O0(n,r,e,t)),r}function _h(n,e){let t=Xs(n,e);if(t>=0)return n[t|1]}function Xs(n,e){return ZO(n,e,1)}function ZO(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Hn={},zt=[],Kr=new U(""),Fy=new U("",-1),Ly=new U(""),au=class{get(e,t=So){if(t===So){let i=N0("",-201);throw i.name="\u0275NotFound",i}return t}};function Vy(n){return n[Ny]||null}function Qr(n){return n[Sy]||null}function hu(n){return n[Ay]||null}function jy(n){return n[Ry]||null}function gn(n){return{\u0275providers:n}}function F0(n){return gn([{provide:Kr,multi:!0,useValue:n}])}function L0(...n){return{\u0275providers:Eh(!0,n),\u0275fromNgModule:!0}}function Eh(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return yh(e,s=>{let a=s;hh(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&V0(i,o),t}function V0(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Uy(i,o=>{e(o,r)})}}function hh(n,e,t,r){if(n=gt(n),!n)return!1;let i=null,o=fy(n),s=!o&&Qr(n);if(!o&&!s){let u=n.ngModule;if(o=fy(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)hh(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{yh(o.imports,h=>{hh(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&V0(l,e)}if(!a){let l=Pi(i)||(()=>new i);e({provide:i,useFactory:l,deps:zt},i),e({provide:Ly,useValue:i,multi:!0},i),e({provide:Kr,useValue:()=>K(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;Uy(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Uy(n,e){for(let t of n)Cy(t)&&(t=t.\u0275providers),Array.isArray(t)?Uy(t,e):e(t)}var JO=Se({provide:String,useValue:Se});function j0(n){return n!==null&&typeof n=="object"&&JO in n}function XO(n){return!!(n&&n.useExisting)}function eF(n){return!!(n&&n.useFactory)}function Ro(n){return typeof n=="function"}function U0(n){return!!n.useClass}var fu=new U(""),uh={},C0={},hy;function pu(){return hy===void 0&&(hy=new au),hy}var Je=class{},No=class extends Je{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,_y(e,s=>this.processProvider(s)),this.records.set(Fy,Js(void 0,this)),i.has("environment")&&this.records.set(Je,Js(void 0,this));let o=this.records.get(fu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Ly,zt,{self:!0}))}retrieve(e,t){let r=Ao(t)||0;try{return this.get(e,So,r)}catch(i){if(xs(i))return i;throw i}}destroy(){iu(this),this._destroyed=!0;let e=J(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),J(e)}}onDestroy(e){return iu(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){iu(this);let t=ur(this),r=qt(void 0),i;try{return e()}finally{ur(t),qt(r)}}get(e,t=So,r){if(iu(this),e.hasOwnProperty(T0))return e[T0](this);let i=Ao(r),o,s=ur(this),a=qt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=oF(e)&&lu(e);h&&this.injectableDefInScope(h)?l=Js(vy(e),uh):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?pu():this.parent;return t=i&8&&t===So?null:t,u.get(e,t)}catch(u){let l=zO(u);throw l===-200||l===-201?new j(l,null):u}finally{qt(a),ur(s)}}resolveInjectorInitializers(){let e=J(null),t=ur(this),r=qt(void 0),i;try{let o=this.get(Kr,zt,{self:!0});for(let s of o)s()}finally{ur(t),qt(r),J(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Wr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=gt(e);let t=Ro(e)?e:gt(e&&e.provide),r=nF(e);if(!Ro(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Js(void 0,uh,!0),i.factory=()=>yy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=J(null);try{if(t.value===C0)throw Py(Wr(e));return t.value===uh&&(t.value=C0,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&iF(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{J(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=gt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function vy(n){let e=lu(n),t=e!==null?e.factory:Pi(n);if(t!==null)return t;if(n instanceof U)throw new j(204,!1);if(n instanceof Function)return tF(n);throw new j(204,!1)}function tF(n){if(n.length>0)throw new j(204,!1);let t=HO(n);return t!==null?()=>t.factory(n):()=>new n}function nF(n){if(j0(n))return Js(void 0,n.useValue);{let e=By(n);return Js(e,uh)}}function By(n,e,t){let r;if(Ro(n)){let i=gt(n);return Pi(i)||vy(i)}else if(j0(n))r=()=>gt(n.useValue);else if(eF(n))r=()=>n.useFactory(...yy(n.deps||[]));else if(XO(n))r=(i,o)=>K(gt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=gt(n&&(n.useClass||n.provide));if(rF(n))r=()=>new i(...yy(n.deps));else return Pi(i)||vy(i)}return r}function iu(n){if(n.destroyed)throw new j(205,!1)}function Js(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function rF(n){return!!n.deps}function iF(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function oF(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function _y(n,e){for(let t of n)Array.isArray(t)?_y(t,e):t&&Cy(t)?_y(t.\u0275providers,e):e(t)}function mt(n,e){let t;n instanceof No?(iu(n),t=n):t=new my(n);let r,i=ur(t),o=qt(void 0);try{return e()}finally{ur(i),qt(o)}}function B0(){return M0()!==void 0||bd()!=null}var $n=0,B=1,ne=2,st=3,Rn=4,Gt=5,ko=6,ea=7,Xe=8,mn=9,dr=10,Le=11,ta=12,Hy=13,Oo=14,Wt=15,ki=16,Fo=17,hr=18,gu=19,$y=20,Gr=21,Ih=22,Yr=23,yn=24,Lo=25,xe=26,H0=1,Oi=6,Fi=7,mu=8,Vo=9,yt=10;function fr(n){return Array.isArray(n)&&typeof n[H0]=="object"}function qn(n){return Array.isArray(n)&&n[H0]===!0}function qy(n){return(n.flags&4)!==0}function Li(n){return n.componentOffset>-1}function yu(n){return(n.flags&1)===1}function zn(n){return!!n.template}function na(n){return(n[ne]&512)!==0}function pr(n){return(n[ne]&256)===256}var $0="svg",q0="math";function Nn(n){for(;Array.isArray(n);)n=n[$n];return n}function wh(n,e){return Nn(e[n])}function Gn(n,e){return Nn(e[n.index])}function jo(n,e){return n.data[e]}function zy(n,e){return n[e]}function Gy(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Mn(n,e){let t=e[n];return fr(t)?t:t[$n]}function z0(n){return(n[ne]&4)===4}function Dh(n){return(n[ne]&128)===128}function G0(n){return qn(n[st])}function vn(n,e){return e==null?null:n[e]}function Wy(n){n[Fo]=0}function Ky(n){n[ne]&1024||(n[ne]|=1024,Dh(n)&&Vi(n))}function Qy(n,e){for(;n>0;)e=e[Oo],n--;return e}function vu(n){return!!(n[ne]&9216||n[yn]?.dirty)}function bh(n){n[dr].changeDetectionScheduler?.notify(8),n[ne]&64&&(n[ne]|=1024),vu(n)&&Vi(n)}function Vi(n){n[dr].changeDetectionScheduler?.notify(0);let e=xi(n);for(;e!==null&&!(e[ne]&8192||(e[ne]|=8192,!Dh(e)));)e=xi(e)}function _u(n,e){if(pr(n))throw new j(911,!1);n[Gr]===null&&(n[Gr]=[]),n[Gr].push(e)}function Th(n,e){if(n[Gr]===null)return;let t=n[Gr].indexOf(e);t!==-1&&n[Gr].splice(t,1)}function xi(n){let e=n[st];return qn(e)?e[st]:e}function Yy(n){return n[ea]??=[]}function Zy(n){return n.cleanup??=[]}function W0(n,e,t,r){let i=Yy(e);i.push(t),n.firstCreatePass&&Zy(n).push(r,i.length-1)}var pe={lFrame:oC(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Eu=function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n}(Eu||{}),sF=0,Ey=!1;function K0(){return pe.lFrame.elementDepthCount}function Q0(){pe.lFrame.elementDepthCount++}function Jy(){pe.lFrame.elementDepthCount--}function Xy(){return pe.bindingsEnabled}function ev(){return pe.skipHydrationRootTNode!==null}function tv(n){return pe.skipHydrationRootTNode===n}function nv(){pe.skipHydrationRootTNode=null}function X(){return pe.lFrame.lView}function Be(){return pe.lFrame.tView}function et(n){return pe.lFrame.contextLView=n,n[Xe]}function tt(n){return pe.lFrame.contextLView=null,n}function vt(){let n=rv();for(;n!==null&&n.type===64;)n=n.parent;return n}function rv(){return pe.lFrame.currentTNode}function Y0(){let n=pe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ra(n,e){let t=pe.lFrame;t.currentTNode=n,t.isParent=e}function iv(){return pe.lFrame.isParent}function ov(){pe.lFrame.isParent=!1}function Z0(){return pe.lFrame.contextLView}function sv(n){by("Must never be called in production mode"),sF=n}function av(){return Ey}function ia(n){let e=Ey;return Ey=n,e}function Iu(){let n=pe.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function J0(){return pe.lFrame.bindingIndex}function X0(n){return pe.lFrame.bindingIndex=n}function oa(){return pe.lFrame.bindingIndex++}function Ch(n){let e=pe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function eC(){return pe.lFrame.inI18n}function tC(n,e){let t=pe.lFrame;t.bindingIndex=t.bindingRootIndex=n,Sh(e)}function nC(){return pe.lFrame.currentDirectiveIndex}function Sh(n){pe.lFrame.currentDirectiveIndex=n}function rC(n){let e=pe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function cv(){return pe.lFrame.currentQueryIndex}function Ah(n){pe.lFrame.currentQueryIndex=n}function aF(n){let e=n[B];return e.type===2?e.declTNode:e.type===1?n[Gt]:null}function uv(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=aF(o),i===null||(o=o[Oo],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=pe.lFrame=iC();return r.currentTNode=e,r.lView=n,!0}function Rh(n){let e=iC(),t=n[B];pe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function iC(){let n=pe.lFrame,e=n===null?null:n.child;return e===null?oC(n):e}function oC(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function sC(){let n=pe.lFrame;return pe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var lv=sC;function Nh(){let n=sC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function aC(n){return(pe.lFrame.contextLView=Qy(n,pe.lFrame.contextLView))[Xe]}function gr(){return pe.lFrame.selectedIndex}function ji(n){pe.lFrame.selectedIndex=n}function dv(){let n=pe.lFrame;return jo(n.tView,n.selectedIndex)}function cC(){return pe.lFrame.currentNamespace}var uC=!0;function Mh(){return uC}function Ph(n){uC=n}function Iy(n,e=null,t=null,r){let i=hv(n,e,t,r);return i.resolveInjectorInitializers(),i}function hv(n,e=null,t=null,r,i=new Set){let o=[t||zt,L0(n)];return r=r||(typeof n=="object"?void 0:Wr(n)),new No(o,e||pu(),r||null,i)}var Ue=class n{static THROW_IF_NOT_FOUND=So;static NULL=new au;static create(e,t){if(Array.isArray(e))return Iy({name:""},t,e,"");{let r=e.name??"";return Iy({name:r},e.parent,e.providers,r)}}static \u0275prov=F({token:n,providedIn:"any",factory:()=>K(Fy)});static __NG_ELEMENT_ID__=-1},Et=new U(""),Nt=(()=>{class n{static __NG_ELEMENT_ID__=cF;static __NG_ENV_ID__=t=>t}return n})(),cu=class extends Nt{_lView;constructor(e){super(),this._lView=e}get destroyed(){return pr(this._lView)}onDestroy(e){let t=this._lView;return _u(t,e),()=>Th(t,e)}};function cF(){return new cu(X())}var pn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Ot=new U("",{providedIn:"root",factory:()=>{let n=S(Je),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(pn),e.handleError(t))}}}),lC={provide:Kr,useValue:()=>void S(pn),multi:!0},uF=new U("",{providedIn:"root",factory:()=>{let n=S(Et).defaultView;if(!n)return;let e=S(Ot),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),S(Nt).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function lF(){return gn([F0(()=>void S(uF))])}function Me(n,e){let[t,r,i]=Wm(n,e?.equal),o=t,s=o[Ht];return o.set=r,o.update=i,o.asReadonly=fv.bind(o),o}function fv(){let n=this[Ht];if(n.readonlyFn===void 0){let e=()=>this();e[Ht]=n,n.readonlyFn=e}return n.readonlyFn}var Sn=class{},wu=new U("",{providedIn:"root",factory:()=>!1});var pv=new U(""),xh=new U("");var sa=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=dF}return n})();function dF(){return new sa(X(),vt())}var mr=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Rt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new de(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=F({token:n,providedIn:"root",factory:()=>new n})}return n})(),Ui=(()=>{class n{internalPendingTasks=S(mr);scheduler=S(Sn);errorHandler=S(Ot);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=F({token:n,providedIn:"root",factory:()=>new n})}return n})();function Uo(...n){}var Du=(()=>{class n{static \u0275prov=F({token:n,providedIn:"root",factory:()=>new wy})}return n})(),wy=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function ma(n){return{toString:n}.toString()}var kh="__parameters__";function EF(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function WC(n,e,t){return ma(()=>{let r=EF(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(kh)?u[kh]:Object.defineProperty(u,kh,{value:[]})[kh];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var sn=ky(WC("Optional"),8);var KC=ky(WC("SkipSelf"),4);function IF(n){return typeof n=="function"}var $h=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function QC(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Pn=(()=>{let n=()=>YC;return n.ngInherit=!0,n})();function YC(n){return n.type.prototype.ngOnChanges&&(n.setInput=DF),wF}function wF(){let n=JC(this),e=n?.current;if(e){let t=n.previous;if(t===Hn)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function DF(n,e,t,r,i){let o=this.declaredInputs[r],s=JC(n)||bF(n,{previous:Hn,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new $h(l&&l.currentValue,t,u===Hn),QC(n,e,i,t)}var ZC="__ngSimpleChanges__";function JC(n){return n[ZC]||null}function bF(n,e){return n[ZC]=e}var dC=[];var be=function(n,e=null,t){for(let r=0;r<dC.length;r++){let i=dC[r];i(n,e,t)}};function TF(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=YC(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function XC(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Lh(n,e,t){eS(n,e,3,t)}function Vh(n,e,t,r){(n[ne]&3)===t&&eS(n,e,t,r)}function gv(n,e){let t=n[ne];(t&3)===e&&(t&=16383,t+=1,n[ne]=t)}function eS(n,e,t,r){let i=r!==void 0?n[Fo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Fo]+=65536),(a<o||o==-1)&&(CF(n,t,e,u),n[Fo]=(n[Fo]&4294901760)+u+2),u++}function hC(n,e){be(4,n,e);let t=J(null);try{e.call(n)}finally{J(t),be(5,n,e)}}function CF(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ne]>>14<n[Fo]>>16&&(n[ne]&3)===e&&(n[ne]+=16384,hC(a,o)):hC(a,o)}var la=-1,Ho=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function SF(n){return(n.flags&8)!==0}function AF(n){return(n.flags&16)!==0}function RF(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];NF(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function tS(n){return n===3||n===4||n===6}function NF(n){return n.charCodeAt(0)===64}function ha(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?fC(n,t,i,null,e[++r]):fC(n,t,i,null,null))}}return n}function fC(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function nS(n){return n!==la}function qh(n){return n&32767}function MF(n){return n>>16}function zh(n,e){let t=MF(n),r=e;for(;t>0;)r=r[Oo],t--;return r}var Av=!0;function Gh(n){let e=Av;return Av=n,e}var PF=256,rS=PF-1,iS=5,xF=0,yr={};function kF(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Po)&&(r=t[Po]),r==null&&(r=t[Po]=xF++);let i=r&rS,o=1<<i;e.data[n+(i>>iS)]|=o}function Wh(n,e){let t=oS(n,e);if(t!==-1)return t;let r=e[B];r.firstCreatePass&&(n.injectorIndex=e.length,mv(r.data,n),mv(e,null),mv(r.blueprint,null));let i=o_(n,e),o=n.injectorIndex;if(nS(i)){let s=qh(i),a=zh(i,e),u=a[B].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function mv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function oS(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function o_(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=lS(i),r===null)return la;if(t++,i=i[Oo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return la}function Rv(n,e,t){kF(n,e,t)}function OF(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(tS(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function sS(n,e,t){if(t&8||n!==void 0)return n;mh(e,"NodeInjector")}function aS(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[mn],o=qt(void 0);try{return i?i.get(e,r,t&8):xy(e,r,t&8)}finally{qt(o)}}return sS(r,e,t)}function cS(n,e,t,r=0,i){if(n!==null){if(e[ne]&2048&&!(r&2)){let s=jF(n,e,t,r,yr);if(s!==yr)return s}let o=uS(n,e,t,r,yr);if(o!==yr)return o}return aS(e,t,r,i)}function uS(n,e,t,r,i){let o=LF(t);if(typeof o=="function"){if(!uv(e,n,r))return r&1?sS(i,t,r):aS(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))mh(t);else return s}finally{lv()}}else if(typeof o=="number"){let s=null,a=oS(n,e),u=la,l=r&1?e[Wt][Gt]:null;for((a===-1||r&4)&&(u=a===-1?o_(n,e):e[a+8],u===la||!gC(r,!1)?a=-1:(s=e[B],a=qh(u),e=zh(u,e)));a!==-1;){let h=e[B];if(pC(o,a,h.data)){let p=FF(a,e,t,s,r,l);if(p!==yr)return p}u=e[a+8],u!==la&&gC(r,e[B].data[a+8]===l)&&pC(o,a,e)?(s=h,a=qh(u),e=zh(u,e)):a=-1}}return i}function FF(n,e,t,r,i,o){let s=e[B],a=s.data[n+8],u=r==null?Li(a)&&Av:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=jh(a,s,t,u,l);return h!==null?Cu(e,s,h,a,i):yr}function jh(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let I=s[y];if(y<u&&t===I||y>=u&&I.type===t)return y}if(i){let y=s[u];if(y&&zn(y)&&y.type===t)return u}return null}function Cu(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Ho){let a=o;if(a.resolving){let y=dh(s[t]);throw Py(y)}let u=Gh(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],h,p=a.injectImpl?qt(a.injectImpl):null,g=uv(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&TF(t,s[t],e)}finally{p!==null&&qt(p),Gh(u),a.resolving=!1,lv()}}return o}function LF(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Po)?n[Po]:void 0;return typeof e=="number"?e>=0?e&rS:VF:e}function pC(n,e,t){let r=1<<n;return!!(t[e+(n>>iS)]&r)}function gC(n,e){return!(n&2)&&!(n&1&&e)}var Bo=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return cS(this._tNode,this._lView,e,Ao(r),t)}};function VF(){return new Bo(vt(),X())}function Jr(n){return ma(()=>{let e=n.prototype.constructor,t=e[su]||Nv(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[su]||Nv(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Nv(n){return Dy(n)?()=>{let e=Nv(gt(n));return e&&e()}:Pi(n)}function jF(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ne]&2048&&!na(s);){let a=uS(o,s,t,r|2,yr);if(a!==yr)return a;let u=o.parent;if(!u){let l=s[$y];if(l){let h=l.get(t,yr,r);if(h!==yr)return h}u=lS(s),s=s[Oo]}o=u}return i}function lS(n){let e=n[B],t=e.type;return t===2?e.declTNode:t===1?n[Gt]:null}function Pu(n){return OF(vt(),n)}function UF(){return ya(vt(),X())}function ya(n,e){return new Ft(Gn(n,e))}var Ft=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=UF}return n})();function BF(n){return n instanceof Ft?n.nativeElement:n}function HF(){return this._results[Symbol.iterator]()}var Kh=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ye}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=x0(e);(this._changesDetected=!P0(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=HF};function dS(n){return(n.flags&128)===128}var s_=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(s_||{}),hS=new Map,$F=0;function qF(){return $F++}function zF(n){hS.set(n[gu],n)}function Mv(n){hS.delete(n[gu])}var mC="__ngContext__";function fa(n,e){fr(e)?(n[mC]=e[gu],zF(e)):n[mC]=e}function fS(n){return gS(n[ta])}function pS(n){return gS(n[Rn])}function gS(n){for(;n!==null&&!qn(n);)n=n[Rn];return n}var Pv;function a_(n){Pv=n}function mS(){if(Pv!==void 0)return Pv;if(typeof document<"u")return document;throw new j(210,!1)}var df=new U("",{providedIn:"root",factory:()=>GF}),GF="ng",hf=new U(""),$i=new U("",{providedIn:"platform",factory:()=>"unknown"});var ff=new U("",{providedIn:"root",factory:()=>mS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var WF="h",KF="b";var yS="r";var c_="di",u_="s";var vS=!1,_S=new U("",{providedIn:"root",factory:()=>vS});var ES=new U("");var ca=new WeakMap;var aa=null,yv=0,xv=class{callbacks=new Set;listener=()=>{for(let e of this.callbacks)e()}};function QF(){return new IntersectionObserver(n=>{for(let e of n)e.isIntersecting&&ca.has(e.target)&&ca.get(e.target).listener()})}function YF(n,e,t){let r=ca.get(n);return aa=aa||t(),r||(r=new xv,aa.observe(n),ca.set(n,r),yv++),r.callbacks.add(e),()=>{ca.has(n)&&(r.callbacks.delete(e),r.callbacks.size===0&&(aa?.unobserve(n),ca.delete(n),yv--),yv===0&&(aa?.disconnect(),aa=null))}}var ZF=(n,e,t,r)=>{};function JF(n,e,t,r){ZF(n,e,t,r)}var IS=new U("");function pf(n){return(n.flags&32)===32}var XF=()=>null;function wS(n,e,t=!1){return XF(n,e,t)}function DS(n){return n.get(ES,!1,{optional:!0})}function bS(n,e){let t=n.contentQueries;if(t!==null){let r=J(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Ah(o),a.contentQueries(2,e[s],s)}}}finally{J(r)}}}function kv(n,e,t){Ah(0);let r=J(null);try{e(n,t)}finally{J(r)}}function TS(n,e,t){if(qy(e)){let r=J(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{J(r)}}}var Zr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Zr||{});var Oh;function eL(){if(Oh===void 0&&(Oh=null,uu.trustedTypes))try{Oh=uu.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Oh}function yC(n){return eL()?.createScriptURL(n)||n}var Qh=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fh})`}};function xu(n){return n instanceof Qh?n.changingThisBreaksApplicationSecurity:n}function l_(n,e){let t=CS(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${fh})`)}return t===e}function CS(n){return n instanceof Qh&&n.getTypeName()||null}var tL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function SS(n){return n=String(n),n.match(tL)?n:"unsafe:"+n}var gf=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(gf||{});function AS(n){let e=NS();return e?e.sanitize(gf.URL,n)||"":l_(n,"URL")?xu(n):SS(xo(n))}function RS(n){let e=NS();if(e)return yC(e.sanitize(gf.RESOURCE_URL,n)||"");if(l_(n,"ResourceURL"))return yC(xu(n));throw new j(904,!1)}function nL(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?RS:AS}function d_(n,e,t){return nL(e,t)(n)}function NS(){let n=X();return n&&n[dr].sanitizer}function MS(n){return n instanceof Function?n():n}function rL(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var PS="ng-template";function iL(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&rL(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(h_(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function h_(n){return n.type===4&&n.value!==PS}function oL(n,e,t){let r=n.type===4&&!t?PS:n.value;return e===r}function sL(n,e,t){let r=4,i=n.attrs,o=i!==null?uL(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Wn(r)&&!Wn(u))return!1;if(s&&Wn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!oL(n,u,t)||u===""&&e.length===1){if(Wn(r))return!1;s=!0}}else if(r&8){if(i===null||!iL(n,i,u,t)){if(Wn(r))return!1;s=!0}}else{let l=e[++a],h=aL(u,i,h_(n),t);if(h===-1){if(Wn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Wn(r))return!1;s=!0}}}}return Wn(r)||s}function Wn(n){return(n&1)===0}function aL(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return lL(e,n)}function xS(n,e,t=!1){for(let r=0;r<e.length;r++)if(sL(n,e[r],t))return!0;return!1}function cL(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function uL(n){for(let e=0;e<n.length;e++){let t=n[e];if(tS(t))return e}return n.length}function lL(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function dL(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function vC(n,e){return n?":not("+e.trim()+")":e}function hL(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Wn(s)&&(e+=vC(o,i),i=""),r=s,o=o||!Wn(r);t++}return i!==""&&(e+=vC(o,i)),e}function fL(n){return n.map(hL).join(",")}function pL(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Wn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Kt={};function gL(n,e){return n.createText(e)}function mL(n,e,t){n.setValue(e,t)}function kS(n,e,t){return n.createElement(e,t)}function Yh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function OS(n,e,t){n.appendChild(e,t)}function _C(n,e,t,r,i){r!==null?Yh(n,e,t,r,i):OS(n,e,t)}function FS(n,e,t){n.removeChild(null,e,t)}function yL(n,e,t){n.setAttribute(e,"style",t)}function vL(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function LS(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&RF(n,e,r),i!==null&&vL(n,e,i),o!==null&&yL(n,e,o)}function f_(n,e,t,r,i,o,s,a,u,l,h){let p=xe+r,g=p+i,y=_L(p,g),I=typeof l=="function"?l():l;return y[B]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:I,incompleteFirstPass:!1,ssrId:h}}function _L(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Kt);return t}function EL(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=f_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function p_(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[$n]=i,p[ne]=r|4|128|8|64|1024,(l!==null||n&&n[ne]&2048)&&(p[ne]|=2048),Wy(p),p[st]=p[Oo]=n,p[Xe]=t,p[dr]=s||n&&n[dr],p[Le]=a||n&&n[Le],p[mn]=u||n&&n[mn]||null,p[Gt]=o,p[gu]=qF(),p[ko]=h,p[$y]=l,p[Wt]=e.type==2?n[Wt]:p,p}function IL(n,e,t){let r=Gn(e,n),i=EL(t),o=n[dr].rendererFactory,s=g_(n,p_(n,i,null,VS(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function VS(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function jS(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function g_(n,e){return n[ta]?n[Hy][Rn]=e:n[ta]=e,n[Hy]=e,e}function ee(n=1){US(Be(),X(),gr()+n,!1)}function US(n,e,t,r){if(!r)if((e[ne]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Lh(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Vh(e,o,0,t)}ji(t)}var mf=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(mf||{});function Ov(n,e,t,r){let i=J(null);try{let[o,s,a]=n.inputs[t],u=null;(s&mf.SignalBased)!==0&&(u=e[o][Ht]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):QC(e,u,o,r)}finally{J(i)}}var vr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(vr||{}),wL;function m_(n,e){return wL(n,e)}function ua(n,e,t,r,i){if(r!=null){let o,s=!1;qn(r)?o=r:fr(r)&&(s=!0,r=r[$n]);let a=Nn(r);n===0&&t!==null?i==null?OS(e,t,a):Yh(e,t,a,i||null,!0):n===1&&t!==null?Yh(e,t,a,i||null,!0):n===2?FS(e,a,s):n===3&&e.destroyNode(a),o!=null&&PL(e,n,o,t,i)}}function DL(n,e){BS(n,e),e[$n]=null,e[Gt]=null}function bL(n,e,t,r,i,o){r[$n]=i,r[Gt]=e,vf(n,r,t,1,i,o)}function BS(n,e){e[dr].changeDetectionScheduler?.notify(9),vf(n,e,e[Le],2,null,null)}function TL(n){let e=n[ta];if(!e)return vv(n[B],n);for(;e;){let t=null;if(fr(e))t=e[ta];else{let r=e[yt];r&&(t=r)}if(!t){for(;e&&!e[Rn]&&e!==n;)fr(e)&&vv(e[B],e),e=e[st];e===null&&(e=n),fr(e)&&vv(e[B],e),t=e&&e[Rn]}e=t}}function y_(n,e){let t=n[Vo],r=t.indexOf(e);t.splice(r,1)}function yf(n,e){if(pr(e))return;let t=e[Le];t.destroyNode&&vf(n,e,t,3,null,null),TL(e)}function vv(n,e){if(pr(e))return;let t=J(null);try{e[ne]&=-129,e[ne]|=256,e[yn]&&Fs(e[yn]),SL(n,e),CL(n,e),e[B].type===1&&e[Le].destroy();let r=e[ki];if(r!==null&&qn(e[st])){r!==e[st]&&y_(r,e);let i=e[hr];i!==null&&i.detachView(n)}Mv(e)}finally{J(t)}}function CL(n,e){let t=n.cleanup,r=e[ea];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[ea]=null);let i=e[Gr];if(i!==null){e[Gr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Yr];if(o!==null){e[Yr]=null;for(let s of o)s.destroy()}}function SL(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Ho)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];be(4,a,u);try{u.call(a)}finally{be(5,a,u)}}else{be(4,i,o);try{o.call(i)}finally{be(5,i,o)}}}}}function HS(n,e,t){return AL(n,e.parent,t)}function AL(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[$n];if(Li(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Zr.None||i===Zr.Emulated)return null}return Gn(r,t)}function $S(n,e,t){return NL(n,e,t)}function RL(n,e,t){return n.type&40?Gn(n,t):null}var NL=RL,EC;function v_(n,e,t,r){let i=HS(n,r,e),o=e[Le],s=r.parent||e[Gt],a=$S(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)_C(o,i,t[u],a,!1);else _C(o,i,t,a,!1);EC!==void 0&&EC(o,r,e,t,i)}function bu(n,e){if(e!==null){let t=e.type;if(t&3)return Gn(e,n);if(t&4)return Fv(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return bu(n,r);{let i=n[e.index];return qn(i)?Fv(-1,i):Nn(i)}}else{if(t&128)return bu(n,e.next);if(t&32)return m_(e,n)()||Nn(n[e.index]);{let r=qS(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=xi(n[Wt]);return bu(i,r)}else return bu(n,e.next)}}}return null}function qS(n,e){if(e!==null){let r=n[Wt][Gt],i=e.projection;return r.projection[i]}return null}function Fv(n,e){let t=yt+n+1;if(t<e.length){let r=e[t],i=r[B].firstChild;if(i!==null)return bu(r,i)}return e[Fi]}function __(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&fa(Nn(a),r),t.flags|=2),!pf(t))if(u&8)__(n,e,t.child,r,i,o,!1),ua(e,n,i,a,o);else if(u&32){let l=m_(t,r),h;for(;h=l();)ua(e,n,i,h,o);ua(e,n,i,a,o)}else u&16?zS(n,e,r,t,i,o):ua(e,n,i,a,o);t=s?t.projectionNext:t.next}}function vf(n,e,t,r,i,o){__(t,r,n.firstChild,e,i,o,!1)}function ML(n,e,t){let r=e[Le],i=HS(n,t,e),o=t.parent||e[Gt],s=$S(o,t,e);zS(r,0,e,t,i,s)}function zS(n,e,t,r,i,o){let s=t[Wt],u=s[Gt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];ua(e,n,i,h,o)}else{let l=u,h=s[st];dS(r)&&(l.flags|=128),__(n,e,l,h,i,o,!0)}}function PL(n,e,t,r,i){let o=t[Fi],s=Nn(t);o!==s&&ua(e,n,r,o,i);for(let a=yt;a<t.length;a++){let u=t[a];vf(u[B],u,n,e,r,o)}}function xL(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:vr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=vr.Important),n.setStyle(t,r,i,o))}}function GS(n,e,t,r,i){let o=gr(),s=r&2;try{ji(-1),s&&e.length>xe&&US(n,e,xe,!1),be(s?2:0,i,t),t(r,i)}finally{ji(o),be(s?3:1,i,t)}}function E_(n,e,t){BL(n,e,t),(t.flags&64)===64&&HL(n,e,t)}function _f(n,e,t=Gn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function kL(n,e,t,r){let o=r.get(_S,vS)||t===Zr.ShadowDom,s=n.selectRootElement(e,o);return OL(s),s}function OL(n){FL(n)}var FL=()=>null;function LL(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function VL(n,e,t,r,i,o){let s=e[B];if(w_(n,s,e,t,r)){Li(n)&&UL(e,n.index);return}n.type&3&&(t=LL(t)),jL(n,e,t,r,i,o)}function jL(n,e,t,r,i,o){if(n.type&3){let s=Gn(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function UL(n,e){let t=Mn(e,n);t[ne]&16||(t[ne]|=64)}function BL(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Li(t)&&IL(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Wh(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=Cu(e,n,s,t);if(fa(u,e),o!==null&&GL(e,s-r,u,a,t,o),zn(a)){let l=Mn(t.index,e);l[Xe]=Cu(e,n,s,t)}}}function HL(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=nC();try{ji(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Sh(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&$L(u,l)}}finally{ji(-1),Sh(s)}}function $L(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function WS(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];xS(e,o.selectors,!1)&&(r??=[],zn(o)?r.unshift(o):r.push(o))}return r}function qL(n,e,t,r,i,o){let s=Gn(n,e);zL(e[Le],s,o,n.value,t,r,i)}function zL(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?xo(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function GL(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Ov(r,t,u,l)}}function KS(n,e,t,r,i){let o=xe+t,s=e[B],a=i(s,e,n,r,t);e[o]=a,ra(n,!0);let u=n.type===2;return u?(LS(e[Le],a,n),(K0()===0||yu(n))&&fa(a,e),Q0()):fa(a,e),Mh()&&(!u||!pf(n))&&v_(s,e,a,n),n}function QS(n){let e=n;return iv()?ov():(e=e.parent,ra(e,!1)),e}function I_(n,e){let t=n[mn];if(!t)return;t.get(Ot,null)?.(e)}function w_(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Ov(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];Ov(h,l,r,i),a=!0}return a}function WL(n,e){let t=Mn(e,n),r=t[B];KL(r,t);let i=t[$n];i!==null&&t[ko]===null&&(t[ko]=wS(i,t[mn])),be(18),D_(r,t,t[Xe]),be(19,t[Xe])}function KL(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function D_(n,e,t){Rh(e);try{let r=n.viewQuery;r!==null&&kv(1,r,t);let i=n.template;i!==null&&GS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[hr]?.finishViewCreation(n),n.staticContentQueries&&bS(n,e),n.staticViewQueries&&kv(2,n.viewQuery,t);let o=n.components;o!==null&&QL(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ne]&=-5,Nh()}}function QL(n,e){for(let t=0;t<e.length;t++)WL(n,e[t])}function va(n,e,t,r){let i=J(null);try{let o=e.tView,a=n[ne]&4096?4096:16,u=p_(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[ki]=l;let h=n[hr];return h!==null&&(u[hr]=h.createEmbeddedView(o)),D_(o,u,t),u}finally{J(i)}}function $o(n,e){return!e||e.firstChild===null||dS(n)}var IC=!1,YL=new U("");function Su(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Nn(o)),qn(o)&&YS(o,r);let s=t.type;if(s&8)Su(n,e,t.child,r);else if(s&32){let a=m_(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=qS(e,t);if(Array.isArray(a))r.push(...a);else{let u=xi(e[Wt]);Su(u[B],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function YS(n,e){for(let t=yt;t<n.length;t++){let r=n[t],i=r[B].firstChild;i!==null&&Su(r[B],r,i,e)}n[Fi]!==n[$n]&&e.push(n[Fi])}function ZS(n){if(n[Lo]!==null){for(let e of n[Lo])e.impl.addSequence(e);n[Lo].length=0}}var JS=[];function ZL(n){return n[yn]??JL(n)}function JL(n){let e=JS.pop()??Object.create(eV);return e.lView=n,e}function XL(n){n.lView[yn]!==n&&(n.lView=null,JS.push(n))}var eV=Z(x({},Ci),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Vi(n.lView)},consumerOnSignalRead(){this.lView[yn]=this}});function tV(n){let e=n[yn]??Object.create(nV);return e.lView=n,e}var nV=Z(x({},Ci),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=xi(n.lView);for(;e&&!XS(e[B]);)e=xi(e);e&&Ky(e)},consumerOnSignalRead(){this.lView[yn]=this}});function XS(n){return n.type!==2}function eA(n){if(n[Yr]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Yr])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ne]&8192)}}var rV=100;function b_(n,e=0){let r=n[dr].rendererFactory,i=!1;i||r.begin?.();try{iV(n,e)}finally{i||r.end?.()}}function iV(n,e){let t=av();try{ia(!0),Lv(n,e);let r=0;for(;vu(n);){if(r===rV)throw new j(103,!1);r++,Lv(n,1)}}finally{ia(t)}}function tA(n,e){sv(e?Eu.Exhaustive:Eu.OnlyDirtyViews);try{b_(n)}finally{sv(Eu.Off)}}function oV(n,e,t,r){if(pr(e))return;let i=e[ne],o=!1,s=!1;Rh(e);let a=!0,u=null,l=null;o||(XS(n)?(l=ZL(e),u=Si(l)):Nd()===null?(a=!1,l=tV(e),u=Si(l)):e[yn]&&(Fs(e[yn]),e[yn]=null));try{Wy(e),X0(n.bindingStartIndex),t!==null&&GS(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&Lh(e,y,null)}else{let y=n.preOrderHooks;y!==null&&Vh(e,y,0,null),gv(e,0)}if(s||sV(e),eA(e),nA(e,0),n.contentQueries!==null&&bS(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&Lh(e,y)}else{let y=n.contentHooks;y!==null&&Vh(e,y,1),gv(e,1)}cV(n,e);let p=n.components;p!==null&&iA(e,p,0);let g=n.viewQuery;if(g!==null&&kv(2,g,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&Lh(e,y)}else{let y=n.viewHooks;y!==null&&Vh(e,y,2),gv(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Ih]){for(let y of e[Ih])y();e[Ih]=null}o||(ZS(e),e[ne]&=-73)}catch(h){throw o||Vi(e),h}finally{l!==null&&(Io(l,u),a&&XL(l)),Nh()}}function nA(n,e){for(let t=fS(n);t!==null;t=pS(t))for(let r=yt;r<t.length;r++){let i=t[r];rA(i,e)}}function sV(n){for(let e=fS(n);e!==null;e=pS(e)){if(!(e[ne]&2))continue;let t=e[Vo];for(let r=0;r<t.length;r++){let i=t[r];Ky(i)}}}function aV(n,e,t){be(18);let r=Mn(e,n);rA(r,t),be(19,r[Xe])}function rA(n,e){Dh(n)&&Lv(n,e)}function Lv(n,e){let r=n[B],i=n[ne],o=n[yn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Os(o)),s||=!1,o&&(o.dirty=!1),n[ne]&=-9217,s)oV(r,n,r.template,n[Xe]);else if(i&8192){let a=J(null);try{eA(n),nA(n,1);let u=r.components;u!==null&&iA(n,u,1),ZS(n)}finally{J(a)}}}function iA(n,e,t){for(let r=0;r<e.length;r++)aV(n,e[r],t)}function cV(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)ji(~i);else{let o=i,s=t[++r],a=t[++r];tC(s,o);let u=e[o];be(24,u),a(2,u),be(25,u)}}}finally{ji(-1)}}function Ef(n,e){let t=av()?64:1088;for(n[dr].changeDetectionScheduler?.notify(e);n;){n[ne]|=t;let r=xi(n);if(na(n)&&!r)return n;n=r}return null}function oA(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function sA(n,e){let t=yt+e;if(t<n.length)return n[t]}function _a(n,e,t,r=!0){let i=e[B];if(uV(i,e,n,t),r){let s=Fv(t,n),a=e[Le],u=a.parentNode(n[Fi]);u!==null&&bL(i,n[Gt],a,e,u,s)}let o=e[ko];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function T_(n,e){let t=Au(n,e);return t!==void 0&&yf(t[B],t),t}function Au(n,e){if(n.length<=yt)return;let t=yt+e,r=n[t];if(r){let i=r[ki];i!==null&&i!==n&&y_(i,r),e>0&&(n[t-1][Rn]=r[Rn]);let o=du(n,yt+e);DL(r[B],r);let s=o[hr];s!==null&&s.detachView(o[B]),r[st]=null,r[Rn]=null,r[ne]&=-129}return r}function uV(n,e,t,r){let i=yt+r,o=t.length;r>0&&(t[i-1][Rn]=e),r<o-yt?(e[Rn]=t[i],Oy(t,yt+r,e)):(t.push(e),e[Rn]=null),e[st]=t;let s=e[ki];s!==null&&t!==s&&aA(s,e);let a=e[hr];a!==null&&a.insertView(n),bh(e),e[ne]|=128}function aA(n,e){let t=n[Vo],r=e[st];if(fr(r))n[ne]|=2;else{let i=r[st][Wt];e[Wt]!==i&&(n[ne]|=2)}t===null?n[Vo]=[e]:t.push(e)}var Hi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[B];return Su(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Xe]}set context(e){this._lView[Xe]=e}get destroyed(){return pr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[st];if(qn(e)){let t=e[mu],r=t?t.indexOf(this):-1;r>-1&&(Au(e,r),du(t,r))}this._attachedToViewContainer=!1}yf(this._lView[B],this._lView)}onDestroy(e){_u(this._lView,e)}markForCheck(){Ef(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ne]&=-129}reattach(){bh(this._lView),this._lView[ne]|=128}detectChanges(){this._lView[ne]|=1024,b_(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[mn].get(YL,IC)}catch{this.exhaustive=IC}}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=na(this._lView),t=this._lView[ki];t!==null&&!e&&y_(t,this._lView),BS(this._lView[B],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let t=na(this._lView),r=this._lView[ki];r!==null&&!t&&aA(r,this._lView),bh(this._lView)}};var qo=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=lV;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=va(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Hi(o)}}return n})();function lV(){return C_(vt(),X())}function C_(n,e){return n.type&4?new qo(e,n,ya(n,e)):null}function Ea(n,e,t,r,i){let o=n.data[e];if(o===null)o=dV(n,e,t,r,i),eC()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=Y0();o.injectorIndex=s===null?-1:s.injectorIndex}return ra(o,!0),o}function dV(n,e,t,r,i){let o=rv(),s=iv(),a=s?o:o&&o.parent,u=n.data[e]=fV(n,a,t,e,r,i);return hV(n,u,o,s),u}function hV(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function fV(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return ev()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var wZ=new RegExp(`^(\\d+)*(${KF}|${WF})*(.*)`);function pV(n){let e=n[Oi]??[],r=n[st][Le],i=[];for(let o of e)o.data[c_]!==void 0?i.push(o):gV(o,r);n[Oi]=i}function gV(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[yS];for(;t<i;){let o=r.nextSibling;FS(e,r,!1),r=o,t++}}}var mV=()=>null,yV=()=>null;function Zh(n,e){return mV(n,e)}function cA(n,e,t){return yV(n,e,t)}var uA=class{},If=class{},Vv=class{resolveComponentFactory(e){throw new j(917,!1)}},ku=class{static NULL=new Vv},zo=class{},an=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>vV()}return n})();function vV(){let n=X(),e=vt(),t=Mn(e.index,n);return(fr(t)?t:n)[Le]}var lA=(()=>{class n{static \u0275prov=F({token:n,providedIn:"root",factory:()=>null})}return n})();var Uh={},da=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Uh,r);return i!==Uh||t===Uh?i:this.parentInjector.get(e,t,r)}};function Jh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=ph(i,a);else if(o==2){let u=a,l=e[++s];r=ph(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function z(n,e=0){let t=X();if(t===null)return K(n,e);let r=vt();return cS(r,t,gt(n),e)}function dA(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}IV(n,e,t,a,o,u,l)}o!==null&&r!==null&&_V(t,r,o)}function _V(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new j(-301,!1);r.push(e[i],o)}}function EV(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function IV(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let g=0;g<a;g++){let y=r[g];!u&&zn(y)&&(u=!0,EV(n,t,g)),Rv(Wh(t,e),n,y.type)}SV(t,n.data.length,a);for(let g=0;g<a;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=jS(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let y=r[g];if(t.mergedAttrs=ha(t.mergedAttrs,y.hostAttrs),DV(n,t,e,p,y),CV(p,y,i),s!==null&&s.has(y)){let[A,N]=s.get(y);t.directiveToIndex.set(y.type,[p,A+t.directiveStart,N+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let I=y.type.prototype;!l&&(I.ngOnChanges||I.ngOnInit||I.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(I.ngOnChanges||I.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}wV(n,t,o)}function wV(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))wC(0,e,i,r),wC(1,e,i,r),bC(e,r,!1);else{let o=t.get(i);DC(0,e,o,r),DC(1,e,o,r),bC(e,r,!0)}}}function wC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),hA(e,o)}}function DC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),hA(e,s)}}function hA(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function bC(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||h_(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function DV(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Pi(i.type,!0)),s=new Ho(o,zn(i),z,null);n.blueprint[r]=s,t[r]=s,bV(n,e,r,jS(n,t,i.hostVars,Kt),i)}function bV(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;TV(s)!=a&&s.push(a),s.push(t,r,o)}}function TV(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function CV(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;zn(e)&&(t[""]=n)}}function SV(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function fA(n,e,t,r,i,o,s,a){let u=e[B],l=u.consts,h=vn(l,s),p=Ea(u,n,t,r,h);return o&&dA(u,e,p,vn(l,a),i),p.mergedAttrs=ha(p.mergedAttrs,p.attrs),p.attrs!==null&&Jh(p,p.attrs,!1),p.mergedAttrs!==null&&Jh(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function pA(n,e){XC(n,e),qy(e)&&n.queries.elementEnd(e)}function AV(n,e,t,r,i,o){let s=e.consts,a=vn(s,i),u=Ea(e,n,t,r,a);if(u.mergedAttrs=ha(u.mergedAttrs,u.attrs),o!=null){let l=vn(s,o);u.localNames=[];for(let h=0;h<l.length;h+=2)u.localNames.push(l[h],-1)}return u.attrs!==null&&Jh(u,u.attrs,!1),u.mergedAttrs!==null&&Jh(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function S_(n){return mA(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function gA(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function mA(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function A_(n,e,t){return n[e]=t}function RV(n,e){return n[e]}function _r(n,e,t){if(t===Kt)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function yA(n,e,t,r){let i=_r(n,e,t);return _r(n,e+1,r)||i}function Bh(n,e,t){return function r(i){let o=Li(n)?Mn(n.index,e):e;Ef(o,5);let s=e[Xe],a=TC(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=TC(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function TC(n,e,t,r){let i=J(null);try{return be(6,e,t),t(r)!==!1}catch(o){return I_(n,o),!1}finally{be(7,e,t),J(i)}}function vA(n,e,t,r,i,o,s,a){let u=yu(n),l=!1,h=null;if(!r&&u&&(h=NV(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=Gn(n,t),g=r?r(p):p;JF(t,g,o,a);let y=i.listen(g,o,a),I=r?A=>r(Nn(A[n.index])):n.index;_A(I,e,t,o,a,y,!1)}return l}function NV(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[ea],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function _A(n,e,t,r,i,o,s){let a=e.firstCreatePass?Zy(e):null,u=Yy(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function CC(n,e,t,r,i,o){let s=e[t],a=e[B],l=a.data[t].outputs[r],p=s[l].subscribe(o);_A(n.index,a,e,i,o,p,!0)}var jv=Symbol("BINDING");var Xh=class extends ku{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Qr(e);return new pa(t,this.ngModule)}};function MV(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&mf.SignalBased)!==0};return i&&(o.transform=i),o})}function PV(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function xV(n,e,t){let r=e instanceof Je?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new da(t,r):t}function kV(n){let e=n.get(zo,null);if(e===null)throw new j(407,!1);let t=n.get(lA,null),r=n.get(Sn,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function OV(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return kS(e,t,t==="svg"?$0:t==="math"?q0:null)}var pa=class extends If{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=MV(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=PV(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=fL(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){be(22);let a=J(null);try{let u=this.componentDef,l=FV(r,u,s,o),h=xV(u,i||this.ngModule,e),p=kV(h),g=p.rendererFactory.createRenderer(null,u),y=r?kL(g,r,u.encapsulation,h):OV(u,g),I=s?.some(SC)||o?.some(k=>typeof k!="function"&&k.bindings.some(SC)),A=p_(null,l,null,512|VS(u),null,null,p,g,h,null,wS(y,h,!0));A[xe]=y,Rh(A);let N=null;try{let k=fA(xe,A,2,"#host",()=>l.directiveRegistry,!0,0);y&&(LS(g,y,k),fa(y,A)),E_(l,A,k),TS(l,k,A),pA(l,k),t!==void 0&&VV(k,this.ngContentSelectors,t),N=Mn(k.index,A),A[Xe]=N[Xe],D_(l,A,null)}catch(k){throw N!==null&&Mv(N),Mv(A),k}finally{be(23),Nh()}return new ef(this.componentType,A,!!I)}finally{J(a)}}};function FV(n,e,t,r){let i=n?["ng-version","20.1.2"]:pL(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[jv].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let g of p.bindings){a+=g[jv].requiredVars;let y=h+1;g.create&&(g.targetIdx=y,(o??=[]).push(g)),g.update&&(g.targetIdx=y,(s??=[]).push(g))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,g=hu(p);u.push(g)}return f_(0,null,LV(o,s),1,a,u,null,null,null,[i],null)}function LV(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function SC(n){let e=n[jv].kind;return e==="input"||e==="twoWay"}var ef=class extends uA{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=jo(t[B],xe),this.location=ya(this._tNode,t),this.instance=Mn(this._tNode.index,t)[Xe],this.hostView=this.changeDetectorRef=new Hi(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=w_(r,i[B],i,e,t);this.previousInputValues.set(e,t);let s=Mn(r.index,i);Ef(s,1)}get injector(){return new Bo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function VV(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var qi=(()=>{class n{static __NG_ELEMENT_ID__=jV}return n})();function jV(){let n=vt();return IA(n,X())}var UV=qi,EA=class extends UV{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ya(this._hostTNode,this._hostLView)}get injector(){return new Bo(this._hostTNode,this._hostLView)}get parentInjector(){let e=o_(this._hostTNode,this._hostLView);if(nS(e)){let t=zh(e,this._hostLView),r=qh(e),i=t[B].data[r+8];return new Bo(i,t)}else return new Bo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=AC(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-yt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Zh(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,$o(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!IF(e),l;if(u)l=t;else{let N=t||{};l=N.index,r=N.injector,i=N.projectableNodes,o=N.environmentInjector||N.ngModuleRef,s=N.directives,a=N.bindings}let h=u?e:new pa(Qr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let k=(u?p:this.parentInjector).get(Je,null);k&&(o=k)}let g=Qr(h.componentType??{}),y=Zh(this._lContainer,g?.id??null),I=y?.firstChild??null,A=h.create(p,i,I,o,s,a);return this.insertImpl(A.hostView,l,$o(this._hostTNode,y)),A}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(G0(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[st],l=new EA(u,u[Gt],u[st]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return _a(s,i,o,r),e.attachToViewContainerRef(),Oy(_v(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=AC(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Au(this._lContainer,t);r&&(du(_v(this._lContainer),t),yf(r[B],r))}detach(e){let t=this._adjustIndex(e,-1),r=Au(this._lContainer,t);return r&&du(_v(this._lContainer),t)!=null?new Hi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function AC(n){return n[mu]}function _v(n){return n[mu]||(n[mu]=[])}function IA(n,e){let t,r=e[n.index];return qn(r)?t=r:(t=oA(r,e,null,n),e[n.index]=t,g_(e,t)),HV(t,e,n,r),new EA(t,n,e)}function BV(n,e){let t=n[Le],r=t.createComment(""),i=Gn(e,n),o=t.parentNode(i);return Yh(t,o,r,t.nextSibling(i),!1),r}var HV=qV,$V=()=>!1;function wA(n,e,t){return $V(n,e,t)}function qV(n,e,t,r){if(n[Fi])return;let i;t.type&8?i=Nn(r):i=BV(e,t),n[Fi]=i}var Uv=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Bv=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)R_(e,t).matches!==null&&this.queries[t].setDirty()}},tf=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=JV(e):this.predicate=e}},Hv=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},$v=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,zV(t,o)),this.matchTNodeWithReadOption(e,t,jh(t,e,o,!1,!1))}else r===qo?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,jh(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ft||i===qi||i===qo&&t.type&4)this.addMatch(t.index,-2);else{let o=jh(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function zV(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function GV(n,e){return n.type&11?ya(n,e):n.type&4?C_(n,e):null}function WV(n,e,t,r){return t===-1?GV(e,n):t===-2?KV(n,e,r):Cu(n,n[B],t,e)}function KV(n,e,t){if(t===Ft)return ya(e,n);if(t===qo)return C_(e,n);if(t===qi)return IA(e,n)}function DA(n,e,t,r){let i=e[hr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(WV(e,h,s[u+1],t.metadata.read))}}i.matches=a}return i.matches}function qv(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=DA(n,e,i,t);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=yt;p<h.length;p++){let g=h[p];g[ki]===g[st]&&qv(g[B],g,l,r)}if(h[Vo]!==null){let p=h[Vo];for(let g=0;g<p.length;g++){let y=p[g];qv(y[B],y,l,r)}}}}}return r}function QV(n,e){return n[hr].queries[e].queryList}function bA(n,e,t){let r=new Kh((t&4)===4);return W0(n,e,r,r.destroy),(e[hr]??=new Bv).queries.push(new Uv(r))-1}function YV(n,e,t){let r=Be();return r.firstCreatePass&&(TA(r,new tf(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),bA(r,X(),e)}function ZV(n,e,t,r){let i=Be();if(i.firstCreatePass){let o=vt();TA(i,new tf(e,t,r),o.index),XV(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return bA(i,X(),t)}function JV(n){return n.split(",").map(e=>e.trim())}function TA(n,e,t){n.queries===null&&(n.queries=new Hv),n.queries.track(new $v(e,t))}function XV(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function R_(n,e){return n.queries.getByIndex(e)}function e2(n,e){let t=n[B],r=R_(t,e);return r.crossesNgTemplate?qv(t,n,e,[]):DA(t,n,r,e)}var RC=new Set;function Qn(n){RC.has(n)||(RC.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Go=class{},wf=class{};var nf=class extends Go{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Xh(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Vy(e);this._bootstrapComponents=MS(o.bootstrap),this._r3Injector=hv(e,t,[{provide:Go,useValue:this},{provide:ku,useValue:this.componentFactoryResolver},...r],Wr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},rf=class extends wf{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new nf(this.moduleType,e,[])}};var Ru=class extends Go{injector;componentFactoryResolver=new Xh(this);instance=null;constructor(e){super();let t=new No([...e.providers,{provide:Go,useValue:this},{provide:ku,useValue:this.componentFactoryResolver}],e.parent||pu(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ia(n,e,t=null){return new Ru({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var t2=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Eh(!1,t.type),i=r.length>0?Ia([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=F({token:n,providedIn:"environment",factory:()=>new n(K(Je))})}return n})();function ce(n){return ma(()=>{let e=CA(n),t=Z(x({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===s_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(t2).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Zr.Emulated,styles:n.styles||zt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Qn("NgStandalone"),SA(t);let r=n.dependencies;return t.directiveDefs=NC(r,n2),t.pipeDefs=NC(r,jy),t.id=o2(t),t})}function n2(n){return Qr(n)||hu(n)}function Xr(n){return ma(()=>({type:n.type,bootstrap:n.bootstrap||zt,declarations:n.declarations||zt,imports:n.imports||zt,exports:n.exports||zt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function r2(n,e){if(n==null)return Hn;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=mf.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function i2(n){if(n==null)return Hn;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function ue(n){return ma(()=>{let e=CA(n);return SA(e),e})}function wa(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function CA(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Hn,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||zt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:r2(n.inputs,e),outputs:i2(n.outputs),debugInfo:null}}function SA(n){n.features?.forEach(e=>e(n))}function NC(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function o2(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function s2(n){return Object.getPrototypeOf(n.prototype).constructor}function Qt(n){let e=s2(n.type),t=!0,r=[n];for(;e;){let i;if(zn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Ev(n.inputs),s.declaredInputs=Ev(n.declaredInputs),s.outputs=Ev(n.outputs);let a=i.hostBindings;a&&d2(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&u2(n,u),l&&l2(n,l),a2(n,i),S0(n.outputs,i.outputs),zn(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Qt&&(t=!1)}}e=Object.getPrototypeOf(e)}c2(r)}function a2(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function c2(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ha(i.hostAttrs,t=ha(t,i.hostAttrs))}}function Ev(n){return n===Hn?{}:n===zt?[]:n}function u2(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function l2(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function d2(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function _t(n){let e=t=>{let r=Array.isArray(n);t.hostDirectives===null?(t.resolveHostDirectives=h2,t.hostDirectives=r?n.map(zv):[n]):r?t.hostDirectives.unshift(...n.map(zv)):t.hostDirectives.unshift(n)};return e.ngInherit=!0,e}function h2(n){let e=[],t=!1,r=null,i=null;for(let o=0;o<n.length;o++){let s=n[o];if(s.hostDirectives!==null){let a=e.length;r??=new Map,i??=new Map,AA(s,e,r),i.set(s,[a,e.length-1])}o===0&&zn(s)&&(t=!0,e.push(s))}for(let o=t?1:0;o<n.length;o++)e.push(n[o]);return[e,r,i]}function AA(n,e,t){if(n.hostDirectives!==null)for(let r of n.hostDirectives)if(typeof r=="function"){let i=r();for(let o of i)MC(zv(o),e,t)}else MC(r,e,t)}function MC(n,e,t){let r=hu(n.directive);f2(r.declaredInputs,n.inputs),AA(r,e,t),t.set(r,n),e.push(r)}function zv(n){return typeof n=="function"?{directive:gt(n),inputs:Hn,outputs:Hn}:{directive:gt(n.directive),inputs:PC(n.inputs),outputs:PC(n.outputs)}}function PC(n){if(n===void 0||n.length===0)return Hn;let e={};for(let t=0;t<n.length;t+=2)e[n[t]]=n[t+1];return e}function f2(n,e){for(let t in e)if(e.hasOwnProperty(t)){let r=e[t],i=n[t];n[r]=i}}function RA(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=ha(n.mergedAttrs,n.attrs);let h=n.tView=f_(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),ra(n,!1);let u=g2(t,e,n,r);Mh()&&v_(t,e,u,n),fa(u,e);let l=oA(u,e,u,n);e[r+xe]=l,g_(e,l),wA(l,n,e)}function p2(n,e,t,r,i,o,s,a,u,l,h){let p=t+xe,g;return e.firstCreatePass?(g=Ea(e,p,4,s||null,a||null),Xy()&&dA(e,n,g,vn(e.consts,l),WS),XC(e,g)):g=e.data[p],RA(g,n,e,t,r,i,o,u),yu(g)&&E_(e,n,g),l!=null&&_f(n,g,h),g}function Wo(n,e,t,r,i,o,s,a,u,l,h){let p=t+xe,g;if(e.firstCreatePass){if(g=Ea(e,p,4,s||null,a||null),l!=null){let y=vn(e.consts,l);g.localNames=[];for(let I=0;I<y.length;I+=2)g.localNames.push(y[I],-1)}}else g=e.data[p];return RA(g,n,e,t,r,i,o,u),l!=null&&_f(n,g,h),g}function NA(n,e,t,r,i,o,s,a){let u=X(),l=Be(),h=vn(l.consts,o);return p2(u,l,n,e,t,r,i,h,void 0,s,a),NA}function MA(n,e,t,r,i,o,s,a){let u=X(),l=Be(),h=vn(l.consts,o);return Wo(u,l,n,e,t,r,i,h,void 0,s,a),MA}var g2=m2;function m2(n,e,t,r){return Ph(!0),e[Le].createComment("")}var on=function(n){return n[n.NOT_STARTED=0]="NOT_STARTED",n[n.IN_PROGRESS=1]="IN_PROGRESS",n[n.COMPLETE=2]="COMPLETE",n[n.FAILED=3]="FAILED",n}(on||{}),xC=0,y2=1,nt=function(n){return n[n.Placeholder=0]="Placeholder",n[n.Loading=1]="Loading",n[n.Complete=2]="Complete",n[n.Error=3]="Error",n}(nt||{}),N_=function(n){return n[n.Initial=-1]="Initial",n}(N_||{}),v2=0,Ou=1;var _2=4,E2=5,I2=6,w2=7,Iv=8,D2=9,M_=function(n){return n[n.Manual=0]="Manual",n[n.Playthrough=1]="Playthrough",n}(M_||{});function PA(n,e,t){let r=kA(n);e[r]===null&&(e[r]=[]),e[r].push(t)}function Hh(n,e){let t=kA(n),r=e[t];if(r!==null){for(let i of r)i();e[t]=null}}function xA(n){Hh(1,n),Hh(0,n),Hh(2,n)}function kA(n){let e=_2;return n===1?e=E2:n===2&&(e=D2),e}var Df=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Df||{}),Qo=new U(""),OA=!1,Gv=class extends Ye{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,B0()&&(this.destroyRef=S(Nt,{optional:!0})??void 0,this.pendingTasks=S(mr,{optional:!0})??void 0)}emit(e){let t=J(null);try{super.next(e)}finally{J(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof $e&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},qe=Gv;function FA(n){let e,t;function r(){n=Uo;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function kC(n){return queueMicrotask(()=>n()),()=>{n=Uo}}var P_="isAngularZone",of=P_+"_ID",b2=0,De=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new qe(!1);onMicrotaskEmpty=new qe(!1);onStable=new qe(!1);onError=new qe(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=OA}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,S2(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(P_)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new j(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,T2,Uo,Uo);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},T2={};function x_(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function C2(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){FA(()=>{n.callbackScheduled=!1,Wv(n),n.isCheckStableRunning=!0,x_(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Wv(n)}function S2(n){let e=()=>{C2(n)},t=b2++;n._inner=n._inner.fork({name:"angular",properties:{[P_]:!0,[of]:t,[of+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(A2(u))return r.invokeTask(o,s,a,u);try{return OC(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),FC(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return OC(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!R2(u)&&e(),FC(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Wv(n),x_(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Wv(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function OC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function FC(n){n._nesting--,x_(n)}var Nu=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new qe;onMicrotaskEmpty=new qe;onStable=new qe;onError=new qe;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function A2(n){return LA(n,"__ignore_ng_zone__")}function R2(n){return LA(n,"__scheduler_tick__")}function LA(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var k_=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=F({token:n,providedIn:"root",factory:()=>new n})}return n})(),VA=[0,1,2,3],jA=(()=>{class n{ngZone=S(De);scheduler=S(Sn);errorHandler=S(pn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){S(Qo,{optional:!0})}execute(){let t=this.sequences.size>0;t&&be(16),this.executing=!0;for(let r of VA)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&be(17)}register(t){let{view:r}=t;r!==void 0?((r[Lo]??=[]).push(t),Vi(r),r[ne]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Df.AFTER_NEXT_RENDER,t):t()}static \u0275prov=F({token:n,providedIn:"root",factory:()=>new n})}return n})(),sf=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Lo];e&&(this.view[Lo]=e.filter(t=>t!==this))}};function UA(n,e){let t=e?.injector??S(Ue);return Qn("NgAfterRender"),BA(n,t,e,!1)}function bf(n,e){let t=e?.injector??S(Ue);return Qn("NgAfterNextRender"),BA(n,t,e,!0)}function N2(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function BA(n,e,t,r){let i=e.get(k_);i.impl??=e.get(jA);let o=e.get(Qo,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(Nt):null,a=e.get(sa,null,{optional:!0}),u=new sf(i.impl,N2(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}function Tf(n){return n+1}function Da(n,e){let t=n[B],r=Tf(e.index);return n[r]}function M2(n,e,t){let r=n[B],i=Tf(e);n[i]=t}function ba(n,e){let t=Tf(e.index);return n.data[t]}function P2(n,e,t){let r=Tf(e);n.data[r]=t}function x2(n,e,t){let r=e[B],i=ba(r,t);switch(n){case nt.Complete:return i.primaryTmplIndex;case nt.Loading:return i.loadingTmplIndex;case nt.Error:return i.errorTmplIndex;case nt.Placeholder:return i.placeholderTmplIndex;default:return null}}function LC(n,e){return e===nt.Placeholder?n.placeholderBlockConfig?.[xC]??null:e===nt.Loading?n.loadingBlockConfig?.[xC]??null:null}function k2(n){return n.loadingBlockConfig?.[y2]??null}function VC(n,e){if(!n||n.length===0)return e;let t=new Set(n);for(let r of e)t.add(r);return n.length===t.size?n:Array.from(t)}function O2(n,e){let t=e.primaryTmplIndex+xe;return jo(n,t)}function F2(n,e,t){let r=t.get(De);return YF(n,()=>r.run(e),()=>r.runOutsideAngular(()=>QF()))}function L2(n,e,t){return t==null?n:t>=0?Qy(t,n):n[e.index][yt]??null}function V2(n,e){return wh(xe+e,n)}function j2(n,e,t,r,i,o,s){let a=n[mn],u=a.get(De),l;function h(){if(pr(n)){l.destroy();return}let p=Da(n,e),g=p[Ou];if(g!==N_.Initial&&g!==nt.Placeholder){l.destroy();return}let y=L2(n,e,r);if(!y||(l.destroy(),pr(y)))return;let I=V2(y,t),A=i(I,()=>{u.run(()=>{n!==y&&Th(y,A),o()})},a);n!==y&&_u(y,A),PA(s,p,A)}l=UA({read:h},{injector:a})}var U2=(()=>{class n{cachedInjectors=new Map;getOrCreateInjector(t,r,i,o){if(!this.cachedInjectors.has(t)){let s=i.length>0?Ia(i,r,o):null;this.cachedInjectors.set(t,s)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=F({token:n,providedIn:"environment",factory:()=>new n})}return n})();var HA=new U("");function wv(n,e,t){return n.get(U2).getOrCreateInjector(e,n,t,"")}function B2(n,e,t){if(n instanceof da){let i=n.injector,o=n.parentInjector,s=wv(o,e,t);return new da(i,s)}let r=n.get(Je);if(r!==n){let i=wv(r,e,t);return new da(n,i)}return wv(n,e,t)}function Bi(n,e,t,r=!1){let i=t[st],o=i[B];if(pr(i))return;let s=Da(i,e),a=s[Ou],u=s[w2];if(!(u!==null&&n<u)&&jC(a,n)&&jC(s[v2]??-1,n)){let l=ba(o,e),p=!r&&!0&&(k2(l)!==null||LC(l,nt.Loading)!==null||LC(l,nt.Placeholder))?z2:$2;try{p(n,s,t,e,i)}catch(g){I_(i,g)}}}function H2(n,e){let t=n[Oi]?.findIndex(i=>i.data[u_]===e[Ou])??-1;return{dehydratedView:t>-1?n[Oi][t]:null,dehydratedViewIx:t}}function $2(n,e,t,r,i){be(20);let o=x2(n,i,r);if(o!==null){e[Ou]=n;let s=i[B],a=o+xe,u=jo(s,a),l=0;T_(t,l);let h;if(n===nt.Complete){let I=ba(s,r),A=I.providers;A&&A.length>0&&(h=B2(i[mn],I,A))}let{dehydratedView:p,dehydratedViewIx:g}=H2(t,e),y=va(i,u,null,{injector:h,dehydratedView:p});if(_a(t,y,l,$o(u,p)),Ef(y,2),g>-1&&t[Oi]?.splice(g,1),(n===nt.Complete||n===nt.Error)&&Array.isArray(e[Iv])){for(let I of e[Iv])I();e[Iv]=null}}be(21)}function jC(n,e){return n<e}function q2(n,e){let t=n[e.index];Bi(nt.Placeholder,e,t)}function UC(n,e,t){n.loadingPromise.then(()=>{n.loadingState===on.COMPLETE?Bi(nt.Complete,e,t):n.loadingState===on.FAILED&&Bi(nt.Error,e,t)})}var z2=null;var O_=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var F_=new U("");function ei(n){return!!n&&typeof n.then=="function"}function Cf(n){return!!n&&typeof n.subscribe=="function"}var $A=new U("");var L_=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=S($A,{optional:!0})??[];injector=S(Ue);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=mt(this.injector,i);if(ei(o))t.push(o);else if(Cf(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sf=new U("");function qA(){Gm(()=>{let n="";throw new j(600,n)})}function zA(n){return n.isBoundToModule}var G2=10;var ti=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=S(Ot);afterRenderManager=S(k_);zonelessEnabled=S(wu);rootEffectScheduler=S(Du);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ye;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=S(mr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(fe(t=>!t))}constructor(){S(Qo,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=S(Je);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Ue.NULL){return this._injector.get(De).run(()=>{be(10);let s=t instanceof If;if(!this._injector.get(L_).done){let I="";throw new j(405,I)}let u;s?u=t:u=this._injector.get(ku).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=zA(u)?void 0:this._injector.get(Go),h=r||u.selector,p=u.create(i,[],h,l),g=p.location.nativeElement,y=p.injector.get(F_,null);return y?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),Tu(this.components,p),y?.unregisterApplication(g)}),this._loadComponent(p),be(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){be(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Df.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new j(101,!1);let t=J(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,J(t),this.afterTick.next(),be(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(zo,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<G2;)be(14),this.synchronizeOnce(),be(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!vu(i))continue;let o=r&&!this.zonelessEnabled?0:1;b_(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>vu(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Tu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Sf,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Tu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new j(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Tu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function GA(n,e,t){let r=e[mn],i=e[B];if(n.loadingState!==on.NOT_STARTED)return n.loadingPromise??Promise.resolve();let o=Da(e,t),s=O2(i,n);n.loadingState=on.IN_PROGRESS,Hh(1,o);let a=n.dependencyResolverFn,u=r.get(Ui).add();return a?(n.loadingPromise=Promise.allSettled(a()).then(l=>{let h=!1,p=[],g=[];for(let y of l)if(y.status==="fulfilled"){let I=y.value,A=Qr(I)||hu(I);if(A)p.push(A);else{let N=jy(I);N&&g.push(N)}}else{h=!0;break}if(h){if(n.loadingState=on.FAILED,n.errorTmplIndex===null){let y="",I=new j(-750,!1);I_(e,I)}}else{n.loadingState=on.COMPLETE;let y=s.tView;if(p.length>0){y.directiveRegistry=VC(y.directiveRegistry,p);let I=p.map(N=>N.type),A=Eh(!1,...I);n.providers=A}g.length>0&&(y.pipeRegistry=VC(y.pipeRegistry,g))}}),n.loadingPromise.finally(()=>{n.loadingPromise=null,u()})):(n.loadingPromise=Promise.resolve().then(()=>{n.loadingPromise=null,n.loadingState=on.COMPLETE,u()}),n.loadingPromise)}function W2(n,e){return e[mn].get(HA,null,{optional:!0})?.behavior!==M_.Manual}function K2(n,e,t){let r=e[B],i=e[t.index];if(!W2(n,e))return;let o=Da(e,t),s=ba(r,t);switch(xA(o),s.loadingState){case on.NOT_STARTED:Bi(nt.Loading,t,i),GA(s,e,t),s.loadingState===on.IN_PROGRESS&&UC(s,t,i);break;case on.IN_PROGRESS:Bi(nt.Loading,t,i),UC(s,t,i);break;case on.COMPLETE:Bi(nt.Complete,t,i);break;case on.FAILED:Bi(nt.Error,t,i);break;default:}}function Q2(n,e,t){return n===0?BC(e,t):n===2?!BC(e,t):!0}function Y2(n){return n!=null&&(n&1)===1}function BC(n,e){let t=n[mn],r=ba(n[B],e),i=DS(t),o=Y2(r.flags),a=Da(n,e)[I2]!==null;return!(o&&a&&i)}function Z2(n,e,t,r,i,o,s,a,u,l){let h=X(),p=Be(),g=n+xe,y=Wo(h,p,n,null,0,0),I=h[mn];if(p.firstCreatePass){Qn("NgDefer");let Qe={primaryTmplIndex:e,loadingTmplIndex:r??null,placeholderTmplIndex:i??null,errorTmplIndex:o??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:t??null,loadingState:on.NOT_STARTED,loadingPromise:null,providers:null,hydrateTriggers:null,debug:null,flags:l??0};u?.(p,Qe,a,s),P2(p,g,Qe)}let A=h[g];wA(A,y,h);let N=null,k=null;if(A[Oi]?.length>0){let Qe=A[Oi][0].data;k=Qe[c_]??null,N=Qe[u_]}let H=[null,N_.Initial,null,null,null,null,k,N,null,null];M2(h,g,H);let Y=null;k!==null&&(Y=I.get(IS),Y.add(k,{lView:h,tNode:y,lContainer:A}));let Ce=()=>{xA(H),k!==null&&Y?.cleanup([k])};PA(0,H,()=>Th(h,Ce)),_u(h,Ce)}function J2(n,e){let t=X(),r=vt();Q2(0,t,r)&&(q2(t,r),j2(t,r,n,e,F2,()=>K2(0,t,r),0))}function Ta(n,e,t,r){let i=X(),o=oa();if(_r(i,o,e)){let s=Be(),a=dv();qL(a,i,n,e,t,r)}return Ta}var Kv=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function Dv(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function X2(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=n.at(o),h=e[o],p=Dv(o,l,o,h,t);if(p!==0){p<0&&n.updateValue(o,h),o++;continue}let g=n.at(s),y=e[u],I=Dv(s,g,u,y,t);if(I!==0){I<0&&n.updateValue(s,y),s--,u--;continue}let A=t(o,l),N=t(s,g),k=t(o,h);if(Object.is(k,N)){let H=t(u,y);Object.is(H,A)?(n.swap(o,s),n.updateValue(s,y),u--,s--):n.move(s,o),n.updateValue(o,h),o++;continue}if(r??=new af,i??=$C(n,o,s,t),Qv(n,r,o,k))n.updateValue(o,h),o++,s++;else if(i.has(k))r.set(A,n.detach(o)),s--;else{let H=n.create(o,e[o]);n.attach(o,H),o++,s++}}for(;o<=u;)HC(n,r,t,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let h=n.at(o),p=l.value,g=Dv(o,h,o,p,t);if(g!==0)g<0&&n.updateValue(o,p),o++,l=u.next();else{r??=new af,i??=$C(n,o,s,t);let y=t(o,p);if(Qv(n,r,o,y))n.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(y))n.attach(o,n.create(o,p)),o++,s++,l=u.next();else{let I=t(o,h);r.set(I,n.detach(o)),s--}}}for(;!l.done;)HC(n,r,t,n.length,l.value),l=u.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(u=>{n.destroy(u)})}function Qv(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function HC(n,e,t,r,i){if(Qv(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function $C(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var af=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function Yn(n,e,t,r,i,o,s,a){Qn("NgControlFlow");let u=X(),l=Be(),h=vn(l.consts,o);return Wo(u,l,n,e,t,r,i,h,256,s,a),Fu}function Fu(n,e,t,r,i,o,s,a){Qn("NgControlFlow");let u=X(),l=Be(),h=vn(l.consts,o);return Wo(u,l,n,e,t,r,i,h,512,s,a),Fu}function Zn(n,e){Qn("NgControlFlow");let t=X(),r=oa(),i=t[r]!==Kt?t[r]:-1,o=i!==-1?cf(t,xe+i):void 0,s=0;if(_r(t,r,n)){let a=J(null);try{if(o!==void 0&&T_(o,s),n!==-1){let u=xe+n,l=cf(t,u),h=Xv(t[B],u),p=cA(l,h,t),g=va(t,h,e,{dehydratedView:p});_a(l,g,s,$o(h,p))}}finally{J(a)}}else if(o!==void 0){let a=sA(o,s);a!==void 0&&(a[Xe]=e)}}var Yv=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-yt}};function V_(n){return n}function ej(n,e){return e}var Zv=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function j_(n,e,t,r,i,o,s,a,u,l,h,p,g){Qn("NgControlFlow");let y=X(),I=Be(),A=u!==void 0,N=X(),k=a?s.bind(N[Wt][Xe]):s,H=new Zv(A,k);N[xe+n]=H,Wo(y,I,n+1,e,t,r,i,vn(I.consts,o),256),A&&Wo(y,I,n+2,u,l,h,p,vn(I.consts,g),512)}var Jv=class extends Kv{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-yt}at(e){return this.getLView(e)[Xe].$implicit}attach(e,t){let r=t[ko];this.needsIndexUpdate||=e!==this.length,_a(this.lContainer,t,e,$o(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,tj(this.lContainer,e)}create(e,t){let r=Zh(this.lContainer,this.templateTNode.tView.ssrId),i=va(this.hostLView,this.templateTNode,new Yv(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){yf(e[B],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Xe].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Xe].$index=e}getLView(e){return nj(this.lContainer,e)}};function U_(n){let e=J(null),t=gr();try{let r=X(),i=r[B],o=r[t],s=t+1,a=cf(r,s);if(o.liveCollection===void 0){let l=Xv(i,s);o.liveCollection=new Jv(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(X2(u,n,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=oa(),h=u.length===0;if(_r(r,l,h)){let p=t+2,g=cf(r,p);if(h){let y=Xv(i,p),I=cA(g,y,r),A=va(r,y,void 0,{dehydratedView:I});_a(g,A,0,$o(y,I))}else i.firstUpdatePass&&pV(g),T_(g,0)}}}finally{J(e)}}function cf(n,e){return n[e]}function tj(n,e){return Au(n,e)}function nj(n,e){return sA(n,e)}function Xv(n,e){return jo(n,e)}function Ae(n,e,t){let r=X(),i=oa();if(_r(r,i,e)){let o=Be(),s=dv();VL(s,r,n,e,r[Le],t)}return Ae}function e_(n,e,t,r,i){w_(e,n,t,i?"class":"style",r)}function G(n,e,t,r){let i=X(),o=i[B],s=n+xe,a=o.firstCreatePass?fA(s,i,2,e,WS,Xy(),t,r):o.data[s];if(KS(a,i,n,e,WA),yu(a)){let u=i[B];E_(u,i,a),TS(u,a,i)}return r!=null&&_f(i,a),G}function $(){let n=Be(),e=vt(),t=QS(e);return n.firstCreatePass&&pA(n,t),tv(t)&&nv(),Jy(),t.classesWithoutHost!=null&&SF(t)&&e_(n,t,X(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&AF(t)&&e_(n,t,X(),t.stylesWithoutHost,!1),$}function ke(n,e,t,r){return G(n,e,t,r),$(),ke}function cn(n,e,t,r){let i=X(),o=i[B],s=n+xe,a=o.firstCreatePass?AV(s,o,2,e,t,r):o.data[s];return KS(a,i,n,e,WA),r!=null&&_f(i,a),cn}function Yt(){let n=vt(),e=QS(n);return tv(e)&&nv(),Jy(),Yt}function zi(n,e,t,r){return cn(n,e,t,r),Yt(),zi}var WA=(n,e,t,r,i)=>(Ph(!0),kS(e[Le],r,cC()));function un(){return X()}var Lu="en-US";var rj=Lu;function KA(n){typeof n=="string"&&(rj=n.toLowerCase().replace(/_/g,"-"))}function ie(n,e,t){let r=X(),i=Be(),o=vt();return ij(i,r,r[Le],o,n,e,t),ie}function Ca(n,e,t){let r=X(),i=Be(),o=vt();return(o.type&3||t)&&vA(o,i,r,t,r[Le],n,e,Bh(o,r,e)),Ca}function ij(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=Bh(r,e,o),vA(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let g=h[p],y=h[p+1];u??=Bh(r,e,o),CC(r,e,g,y,i,u)}if(l&&l.length)for(let p of l)u??=Bh(r,e,o),CC(r,e,p,i,i,u)}}function _n(n=1){return aC(n)}function oj(n,e){let t=null,r=cL(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?xS(n,o,!0):dL(r,o))return i}return t}function Vu(n){let e=X()[Wt][Gt];if(!e.projection){let t=n?n.length:1,r=e.projection=k0(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?oj(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function ju(n,e=0,t,r,i,o){let s=X(),a=Be(),u=r?n+1:null;u!==null&&Wo(s,a,u,r,i,o,null,t);let l=Ea(a,xe+n,16,null,t||null);l.projection===null&&(l.projection=e),ov();let p=!s[ko]||ev();s[Wt][Gt].projection[l.projection]===null&&u!==null?sj(s,a,u):p&&!pf(l)&&ML(a,s,l)}function sj(n,e,t){let r=xe+t,i=e.data[r],o=n[r],s=Zh(o,i.tView.ssrId),a=va(n,i,void 0,{dehydratedView:s});_a(o,a,0,$o(i,s))}function B_(n,e,t,r){ZV(n,e,t,r)}function Uu(n,e,t){YV(n,e,t)}function Yo(n){let e=X(),t=Be(),r=cv();Ah(r+1);let i=R_(t,r);if(n.dirty&&z0(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=e2(e,r);n.reset(o,BF),n.notifyOnChanges()}return!0}return!1}function Zo(){return QV(X(),cv())}function Jo(n){let e=Z0();return zy(e,xe+n)}function Fh(n,e){return n<<17|e<<2}function Ko(n){return n>>17&32767}function aj(n){return(n&2)==2}function cj(n,e){return n&131071|e<<17}function t_(n){return n|2}function ga(n){return(n&131068)>>2}function bv(n,e){return n&-131069|e<<2}function uj(n){return(n&1)===1}function n_(n){return n|1}function lj(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ko(s),u=ga(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Xs(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let g=Ko(n[a+1]);n[r+1]=Fh(g,a),g!==0&&(n[g+1]=bv(n[g+1],r)),n[a+1]=cj(n[a+1],r)}else n[r+1]=Fh(a,0),a!==0&&(n[a+1]=bv(n[a+1],r)),a=r;else n[r+1]=Fh(u,0),a===0?a=r:n[u+1]=bv(n[u+1],r),u=r;l&&(n[r+1]=t_(n[r+1])),qC(n,h,r,!0),qC(n,h,r,!1),dj(e,h,n,r,o),s=Fh(a,u),o?e.classBindings=s:e.styleBindings=s}function dj(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Xs(o,e)>=0&&(t[r+1]=n_(t[r+1]))}function qC(n,e,t,r){let i=n[t+1],o=e===null,s=r?Ko(i):ga(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];hj(u,e)&&(a=!0,n[s+1]=r?n_(l):t_(l)),s=r?Ko(l):ga(l)}a&&(n[t+1]=r?t_(i):n_(i))}function hj(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Xs(n,e)>=0:!1}var Kn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function fj(n){return n.substring(Kn.key,Kn.keyEnd)}function pj(n){return gj(n),QA(n,YA(n,0,Kn.textEnd))}function QA(n,e){let t=Kn.textEnd;return t===e?-1:(e=Kn.keyEnd=mj(n,Kn.key=e,t),YA(n,e,t))}function gj(n){Kn.key=0,Kn.keyEnd=0,Kn.value=0,Kn.valueEnd=0,Kn.textEnd=n.length}function YA(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function mj(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Zt(n,e){return vj(n,e,null,!0),Zt}function H_(n){_j(Tj,yj,n,!0)}function yj(n,e){for(let t=pj(e);t>=0;t=QA(e,t))vh(n,fj(e),!0)}function vj(n,e,t,r){let i=X(),o=Be(),s=Ch(2);if(o.firstUpdatePass&&JA(o,n,s,r),e!==Kt&&_r(i,s,e)){let a=o.data[gr()];XA(o,a,i,i[Le],n,i[s+1]=Sj(e,t),r,s)}}function _j(n,e,t,r){let i=Be(),o=Ch(2);i.firstUpdatePass&&JA(i,null,o,r);let s=X();if(t!==Kt&&_r(s,o,t)){let a=i.data[gr()];if(eR(a,r)&&!ZA(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(t=ph(u,t||"")),e_(i,a,s,t,r)}else Cj(i,a,s,s[Le],s[o+1],s[o+1]=bj(n,e,t),r,o)}}function ZA(n,e){return e>=n.expandoStartIndex}function JA(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[gr()],s=ZA(n,t);eR(o,r)&&e===null&&!s&&(e=!1),e=Ej(i,o,e,r),lj(i,o,e,t,s,r)}}function Ej(n,e,t,r){let i=rC(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Tv(null,n,e,t,r),t=Mu(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Tv(i,n,e,t,r),o===null){let u=Ij(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Tv(null,n,e,u[1],r),u=Mu(u,e.attrs,r),wj(n,e,r,u))}else o=Dj(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function Ij(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ga(r)!==0)return n[Ko(r)]}function wj(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Ko(i)]=r}function Dj(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Mu(r,s,t)}return Mu(r,e.attrs,t)}function Tv(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Mu(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Mu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),vh(n,s,t?!0:e[++o]))}return n===void 0?null:n}function bj(n,e,t){if(t==null||t==="")return zt;let r=[],i=xu(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function Tj(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&vh(n,r,t)}function Cj(n,e,t,r,i,o,s,a){i===Kt&&(i=zt);let u=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let g=u<i.length?i[u+1]:void 0,y=l<o.length?o[l+1]:void 0,I=null,A;h===p?(u+=2,l+=2,g!==y&&(I=p,A=y)):p===null||h!==null&&h<p?(u+=2,I=h):(l+=2,I=p,A=y),I!==null&&XA(n,e,t,r,I,A,s,a),h=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function XA(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=uj(l)?zC(u,e,t,i,ga(l),s):void 0;if(!uf(h)){uf(o)||aj(l)&&(o=zC(u,null,t,i,a,s));let p=wh(gr(),t);xL(r,s,p,i,o)}}function zC(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=t[i+1];g===Kt&&(g=p?zt:void 0);let y=p?_h(g,r):h===r?g:void 0;if(l&&!uf(y)&&(y=_h(u,r)),uf(y)&&(a=y,s))return a;let I=n[i+1];i=s?Ko(I):ga(I)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=_h(u,r))}return a}function uf(n){return n!==void 0}function Sj(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Wr(xu(n)))),n}function eR(n,e){return(n.flags&(e?8:16))!==0}function ye(n,e=""){let t=X(),r=Be(),i=n+xe,o=r.firstCreatePass?Ea(r,i,1,e,null):r.data[i],s=Aj(r,t,o,e,n);t[i]=s,Mh()&&v_(r,t,s,o),ra(o,!1)}var Aj=(n,e,t,r,i)=>(Ph(!0),gL(e[Le],r));function Rj(n,e,t,r=""){return _r(n,oa(),t)?e+xo(t)+r:Kt}function Nj(n,e,t,r,i,o=""){let s=J0(),a=yA(n,s,t,i);return Ch(2),a?e+xo(t)+r+xo(i)+o:Kt}function Er(n){return ze("",n),Er}function ze(n,e,t){let r=X(),i=Rj(r,n,e,t);return i!==Kt&&tR(r,gr(),i),ze}function Af(n,e,t,r,i){let o=X(),s=Nj(o,n,e,t,r,i);return s!==Kt&&tR(o,gr(),s),Af}function tR(n,e,t){let r=wh(e,n);mL(n[Le],r,t)}function Mj(n,e,t){let r=Be();if(r.firstCreatePass){let i=zn(n);r_(t,r.data,r.blueprint,i,!0),r_(e,r.data,r.blueprint,i,!1)}}function r_(n,e,t,r,i){if(n=gt(n),Array.isArray(n))for(let o=0;o<n.length;o++)r_(n[o],e,t,r,i);else{let o=Be(),s=X(),a=vt(),u=Ro(n)?n:gt(n.provide),l=By(n),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Ro(n)||!n.multi){let y=new Ho(l,i,z,null),I=Sv(u,e,i?h:h+g,p);I===-1?(Rv(Wh(a,s),o,u),Cv(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[I]=y,s[I]=y)}else{let y=Sv(u,e,h+g,p),I=Sv(u,e,h,h+g),A=y>=0&&t[y],N=I>=0&&t[I];if(i&&!N||!i&&!A){Rv(Wh(a,s),o,u);let k=kj(i?xj:Pj,t.length,i,r,l,n);!i&&N&&(t[I].providerFactory=k),Cv(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(k),s.push(k)}else{let k=nR(t[i?I:y],l,!i&&r);Cv(o,n,y>-1?y:I,k)}!i&&r&&N&&t[I].componentProviders++}}}function Cv(n,e,t,r){let i=Ro(e),o=U0(e);if(i||o){let u=(o?gt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function nR(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Sv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Pj(n,e,t,r,i){return i_(this.multi,[])}function xj(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=Cu(r,r[B],this.providerFactory.index,i);s=u.slice(0,a),i_(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],i_(o,s);return s}function i_(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function kj(n,e,t,r,i,o){let s=new Ho(n,t,z,null);return s.multi=[],s.index=e,s.componentProviders=0,nR(s,i,r&&!t),s}function ni(n,e=[]){return t=>{t.providersResolver=(r,i)=>Mj(r,i?i(n):n,e)}}function Bu(n,e,t){let r=Iu()+n,i=X();return i[r]===Kt?A_(i,r,t?e.call(t):e()):RV(i,r)}function $_(n,e,t,r){return iR(X(),Iu(),n,e,t,r)}function q_(n,e,t,r,i){return Oj(X(),Iu(),n,e,t,r,i)}function rR(n,e){let t=n[e];return t===Kt?void 0:t}function iR(n,e,t,r,i,o){let s=e+t;return _r(n,s,i)?A_(n,s+1,o?r.call(o,i):r(i)):rR(n,s+1)}function Oj(n,e,t,r,i,o,s){let a=e+t;return yA(n,a,i,o)?A_(n,a+2,s?r.call(s,i,o):r(i,o)):rR(n,a+2)}function ri(n,e){let t=Be(),r,i=n+xe;t.firstCreatePass?(r=Fj(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Pi(r.type,!0)),s,a=qt(z);try{let u=Gh(!1),l=o();return Gh(u),Gy(t,X(),i,l),l}finally{qt(a)}}function Fj(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function ii(n,e,t){let r=n+xe,i=X(),o=zy(i,r);return Lj(i,r)?iR(i,Iu(),e,o.transform,t,o):o.transform(t)}function Lj(n,e){return n[B].data[e].pure}var lf=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},z_=(()=>{class n{compileModuleSync(t){return new rf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Vy(t),o=MS(i.declarations).reduce((s,a)=>{let u=Qr(a);return u&&s.push(new pa(u)),s},[]);return new lf(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Vj=(()=>{class n{zone=S(De);changeDetectionScheduler=S(Sn);applicationRef=S(ti);applicationErrorHandler=S(Ot);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function oR({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new De(Z(x({},sR()),{scheduleInRootZone:t})),[{provide:De,useFactory:n},{provide:Kr,multi:!0,useFactory:()=>{let r=S(Vj,{optional:!0});return()=>r.initialize()}},{provide:Kr,multi:!0,useFactory:()=>{let r=S(jj);return()=>{r.initialize()}}},e===!0?{provide:pv,useValue:!0}:[],{provide:xh,useValue:t??OA},{provide:Ot,useFactory:()=>{let r=S(De),i=S(Je),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(pn),o.handleError(s))})}}}]}function sR(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var jj=(()=>{class n{subscription=new $e;initialized=!1;zone=S(De);pendingTasks=S(mr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var G_=(()=>{class n{applicationErrorHandler=S(Ot);appRef=S(ti);taskService=S(mr);ngZone=S(De);zonelessEnabled=S(wu);tracing=S(Qo,{optional:!0});disableScheduling=S(pv,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new $e;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(of):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(S(xh,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Nu||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?kC:FA;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(of+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,kC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Uj(){return Qn("NgZoneless"),gn([{provide:Sn,useExisting:G_},{provide:De,useClass:Nu},{provide:wu,useValue:!0},{provide:xh,useValue:!1},[]])}function Bj(){return typeof $localize<"u"&&$localize.locale||Lu}var Rf=new U("",{providedIn:"root",factory:()=>S(Rf,{optional:!0,skipSelf:!0})||Bj()});var Nf=class{destroyed=!1;listeners=null;errorHandler=S(pn,{optional:!0});destroyRef=S(Nt);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new j(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let t=this.listeners?.indexOf(e);t!==void 0&&t!==-1&&this.listeners?.splice(t,1)}}}emit(e){if(this.destroyed){console.warn(Mo(953,!1));return}if(this.listeners===null)return;let t=J(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{J(t)}}};function Jt(n){return b0(n)}function ln(n,e){return Od(n,e?.equal)}var W_=class{[Ht];constructor(e){this[Ht]=e}destroy(){this[Ht].destroy()}};function Sa(n,e){let t=e?.injector??S(Ue),r=e?.manualCleanup!==!0?t.get(Nt):null,i,o=t.get(sa,null,{optional:!0}),s=t.get(Sn);return o!==null?(i=qj(o.view,s,n),r instanceof cu&&r._lView===o.view&&(r=null)):i=zj(n,t.get(Du),s),i.injector=t,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new W_(i)}var aR=Z(x({},Ci),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Uo,run(){if(this.dirty=!1,this.hasRun&&!Os(this))return;this.hasRun=!0;let n=r=>(this.cleanupFns??=[]).push(r),e=Si(this),t=ia(!1);try{this.maybeCleanup(),this.fn(n)}finally{ia(t),Io(this,e)}},maybeCleanup(){if(!this.cleanupFns?.length)return;let n=J(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],J(n)}}}),Hj=Z(x({},aR),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Fs(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),$j=Z(x({},aR),{consumerMarkedDirty(){this.view[ne]|=8192,Vi(this.view),this.notifier.notify(13)},destroy(){Fs(this),this.onDestroyFn(),this.maybeCleanup(),this.view[Yr]?.delete(this)}});function qj(n,e,t){let r=Object.create($j);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=t,n[Yr]??=new Set,n[Yr].add(r),r.consumerMarkedDirty(r),r}function zj(n,e,t){let r=Object.create(Hj);return r.fn=n,r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}var dR=Symbol("InputSignalNode#UNSET"),uU=Z(x({},Fd),{transformFn:void 0,applyValueToInputSignal(n,e){Ls(n,e)}});function hR(n,e){let t=Object.create(uU);t.value=n,t.transformFn=e?.transform;function r(){if(ks(t),t.value===dR){let i=null;throw new j(-950,i)}return t.value}return r[Ht]=t,r}var Pf=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Pu(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},lU=new U("");lU.__NG_ELEMENT_ID__=n=>{let e=vt();if(e===null)throw new j(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new j(204,!1)};function ct(n){return new Nf}function cR(n,e){return hR(n,e)}function dU(n){return hR(dR,n)}var oe=(cR.required=dU,cR);var Aa=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},fR=new Aa("20.1.2");var K_=new U(""),hU=new U("");function Hu(n){return!n.moduleRef}function fU(n){let e=Hu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(De);return t.run(()=>{Hu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Ot),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Hu(n)){let o=()=>e.destroy(),s=n.platformInjector.get(K_);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(K_);s.add(o),n.moduleRef.onDestroy(()=>{Tu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return gU(r,t,()=>{let o=e.get(mr),s=o.add(),a=e.get(L_);return a.runInitializers(),a.donePromise.then(()=>{try{let u=e.get(Rf,Lu);if(KA(u||Lu),!e.get(hU,!0))return Hu(n)?e.get(ti):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Hu(n)){let h=e.get(ti);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return pU?.(n.moduleRef,n.allPlatformModules),n.moduleRef}finally{o.remove(s)}})})})}var pU;function gU(n,e,t){try{let r=t();return ei(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Mf=null;function mU(n=[],e){return Ue.create({name:e,providers:[{provide:fu,useValue:"platform"},{provide:K_,useValue:new Set([()=>Mf=null])},...n]})}function yU(n=[]){if(Mf)return Mf;let e=mU(n);return Mf=e,qA(),vU(e),e}function vU(n){let e=n.get(hf,null);mt(n,()=>{e?.forEach(t=>t())})}function X_(){return!1}var Gi=(()=>{class n{static __NG_ELEMENT_ID__=_U}return n})();function _U(n){return EU(vt(),X(),(n&16)===16)}function EU(n,e,t){if(Li(n)&&!t){let r=Mn(n.index,e);return new Hi(r,r)}else if(n.type&175){let r=e[Wt];return new Hi(r,e)}return null}var Q_=class{constructor(){}supports(e){return S_(e)}create(e){return new Y_(e)}},IU=(n,e)=>e,Y_=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||IU}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<uR(r,i,o)?t:r,a=uR(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let y=g<o.length?o[g]:o[g]=0,I=y+g;h<=I&&I<l&&(o[g]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!S_(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,gA(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Z_(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new xf),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new xf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Z_=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},J_=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},xf=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new J_,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function uR(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function lR(){return new eE([new Q_])}var eE=(()=>{class n{factories;static \u0275prov=F({token:n,providedIn:"root",factory:lR});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||lR()),deps:[[n,new KC,new sn]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new j(901,!1)}}return n})();function pR(n){be(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=yU(r),o=[oR({}),{provide:Sn,useExisting:G_},lC,...t||[]],s=new Ru({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return fU({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{be(9)}}function Ra(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var Ir=class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=ue({type:n,selectors:[["button","pd-button",""]],hostAttrs:[1,"h-10","min-w-10","flex","items-center","justify-center","active:scale-95","transition-all","duration-150"]})};var kf=class n{clicked=ct();onClick(e){this.clicked.emit(e)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ue({type:n,selectors:[["button","pd-action-button",""]],hostAttrs:[1,"shadow-md/80","rounded-full","shadow-black/60","text-action-contrast","bg-action"],hostBindings:function(t,r){t&1&&ie("click",function(o){return r.onClick(o)})},outputs:{clicked:"clicked"},features:[_t([Ir])]})};var Na=class n{showNotification=Me(!1);notificationMessage=Me({type:"success",message:""});lastTimeoutId=void 0;abort=void 0;success(e){this.notificationMessage.set({type:"success",message:e??""}),this.setNotification(!0)}warn(e){this.notificationMessage.set({type:"warn",message:e??""}),this.setNotification(!0)}notFound(e){this.notificationMessage.set({type:"404",message:e??""}),this.setNotification(!0)}setNotification(e){if(this.showNotification.set(e),this.abort?.abort(),this.showNotification()){this.abort=new AbortController;let t=this.abort.signal;window.addEventListener("keydown",this.onKeyDown.bind(this),{once:!0,signal:t,capture:!0}),window.addEventListener("click",this.onClick.bind(this),{once:!0,signal:t,capture:!0}),this.setHideTimeout()}else this.clearHideTimeout()}setHideTimeout(){this.clearHideTimeout(),this.lastTimeoutId=window.setTimeout(()=>{this.setNotification(!1)},3e3)}clearHideTimeout(){this.lastTimeoutId&&(clearTimeout(this.lastTimeoutId),this.lastTimeoutId=void 0)}onKeyDown(e){e.key==="Escape"&&this.setNotification(!1)}onClick(e){this.setNotification(!1)}ngOnDestroy(){this.abort?.abort()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var Of=class n{notificationService=S(Na);copy(e,t){navigator.clipboard?(navigator.clipboard.writeText(e),this.notificationService.success(t??"Copiado!")):this.notificationService.warn(t??"No se puede copiar!")}static \u0275fac=function(t){return new(t||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ff=class n{baseId="prompt-dict";save(e,t){localStorage.setItem(this.fullIdentifier(e),JSON.stringify(t))}get(e){let t=localStorage.getItem(this.fullIdentifier(e));if(t)try{return JSON.parse(t)}catch(r){return console.error(`Error parsing value for ${e}:`,r),null}return null}delete(e){localStorage.removeItem(this.fullIdentifier(e))}fullIdentifier(e){return`${this.baseId}-${e}`}static \u0275fac=function(t){return new(t||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var Lf=class n{store=S(Ff);darkMode=Me(this.store.get("darkMode")??this.darkModeSystem());toggle(){this.darkMode.set(!this.darkMode())}constructor(){Sa(()=>this.apply(this.darkMode()))}apply(e){this.store.save("darkMode",e),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");let t=document.querySelector("meta[name='color-scheme']");if(t)t.setAttribute("content",e?"dark light":"light");else{let r=document.createElement("meta");r.setAttribute("name","color-scheme"),r.setAttribute("content",e?"dark light":"light"),document.head.appendChild(r)}}darkModeSystem(){return window.matchMedia("(prefers-color-scheme: dark)").matches}static \u0275fac=function(t){return new(t||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var gR=()=>{};var vR=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},wU=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Vf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(t[h],t[p],t[g],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(vR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):wU(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new rE;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let I=l<<6&192|p;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},rE=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},DU=function(n){let e=vR(n);return Vf.encodeByteArray(e,!0)},qu=function(n){return DU(n).replace(/\./g,"")},jf=function(n){try{return Vf.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function oE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var bU=()=>oE().__FIREBASE_DEFAULTS__,TU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},CU=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&jf(n[1]);return e&&JSON.parse(e)},Uf=()=>{try{return gR()||bU()||TU()||CU()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},sE=n=>{var e,t;return(t=(e=Uf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},_R=n=>{let e=sE(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},aE=()=>{var n;return(n=Uf())===null||n===void 0?void 0:n.config},cE=n=>{var e;return(e=Uf())===null||e===void 0?void 0:e[`_${n}`]};var Xo=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Wi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Bf(n){return(await fetch(n,{credentials:"include"})).ok}function ER(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[qu(JSON.stringify(t)),qu(JSON.stringify(s)),""].join(".")}var $u={};function SU(){let n={prod:[],emulator:[]};for(let e of Object.keys($u))$u[e]?n.emulator.push(e):n.prod.push(e);return n}function AU(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var mR=!1;function Hf(n,e){if(typeof window>"u"||typeof document>"u"||!Wi(window.location.host)||$u[n]===e||$u[n]||mR)return;$u[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=SU().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{mR=!0,s()},g}function h(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=AU(r),y=t("text"),I=document.getElementById(y)||document.createElement("span"),A=t("learnmore"),N=document.getElementById(A)||document.createElement("a"),k=t("preprendIcon"),H=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let Y=g.element;a(Y),h(N,A);let Ce=l();u(H,k),Y.append(H,I,N,Ce),document.body.appendChild(Y)}o?(I.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function RU(){var n;let e=(n=Uf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DR(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function bR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TR(){let n=It();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function CR(){return!RU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zu(){try{return typeof indexedDB=="object"}catch{return!1}}function SR(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var NU="FirebaseError",En=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=NU,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jn.prototype.create)}},Jn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?MU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new En(i,a,r)}};function MU(n,e){return n.replace(PU,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var PU=/\{\$([^}]+)}/g;function AR(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function wr(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(yR(o)&&yR(s)){if(!wr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function yR(n){return n!==null&&typeof n=="object"}function Ma(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function RR(n,e){let t=new iE(n,e);return t.subscribe.bind(t)}var iE=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");xU(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=nE),i.error===void 0&&(i.error=nE),i.complete===void 0&&(i.complete=nE);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function xU(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function nE(){}var Nre=4*60*60*1e3;function ut(n){return n&&n._delegate?n._delegate:n}var Xt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var es="[DEFAULT]";var uE=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Xo;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OU(e))try{this.getOrInitializeService({instanceIdentifier:es})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=es){return this.instances.has(e)}getOptions(e=es){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kU(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=es){return this.component?this.component.multipleInstances?e:es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function kU(n){return n===es?void 0:n}function OU(n){return n.instantiationMode==="EAGER"}var $f=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new uE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var FU=[],ve=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ve||{}),LU={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},VU=ve.INFO,jU={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},UU=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=jU[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Dr=class{constructor(e){this.name=e,this._logLevel=VU,this._logHandler=UU,this._userLogHandler=null,FU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}};var BU=(n,e)=>e.some(t=>n instanceof t),NR,MR;function HU(){return NR||(NR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $U(){return MR||(MR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var PR=new WeakMap,dE=new WeakMap,xR=new WeakMap,lE=new WeakMap,fE=new WeakMap;function qU(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(br(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&PR.set(t,n)}).catch(()=>{}),fE.set(e,n),e}function zU(n){if(dE.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});dE.set(n,e)}var hE={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return dE.get(n);if(e==="objectStoreNames")return n.objectStoreNames||xR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return br(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function kR(n){hE=n(hE)}function GU(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(qf(this),e,...t);return xR.set(r,e.sort?e.sort():[e]),br(r)}:$U().includes(n)?function(...e){return n.apply(qf(this),e),br(PR.get(this))}:function(...e){return br(n.apply(qf(this),e))}}function WU(n){return typeof n=="function"?GU(n):(n instanceof IDBTransaction&&zU(n),BU(n,HU())?new Proxy(n,hE):n)}function br(n){if(n instanceof IDBRequest)return qU(n);if(lE.has(n))return lE.get(n);let e=WU(n);return e!==n&&(lE.set(n,e),fE.set(e,n)),e}var qf=n=>fE.get(n);function FR(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=br(s);return r&&s.addEventListener("upgradeneeded",u=>{r(br(s.result),u.oldVersion,u.newVersion,br(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var KU=["get","getKey","getAll","getAllKeys","count"],QU=["put","add","delete","clear"],pE=new Map;function OR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(pE.get(e))return pE.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=QU.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||KU.includes(t)))return;let o=async function(s,...a){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[t](...a),i&&u.done]))[0]};return pE.set(e,o),o}kR(n=>Z(x({},n),{get:(e,t,r)=>OR(e,t)||n.get(e,t,r),has:(e,t)=>!!OR(e,t)||n.has(e,t)}));var mE=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(YU(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function YU(n){let e=n.getComponent();return e?.type==="VERSION"}var yE="@firebase/app",LR="0.13.2";var oi=new Dr("@firebase/app"),ZU="@firebase/app-compat",JU="@firebase/analytics-compat",XU="@firebase/analytics",eB="@firebase/app-check-compat",tB="@firebase/app-check",nB="@firebase/auth",rB="@firebase/auth-compat",iB="@firebase/database",oB="@firebase/data-connect",sB="@firebase/database-compat",aB="@firebase/functions",cB="@firebase/functions-compat",uB="@firebase/installations",lB="@firebase/installations-compat",dB="@firebase/messaging",hB="@firebase/messaging-compat",fB="@firebase/performance",pB="@firebase/performance-compat",gB="@firebase/remote-config",mB="@firebase/remote-config-compat",yB="@firebase/storage",vB="@firebase/storage-compat",_B="@firebase/firestore",EB="@firebase/ai",IB="@firebase/firestore-compat",wB="firebase",DB="11.10.0";var vE="[DEFAULT]",bB={[yE]:"fire-core",[ZU]:"fire-core-compat",[XU]:"fire-analytics",[JU]:"fire-analytics-compat",[tB]:"fire-app-check",[eB]:"fire-app-check-compat",[nB]:"fire-auth",[rB]:"fire-auth-compat",[iB]:"fire-rtdb",[oB]:"fire-data-connect",[sB]:"fire-rtdb-compat",[aB]:"fire-fn",[cB]:"fire-fn-compat",[uB]:"fire-iid",[lB]:"fire-iid-compat",[dB]:"fire-fcm",[hB]:"fire-fcm-compat",[fB]:"fire-perf",[pB]:"fire-perf-compat",[gB]:"fire-rc",[mB]:"fire-rc-compat",[yB]:"fire-gcs",[vB]:"fire-gcs-compat",[_B]:"fire-fst",[IB]:"fire-fst-compat",[EB]:"fire-vertex","fire-js":"fire-js",[wB]:"fire-js-all"};var Gu=new Map,TB=new Map,_E=new Map;function VR(n,e){try{n.container.addComponent(e)}catch(t){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Xn(n){let e=n.name;if(_E.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;_E.set(e,n);for(let t of Gu.values())VR(t,n);for(let t of TB.values())VR(t,n);return!0}function Pa(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function In(n){return n==null?!1:n.settings!==void 0}var CB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ki=new Jn("app","Firebase",CB);var EE=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}};var Qi=DB;function DE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:vE,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ki.create("bad-app-name",{appName:String(i)});if(t||(t=aE()),!t)throw Ki.create("no-options");let o=Gu.get(i);if(o){if(wr(t,o.options)&&wr(r,o.config))return o;throw Ki.create("duplicate-app",{appName:i})}let s=new $f(i);for(let u of _E.values())s.addComponent(u);let a=new EE(t,r,s);return Gu.set(i,a),a}function ts(n=vE){let e=Gu.get(n);if(!e&&n===vE&&aE())return DE();if(!e)throw Ki.create("no-app",{appName:n});return e}function zf(){return Array.from(Gu.values())}function Ge(n,e,t){var r;let i=(r=bB[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(a.join(" "));return}Xn(new Xt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var SB="firebase-heartbeat-database",AB=1,Wu="firebase-heartbeat-store",gE=null;function HR(){return gE||(gE=FR(SB,AB,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Wu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ki.create("idb-open",{originalErrorMessage:n.message})})),gE}async function RB(n){try{let t=(await HR()).transaction(Wu),r=await t.objectStore(Wu).get($R(n));return await t.done,r}catch(e){if(e instanceof En)oi.warn(e.message);else{let t=Ki.create("idb-get",{originalErrorMessage:e?.message});oi.warn(t.message)}}}async function jR(n,e){try{let r=(await HR()).transaction(Wu,"readwrite");await r.objectStore(Wu).put(e,$R(n)),await r.done}catch(t){if(t instanceof En)oi.warn(t.message);else{let r=Ki.create("idb-set",{originalErrorMessage:t?.message});oi.warn(r.message)}}}function $R(n){return`${n.name}!${n.options.appId}`}var NB=1024,MB=30,IE=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new wE(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=UR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>MB){let s=xB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){oi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=UR(),{heartbeatsToSend:r,unsentEntries:i}=PB(this._heartbeatsCache.heartbeats),o=qu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return oi.warn(t),""}}};function UR(){return new Date().toISOString().substring(0,10)}function PB(n,e=NB){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),BR(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),BR(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var wE=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zu()?SR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await RB(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return jR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return jR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function BR(n){return qu(JSON.stringify({version:2,heartbeats:n})).length}function xB(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function kB(n){Xn(new Xt("platform-logger",e=>new mE(e),"PRIVATE")),Xn(new Xt("heartbeat",e=>new IE(e),"PRIVATE")),Ge(yE,LR,n),Ge(yE,LR,"esm2017"),Ge("fire-js","")}kB("");var OB="firebase",FB="11.10.0";Ge(OB,FB,"app");function oie(n,e){let r=!e?.manualCleanup?e?.injector?.get(Nt)??S(Nt):null,i=LB(e?.equal),o;e?.requireSync?o=Me({kind:0},{equal:i}):o=Me({kind:1,value:e?.initialValue},{equal:i});let s,a=n.subscribe({next:u=>o.set({kind:1,value:u}),error:u=>{o.set({kind:2,error:u}),s?.()},complete:()=>{s?.()}});if(e?.requireSync&&o().kind===0)throw new j(601,!1);return s=r?.onDestroy(a.unsubscribe.bind(a)),ln(()=>{let u=o();switch(u.kind){case 1:return u.value;case 2:throw u.error;case 0:throw new j(601,!1)}},{equal:e?.equal})}function LB(n=Object.is){return(e,t)=>e.kind===1&&t.kind===1&&n(e.value,t.value)}function qR(n){n===void 0&&(n=S(Ue));let e=n.get(Ui);return t=>new de(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Yi=new Aa("ANGULARFIRE2_VERSION");function Ku(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var ka=(n,e)=>{let t=e?[e]:zf(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},xa=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(xa||{}),zR=X_()&&typeof Zone<"u"?xa.WARN:xa.SILENT;var Gf=class{zone;delegate;constructor(e,t=oy){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Zi=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=S(De);this.outsideAngular=t.runOutsideAngular(()=>new Gf(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Gf(typeof Zone>"u"?void 0:Zone.current,tu))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),GR=!1;function VB(n,e){!GR&&(zR>xa.SILENT||X_())&&(GR=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),zR>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function jB(n){let e=S(De,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function ns(n){let e=S(De,{optional:!0});return e?e.run(()=>n()):n()}var UB=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),mt(t,()=>ns(()=>n.apply(void 0,r)))),Lt=(n,e,t)=>(t||=e?xa.WARN:xa.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=S(Zi),s=S(Ui),a=S(Je)}catch{return VB(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=ns(()=>s.add())),i[l]=UB(i[l],r,a));let u=jB(()=>n.apply(this,i));return e?u instanceof de?u.pipe(Ni(o.outsideAngular),Ri(o.insideAngular),qR(a)):u instanceof Promise?ns(()=>{let l=s.add();return new Promise((h,p)=>{u.then(g=>mt(a,()=>ns(()=>h(g))),g=>mt(a,()=>ns(()=>p(g)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:ns(()=>u):u instanceof de?u.pipe(Ni(o.outsideAngular),Ri(o.insideAngular)):ns(()=>u)});var si=class{constructor(e){return e}},rs=class{constructor(){return zf()}};function BB(n){return n&&n.length===1?n[0]:new si(ts())}var bE=new U("angularfire2._apps"),HB={provide:si,useFactory:BB,deps:[[new sn,bE]]},$B={provide:rs,deps:[[new sn,bE]]};function qB(n){return(e,t)=>{let r=t.get($i);Ge("angularfire",Yi.full,"core"),Ge("angularfire",Yi.full,"app"),Ge("angular",fR.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new si(i)}}function bie(n,...e){return gn([HB,$B,{provide:bE,useFactory:qB(n),multi:!0,deps:[De,Ue,Zi,...e]}])}var Tie=Lt(DE,!0);var QR=null;function xn(){return QR}function TE(n){QR??=n}var Qu=class{},CE=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>S(YR),providedIn:"platform"})}return n})();var YR=(()=>{class n extends CE{_location;_history;_doc=S(Et);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return xn().getBaseHref(this._doc)}onPopState(t){let r=xn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=xn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function ZR(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function WR(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Ji(n){return n&&n[0]!=="?"?`?${n}`:n}var Oa=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>S(JR),providedIn:"root"})}return n})(),Wf=new U(""),JR=(()=>{class n extends Oa{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??S(Et).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ZR(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Ji(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ji(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ji(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(K(CE),K(Wf,8))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Fa=(()=>{class n{_subject=new Ye;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=WB(WR(KR(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ji(r))}normalize(t){return n.stripTrailingSlash(GB(this._basePath,KR(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ji(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ji(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ji;static joinWithSlash=ZR;static stripTrailingSlash=WR;static \u0275fac=function(r){return new(r||n)(K(Oa))};static \u0275prov=F({token:n,factory:()=>zB(),providedIn:"root"})}return n})();function zB(){return new Fa(K(Oa))}function GB(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function KR(n){return n.replace(/\/index.html$/,"")}function WB(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Kf=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},eN=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Kf(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),XR(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);XR(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(z(qi),z(qo),z(eE))};static \u0275dir=ue({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function XR(n,e){n.context.$implicit=e.item}function tN(n,e){return new j(2100,!1)}var SE=class{createSubscription(e,t,r){return Jt(()=>e.subscribe({next:t,error:r}))}dispose(e){Jt(()=>e.unsubscribe())}},AE=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},KB=new AE,QB=new SE,is=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=S(Ot);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(ei(t))return KB;if(Cf(t))return QB;throw tN(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(z(Gi,16))};static \u0275pipe=wa({name:"async",type:n,pure:!1})}return n})();var YB=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,ZB=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw tN(n,t);return t.replace(YB,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=wa({name:"titlecase",type:n,pure:!0})}return n})();var nN=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Xr({type:n});static \u0275inj=lr({})}return n})();function RE(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Yu=class{};var rN="browser";var XB=new Map,eH={activated:!1,tokenObservers:[]},tH={initialized:!1,enabled:!1};function er(n){return XB.get(n)||Object.assign({},eH)}function aN(){return tH}var nH="https://content-firebaseappcheck.googleapis.com/v1";var rH="exchangeDebugToken",iN={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},dse=24*60*60*1e3;var PE=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new Xo,this.pending.promise.catch(t=>{}),await iH(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new Xo,this.pending.promise.catch(t=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function iH(n){return new Promise(e=>{setTimeout(e,n)})}var oH={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Xi=new Jn("appCheck","AppCheck",oH);function cN(n){if(!er(n).activated)throw Xi.create("use-before-activation",{appName:n.name})}async function uN({url:n,body:e},t){let r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){let p=await i.getHeartbeatsHeader();p&&(r["X-Firebase-Client"]=p)}let o={method:"POST",body:JSON.stringify(e),headers:r},s;try{s=await fetch(n,o)}catch(p){throw Xi.create("fetch-network-error",{originalErrorMessage:p?.message})}if(s.status!==200)throw Xi.create("fetch-status-error",{httpStatus:s.status});let a;try{a=await s.json()}catch(p){throw Xi.create("fetch-parse-error",{originalErrorMessage:p?.message})}let u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Xi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});let l=Number(u[1])*1e3,h=Date.now();return{token:a.token,expireTimeMillis:h+l,issuedAtTimeMillis:h}}function lN(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${nH}/projects/${t}/apps/${r}:${rH}?key=${i}`,body:{debug_token:e}}}var sH="firebase-app-check-database",aH=1,xE="firebase-app-check-store";var Qf=null;function cH(){return Qf||(Qf=new Promise((n,e)=>{try{let t=indexedDB.open(sH,aH);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Xi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(xE,{keyPath:"compositeKey"})}}}catch(t){e(Xi.create("storage-open",{originalErrorMessage:t?.message}))}}),Qf)}function uH(n,e){return lH(dH(n),e)}async function lH(n,e){let r=(await cH()).transaction(xE,"readwrite"),o=r.objectStore(xE).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Xi.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}function dH(n){return`${n.options.appId}-${n.name}`}var Zu=new Dr("@firebase/app-check");function NE(n,e){return zu()?uH(n,e).catch(t=>{Zu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function dN(){return aN().enabled}async function hN(){let n=aN();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var hH={error:"UNKNOWN_ERROR"};function fH(n){return Vf.encodeString(JSON.stringify(n),!1)}async function kE(n,e=!1,t=!1){let r=n.app;cN(r);let i=er(r),o=i.token,s;if(o&&!Ju(o)&&(i.token=void 0,o=void 0),!o){let l=await i.cachedTokenPromise;l&&(Ju(l)?o=l:await NE(r,void 0))}if(!e&&o&&Ju(o))return{token:o.token};let a=!1;if(dN())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=uN(lN(r,await hN()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=await i.exchangeTokenPromise;return await NE(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Zu.warn(l.message):t&&Zu.error(l),ME(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=await er(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Zu.warn(l.message):t&&Zu.error(l),s=l}let u;return o?s?Ju(o)?u={token:o.token,internalError:s}:u=ME(s):(u={token:o.token},i.token=o,await NE(r,o)):u=ME(s),a&&yH(r,u),u}async function pH(n){let e=n.app;cN(e);let{provider:t}=er(e);if(dN()){let r=await hN(),{token:i}=await uN(lN(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await t.getToken();return{token:r}}}function gH(n,e,t,r){let{app:i}=n,o=er(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Ju(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),oN(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>oN(n))}function fN(n,e){let t=er(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function oN(n){let{app:e}=n,t=er(e),r=t.tokenRefresher;r||(r=mH(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function mH(n){let{app:e}=n;return new PE(async()=>{let t=er(e),r;if(t.token?r=await kE(n,!0):r=await kE(n),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let t=er(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},iN.RETRIAL_MIN_WAIT,iN.RETRIAL_MAX_WAIT)}function yH(n,e){let t=er(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Ju(n){return n.expireTimeMillis-Date.now()>0}function ME(n){return{token:fH(hH),error:n}}var OE=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=er(this.app);for(let t of e)fN(this.app,t.next);return Promise.resolve()}};function vH(n,e){return new OE(n,e)}function _H(n){return{getToken:e=>kE(n,e),getLimitedUseToken:()=>pH(n),addTokenListener:e=>gH(n,"INTERNAL",e),removeTokenListener:e=>fN(n.app,e)}}var EH="@firebase/app-check",IH="0.10.1";var wH="app-check",sN="app-check-internal";function DH(){Xn(new Xt(wH,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return vH(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(sN).initialize()})),Xn(new Xt(sN,n=>{let e=n.getProvider("app-check").getImmediate();return _H(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ge(EH,IH)}DH();var bH="app-check";var La=class{constructor(){return ka(bH)}};var TH=["localhost","0.0.0.0","127.0.0.1"],Dse=typeof window<"u"&&TH.includes(window.location.hostname);function AN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var RN=AN,NN=new Jn("auth","Firebase",AN());var tp=new Dr("@firebase/auth");function CH(n,...e){tp.logLevel<=ve.WARN&&tp.warn(`Auth (${Qi}): ${n}`,...e)}function Zf(n,...e){tp.logLevel<=ve.ERROR&&tp.error(`Auth (${Qi}): ${n}`,...e)}function Cr(n,...e){throw XE(n,...e)}function tr(n,...e){return XE(n,...e)}function JE(n,e,t){let r=Object.assign(Object.assign({},RN()),{[e]:t});return new Jn("auth","Firebase",r).create(e,{appName:n.name})}function os(n){return JE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function SH(n,e,t){let r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Cr(n,"argument-error"),JE(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function XE(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return NN.create(n,...e)}function re(n,e,...t){if(!n)throw XE(e,...t)}function ai(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Zf(e),new Error(e)}function ui(n,e){n||ai(e)}function VE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function AH(){return pN()==="http:"||pN()==="https:"}function pN(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function RH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AH()||DR()||"connection"in navigator)?navigator.onLine:!0}function NH(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ss=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,ui(t>e,"Short delay should be less than long delay!"),this.isMobile=IR()||bR()}get(){return RH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function eI(n,e){ui(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var np=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var MH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var PH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xH=new ss(3e4,6e4);function tI(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ja(n,e,t,r,i={}){return MN(n,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=Ma(Object.assign({key:n.config.apiKey},s)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);let l=Object.assign({method:e,headers:u},o);return wR()||(l.referrerPolicy="no-referrer"),n.emulatorConfig&&Wi(n.emulatorConfig.host)&&(l.credentials="include"),np.fetch()(await PN(n,n.config.apiHost,t,a),l)})}async function MN(n,e,t){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},MH),e);try{let i=new jE(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw Yf(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yf(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Yf(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Yf(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw JE(n,h,l);Cr(n,h)}}catch(i){if(i instanceof En)throw i;Cr(n,"network-request-failed",{message:String(i)})}}async function kH(n,e,t,r,i={}){let o=await ja(n,e,t,r,i);return"mfaPendingCredential"in o&&Cr(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function PN(n,e,t,r){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?eI(n.config,i):`${n.config.apiScheme}://${i}`;return PH.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}var jE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(tr(this.auth,"network-request-failed")),xH.get())})}};function Yf(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=tr(n,e,r);return i.customData._tokenResponse=t,i}async function OH(n,e){return ja(n,"POST","/v1/accounts:delete",e)}async function rp(n,e){return ja(n,"POST","/v1/accounts:lookup",e)}function Xu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nI(n,e=!1){let t=ut(n),r=await t.getIdToken(e),i=rI(r);re(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Xu(FE(i.auth_time)),issuedAtTime:Xu(FE(i.iat)),expirationTime:Xu(FE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function FE(n){return Number(n)*1e3}function rI(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Zf("JWT malformed, contained fewer than 3 sections"),null;try{let i=jf(t);return i?JSON.parse(i):(Zf("Failed to decode base64 JWT payload"),null)}catch(i){return Zf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function gN(n){let e=rI(n);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function tl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof En&&FH(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function FH({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var UE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var nl=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xu(this.lastLoginAt),this.creationTime=Xu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function ip(n){var e;let t=n.auth,r=await n.getIdToken(),i=await tl(n,rp(t,{idToken:r}));re(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?xN(o.providerUserInfo):[],a=LH(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new nl(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)}async function iI(n){let e=ut(n);await ip(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LH(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function xN(n){return n.map(e=>{var{providerId:t}=e,r=Gd(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function VH(n,e){let t=await MN(n,{},async()=>{let r=Ma({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=await PN(n,i,"/v1/token",`key=${o}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&Wi(n.emulatorConfig.host)&&(u.credentials="include"),np.fetch()(s,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function jH(n,e){return ja(n,"POST","/v2/accounts:revokeToken",tI(n,e))}var el=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){re(e.length!==0,"internal-error");let t=gN(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:o}=await VH(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(re(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(re(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ai("not implemented")}};function eo(n,e){re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var to=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Gd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new UE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new nl(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){let t=await tl(this,this.stsTokenManager.getToken(this.auth,e));return re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return nI(this,e)}reload(){return iI(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ip(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(os(this.auth));let e=await this.getIdToken();return await tl(this,OH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,I=(s=t.photoURL)!==null&&s!==void 0?s:void 0,A=(a=t.tenantId)!==null&&a!==void 0?a:void 0,N=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,k=(l=t.createdAt)!==null&&l!==void 0?l:void 0,H=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:Y,emailVerified:Ce,isAnonymous:Qe,providerData:Ne,stsTokenManager:D}=t;re(Y&&D,e,"internal-error");let v=el.fromJSON(this.name,D);re(typeof Y=="string",e,"internal-error"),eo(p,e.name),eo(g,e.name),re(typeof Ce=="boolean",e,"internal-error"),re(typeof Qe=="boolean",e,"internal-error"),eo(y,e.name),eo(I,e.name),eo(A,e.name),eo(N,e.name),eo(k,e.name),eo(H,e.name);let E=new n({uid:Y,auth:e,email:g,emailVerified:Ce,displayName:p,isAnonymous:Qe,photoURL:I,phoneNumber:y,tenantId:A,stsTokenManager:v,createdAt:k,lastLoginAt:H});return Ne&&Array.isArray(Ne)&&(E.providerData=Ne.map(w=>Object.assign({},w))),N&&(E._redirectEventId=N),E}static async _fromIdTokenResponse(e,t,r=!1){let i=new el;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ip(o),o}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];re(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?xN(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new el;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new nl(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var mN=new Map;function ci(n){ui(n instanceof Function,"Expected a class definition");let e=mN.get(n);return e?(ui(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,mN.set(n,e),e)}var UH=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),BE=UH;function Jf(n,e,t){return`firebase:${n}:${e}:${t}`}var op=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Jf(this.userKey,i.apiKey,o),this.fullPersistenceKey=Jf("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await rp(this.auth,{idToken:e}).catch(()=>{});return t?to._fromGetAccountInfoResponse(this.auth,t,e):null}return to._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(ci(BE),e,r);let i=(await Promise.all(t.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||ci(BE),s=Jf(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=await l._get(s);if(h){let p;if(typeof h=="string"){let g=await rp(e,{idToken:h}).catch(()=>{});if(!g)break;p=await to._fromGetAccountInfoResponse(e,g,h)}else p=to._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(t.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new n(o,e,r))}};function yN(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jN(e))return"Blackberry";if(UN(e))return"Webos";if(ON(e))return"Safari";if((e.includes("chrome/")||FN(e))&&!e.includes("edge/"))return"Chrome";if(VN(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function kN(n=It()){return/firefox\//i.test(n)}function ON(n=It()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FN(n=It()){return/crios\//i.test(n)}function LN(n=It()){return/iemobile/i.test(n)}function VN(n=It()){return/android/i.test(n)}function jN(n=It()){return/blackberry/i.test(n)}function UN(n=It()){return/webos/i.test(n)}function oI(n=It()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function BH(n=It()){var e;return oI(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function HH(){return TR()&&document.documentMode===10}function BN(n=It()){return oI(n)||VN(n)||UN(n)||jN(n)||/windows phone/i.test(n)||LN(n)}function HN(n,e=[]){let t;switch(n){case"Browser":t=yN(It());break;case"Worker":t=`${yN(It())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Qi}/${r}`}var HE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function $H(n,e={}){return ja(n,"GET","/v2/passwordPolicy",tI(n,e))}var qH=6,$E=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:qH,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var qE=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sp(this),this.idTokenSubscription=new sp(this),this.beforeStateQueue=new HE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ci(t)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await op.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await rp(this,{idToken:e}),r=await to._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(In(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ip(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(In(this.app))return Promise.reject(os(this));let t=e?ut(e):null;return t&&re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return In(this.app)?Promise.reject(os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await $H(this),t=new $E(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await jH(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&ci(e)||this._popupRedirectResolver;re(t,this,"argument-error"),this.redirectPersistenceManager=await op.create(this,[ci(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&CH(`Error while retrieving App Check token: ${t.error}`),t?.token}};function pp(n){return ut(n)}var sp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=RR(t=>this.observer=t)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var sI={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zH(n){sI=n}function GH(n){return sI.loadJS(n)}function WH(){return sI.gapiScript}function $N(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function aI(n,e){let t=Pa(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(wr(o,e??{}))return i;Cr(i,"already-initialized")}return t.initialize({options:e})}function KH(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ci);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function cI(n,e,t){let r=pp(n);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=qN(e),{host:s,port:a}=QH(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(wr(l,r.config.emulator)&&wr(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Wi(s)?(Bf(`${o}//${s}${u}`),Hf("Auth",!0)):i||YH()}function qN(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function QH(n){let e=qN(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:vN(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:vN(s)}}}function vN(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function YH(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var rl=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ai("not implemented")}_getIdTokenResponse(e){return ai("not implemented")}_linkToIdToken(e,t){return ai("not implemented")}_getReauthenticationResolver(e){return ai("not implemented")}};async function Va(n,e){return kH(n,"POST","/v1/accounts:signInWithIdp",tI(n,e))}var ZH="http://localhost",ap=class n extends rl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Cr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=Gd(t,["providerId","signInMethod"]);if(!r||!i)return null;let s=new n(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return Va(e,t)}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,Va(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,Va(e,t)}buildRequest(){let e={requestUri:ZH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ma(t)}return e}};var il=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var cp=class extends il{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var uI=(()=>{class n extends cp{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return ap._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();var ol=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){let o=await to._fromIdTokenResponse(e,r,i),s=_N(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);let i=_N(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function _N(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var zE=class n extends En{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function zN(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?zE._fromErrorAndOperation(n,o,e,r):o})}async function JH(n,e,t=!1){let r=await tl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ol._forOperation(n,"link",r)}async function XH(n,e,t=!1){let{auth:r}=n;if(In(r.app))return Promise.reject(os(r));let i="reauthenticate";try{let o=await tl(n,zN(r,i,e,n),t);re(o.idToken,r,"internal-error");let s=rI(o.idToken);re(s,r,"internal-error");let{sub:a}=s;return re(n.uid===a,r,"user-mismatch"),ol._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Cr(r,"user-mismatch"),o}}async function e$(n,e,t=!1){if(In(n.app))return Promise.reject(os(n));let r="signIn",i=await zN(n,r,e),o=await ol._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}function lI(n,e,t,r){return ut(n).onIdTokenChanged(e,t,r)}function dI(n,e,t){return ut(n).beforeAuthStateChanged(e,t)}function hI(n){return ut(n).signOut()}var up="__sak";var lp=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(up,"1"),this.storage.removeItem(up),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var t$=1e3,n$=10,r$=(()=>{class n extends lp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BN(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);HH()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,n$):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},t$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){let r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}return n.type="LOCAL",n})(),GN=r$;var i$=(()=>{class n extends lp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),fI=i$;function o$(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var s$=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(async h=>h(r.origin,s)),l=await o$(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function pI(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var GE=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=pI("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function Tr(){return window}function a$(n){Tr().location.href=n}function WN(){return typeof Tr().WorkerGlobalScope<"u"&&typeof Tr().importScripts=="function"}async function c$(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function u$(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function l$(){return WN()?self:null}var KN="firebaseLocalStorageDb",d$=1,dp="firebaseLocalStorage",QN="fbase_key",as=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function gp(n,e){return n.transaction([dp],e?"readwrite":"readonly").objectStore(dp)}function h$(){let n=indexedDB.deleteDatabase(KN);return new as(n).toPromise()}function WE(){let n=indexedDB.open(KN,d$);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(dp,{keyPath:QN})}catch(i){t(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(dp)?e(r):(r.close(),await h$(),e(await WE()))})})}async function EN(n,e,t){let r=gp(n,!0).put({[QN]:e,value:t});return new as(r).toPromise()}async function f$(n,e){let t=gp(n,!1).get(e),r=await new as(t).toPromise();return r===void 0?null:r.value}function IN(n,e){let t=gp(n,!0).delete(e);return new as(t).toPromise()}var p$=800,g$=3,m$=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await WE(),this.db)}async _withRetries(t){let r=0;for(;;)try{let i=await this._openDb();return await t(i)}catch(i){if(r++>g$)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=s$._getInstance(l$()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await c$(),!this.activeServiceWorker)return;this.sender=new GE(this.activeServiceWorker);let i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||u$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await WE();return await EN(t,up,"1"),await IN(t,up),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>EN(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){let r=await this._withRetries(i=>f$(i,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>IN(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(o=>{let s=gp(o,!1).getAll();return new as(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),p$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),YN=m$;var xse=$N("rcb"),kse=new ss(3e4,6e4);function ZN(n,e){return e?ci(e):(re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var sl=class extends rl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Va(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Va(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Va(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function y$(n){return e$(n.auth,new sl(n),n.bypassAuthState)}function v$(n){let{auth:e,user:t}=n;return re(t,e,"internal-error"),XH(t,new sl(n),n.bypassAuthState)}async function _$(n){let{auth:e,user:t}=n;return re(t,e,"internal-error"),JH(t,new sl(n),n.bypassAuthState)}var hp=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return y$;case"linkViaPopup":case"linkViaRedirect":return _$;case"reauthViaPopup":case"reauthViaRedirect":return v$;default:Cr(this.auth,"internal-error")}}resolve(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var E$=new ss(2e3,1e4);async function gI(n,e,t){if(In(n.app))return Promise.reject(tr(n,"operation-not-supported-in-this-environment"));let r=pp(n);SH(n,e,il);let i=ZN(r,t);return new I$(r,"signInViaPopup",e,i).executeNotNull()}var I$=(()=>{class n extends hp{constructor(t,r,i,o,s){super(t,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}async executeNotNull(){let t=await this.execute();return re(t,this.auth,"internal-error"),t}async onExecution(){ui(this.filter.length===1,"Popup operations only handle one event");let t=pI();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,E$.get())};t()}}n.currentPopupAction=null;return n})(),w$="pendingRedirect",Xf=new Map,KE=class extends hp{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Xf.get(this.auth._key());if(!e){try{let r=await D$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Xf.set(this.auth._key(),e)}return this.bypassAuthState||Xf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function D$(n,e){let t=C$(e),r=T$(n);if(!await r._isAvailable())return!1;let i=await r._get(t)==="true";return await r._remove(t),i}function b$(n,e){Xf.set(n._key(),e)}function T$(n){return ci(n._redirectPersistence)}function C$(n){return Jf(w$,n.config.apiKey,n.name)}async function S$(n,e,t=!1){if(In(n.app))return Promise.reject(os(n));let r=pp(n),i=ZN(r,e),s=await new KE(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var A$=10*60*1e3,QE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!R$(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!JN(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(tr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=A$&&this.cachedEventUids.clear(),this.cachedEventUids.has(wN(e))}saveEventToCache(e){this.cachedEventUids.add(wN(e)),this.lastProcessedEventTime=Date.now()}};function wN(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function JN({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function R$(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JN(n);default:return!1}}async function N$(n,e={}){return ja(n,"GET","/v1/projects",e)}var M$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P$=/^https?/;async function x$(n){if(n.config.emulator)return;let{authorizedDomains:e}=await N$(n);for(let t of e)try{if(k$(t))return}catch{}Cr(n,"unauthorized-domain")}function k$(n){let e=VE(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!P$.test(t))return!1;if(M$.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var O$=new ss(3e4,6e4);function DN(){let n=Tr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function F$(n){return new Promise((e,t)=>{var r,i,o;function s(){DN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DN(),t(tr(n,"network-request-failed"))},timeout:O$.get()})}if(!((i=(r=Tr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Tr().gapi)===null||o===void 0)&&o.load)s();else{let a=$N("iframefcb");return Tr()[a]=()=>{gapi.load?s():t(tr(n,"network-request-failed"))},GH(`${WH()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw ep=null,e})}var ep=null;function L$(n){return ep=ep||F$(n),ep}var V$=new ss(5e3,15e3),j$="__/auth/iframe",U$="emulator/auth/iframe",B$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},H$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $$(n){let e=n.config;re(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?eI(e,U$):`https://${n.config.authDomain}/${j$}`,r={apiKey:e.apiKey,appName:n.name,v:Qi},i=H$.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Ma(r).slice(1)}`}async function q$(n){let e=await L$(n),t=Tr().gapi;return re(t,n,"internal-error"),e.open({where:document.body,url:$$(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B$,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=tr(n,"network-request-failed"),a=Tr().setTimeout(()=>{o(s)},V$.get());function u(){Tr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})}))}var z$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},G$=500,W$=600,K$="_blank",Q$="http://localhost",fp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Y$(n,e,t,r=G$,i=W$){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},z$),{width:r.toString(),height:i.toString(),top:o,left:s}),l=It().toLowerCase();t&&(a=FN(l)?K$:t),kN(l)&&(e=e||Q$,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[y,I])=>`${g}${y}=${I},`,"");if(BH(l)&&a!=="_self")return Z$(e||"",a),new fp(null);let p=window.open(e||"",a,h);re(p,n,"popup-blocked");try{p.focus()}catch{}return new fp(p)}function Z$(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var J$="__/auth/handler",X$="emulator/auth/handler",e4=encodeURIComponent("fac");async function bN(n,e,t,r,i,o){re(n.config.authDomain,n,"auth-domain-config-required"),re(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Qi,eventId:i};if(e instanceof il){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",AR(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof cp){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=await n._getAppCheckToken(),l=u?`#${e4}=${encodeURIComponent(u)}`:"";return`${t4(n)}?${Ma(a).slice(1)}${l}`}function t4({config:n}){return n.emulator?eI(n,X$):`https://${n.authDomain}/${J$}`}var LE="webStorageSupport",YE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fI,this._completeRedirectFn=S$,this._overrideRedirectResult=b$}async _openPopup(e,t,r,i){var o;ui((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=await bN(e,t,r,VE(),i);return Y$(e,s,pI())}async _openRedirect(e,t,r,i){await this._originValidation(e);let o=await bN(e,t,r,VE(),i);return a$(o),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(ui(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await q$(e),r=new QE(e);return t.register("authEvent",i=>(re(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(LE,{type:LE},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[LE];s!==void 0&&t(!!s),Cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=x$(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return BN()||ON()||oI()}},XN=YE;var TN="@firebase/auth",CN="1.10.8";var ZE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function n4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function r4(n){Xn(new Xt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;re(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HN(n)},l=new qE(r,i,o,u);return KH(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Xn(new Xt("auth-internal",e=>{let t=pp(e.getProvider("auth").getImmediate());return(r=>new ZE(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ge(TN,CN,n4(n)),Ge(TN,CN,"esm2017")}var i4=5*60,o4=cE("authIdTokenMaxAge")||i4,SN=null,s4=n=>async e=>{let t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>o4)return;let i=t?.token;SN!==i&&(SN=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function mI(n=ts()){let e=Pa(n,"auth");if(e.isInitialized())return e.getImmediate();let t=aI(n,{popupRedirectResolver:XN,persistence:[YN,GN,fI]}),r=cE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=s4(o.toString());dI(t,s,()=>s(t.currentUser)),lI(t,a=>s(a))}}let i=sE("auth");return i&&cI(t,`http://${i}`),t}function a4(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}zH({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=tr("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",a4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});r4("Browser");var eM="auth",li=class{constructor(e){return e}},al=class{constructor(){return ka(eM)}};var yI=new U("angularfire2.auth-instances");function J4(n,e){let t=Ku(eM,n,e);return t&&new li(t)}function X4(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new li(r)}}var e3={provide:al,deps:[[new sn,yI]]},t3={provide:li,useFactory:J4,deps:[[new sn,yI],si]};function Eae(n,...e){return Ge("angularfire",Yi.full,"auth"),gn([t3,e3,{provide:yI,useFactory:X4(n),multi:!0,deps:[De,Ue,Zi,rs,[new sn,La],...e]}])}var Iae=Lt(mI,!0);var tM=Lt(gI,!0,2);var nM=Lt(hI,!0,2);var rM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},iM={};var di,vI;(function(){var n;function e(D,v){function E(){}E.prototype=v.prototype,D.D=v.prototype,D.prototype=new E,D.prototype.constructor=D,D.C=function(w,b,C){for(var _=Array(arguments.length-2),Ur=2;Ur<arguments.length;Ur++)_[Ur-2]=arguments[Ur];return v.prototype[b].apply(w,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,E){E||(E=0);var w=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)w[b]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(b=0;16>b;++b)w[b]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=D.g[0],E=D.g[1],b=D.g[2];var C=D.g[3],_=v+(C^E&(b^C))+w[0]+3614090360&4294967295;v=E+(_<<7&4294967295|_>>>25),_=C+(b^v&(E^b))+w[1]+3905402710&4294967295,C=v+(_<<12&4294967295|_>>>20),_=b+(E^C&(v^E))+w[2]+606105819&4294967295,b=C+(_<<17&4294967295|_>>>15),_=E+(v^b&(C^v))+w[3]+3250441966&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(C^E&(b^C))+w[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(b^v&(E^b))+w[5]+1200080426&4294967295,C=v+(_<<12&4294967295|_>>>20),_=b+(E^C&(v^E))+w[6]+2821735955&4294967295,b=C+(_<<17&4294967295|_>>>15),_=E+(v^b&(C^v))+w[7]+4249261313&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(C^E&(b^C))+w[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(b^v&(E^b))+w[9]+2336552879&4294967295,C=v+(_<<12&4294967295|_>>>20),_=b+(E^C&(v^E))+w[10]+4294925233&4294967295,b=C+(_<<17&4294967295|_>>>15),_=E+(v^b&(C^v))+w[11]+2304563134&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(C^E&(b^C))+w[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(b^v&(E^b))+w[13]+4254626195&4294967295,C=v+(_<<12&4294967295|_>>>20),_=b+(E^C&(v^E))+w[14]+2792965006&4294967295,b=C+(_<<17&4294967295|_>>>15),_=E+(v^b&(C^v))+w[15]+1236535329&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(b^C&(E^b))+w[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^b&(v^E))+w[6]+3225465664&4294967295,C=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(C^v))+w[11]+643717713&4294967295,b=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(b^C))+w[0]+3921069994&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(b^C&(E^b))+w[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^b&(v^E))+w[10]+38016083&4294967295,C=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(C^v))+w[15]+3634488961&4294967295,b=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(b^C))+w[4]+3889429448&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(b^C&(E^b))+w[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^b&(v^E))+w[14]+3275163606&4294967295,C=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(C^v))+w[3]+4107603335&4294967295,b=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(b^C))+w[8]+1163531501&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(b^C&(E^b))+w[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^b&(v^E))+w[2]+4243563512&4294967295,C=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(C^v))+w[7]+1735328473&4294967295,b=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(b^C))+w[12]+2368359562&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(E^b^C)+w[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^b)+w[8]+2272392833&4294967295,C=v+(_<<11&4294967295|_>>>21),_=b+(C^v^E)+w[11]+1839030562&4294967295,b=C+(_<<16&4294967295|_>>>16),_=E+(b^C^v)+w[14]+4259657740&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(E^b^C)+w[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^b)+w[4]+1272893353&4294967295,C=v+(_<<11&4294967295|_>>>21),_=b+(C^v^E)+w[7]+4139469664&4294967295,b=C+(_<<16&4294967295|_>>>16),_=E+(b^C^v)+w[10]+3200236656&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(E^b^C)+w[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^b)+w[0]+3936430074&4294967295,C=v+(_<<11&4294967295|_>>>21),_=b+(C^v^E)+w[3]+3572445317&4294967295,b=C+(_<<16&4294967295|_>>>16),_=E+(b^C^v)+w[6]+76029189&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(E^b^C)+w[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^b)+w[12]+3873151461&4294967295,C=v+(_<<11&4294967295|_>>>21),_=b+(C^v^E)+w[15]+530742520&4294967295,b=C+(_<<16&4294967295|_>>>16),_=E+(b^C^v)+w[2]+3299628645&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(b^(E|~C))+w[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~b))+w[7]+1126891415&4294967295,C=v+(_<<10&4294967295|_>>>22),_=b+(v^(C|~E))+w[14]+2878612391&4294967295,b=C+(_<<15&4294967295|_>>>17),_=E+(C^(b|~v))+w[5]+4237533241&4294967295,E=b+(_<<21&4294967295|_>>>11),_=v+(b^(E|~C))+w[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~b))+w[3]+2399980690&4294967295,C=v+(_<<10&4294967295|_>>>22),_=b+(v^(C|~E))+w[10]+4293915773&4294967295,b=C+(_<<15&4294967295|_>>>17),_=E+(C^(b|~v))+w[1]+2240044497&4294967295,E=b+(_<<21&4294967295|_>>>11),_=v+(b^(E|~C))+w[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~b))+w[15]+4264355552&4294967295,C=v+(_<<10&4294967295|_>>>22),_=b+(v^(C|~E))+w[6]+2734768916&4294967295,b=C+(_<<15&4294967295|_>>>17),_=E+(C^(b|~v))+w[13]+1309151649&4294967295,E=b+(_<<21&4294967295|_>>>11),_=v+(b^(E|~C))+w[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~b))+w[11]+3174756917&4294967295,C=v+(_<<10&4294967295|_>>>22),_=b+(v^(C|~E))+w[2]+718787259&4294967295,b=C+(_<<15&4294967295|_>>>17),_=E+(C^(b|~v))+w[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(b+(_<<21&4294967295|_>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+C&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var E=v-this.blockSize,w=this.B,b=this.h,C=0;C<v;){if(b==0)for(;C<=E;)i(this,D,C),C+=this.blockSize;if(typeof D=="string"){for(;C<v;)if(w[b++]=D.charCodeAt(C++),b==this.blockSize){i(this,w),b=0;break}}else for(;C<v;)if(w[b++]=D[C++],b==this.blockSize){i(this,w),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var E=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=E&255,E/=256;for(this.u(D),D=Array(16),v=E=0;4>v;++v)for(var w=0;32>w;w+=8)D[E++]=this.g[v]>>>w&255;return D};function o(D,v){var E=a;return Object.prototype.hasOwnProperty.call(E,D)?E[D]:E[D]=v(D)}function s(D,v){this.h=v;for(var E=[],w=!0,b=D.length-1;0<=b;b--){var C=D[b]|0;w&&C==v||(E[b]=C,w=!1)}this.g=E}var a={};function u(D){return-128<=D&&128>D?o(D,function(v){return new s([v|0],0>v?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return N(l(-D));for(var v=[],E=1,w=0;D>=E;w++)v[w]=D/E|0,E*=4294967296;return new s(v,0)}function h(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return N(h(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),w=p,b=0;b<D.length;b+=8){var C=Math.min(8,D.length-b),_=parseInt(D.substring(b,b+C),v);8>C?(C=l(Math.pow(v,C)),w=w.j(C).add(l(_))):(w=w.j(E),w=w.add(l(_)))}return w}var p=u(0),g=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(A(this))return-N(this).m();for(var D=0,v=1,E=0;E<this.g.length;E++){var w=this.i(E);D+=(0<=w?w:4294967296+w)*v,v*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(I(this))return"0";if(A(this))return"-"+N(this).toString(D);for(var v=l(Math.pow(D,6)),E=this,w="";;){var b=Ce(E,v).g;E=k(E,b.j(v));var C=((0<E.g.length?E.g[0]:E.h)>>>0).toString(D);if(E=b,I(E))return C+w;for(;6>C.length;)C="0"+C;w=C+w}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function I(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function A(D){return D.h==-1}n.l=function(D){return D=k(this,D),A(D)?-1:I(D)?0:1};function N(D){for(var v=D.g.length,E=[],w=0;w<v;w++)E[w]=~D.g[w];return new s(E,~D.h).add(g)}n.abs=function(){return A(this)?N(this):this},n.add=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],w=0,b=0;b<=v;b++){var C=w+(this.i(b)&65535)+(D.i(b)&65535),_=(C>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);w=_>>>16,C&=65535,_&=65535,E[b]=_<<16|C}return new s(E,E[E.length-1]&-2147483648?-1:0)};function k(D,v){return D.add(N(v))}n.j=function(D){if(I(this)||I(D))return p;if(A(this))return A(D)?N(this).j(N(D)):N(N(this).j(D));if(A(D))return N(this.j(N(D)));if(0>this.l(y)&&0>D.l(y))return l(this.m()*D.m());for(var v=this.g.length+D.g.length,E=[],w=0;w<2*v;w++)E[w]=0;for(w=0;w<this.g.length;w++)for(var b=0;b<D.g.length;b++){var C=this.i(w)>>>16,_=this.i(w)&65535,Ur=D.i(b)>>>16,Pc=D.i(b)&65535;E[2*w+2*b]+=_*Pc,H(E,2*w+2*b),E[2*w+2*b+1]+=C*Pc,H(E,2*w+2*b+1),E[2*w+2*b+1]+=_*Ur,H(E,2*w+2*b+1),E[2*w+2*b+2]+=C*Ur,H(E,2*w+2*b+2)}for(w=0;w<v;w++)E[w]=E[2*w+1]<<16|E[2*w];for(w=v;w<2*v;w++)E[w]=0;return new s(E,0)};function H(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function Y(D,v){this.g=D,this.h=v}function Ce(D,v){if(I(v))throw Error("division by zero");if(I(D))return new Y(p,p);if(A(D))return v=Ce(N(D),v),new Y(N(v.g),N(v.h));if(A(v))return v=Ce(D,N(v)),new Y(N(v.g),v.h);if(30<D.g.length){if(A(D)||A(v))throw Error("slowDivide_ only works with positive integers.");for(var E=g,w=v;0>=w.l(D);)E=Qe(E),w=Qe(w);var b=Ne(E,1),C=Ne(w,1);for(w=Ne(w,2),E=Ne(E,2);!I(w);){var _=C.add(w);0>=_.l(D)&&(b=b.add(E),C=_),w=Ne(w,1),E=Ne(E,1)}return v=k(D,b.j(v)),new Y(b,v)}for(b=p;0<=D.l(v);){for(E=Math.max(1,Math.floor(D.m()/v.m())),w=Math.ceil(Math.log(E)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),C=l(E),_=C.j(v);A(_)||0<_.l(D);)E-=w,C=l(E),_=C.j(v);I(C)&&(C=g),b=b.add(C),D=k(D,_)}return new Y(b,D)}n.A=function(D){return Ce(this,D).h},n.and=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)&D.i(w);return new s(E,this.h&D.h)},n.or=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)|D.i(w);return new s(E,this.h|D.h)},n.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)^D.i(w);return new s(E,this.h^D.h)};function Qe(D){for(var v=D.g.length+1,E=[],w=0;w<v;w++)E[w]=D.i(w)<<1|D.i(w-1)>>>31;return new s(E,D.h)}function Ne(D,v){var E=v>>5;v%=32;for(var w=D.g.length-E,b=[],C=0;C<w;C++)b[C]=0<v?D.i(C+E)>>>v|D.i(C+E+1)<<32-v:D.i(C+E);return new s(b,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,vI=iM.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,di=iM.Integer=s}).apply(typeof rM<"u"?rM:typeof self<"u"?self:typeof window<"u"?window:{});var mp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hi={};var _I,n3,Ua,EI,cl,yp,II,wI,DI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof mp=="object"&&mp];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var T=c[m];if(!(T in f))break e;f=f[T]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,T={next:function(){if(!m&&f<c.length){var R=f++;return{value:d(R,c[R]),done:!1}}return m=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,m),c.apply(d,T)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function I(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,T,R){for(var O=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)O[Pe-2]=arguments[Pe];return d.prototype[T].apply(m,O)}}function A(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function N(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let T=c.length||0,R=m.length||0;c.length=T+R;for(let O=0;O<R;O++)c[T+O]=m[O]}else c.push(m)}}class k{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function H(c){return/^[\s\xa0]*$/.test(c)}function Y(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Ce(c){return Ce[" "](c),c}Ce[" "]=function(){};var Qe=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function Ne(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let f,m;for(let T=1;T<arguments.length;T++){m=arguments[T];for(f in m)c[f]=m[f];for(let R=0;R<E.length;R++)f=E[R],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function C(c){a.setTimeout(()=>{throw c},0)}function _(){var c=ym;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Ur{constructor(){this.h=this.g=null}add(d,f){let m=Pc.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var Pc=new k(()=>new S1,c=>c.reset());class S1{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let xc,kc=!1,ym=new Ur,$b=()=>{let c=a.Promise.resolve(void 0);xc=()=>{c.then(A1)}};var A1=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(f){C(f)}var d=Pc;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}kc=!1};function wi(){this.s=this.s,this.C=this.C}wi.prototype.s=!1,wi.prototype.ma=function(){this.s||(this.s=!0,this.N())},wi.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Mt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Mt.prototype.h=function(){this.defaultPrevented=!0};var R1=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Oc(c,d){if(Mt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Qe){e:{try{Ce(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:N1[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Oc.aa.h.call(this)}}I(Oc,Mt);var N1={2:"touch",3:"pen",4:"mouse"};Oc.prototype.h=function(){Oc.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Fc="closure_listenable_"+(1e6*Math.random()|0),M1=0;function P1(c,d,f,m,T){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=T,this.key=++M1,this.da=this.fa=!1}function ad(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function cd(c){this.src=c,this.g={},this.h=0}cd.prototype.add=function(c,d,f,m,T){var R=c.toString();c=this.g[R],c||(c=this.g[R]=[],this.h++);var O=_m(c,d,m,T);return-1<O?(d=c[O],f||(d.fa=!1)):(d=new P1(d,this.src,R,!!m,T),d.fa=f,c.push(d)),d};function vm(c,d){var f=d.type;if(f in c.g){var m=c.g[f],T=Array.prototype.indexOf.call(m,d,void 0),R;(R=0<=T)&&Array.prototype.splice.call(m,T,1),R&&(ad(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function _m(c,d,f,m){for(var T=0;T<c.length;++T){var R=c[T];if(!R.da&&R.listener==d&&R.capture==!!f&&R.ha==m)return T}return-1}var Em="closure_lm_"+(1e6*Math.random()|0),Im={};function qb(c,d,f,m,T){if(m&&m.once)return Gb(c,d,f,m,T);if(Array.isArray(d)){for(var R=0;R<d.length;R++)qb(c,d[R],f,m,T);return null}return f=Tm(f),c&&c[Fc]?c.K(d,f,l(m)?!!m.capture:!!m,T):zb(c,d,f,!1,m,T)}function zb(c,d,f,m,T,R){if(!d)throw Error("Invalid event type");var O=l(T)?!!T.capture:!!T,Pe=Dm(c);if(Pe||(c[Em]=Pe=new cd(c)),f=Pe.add(d,f,m,O,R),f.proxy)return f;if(m=x1(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)R1||(T=O),T===void 0&&(T=!1),c.addEventListener(d.toString(),m,T);else if(c.attachEvent)c.attachEvent(Kb(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function x1(){function c(f){return d.call(c.src,c.listener,f)}let d=k1;return c}function Gb(c,d,f,m,T){if(Array.isArray(d)){for(var R=0;R<d.length;R++)Gb(c,d[R],f,m,T);return null}return f=Tm(f),c&&c[Fc]?c.L(d,f,l(m)?!!m.capture:!!m,T):zb(c,d,f,!0,m,T)}function Wb(c,d,f,m,T){if(Array.isArray(d))for(var R=0;R<d.length;R++)Wb(c,d[R],f,m,T);else m=l(m)?!!m.capture:!!m,f=Tm(f),c&&c[Fc]?(c=c.i,d=String(d).toString(),d in c.g&&(R=c.g[d],f=_m(R,f,m,T),-1<f&&(ad(R[f]),Array.prototype.splice.call(R,f,1),R.length==0&&(delete c.g[d],c.h--)))):c&&(c=Dm(c))&&(d=c.g[d.toString()],c=-1,d&&(c=_m(d,f,m,T)),(f=-1<c?d[c]:null)&&wm(f))}function wm(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Fc])vm(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(Kb(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=Dm(d))?(vm(f,c),f.h==0&&(f.src=null,d[Em]=null)):ad(c)}}}function Kb(c){return c in Im?Im[c]:Im[c]="on"+c}function k1(c,d){if(c.da)c=!0;else{d=new Oc(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&wm(c),c=f.call(m,d)}return c}function Dm(c){return c=c[Em],c instanceof cd?c:null}var bm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tm(c){return typeof c=="function"?c:(c[bm]||(c[bm]=function(d){return c.handleEvent(d)}),c[bm])}function Pt(){wi.call(this),this.i=new cd(this),this.M=this,this.F=null}I(Pt,wi),Pt.prototype[Fc]=!0,Pt.prototype.removeEventListener=function(c,d,f,m){Wb(this,c,d,f,m)};function Ut(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new Mt(d,c);else if(d instanceof Mt)d.target=d.target||c;else{var T=d;d=new Mt(m,c),w(d,T)}if(T=!0,f)for(var R=f.length-1;0<=R;R--){var O=d.g=f[R];T=ud(O,m,!0,d)&&T}if(O=d.g=c,T=ud(O,m,!0,d)&&T,T=ud(O,m,!1,d)&&T,f)for(R=0;R<f.length;R++)O=d.g=f[R],T=ud(O,m,!1,d)&&T}Pt.prototype.N=function(){if(Pt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)ad(f[m]);delete c.g[d],c.h--}}this.F=null},Pt.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},Pt.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function ud(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,R=0;R<d.length;++R){var O=d[R];if(O&&!O.da&&O.capture==f){var Pe=O.listener,At=O.ha||O.src;O.fa&&vm(c.i,O),T=Pe.call(At,m)!==!1&&T}}return T&&!m.defaultPrevented}function Qb(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Yb(c){c.g=Qb(()=>{c.g=null,c.i&&(c.i=!1,Yb(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class O1 extends wi{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Yb(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lc(c){wi.call(this),this.h=c,this.g={}}I(Lc,wi);var Zb=[];function Jb(c){Ne(c.g,function(d,f){this.g.hasOwnProperty(f)&&wm(d)},c),c.g={}}Lc.prototype.N=function(){Lc.aa.N.call(this),Jb(this)},Lc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cm=a.JSON.stringify,F1=a.JSON.parse,L1=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Sm(){}Sm.prototype.h=null;function Xb(c){return c.h||(c.h=c.i())}function eT(){}var Vc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Am(){Mt.call(this,"d")}I(Am,Mt);function Rm(){Mt.call(this,"c")}I(Rm,Mt);var yo={},tT=null;function ld(){return tT=tT||new Pt}yo.La="serverreachability";function nT(c){Mt.call(this,yo.La,c)}I(nT,Mt);function jc(c){let d=ld();Ut(d,new nT(d))}yo.STAT_EVENT="statevent";function rT(c,d){Mt.call(this,yo.STAT_EVENT,c),this.stat=d}I(rT,Mt);function Bt(c){let d=ld();Ut(d,new rT(d,c))}yo.Ma="timingevent";function iT(c,d){Mt.call(this,yo.Ma,c),this.size=d}I(iT,Mt);function Uc(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Bc(){this.g=!0}Bc.prototype.xa=function(){this.g=!1};function V1(c,d,f,m,T,R){c.info(function(){if(c.g)if(R)for(var O="",Pe=R.split("&"),At=0;At<Pe.length;At++){var we=Pe[At].split("=");if(1<we.length){var xt=we[0];we=we[1];var kt=xt.split("_");O=2<=kt.length&&kt[1]=="type"?O+(xt+"="+we+"&"):O+(xt+"=redacted&")}}else O=null;else O=R;return"XMLHTTP REQ ("+m+") [attempt "+T+"]: "+d+`
`+f+`
`+O})}function j1(c,d,f,m,T,R,O){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+T+"]: "+d+`
`+f+`
`+R+" "+O})}function Rs(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+B1(c,f)+(m?" "+m:"")})}function U1(c,d){c.info(function(){return"TIMEOUT: "+d})}Bc.prototype.info=function(){};function B1(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var T=m[1];if(Array.isArray(T)&&!(1>T.length)){var R=T[0];if(R!="noop"&&R!="stop"&&R!="close")for(var O=1;O<T.length;O++)T[O]=""}}}}return Cm(f)}catch{return d}}var dd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nm;function hd(){}I(hd,Sm),hd.prototype.g=function(){return new XMLHttpRequest},hd.prototype.i=function(){return{}},Nm=new hd;function Di(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new Lc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new sT}function sT(){this.i=null,this.g="",this.h=!1}var aT={},Mm={};function Pm(c,d,f){c.L=1,c.v=md(Br(d)),c.m=f,c.P=!0,cT(c,null)}function cT(c,d){c.F=Date.now(),fd(c),c.A=Br(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),wT(f.i,"t",m),c.C=0,f=c.j.J,c.h=new sT,c.g=UT(c.j,f?d:null,!c.m),0<c.O&&(c.M=new O1(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var T="readystatechange";Array.isArray(T)||(T&&(Zb[0]=T.toString()),T=Zb);for(var R=0;R<T.length;R++){var O=qb(f,T[R],m||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),jc(),V1(c.i,c.u,c.A,c.l,c.R,c.m)}Di.prototype.ca=function(c){c=c.target;let d=this.M;d&&Hr(c)==3?d.j():this.Y(c)},Di.prototype.Y=function(c){try{if(c==this.g)e:{let kt=Hr(this.g);var d=this.g.Ba();let Ps=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||RT(this.g)))){this.J||kt!=4||d==7||(d==8||0>=Ps?jc(3):jc(2)),xm(this);var f=this.g.Z();this.X=f;t:if(uT(this)){var m=RT(this.g);c="";var T=m.length,R=Hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vo(this),Hc(this);var O="";break t}this.h.i=new a.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(R&&d==T-1)});m.length=0,this.h.g+=c,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=f==200,j1(this.i,this.u,this.A,this.l,this.R,kt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,At=this.g;if((Pe=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Pe)){var we=Pe;break t}}we=null}if(f=we)Rs(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,km(this,f);else{this.o=!1,this.s=3,Bt(12),vo(this),Hc(this);break e}}if(this.P){f=!0;let Un;for(;!this.J&&this.C<O.length;)if(Un=H1(this,O),Un==Mm){kt==4&&(this.s=4,Bt(14),f=!1),Rs(this.i,this.l,null,"[Incomplete Response]");break}else if(Un==aT){this.s=4,Bt(15),Rs(this.i,this.l,O,"[Invalid Chunk]"),f=!1;break}else Rs(this.i,this.l,Un,null),km(this,Un);if(uT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||O.length!=0||this.h.h||(this.s=1,Bt(16),f=!1),this.o=this.o&&f,!f)Rs(this.i,this.l,O,"[Invalid Chunked Response]"),vo(this),Hc(this);else if(0<O.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Um(xt),xt.M=!0,Bt(11))}}else Rs(this.i,this.l,O,null),km(this,O);kt==4&&vo(this),this.o&&!this.J&&(kt==4?FT(this.j,this):(this.o=!1,fd(this)))}else oO(this.g),f==400&&0<O.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),vo(this),Hc(this)}}}catch{}finally{}};function uT(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function H1(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?Mm:(f=Number(d.substring(f,m)),isNaN(f)?aT:(m+=1,m+f>d.length?Mm:(d=d.slice(m,m+f),c.C=m+f,d)))}Di.prototype.cancel=function(){this.J=!0,vo(this)};function fd(c){c.S=Date.now()+c.I,lT(c,c.I)}function lT(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Uc(g(c.ba,c),d)}function xm(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Di.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(U1(this.i,this.A),this.L!=2&&(jc(),Bt(17)),vo(this),this.s=2,Hc(this)):lT(this,this.S-c)};function Hc(c){c.j.G==0||c.J||FT(c.j,c)}function vo(c){xm(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Jb(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function km(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Om(f.h,c))){if(!c.K&&Om(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var T=m;if(T[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Id(f),_d(f);else break e;jm(f),Bt(18)}}else f.za=T[1],0<f.za-f.T&&37500>T[2]&&f.F&&f.v==0&&!f.C&&(f.C=Uc(g(f.Za,f),6e3));if(1>=fT(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Eo(f,11)}else if((c.K||f.g==c)&&Id(f),!H(d))for(T=f.Da.g.parse(d),d=0;d<T.length;d++){let we=T[d];if(f.T=we[0],we=we[1],f.G==2)if(we[0]=="c"){f.K=we[1],f.ia=we[2];let xt=we[3];xt!=null&&(f.la=xt,f.j.info("VER="+f.la));let kt=we[4];kt!=null&&(f.Aa=kt,f.j.info("SVER="+f.Aa));let Ps=we[5];Ps!=null&&typeof Ps=="number"&&0<Ps&&(m=1.5*Ps,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let Un=c.g;if(Un){let Dd=Un.g?Un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dd){var R=m.h;R.g||Dd.indexOf("spdy")==-1&&Dd.indexOf("quic")==-1&&Dd.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(Fm(R,R.h),R.h=null))}if(m.D){let Bm=Un.g?Un.g.getResponseHeader("X-HTTP-Session-Id"):null;Bm&&(m.ya=Bm,Oe(m.I,m.D,Bm))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var O=c;if(m.qa=jT(m,m.J?m.ia:null,m.W),O.K){pT(m.h,O);var Pe=O,At=m.L;At&&(Pe.I=At),Pe.B&&(xm(Pe),fd(Pe)),m.g=O}else kT(m);0<f.i.length&&Ed(f)}else we[0]!="stop"&&we[0]!="close"||Eo(f,7);else f.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?Eo(f,7):Vm(f):we[0]!="noop"&&f.l&&f.l.ta(we),f.v=0)}}jc(4)}catch{}}var $1=class{constructor(c,d){this.g=c,this.map=d}};function dT(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hT(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fT(c){return c.h?1:c.g?c.g.size:0}function Om(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Fm(c,d){c.g?c.g.add(d):c.h=d}function pT(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}dT.prototype.cancel=function(){if(this.i=gT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function gT(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return A(c.i)}function q1(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function z1(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function mT(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=z1(c),m=q1(c),T=m.length,R=0;R<T;R++)d.call(void 0,m[R],f&&f[R],c)}var yT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function G1(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),T=null;if(0<=m){var R=c[f].substring(0,m);T=c[f].substring(m+1)}else R=c[f];d(R,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function _o(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _o){this.h=c.h,pd(this,c.j),this.o=c.o,this.g=c.g,gd(this,c.s),this.l=c.l;var d=c.i,f=new zc;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),vT(this,f),this.m=c.m}else c&&(d=String(c).match(yT))?(this.h=!1,pd(this,d[1]||"",!0),this.o=$c(d[2]||""),this.g=$c(d[3]||"",!0),gd(this,d[4]),this.l=$c(d[5]||"",!0),vT(this,d[6]||"",!0),this.m=$c(d[7]||"")):(this.h=!1,this.i=new zc(null,this.h))}_o.prototype.toString=function(){var c=[],d=this.j;d&&c.push(qc(d,_T,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(qc(d,_T,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(qc(f,f.charAt(0)=="/"?Q1:K1,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",qc(f,Z1)),c.join("")};function Br(c){return new _o(c)}function pd(c,d,f){c.j=f?$c(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function gd(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function vT(c,d,f){d instanceof zc?(c.i=d,J1(c.i,c.h)):(f||(d=qc(d,Y1)),c.i=new zc(d,c.h))}function Oe(c,d,f){c.i.set(d,f)}function md(c){return Oe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function $c(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function qc(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,W1),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function W1(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _T=/[#\/\?@]/g,K1=/[#\?:]/g,Q1=/[#\?]/g,Y1=/[#\?@]/g,Z1=/#/g;function zc(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function bi(c){c.g||(c.g=new Map,c.h=0,c.i&&G1(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=zc.prototype,n.add=function(c,d){bi(this),this.i=null,c=Ns(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function ET(c,d){bi(c),d=Ns(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function IT(c,d){return bi(c),d=Ns(c,d),c.g.has(d)}n.forEach=function(c,d){bi(this),this.g.forEach(function(f,m){f.forEach(function(T){c.call(d,T,m,this)},this)},this)},n.na=function(){bi(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let T=c[m];for(let R=0;R<T.length;R++)f.push(d[m])}return f},n.V=function(c){bi(this);let d=[];if(typeof c=="string")IT(this,c)&&(d=d.concat(this.g.get(Ns(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return bi(this),this.i=null,c=Ns(this,c),IT(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function wT(c,d,f){ET(c,d),0<f.length&&(c.i=null,c.g.set(Ns(c,d),A(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let R=encodeURIComponent(String(m)),O=this.V(m);for(m=0;m<O.length;m++){var T=R;O[m]!==""&&(T+="="+encodeURIComponent(String(O[m]))),c.push(T)}}return this.i=c.join("&")};function Ns(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function J1(c,d){d&&!c.j&&(bi(c),c.i=null,c.g.forEach(function(f,m){var T=m.toLowerCase();m!=T&&(ET(this,m),wT(this,T,f))},c)),c.j=d}function X1(c,d){let f=new Bc;if(a.Image){let m=new Image;m.onload=y(Ti,f,"TestLoadImage: loaded",!0,d,m),m.onerror=y(Ti,f,"TestLoadImage: error",!1,d,m),m.onabort=y(Ti,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(Ti,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function eO(c,d){let f=new Bc,m=new AbortController,T=setTimeout(()=>{m.abort(),Ti(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(R=>{clearTimeout(T),R.ok?Ti(f,"TestPingServer: ok",!0,d):Ti(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),Ti(f,"TestPingServer: error",!1,d)})}function Ti(c,d,f,m,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),m(f)}catch{}}function tO(){this.g=new L1}function nO(c,d,f){let m=f||"";try{mT(c,function(T,R){let O=T;l(T)&&(O=Cm(T)),d.push(m+R+"="+encodeURIComponent(O))})}catch(T){throw d.push(m+"type="+encodeURIComponent("_badmap")),T}}function Gc(c){this.l=c.Ub||null,this.j=c.eb||!1}I(Gc,Sm),Gc.prototype.g=function(){return new yd(this.l,this.j)},Gc.prototype.i=function(c){return function(){return c}}({});function yd(c,d){Pt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(yd,Pt),n=yd.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Kc(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wc(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Kc(this)),this.g&&(this.readyState=3,Kc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;DT(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function DT(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Wc(this):Kc(this),this.readyState==3&&DT(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Wc(this))},n.Qa=function(c){this.g&&(this.response=c,Wc(this))},n.ga=function(){this.g&&Wc(this)};function Wc(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Kc(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Kc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(yd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function bT(c){let d="";return Ne(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Lm(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=bT(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Oe(c,d,f))}function He(c){Pt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(He,Pt);var rO=/^https?$/i,iO=["POST","PUT"];n=He.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nm.g(),this.v=this.o?Xb(this.o):Xb(Nm),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(R){TT(this,R);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var T in m)f.set(T,m[T]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let R of m.keys())f.set(R,m.get(R));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(R=>R.toLowerCase()=="content-type"),T=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(iO,d,void 0))||m||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,O]of f)this.g.setRequestHeader(R,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{AT(this),this.u=!0,this.g.send(c),this.u=!1}catch(R){TT(this,R)}};function TT(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,CT(c),vd(c)}function CT(c){c.A||(c.A=!0,Ut(c,"complete"),Ut(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ut(this,"complete"),Ut(this,"abort"),vd(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vd(this,!0)),He.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ST(this):this.bb())},n.bb=function(){ST(this)};function ST(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Hr(c)!=4||c.Z()!=2)){if(c.u&&Hr(c)==4)Qb(c.Ea,0,c);else if(Ut(c,"readystatechange"),Hr(c)==4){c.h=!1;try{let O=c.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=O===0){var T=String(c.D).match(yT)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),m=!rO.test(T?T.toLowerCase():"")}f=m}if(f)Ut(c,"complete"),Ut(c,"success");else{c.m=6;try{var R=2<Hr(c)?c.g.statusText:""}catch{R=""}c.l=R+" ["+c.Z()+"]",CT(c)}}finally{vd(c)}}}}function vd(c,d){if(c.g){AT(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Ut(c,"ready");try{f.onreadystatechange=m}catch{}}}function AT(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Hr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Hr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),F1(d)}};function RT(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function oO(c){let d={};c=(c.g&&2<=Hr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(H(c[m]))continue;var f=b(c[m]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let R=d[T]||[];d[T]=R,R.push(f)}D(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qc(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function NT(c){this.Aa=0,this.i=[],this.j=new Bc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qc("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qc("baseRetryDelayMs",5e3,c),this.cb=Qc("retryDelaySeedMs",1e4,c),this.Wa=Qc("forwardChannelMaxRetries",2,c),this.wa=Qc("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new dT(c&&c.concurrentRequestLimit),this.Da=new tO,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=NT.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,m){Bt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=jT(this,null,this.W),Ed(this)};function Vm(c){if(MT(c),c.G==3){var d=c.U++,f=Br(c.I);if(Oe(f,"SID",c.K),Oe(f,"RID",d),Oe(f,"TYPE","terminate"),Yc(c,f),d=new Di(c,c.j,d),d.L=2,d.v=md(Br(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=UT(d.j,null),d.g.ea(d.v)),d.F=Date.now(),fd(d)}VT(c)}function _d(c){c.g&&(Um(c),c.g.cancel(),c.g=null)}function MT(c){_d(c),c.u&&(a.clearTimeout(c.u),c.u=null),Id(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Ed(c){if(!hT(c.h)&&!c.s){c.s=!0;var d=c.Ga;xc||$b(),kc||(xc(),kc=!0),ym.add(d,c),c.B=0}}function sO(c,d){return fT(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Uc(g(c.Ga,c,d),LT(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let T=new Di(this,this.j,c),R=this.o;if(this.S&&(R?(R=v(R),w(R,this.S)):R=this.S),this.m!==null||this.O||(T.H=R,R=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=xT(this,T,d),f=Br(this.I),Oe(f,"RID",c),Oe(f,"CVER",22),this.D&&Oe(f,"X-HTTP-Session-Id",this.D),Yc(this,f),R&&(this.O?d="headers="+encodeURIComponent(String(bT(R)))+"&"+d:this.m&&Lm(f,this.m,R)),Fm(this.h,T),this.Ua&&Oe(f,"TYPE","init"),this.P?(Oe(f,"$req",d),Oe(f,"SID","null"),T.T=!0,Pm(T,f,null)):Pm(T,f,d),this.G=2}}else this.G==3&&(c?PT(this,c):this.i.length==0||hT(this.h)||PT(this))};function PT(c,d){var f;d?f=d.l:f=c.U++;let m=Br(c.I);Oe(m,"SID",c.K),Oe(m,"RID",f),Oe(m,"AID",c.T),Yc(c,m),c.m&&c.o&&Lm(m,c.m,c.o),f=new Di(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=xT(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Fm(c.h,f),Pm(f,m,d)}function Yc(c,d){c.H&&Ne(c.H,function(f,m){Oe(d,m,f)}),c.l&&mT({},function(f,m){Oe(d,m,f)})}function xT(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var T=c.i;let R=-1;for(;;){let O=["count="+f];R==-1?0<f?(R=T[0].g,O.push("ofs="+R)):R=0:O.push("ofs="+R);let Pe=!0;for(let At=0;At<f;At++){let we=T[At].g,xt=T[At].map;if(we-=R,0>we)R=Math.max(0,T[At].g-100),Pe=!1;else try{nO(xt,O,"req"+we+"_")}catch{m&&m(xt)}}if(Pe){m=O.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function kT(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;xc||$b(),kc||(xc(),kc=!0),ym.add(d,c),c.v=0}}function jm(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Uc(g(c.Fa,c),LT(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,OT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Uc(g(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),_d(this),OT(this))};function Um(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function OT(c){c.g=new Di(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Br(c.qa);Oe(d,"RID","rpc"),Oe(d,"SID",c.K),Oe(d,"AID",c.T),Oe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Oe(d,"TO",c.ja),Oe(d,"TYPE","xmlhttp"),Yc(c,d),c.m&&c.o&&Lm(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=md(Br(d)),f.m=null,f.P=!0,cT(f,c)}n.Za=function(){this.C!=null&&(this.C=null,_d(this),jm(this),Bt(19))};function Id(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function FT(c,d){var f=null;if(c.g==d){Id(c),Um(c),c.g=null;var m=2}else if(Om(c.h,d))f=d.D,pT(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var T=c.B;m=ld(),Ut(m,new iT(m,f)),Ed(c)}else kT(c);else if(T=d.s,T==3||T==0&&0<d.X||!(m==1&&sO(c,d)||m==2&&jm(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),T){case 1:Eo(c,5);break;case 4:Eo(c,10);break;case 3:Eo(c,6);break;default:Eo(c,2)}}}function LT(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Eo(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let T=!m;m=new _o(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||pd(m,"https"),md(m),T?X1(m.toString(),f):eO(m.toString(),f)}else Bt(2);c.G=0,c.l&&c.l.sa(d),VT(c),MT(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function VT(c){if(c.G=0,c.ka=[],c.l){let d=gT(c.h);(d.length!=0||c.i.length!=0)&&(N(c.ka,d),N(c.ka,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.ra()}}function jT(c,d,f){var m=f instanceof _o?Br(f):new _o(f);if(m.g!="")d&&(m.g=d+"."+m.g),gd(m,m.s);else{var T=a.location;m=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var R=new _o(null);m&&pd(R,m),d&&(R.g=d),T&&gd(R,T),f&&(R.l=f),m=R}return f=c.D,d=c.ya,f&&d&&Oe(m,f,d),Oe(m,"VER",c.la),Yc(c,m),m}function UT(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new He(new Gc({eb:f})):new He(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function BT(){}n=BT.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function wd(){}wd.prototype.g=function(c,d){return new hn(c,d)};function hn(c,d){Pt.call(this),this.g=new NT(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!H(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!H(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Ms(this)}I(hn,Pt),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Vm(this.g)},hn.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Cm(c),c=f);d.i.push(new $1(d.Ya++,c)),d.G==3&&Ed(d)},hn.prototype.N=function(){this.g.l=null,delete this.j,Vm(this.g),delete this.g,hn.aa.N.call(this)};function HT(c){Am.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}I(HT,Am);function $T(){Rm.call(this),this.status=1}I($T,Rm);function Ms(c){this.g=c}I(Ms,BT),Ms.prototype.ua=function(){Ut(this.g,"a")},Ms.prototype.ta=function(c){Ut(this.g,new HT(c))},Ms.prototype.sa=function(c){Ut(this.g,new $T)},Ms.prototype.ra=function(){Ut(this.g,"b")},wd.prototype.createWebChannel=wd.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,DI=hi.createWebChannelTransport=function(){return new wd},wI=hi.getStatEventTarget=function(){return ld()},II=hi.Event=yo,yp=hi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dd.NO_ERROR=0,dd.TIMEOUT=8,dd.HTTP_ERROR=6,cl=hi.ErrorCode=dd,oT.COMPLETE="complete",EI=hi.EventType=oT,eT.EventType=Vc,Vc.OPEN="a",Vc.CLOSE="b",Vc.ERROR="c",Vc.MESSAGE="d",Pt.prototype.listen=Pt.prototype.K,Ua=hi.WebChannel=eT,n3=hi.FetchXmlHttpFactory=Gc,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,_I=hi.XhrIo=He}).apply(typeof mp<"u"?mp:typeof self<"u"?self:typeof window<"u"?window:{});var oM="@firebase/firestore",sM="4.8.0";var wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};wt.UNAUTHENTICATED=new wt(null),wt.GOOGLE_CREDENTIALS=new wt("google-credentials-uid"),wt.FIRST_PARTY=new wt("first-party-uid"),wt.MOCK_USER=new wt("mock-user");var ac="11.10.0";var fs=new Dr("@firebase/firestore");function Ba(){return fs.logLevel}function V(n,...e){if(fs.logLevel<=ve.DEBUG){let t=e.map(hD);fs.debug(`Firestore (${ac}): ${n}`,...t)}}function fi(n,...e){if(fs.logLevel<=ve.ERROR){let t=e.map(hD);fs.error(`Firestore (${ac}): ${n}`,...t)}}function so(n,...e){if(fs.logLevel<=ve.WARN){let t=e.map(hD);fs.warn(`Firestore (${ac}): ${n}`,...t)}}function hD(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Q(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,JM(n,r,t)}function JM(n,e,t){let r=`FIRESTORE (${ac}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw fi(r),new Error(r)}function Re(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||JM(e,i,r)}function se(n,e){return n}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends En{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Sr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var bp=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},AI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wt.UNAUTHENTICATED))}shutdown(){}},RI=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},NI=class{constructor(e){this.t=e,this.currentUser=wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Re(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Sr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Sr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string",31837,{l:r}),new bp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string",2055,{h:e}),new wt(e)}},MI=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},PI=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new MI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Tp=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},xI=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,In(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Re(this.o===void 0,3512);let r=o=>{o.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,V("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Tp(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Re(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Tp(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function r3(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function XM(){return new TextEncoder}var pl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=r3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function ge(n,e){return n<e?-1:n>e?1:0}function kI(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ge(r,i);{let o=XM(),s=i3(o.encode(aM(n,t)),o.encode(aM(e,t)));return s!==0?s:ge(r,i)}}t+=r>65535?2:1}return ge(n.length,e.length)}function aM(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function i3(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ge(n[t],e[t]);return ge(n.length,e.length)}function Ka(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var cM="__name__",Cp=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Q(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Q(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return ge(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):kI(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return di.fromString(e.substring(4,e.length-2))}},je=class n extends Cp{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},o3=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Dn=class n extends Cp{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return o3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cM}static keyField(){return new n([cM])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new L(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var q=class n{constructor(e){this.path=e}static fromPath(e){return new n(je.fromString(e))}static fromName(e){return new n(je.fromString(e).popFirst(5))}static empty(){return new n(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new je(e.slice()))}};function eP(n,e,t){if(!t)throw new L(M.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function s3(n,e,t,r){if(e===!0&&r===!0)throw new L(M.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function uM(n){if(!q.isDocumentKey(n))throw new L(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function lM(n){if(q.isDocumentKey(n))throw new L(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function tP(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ig(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Q(12329,{type:typeof n})}function Fn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new L(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=ig(n);throw new L(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ft(n,e){let t={typeString:n};return e&&(t.value=e),t}function Sl(n,e){if(!tP(n))throw new L(M.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new L(M.INVALID_ARGUMENT,t);return!0}var dM=-62135596800,hM=1e6,We=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*hM);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<dM)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hM}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Sl(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-dM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};We._jsonSchemaVersion="firestore/timestamp/1.0",We._jsonSchema={type:ft("string",We._jsonSchemaVersion),seconds:ft("number"),nanoseconds:ft("number")};var le=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new We(0,0))}static max(){return new n(new We(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var gl=-1,OI=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};OI.UNKNOWN_ID=-1;function a3(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new We(t+1,0):new We(t,r));return new ps(i,q.empty(),e)}function c3(n){return new ps(n.readTime,n.key,gl)}var ps=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(le.min(),q.empty(),gl)}static max(){return new n(le.max(),q.empty(),gl)}};function u3(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=q.comparator(n.documentKey,e.documentKey),t!==0?t:ge(n.largestBatchId,e.largestBatchId))}var l3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",FI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function cc(n){if(n.code!==M.FAILED_PRECONDITION||n.message!==l3)throw n;V("LocalStore","Unexpectedly lost primary lease")}var P=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function d3(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function uc(n){return n.name==="IndexedDbTransactionError"}var fD=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),pD=-1;function og(n){return n==null}function ml(n){return n===0&&1/n==-1/0}function h3(n){return typeof n=="number"&&Number.isInteger(n)&&!ml(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var nP="";function f3(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=fM(e)),e=p3(n.get(t),e);return fM(e)}function p3(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case nP:t+="";break;default:t+=o}}return t}function fM(n){return n+nP+""}var g3="remoteDocuments",rP="owner";var iP="mutationQueues";var oP="mutations";var sP="documentMutations",m3="remoteDocumentsV14";var aP="remoteDocumentGlobal";var cP="targets";var uP="targetDocuments";var lP="targetGlobal",dP="collectionParents";var hP="clientMetadata";var fP="bundles";var pP="namedQueries";var y3="indexConfiguration";var v3="indexState";var _3="indexEntries";var gP="documentOverlays";var E3="globals";var I3=[iP,oP,sP,g3,cP,rP,lP,uP,hP,aP,dP,fP,pP],Fae=[...I3,gP],w3=[iP,oP,sP,m3,cP,rP,lP,uP,hP,aP,dP,fP,pP,gP],D3=w3,b3=[...D3,y3,v3,_3];var Lae=[...b3,E3];function pM(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function lo(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function mP(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ke=class n{constructor(e,t){this.comparator=e,this.root=t||Ar.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ar.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ar.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new za(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new za(this.root,e,this.comparator,!1)}getReverseIterator(){return new za(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new za(this.root,e,this.comparator,!0)}},za=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ar=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Q(27949);return e+(this.isRed()?0:1)}};Ar.EMPTY=null,Ar.RED=!0,Ar.BLACK=!1;Ar.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Ar(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Dt=class n{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Sp(this.data.getIterator())}getIteratorFrom(e){return new Sp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Sp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var On=class n{constructor(e){this.fields=e,e.sort(Dn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Dt(Dn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ka(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Ap=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var jt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ap("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};jt.EMPTY_BYTE_STRING=new jt("");var T3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pi(n){if(Re(!!n,39018),typeof n=="string"){let e=0,t=T3.exec(n);if(Re(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ve(n.seconds),nanos:Ve(n.nanos)}}function Ve(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function gi(n){return typeof n=="string"?jt.fromBase64String(n):jt.fromUint8Array(n)}var yP="server_timestamp",vP="__type__",_P="__previous_value__",EP="__local_write_time__";function gD(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[vP])===null||t===void 0?void 0:t.stringValue)===yP}function sg(n){let e=n.mapValue.fields[_P];return gD(e)?sg(e):e}function yl(n){let e=pi(n.mapValue.fields[EP].timestampValue);return new We(e.seconds,e.nanos)}var LI=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},Rp="(default)",Np=class n{constructor(e,t){this.projectId=e,this.database=t||Rp}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Rp}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var mD="__type__",IP="__max__",vp={mapValue:{fields:{__type__:{stringValue:IP}}}},yD="__vector__",Qa="value";function ao(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?gD(n)?4:DP(n)?9007199254740991:wP(n)?10:11:Q(28295,{value:n})}function Pr(n,e){if(n===e)return!0;let t=ao(n);if(t!==ao(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return yl(n).isEqual(yl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=pi(i.timestampValue),a=pi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return gi(i.bytesValue).isEqual(gi(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Ve(i.geoPointValue.latitude)===Ve(o.geoPointValue.latitude)&&Ve(i.geoPointValue.longitude)===Ve(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ve(i.integerValue)===Ve(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ve(i.doubleValue),a=Ve(o.doubleValue);return s===a?ml(s)===ml(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Ka(n.arrayValue.values||[],e.arrayValue.values||[],Pr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(pM(s)!==pM(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Pr(s[u],a[u])))return!1;return!0}(n,e);default:return Q(52216,{left:n})}}function vl(n,e){return(n.values||[]).find(t=>Pr(t,e))!==void 0}function Ya(n,e){if(n===e)return 0;let t=ao(n),r=ao(e);if(t!==r)return ge(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ge(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ve(o.integerValue||o.doubleValue),u=Ve(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return gM(n.timestampValue,e.timestampValue);case 4:return gM(yl(n),yl(e));case 5:return kI(n.stringValue,e.stringValue);case 6:return function(o,s){let a=gi(o),u=gi(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ge(a[l],u[l]);if(h!==0)return h}return ge(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ge(Ve(o.latitude),Ve(s.latitude));return a!==0?a:ge(Ve(o.longitude),Ve(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return mM(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},y=(a=p[Qa])===null||a===void 0?void 0:a.arrayValue,I=(u=g[Qa])===null||u===void 0?void 0:u.arrayValue,A=ge(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=I?.values)===null||h===void 0?void 0:h.length)||0);return A!==0?A:mM(y,I)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===vp.mapValue&&s===vp.mapValue)return 0;if(o===vp.mapValue)return 1;if(s===vp.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=kI(u[p],h[p]);if(g!==0)return g;let y=Ya(a[u[p]],l[h[p]]);if(y!==0)return y}return ge(u.length,h.length)}(n.mapValue,e.mapValue);default:throw Q(23264,{le:t})}}function gM(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ge(n,e);let t=pi(n),r=pi(e),i=ge(t.seconds,r.seconds);return i!==0?i:ge(t.nanos,r.nanos)}function mM(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Ya(t[i],r[i]);if(o)return o}return ge(t.length,r.length)}function Za(n){return VI(n)}function VI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=pi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return gi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return q.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=VI(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${VI(t.fields[s])}`;return i+"}"}(n.mapValue):Q(61005,{value:n})}function Ip(n){switch(ao(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=sg(n);return e?16+Ip(e):16;case 5:return 2*n.stringValue.length;case 6:return gi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Ip(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return lo(r.fields,(o,s)=>{i+=o.length+Ip(s)}),i}(n.mapValue);default:throw Q(13486,{value:n})}}function yM(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function jI(n){return!!n&&"integerValue"in n}function vD(n){return!!n&&"arrayValue"in n}function vM(n){return!!n&&"nullValue"in n}function _M(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function wp(n){return!!n&&"mapValue"in n}function wP(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[mD])===null||t===void 0?void 0:t.stringValue)===yD}function ll(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return lo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ll(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ll(n.arrayValue.values[t]);return e}return Object.assign({},n)}function DP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===IP}var jae={mapValue:{fields:{[mD]:{stringValue:yD},[Qa]:{arrayValue:{}}}}};var wn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!wp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ll(t)}setAll(e){let t=Dn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=ll(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());wp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];wp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){lo(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(ll(this.value))}};function bP(n){let e=[];return lo(n.fields,(t,r)=>{let i=new Dn([t]);if(wp(r)){let o=bP(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new On(e)}var nr=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,le.min(),le.min(),le.min(),wn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,le.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,le.min(),le.min(),wn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,le.min(),le.min(),wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ja=class{constructor(e,t){this.position=e,this.inclusive=t}};function EM(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=q.comparator(q.fromName(s.referenceValue),t.key):r=Ya(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function IM(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Pr(n.position[t],e.position[t]))return!1;return!0}var Xa=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function C3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Mp=class{},ht=class n extends Mp{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new BI(e,t,r):t==="array-contains"?new qI(e,r):t==="in"?new zI(e,r):t==="not-in"?new GI(e,r):t==="array-contains-any"?new WI(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new HI(e,r):new $I(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ya(t,this.value)):t!==null&&ao(this.value)===ao(t)&&this.matchesComparison(Ya(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},rr=class n extends Mp{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return TP(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function TP(n){return n.op==="and"}function CP(n){return S3(n)&&TP(n)}function S3(n){for(let e of n.filters)if(e instanceof rr)return!1;return!0}function UI(n){if(n instanceof ht)return n.field.canonicalString()+n.op.toString()+Za(n.value);if(CP(n))return n.filters.map(e=>UI(e)).join(",");{let e=n.filters.map(t=>UI(t)).join(",");return`${n.op}(${e})`}}function SP(n,e){return n instanceof ht?function(r,i){return i instanceof ht&&r.op===i.op&&r.field.isEqual(i.field)&&Pr(r.value,i.value)}(n,e):n instanceof rr?function(r,i){return i instanceof rr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&SP(s,i.filters[a]),!0):!1}(n,e):void Q(19439)}function AP(n){return n instanceof ht?function(t){return`${t.field.canonicalString()} ${t.op} ${Za(t.value)}`}(n):n instanceof rr?function(t){return t.op.toString()+" {"+t.getFilters().map(AP).join(" ,")+"}"}(n):"Filter"}var BI=class extends ht{constructor(e,t,r){super(e,t,r),this.key=q.fromName(r.referenceValue)}matches(e){let t=q.comparator(e.key,this.key);return this.matchesComparison(t)}},HI=class extends ht{constructor(e,t){super(e,"in",t),this.keys=RP("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},$I=class extends ht{constructor(e,t){super(e,"not-in",t),this.keys=RP("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function RP(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>q.fromName(r.referenceValue))}var qI=class extends ht{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return vD(t)&&vl(t.arrayValue,this.value)}},zI=class extends ht{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&vl(this.value.arrayValue,t)}},GI=class extends ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!vl(this.value.arrayValue,t)}},WI=class extends ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!vD(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>vl(this.value.arrayValue,r))}};var KI=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function wM(n,e=null,t=[],r=[],i=null,o=null,s=null){return new KI(n,e,t,r,i,o,s)}function _D(n){let e=se(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>UI(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),og(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Za(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Za(r)).join(",")),e.Pe=t}return e.Pe}function ED(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!C3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!SP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!IM(n.startAt,e.startAt)&&IM(n.endAt,e.endAt)}function QI(n){return q.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var gs=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function A3(n,e,t,r,i,o,s,a){return new gs(n,e,t,r,i,o,s,a)}function ID(n){return new gs(n)}function DM(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function NP(n){return n.collectionGroup!==null}function dl(n){let e=se(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Dt(Dn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Xa(o,r))}),t.has(Dn.keyField().canonicalString())||e.Te.push(new Xa(Dn.keyField(),r))}return e.Te}function Rr(n){let e=se(n);return e.Ie||(e.Ie=R3(e,dl(n))),e.Ie}function R3(n,e){if(n.limitType==="F")return wM(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Xa(i.field,o)});let t=n.endAt?new Ja(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ja(n.startAt.position,n.startAt.inclusive):null;return wM(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function YI(n,e){let t=n.filters.concat([e]);return new gs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ZI(n,e,t){return new gs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ag(n,e){return ED(Rr(n),Rr(e))&&n.limitType===e.limitType}function MP(n){return`${_D(Rr(n))}|lt:${n.limitType}`}function Ha(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>AP(i)).join(", ")}]`),og(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Za(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Za(i)).join(",")),`Target(${r})`}(Rr(n))}; limitType=${n.limitType})`}function cg(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of dl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=EM(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,dl(r),i)||r.endAt&&!function(s,a,u){let l=EM(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,dl(r),i))}(n,e)}function N3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function PP(n){return(e,t)=>{let r=!1;for(let i of dl(n)){let o=M3(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function M3(n,e,t){let r=n.field.isKeyField()?q.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Ya(u,l):Q(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Q(19790,{direction:n.dir})}}var mi=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){lo(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return mP(this.inner)}size(){return this.innerSize}};var P3=new Ke(q.comparator);function yi(){return P3}var xP=new Ke(q.comparator);function ul(...n){let e=xP;for(let t of n)e=e.insert(t.key,t);return e}function kP(n){let e=xP;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function cs(){return hl()}function OP(){return hl()}function hl(){return new mi(n=>n.toString(),(n,e)=>n.isEqual(e))}var x3=new Ke(q.comparator),k3=new Dt(q.comparator);function Ee(...n){let e=k3;for(let t of n)e=e.add(t);return e}var O3=new Dt(ge);function F3(){return O3}function wD(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ml(e)?"-0":e}}function FP(n){return{integerValue:""+n}}function L3(n,e){return h3(e)?FP(e):wD(n,e)}var ec=class{constructor(){this._=void 0}};function V3(n,e,t){return n instanceof tc?function(i,o){let s={fields:{[vP]:{stringValue:yP},[EP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&gD(o)&&(o=sg(o)),o&&(s.fields[_P]=o),{mapValue:s}}(t,e):n instanceof ms?VP(n,e):n instanceof ys?jP(n,e):function(i,o){let s=LP(i,o),a=bM(s)+bM(i.Ee);return jI(s)&&jI(i.Ee)?FP(a):wD(i.serializer,a)}(n,e)}function j3(n,e,t){return n instanceof ms?VP(n,e):n instanceof ys?jP(n,e):t}function LP(n,e){return n instanceof nc?function(r){return jI(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var tc=class extends ec{},ms=class extends ec{constructor(e){super(),this.elements=e}};function VP(n,e){let t=UP(e);for(let r of n.elements)t.some(i=>Pr(i,r))||t.push(r);return{arrayValue:{values:t}}}var ys=class extends ec{constructor(e){super(),this.elements=e}};function jP(n,e){let t=UP(e);for(let r of n.elements)t=t.filter(i=>!Pr(i,r));return{arrayValue:{values:t}}}var nc=class extends ec{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function bM(n){return Ve(n.integerValue||n.doubleValue)}function UP(n){return vD(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function U3(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ms&&i instanceof ms||r instanceof ys&&i instanceof ys?Ka(r.elements,i.elements,Pr):r instanceof nc&&i instanceof nc?Pr(r.Ee,i.Ee):r instanceof tc&&i instanceof tc}(n.transform,e.transform)}var JI=class{constructor(e,t){this.version=e,this.transformResults=t}},Nr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Dp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var rc=class{};function BP(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new _l(n.key,Nr.none()):new vs(n.key,n.data,Nr.none());{let t=n.data,r=wn.empty(),i=new Dt(Dn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new xr(n.key,r,new On(i.toArray()),Nr.none())}}function B3(n,e,t){n instanceof vs?function(i,o,s){let a=i.value.clone(),u=CM(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof xr?function(i,o,s){if(!Dp(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=CM(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(HP(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function fl(n,e,t,r){return n instanceof vs?function(o,s,a,u){if(!Dp(o.precondition,s))return a;let l=o.value.clone(),h=SM(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof xr?function(o,s,a,u){if(!Dp(o.precondition,s))return a;let l=SM(o.fieldTransforms,u,s),h=s.data;return h.setAll(HP(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return Dp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function H3(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=LP(r.transform,i||null);o!=null&&(t===null&&(t=wn.empty()),t.set(r.field,o))}return t||null}function TM(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ka(r,i,(o,s)=>U3(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var vs=class extends rc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},xr=class extends rc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function HP(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function CM(n,e,t){let r=new Map;Re(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,j3(s,a,t[i]))}return r}function SM(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,V3(o,s,e))}return r}var _l=class extends rc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},XI=class extends rc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var ew=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&B3(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=fl(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=fl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=OP();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=BP(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ee())}isEqual(e){return this.batchId===e.batchId&&Ka(this.mutations,e.mutations,(t,r)=>TM(t,r))&&Ka(this.baseMutations,e.baseMutations,(t,r)=>TM(t,r))}},tw=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Re(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return x3}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var nw=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var rw=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var lt,Ie;function $3(n){switch(n){case M.OK:return Q(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return Q(15467,{code:n})}}function $P(n){if(n===void 0)return fi("GRPC error has no .code"),M.UNKNOWN;switch(n){case lt.OK:return M.OK;case lt.CANCELLED:return M.CANCELLED;case lt.UNKNOWN:return M.UNKNOWN;case lt.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case lt.INTERNAL:return M.INTERNAL;case lt.UNAVAILABLE:return M.UNAVAILABLE;case lt.UNAUTHENTICATED:return M.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case lt.NOT_FOUND:return M.NOT_FOUND;case lt.ALREADY_EXISTS:return M.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return M.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case lt.ABORTED:return M.ABORTED;case lt.OUT_OF_RANGE:return M.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return M.UNIMPLEMENTED;case lt.DATA_LOSS:return M.DATA_LOSS;default:return Q(39323,{code:n})}}(Ie=lt||(lt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";var AM=null;var q3=new di([4294967295,4294967295],0);function RM(n){let e=XM().encode(n),t=new vI;return t.update(e),new Uint8Array(t.digest())}function NM(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new di([t,r],0),new di([i,o],0)]}var iw=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new us(`Invalid padding: ${t}`);if(r<0)throw new us(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new us(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new us(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=di.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(di.fromNumber(r)));return i.compare(q3)===1&&(i=new di([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=RM(e),[r,i]=NM(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=RM(e),[r,i]=NM(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},us=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Pp=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,El.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(le.min(),i,new Ke(ge),yi(),Ee())}},El=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Ee(),Ee(),Ee())}};var Ga=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},xp=class{constructor(e,t){this.targetId=e,this.De=t}},kp=class{constructor(e,t,r=jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Op=class{constructor(){this.ve=0,this.Ce=MM(),this.Fe=jt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ee(),t=Ee(),r=Ee();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Q(38017,{changeType:o})}}),new El(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=MM()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Re(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},ow=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=yi(),this.je=_p(),this.Je=_p(),this.He=new Ke(ge)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:Q(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(QI(o))if(r===0){let s=new q(o.path);this.Xe(t,s,nr.newNoDocument(s,le.min()))}else Re(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}AM?.ct(function(h,p,g,y,I){var A,N,k,H,Y,Ce;let Qe={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},Ne=p.unchangedNames;return Ne&&(Qe.bloomFilter={applied:I===0,hashCount:(A=Ne?.hashCount)!==null&&A!==void 0?A:0,bitmapLength:(H=(k=(N=Ne?.bits)===null||N===void 0?void 0:N.bitmap)===null||k===void 0?void 0:k.length)!==null&&H!==void 0?H:0,padding:(Ce=(Y=Ne?.bits)===null||Y===void 0?void 0:Y.padding)!==null&&Ce!==void 0?Ce:0,mightContain:D=>{var v;return(v=y?.mightContain(D))!==null&&v!==void 0&&v}}),Qe}(s,e.De,this.We.lt(),a,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=gi(r).toUint8Array()}catch(u){if(u instanceof Ap)return so("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new iw(s,i,o)}catch(u){return so(u instanceof us?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&QI(a.target)){let u=new q(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,nr.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=Ee();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Pp(e,t,this.He,this.ze,r);return this.ze=yi(),this.je=_p(),this.Je=_p(),this.He=new Ke(ge),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Op,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Dt(ge),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Dt(ge),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||V("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Op),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function _p(){return new Ke(q.comparator)}function MM(){return new Ke(q.comparator)}var z3={asc:"ASCENDING",desc:"DESCENDING"},G3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W3={and:"AND",or:"OR"},sw=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function aw(n,e){return n.useProto3Json||og(e)?e:{value:e}}function Fp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qP(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function K3(n,e){return Fp(n,e.toTimestamp())}function Mr(n){return Re(!!n,49232),le.fromTimestamp(function(t){let r=pi(t);return new We(r.seconds,r.nanos)}(n))}function DD(n,e){return cw(n,e).canonicalString()}function cw(n,e){let t=function(i){return new je(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function zP(n){let e=je.fromString(n);return Re(YP(e),10190,{key:e.toString()}),e}function uw(n,e){return DD(n.databaseId,e.path)}function bI(n,e){let t=zP(e);if(t.get(1)!==n.databaseId.projectId)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new q(WP(t))}function GP(n,e){return DD(n.databaseId,e)}function Q3(n){let e=zP(n);return e.length===4?je.emptyPath():WP(e)}function lw(n){return new je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function WP(n){return Re(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function PM(n,e,t){return{name:uw(n,e),fields:t.value.mapValue.fields}}function Y3(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Re(h===void 0||typeof h=="string",58123),jt.fromBase64String(h||"")):(Re(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),jt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?M.UNKNOWN:$P(l.code);return new L(h,l.message||"")}(s);t=new kp(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=bI(n,r.document.name),o=Mr(r.document.updateTime),s=r.document.createTime?Mr(r.document.createTime):le.min(),a=new wn({mapValue:{fields:r.document.fields}}),u=nr.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Ga(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=bI(n,r.document),o=r.readTime?Mr(r.readTime):le.min(),s=nr.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Ga([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=bI(n,r.document),o=r.removedTargetIds||[];t=new Ga([],o,i,null)}else{if(!("filter"in e))return Q(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new rw(i,o),a=r.targetId;t=new xp(a,s)}}return t}function Z3(n,e){let t;if(e instanceof vs)t={update:PM(n,e.key,e.value)};else if(e instanceof _l)t={delete:uw(n,e.key)};else if(e instanceof xr)t={update:PM(n,e.key,e.data),updateMask:s5(e.fieldMask)};else{if(!(e instanceof XI))return Q(16599,{Rt:e.type});t={verify:uw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof tc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ms)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ys)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof nc)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw Q(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:K3(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Q(27497)}(n,e.precondition)),t}function J3(n,e){return n&&n.length>0?(Re(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?Mr(i.updateTime):Mr(o);return s.isEqual(le.min())&&(s=Mr(o)),new JI(s,i.transformResults||[])}(t,e))):[]}function X3(n,e){return{documents:[GP(n,e.path)]}}function e5(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=GP(n,i);let o=function(l){if(l.length!==0)return QP(rr.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:$a(g.field),direction:r5(g.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=aw(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{Vt:t,parent:i}}function t5(n){let e=Q3(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Re(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let g=KP(p);return g instanceof rr&&CP(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(g=>function(I){return new Xa(qa(I.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,og(g)?null:g}(t.limit));let u=null;t.startAt&&(u=function(p){let g=!!p.before,y=p.values||[];return new Ja(y,g)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let g=!p.before,y=p.values||[];return new Ja(y,g)}(t.endAt)),A3(e,i,s,o,a,"F",u,l)}function n5(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function KP(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=qa(t.unaryFilter.field);return ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=qa(t.unaryFilter.field);return ht.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=qa(t.unaryFilter.field);return ht.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=qa(t.unaryFilter.field);return ht.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}}(n):n.fieldFilter!==void 0?function(t){return ht.create(qa(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return rr.create(t.compositeFilter.filters.map(r=>KP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q(1026)}}(t.compositeFilter.op))}(n):Q(30097,{filter:n})}function r5(n){return z3[n]}function i5(n){return G3[n]}function o5(n){return W3[n]}function $a(n){return{fieldPath:n.canonicalString()}}function qa(n){return Dn.fromServerFormat(n.fieldPath)}function QP(n){return n instanceof ht?function(t){if(t.op==="=="){if(_M(t.value))return{unaryFilter:{field:$a(t.field),op:"IS_NAN"}};if(vM(t.value))return{unaryFilter:{field:$a(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(_M(t.value))return{unaryFilter:{field:$a(t.field),op:"IS_NOT_NAN"}};if(vM(t.value))return{unaryFilter:{field:$a(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$a(t.field),op:i5(t.op),value:t.value}}}(n):n instanceof rr?function(t){let r=t.getFilters().map(i=>QP(i));return r.length===1?r[0]:{compositeFilter:{op:o5(t.op),filters:r}}}(n):Q(54877,{filter:n})}function s5(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function YP(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Il=class n{constructor(e,t,r,i,o=le.min(),s=le.min(),a=jt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var dw=class{constructor(e){this.gt=e}};function a5(n){let e=t5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ZI(e,e.limit,"L"):e}var Lp=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Ve(e.integerValue));else if("doubleValue"in e){let r=Ve(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),ml(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=pi(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(gi(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?DP(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):wP(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):Q(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=Qa,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Ve(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),q.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Lp.Ut=new Lp;var hw=class{constructor(){this.Dn=new fw}addToCollectionParentIndex(e,t){return this.Dn.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(ps.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(ps.min())}updateCollectionGroup(e,t,r){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}},fw=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Dt(je.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dt(je.comparator)).toArray()}};var Uae=new Uint8Array(0);var xM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZP=41943040,kn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(ZP,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);var wl=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var kM="LruGarbageCollector",c5=1048576;function OM([n,e],[t,r]){let i=ge(n,t);return i===0?ge(e,r):i}var pw=class{constructor(e){this.Tr=e,this.buffer=new Dt(OM),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();OM(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},gw=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){V(kM,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){uc(t)?V(kM,"Ignoring IndexedDB error during garbage collection: ",t):await cc(t)}await this.Rr(3e5)})}},mw=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return P.resolve(fD.ue);let r=new pw(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(V("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(xM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(V("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xM):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(V("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Ba()<=ve.DEBUG&&V("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function u5(n,e){return new mw(n,e)}var yw=class{constructor(){this.changes=new mi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?P.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var vw=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var _w=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&fl(r.mutation,i,On.empty(),We.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ee()){let i=cs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=ul();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=cs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ee()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=yi(),s=hl(),a=function(){return hl()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof xr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),fl(h.mutation,l,h.mutation.getFieldMask(),We.now())):s.set(l.key,On.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new vw(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=hl(),i=new Ke((s,a)=>s-a),o=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||On.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||Ee()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=OP();h.forEach(g=>{if(!o.has(g)){let y=BP(t.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):NP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):P.resolve(cs()),a=gl,u=o;return s.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,Ee())).next(h=>({batchId:a,changes:kP(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new q(t)).next(r=>{let i=ul();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=ul();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,u=>{let l=function(p,g){return new gs(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,nr.newInvalidDocument(h)))});let a=ul();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&fl(h.mutation,l,On.empty(),We.now()),cg(t,l)&&(a=a.insert(u,l))}),a})}};var Ew=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return P.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Mr(i.createTime)}}(t)),P.resolve()}getNamedQuery(e,t){return P.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(i){return{name:i.name,query:a5(i.bundledQuery),readTime:Mr(i.readTime)}}(t)),P.resolve()}};var Iw=class{constructor(){this.overlays=new Ke(q.comparator),this.kr=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){let r=cs();return P.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),P.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),P.resolve()}getOverlaysForCollection(e,t,r){let i=cs(),o=t.length+1,s=new q(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ke((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=cs(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=cs(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new nw(t,r));let o=this.kr.get(t);o===void 0&&(o=Ee(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var ww=class{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,P.resolve()}};var Dl=class{constructor(){this.qr=new Dt(dt.Qr),this.$r=new Dt(dt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new dt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new dt(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new q(new je([])),r=new dt(t,e),i=new dt(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new q(new je([])),r=new dt(t,e),i=new dt(t,e+1),o=Ee();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new dt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},dt=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return q.comparator(e.key,t.key)||ge(e.Hr,t.Hr)}static Ur(e,t){return ge(e.Hr,t.Hr)||q.comparator(e.key,t.key)}};var Dw=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Dt(dt.Qr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new ew(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new dt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,t){return P.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?pD:this.er-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new dt(t,0),i=new dt(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Dt(ge);return t.forEach(i=>{let o=new dt(i,0),s=new dt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),P.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;q.isDocumentKey(o)||(o=o.child(""));let s=new dt(new q(o),0),a=new Dt(ge);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),P.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Re(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return P.forEach(t.mutations,i=>{let o=new dt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new dt(t,0),i=this.Yr.firstAfterOrEqual(r);return P.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var bw=class{constructor(e){this.ni=e,this.docs=function(){return new Ke(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return P.resolve(r?r.document.mutableCopy():nr.newInvalidDocument(t))}getEntries(e,t){let r=yi();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():nr.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=yi(),s=t.path,a=new q(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||u3(c3(h),r)<=0||(i.has(h.key)||cg(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Q(9500)}ri(e,t){return P.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Tw(this)}getSize(e){return P.resolve(this.size)}},Tw=class extends yw{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),P.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var Cw=class{constructor(e){this.persistence=e,this.ii=new mi(t=>_D(t),ED),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.si=0,this.oi=new Dl,this.targetCount=0,this._i=wl.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),P.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new wl(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.hr(t),P.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return P.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),P.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),P.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return P.resolve(r)}containsKey(e,t){return P.resolve(this.oi.containsKey(t))}};var Vp=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new fD(0),this.ci=!1,this.ci=!0,this.li=new ww,this.referenceDelegate=e(this),this.hi=new Cw(this),this.indexManager=new hw,this.remoteDocumentCache=function(i){return new bw(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new dw(t),this.Ti=new Ew(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Iw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new Dw(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){V("MemoryPersistence","Starting transaction:",e);let i=new Sw(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return P.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},Sw=class extends FI{constructor(e){super(),this.currentSequenceNumber=e}},Aw=class n{constructor(e){this.persistence=e,this.Ai=new Dl,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw Q(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),P.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),P.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.mi,r=>{let i=q.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,le.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return P.or([()=>P.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},jp=class n{constructor(e,t){this.persistence=e,this.gi=new mi(r=>f3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=u5(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return P.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return P.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?P.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,le.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),P.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),P.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ip(e.data.value)),t}Sr(e,t,r){return P.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Rw=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Ee(),i=Ee();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Nw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Mw=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return CR()?8:d3(It())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Nw;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Ba()<=ve.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",Ha(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(Ba()<=ve.DEBUG&&V("QueryEngine","Query:",Ha(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Ba()<=ve.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",Ha(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rr(t))):P.resolve())}ps(e,t){if(DM(t))return P.resolve(null);let r=Rr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=ZI(t,null,"F"),r=Rr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Ee(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ds(t,l,s,u.readTime)?this.ps(e,ZI(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return DM(t)||i.isEqual(le.min())?P.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?P.resolve(null):(Ba()<=ve.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ha(t)),this.vs(e,s,t,a3(i,gl)).next(a=>a))})}bs(e,t){let r=new Dt(PP(e));return t.forEach((i,o)=>{cg(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return Ba()<=ve.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",Ha(t)),this.gs.getDocumentsMatchingQuery(e,t,ps.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var bD="LocalStore",l5=3e8,Pw=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Ke(ge),this.Ms=new mi(o=>_D(o),ED),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _w(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function d5(n,e,t,r){return new Pw(n,e,t,r)}async function JP(n,e){let t=se(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=Ee();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})}function h5(n,e){let t=se(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,g=p.keys(),y=P.resolve();return g.forEach(I=>{y=y.next(()=>h.getEntry(u,I)).next(A=>{let N=l.docVersions.get(I);Re(N!==null,48541),A.version.compareTo(N)<0&&(p.applyToRemoteDocument(A,l),A.isValidDocument()&&(A.setReadTime(l.commitVersion),h.addEntry(A)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Ee();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function XP(n){let e=se(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function f5(n,e){let t=se(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(jt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(A,N,k){return A.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=l5?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(g,y,h)&&a.push(t.hi.updateTargetData(o,y))});let u=yi(),l=Ee();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(p5(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(le.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function p5(n,e,t){let r=Ee(),i=Ee();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=yi();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(le.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):V(bD,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function g5(n,e){let t=se(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=pD),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function m5(n,e){let t=se(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Il(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function xw(n,e,t){let r=se(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!uc(s))throw s;V(bD,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function FM(n,e,t){let r=se(n),i=le.min(),o=Ee();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=se(u),g=p.Ms.get(h);return g!==void 0?P.resolve(p.Fs.get(g)):p.hi.getTargetData(l,h)}(r,s,Rr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:le.min(),t?o:Ee())).next(a=>(y5(r,N3(e),a),{documents:a,qs:o})))}function y5(n,e,t){let r=n.xs.get(e)||le.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var Up=class{constructor(){this.activeTargetIds=F3()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var kw=class{constructor(){this.Fo=new Up,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Up,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Ow=class{xo(e){}shutdown(){}};var LM="ConnectivityMonitor",Bp=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){V(LM,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){V(LM,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ep=null;function Fw(){return Ep===null?Ep=function(){return 268435456+Math.round(2147483648*Math.random())}():Ep++,"0x"+Ep.toString(16)}var TI="RestConnection",v5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Lw=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Rp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=Fw(),a=this.Go(e,t.toUriEncodedString());V(TI,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=Wi(l);return this.jo(e,a,u,r,h).then(p=>(V(TI,`Received RPC '${e}' ${s}: `,p),p),p=>{throw so(TI,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ac}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=v5[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var Vw=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Vt="WebChannelConnection",jw=class extends Lw{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=Fw();return new Promise((a,u)=>{let l=new _I;l.setWithCredentials(!0),l.listenOnce(EI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case cl.NO_ERROR:let p=l.getResponseJson();V(Vt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case cl.TIMEOUT:V(Vt,`RPC '${e}' ${s} timed out`),u(new L(M.DEADLINE_EXCEEDED,"Request time out"));break;case cl.HTTP_ERROR:let g=l.getStatus();if(V(Vt,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let I=y?.error;if(I&&I.status&&I.message){let A=function(k){let H=k.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(H)>=0?H:M.UNKNOWN}(I.status);u(new L(A,I.message))}else u(new L(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new L(M.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{V(Vt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);V(Vt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}P_(e,t,r){let i=Fw(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=DI(),a=wI(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");V(Vt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let g=!1,y=!1,I=new Vw({Ho:N=>{y?V(Vt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(g||(V(Vt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),V(Vt,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},Yo:()=>p.close()}),A=(N,k,H)=>{N.listen(k,Y=>{try{H(Y)}catch(Ce){setTimeout(()=>{throw Ce},0)}})};return A(p,Ua.EventType.OPEN,()=>{y||(V(Vt,`RPC '${e}' stream ${i} transport opened.`),I.s_())}),A(p,Ua.EventType.CLOSE,()=>{y||(y=!0,V(Vt,`RPC '${e}' stream ${i} transport closed`),I.__(),this.I_(p))}),A(p,Ua.EventType.ERROR,N=>{y||(y=!0,so(Vt,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),I.__(new L(M.UNAVAILABLE,"The operation could not be completed")))}),A(p,Ua.EventType.MESSAGE,N=>{var k;if(!y){let H=N.data[0];Re(!!H,16349);let Y=H,Ce=Y?.error||((k=Y[0])===null||k===void 0?void 0:k.error);if(Ce){V(Vt,`RPC '${e}' stream ${i} received error:`,Ce);let Qe=Ce.status,Ne=function(E){let w=lt[E];if(w!==void 0)return $P(w)}(Qe),D=Ce.message;Ne===void 0&&(Ne=M.INTERNAL,D="Unknown error status: "+Qe+" with message "+Ce.message),y=!0,I.__(new L(Ne,D)),p.close()}else V(Vt,`RPC '${e}' stream ${i} received:`,H),I.a_(H)}}),A(a,II.STAT_EVENT,N=>{N.stat===yp.PROXY?V(Vt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===yp.NOPROXY&&V(Vt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.o_()},0),I}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function CI(){return typeof document<"u"?document:null}function ug(n){return new sw(n,!0)}var Hp=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var VM="PersistentStream",$p=class{constructor(e,t,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Hp(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===M.RESOURCE_EXHAUSTED?(fi(t.toString()),fi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new L(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return V(VM,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(V(VM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Uw=class extends $p{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=Y3(this.serializer,e),r=function(o){if(!("targetChange"in o))return le.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?le.min():s.readTime?Mr(s.readTime):le.min()}(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=lw(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=QI(u)?{documents:X3(o,u)}:{query:e5(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=qP(o,s.resumeToken);let l=aw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(le.min())>0){a.readTime=Fp(o,s.snapshotVersion.toTimestamp());let l=aw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=n5(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=lw(this.serializer),t.removeTarget=e,this.k_(t)}},Bw=class extends $p{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Re(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Re(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=J3(e.writeResults,e.commitTime),r=Mr(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=lw(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>Z3(this.serializer,r))};this.k_(t)}};var Hw=class{},$w=class extends Hw{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,cw(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(M.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,cw(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(M.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},qw=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(fi(t),this._a=!1):V("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var _s="RemoteStore",zw=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(async()=>{Is(this)&&(V(_s,"Restarting streams for network reachability change."),await async function(u){let l=se(u);l.Ia.add(4),await Al(l),l.Aa.set("Unknown"),l.Ia.delete(4),await lg(l)}(this))})}),this.Aa=new qw(r,i)}};async function lg(n){if(Is(n))for(let e of n.da)await e(!0)}async function Al(n){for(let e of n.da)await e(!1)}function ex(n,e){let t=se(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),AD(t)?SD(t):lc(t).x_()&&CD(t,e))}function TD(n,e){let t=se(n),r=lc(t);t.Ta.delete(e),r.x_()&&tx(t,e),t.Ta.size===0&&(r.x_()?r.B_():Is(t)&&t.Aa.set("Unknown"))}function CD(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}lc(n).H_(e)}function tx(n,e){n.Ra.$e(e),lc(n).Y_(e)}function SD(n){n.Ra=new ow({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),lc(n).start(),n.Aa.aa()}function AD(n){return Is(n)&&!lc(n).M_()&&n.Ta.size>0}function Is(n){return se(n).Ia.size===0}function nx(n){n.Ra=void 0}async function _5(n){n.Aa.set("Online")}async function E5(n){n.Ta.forEach((e,t)=>{CD(n,e)})}async function I5(n,e){nx(n),AD(n)?(n.Aa.la(e),SD(n)):n.Aa.set("Unknown")}async function w5(n,e,t){if(n.Aa.set("Online"),e instanceof kp&&e.state===2&&e.cause)try{await async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))}(n,e)}catch(r){V(_s,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qp(n,r)}else if(e instanceof Ga?n.Ra.Ye(e):e instanceof xp?n.Ra.it(e):n.Ra.et(e),!t.isEqual(le.min()))try{let r=await XP(n.localStore);t.compareTo(r)>=0&&await function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(jt.EMPTY_BYTE_STRING,h.snapshotVersion)),tx(o,u);let p=new Il(h.target,u,l,h.sequenceNumber);CD(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t)}catch(r){V(_s,"Failed to raise snapshot:",r),await qp(n,r)}}async function qp(n,e,t){if(!uc(e))throw e;n.Ia.add(1),await Al(n),n.Aa.set("Offline"),t||(t=()=>XP(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{V(_s,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await lg(n)})}function rx(n,e){return e().catch(t=>qp(n,t,e))}async function dg(n){let e=se(n),t=co(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:pD;for(;D5(e);)try{let i=await g5(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,b5(e,i)}catch(i){await qp(e,i)}ix(e)&&ox(e)}function D5(n){return Is(n)&&n.Pa.length<10}function b5(n,e){n.Pa.push(e);let t=co(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function ix(n){return Is(n)&&!co(n).M_()&&n.Pa.length>0}function ox(n){co(n).start()}async function T5(n){co(n).na()}async function C5(n){let e=co(n);for(let t of n.Pa)e.X_(t.mutations)}async function S5(n,e,t){let r=n.Pa.shift(),i=tw.from(r,e,t);await rx(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await dg(n)}async function A5(n,e){e&&co(n).Z_&&await async function(r,i){if(function(s){return $3(s)&&s!==M.ABORTED}(i.code)){let o=r.Pa.shift();co(r).N_(),await rx(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await dg(r)}}(n,e),ix(n)&&ox(n)}async function jM(n,e){let t=se(n);t.asyncQueue.verifyOperationInProgress(),V(_s,"RemoteStore received new credentials");let r=Is(t);t.Ia.add(3),await Al(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await lg(t)}async function R5(n,e){let t=se(n);e?(t.Ia.delete(2),await lg(t)):e||(t.Ia.add(2),await Al(t),t.Aa.set("Unknown"))}function lc(n){return n.Va||(n.Va=function(t,r,i){let o=se(t);return o.ia(),new Uw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:_5.bind(null,n),e_:E5.bind(null,n),n_:I5.bind(null,n),J_:w5.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),AD(n)?SD(n):n.Aa.set("Unknown")):(await n.Va.stop(),nx(n))})),n.Va}function co(n){return n.ma||(n.ma=function(t,r,i){let o=se(t);return o.ia(),new Bw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:T5.bind(null,n),n_:A5.bind(null,n),ea:C5.bind(null,n),ta:S5.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await dg(n)):(await n.ma.stop(),n.Pa.length>0&&(V(_s,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}var Gw=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function RD(n,e){if(fi("AsyncQueue",`${e}: ${n}`),uc(n))return new L(M.UNAVAILABLE,`${e}: ${n}`);throw n}var zp=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||q.comparator(t.key,r.key):(t,r)=>q.comparator(t.key,r.key),this.keyedMap=ul(),this.sortedSet=new Ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Gp=class{constructor(){this.fa=new Ke(q.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Q(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},ic=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,zp.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ag(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Ww=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},Kw=class{constructor(){this.queries=UM(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=se(t),o=i.queries;i.queries=UM(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new L(M.ABORTED,"Firestore shutting down"))}};function UM(){return new mi(n=>MP(n),ag)}async function sx(n,e){let t=se(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new Ww,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await t.onListen(i,!0);break;case 1:o.ya=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){let a=RD(s,`Initialization of query '${Ha(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&ND(t)}async function ax(n,e){let t=se(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function N5(n,e){let t=se(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&ND(t)}function M5(n,e,t){let r=se(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function ND(n){n.Da.forEach(e=>{e.next()})}var Qw,BM;(BM=Qw||(Qw={})).Fa="default",BM.Cache="cache";var Wp=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ic(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=ic.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Qw.Cache}};var Kp=class{constructor(e){this.key=e}},Qp=class{constructor(e){this.key=e}},Yw=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ee(),this.mutatedKeys=Ee(),this.Xa=PP(e),this.eu=new zp(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Gp,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=cg(this.query,p)?p:null,I=!!g&&this.mutatedKeys.has(g.key),A=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),N=!1;g&&y?g.data.isEqual(y.data)?I!==A&&(r.track({type:3,doc:y}),N=!0):this.iu(g,y)||(r.track({type:2,doc:y}),N=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),N=!0):g&&!y&&(r.track({type:1,doc:g}),N=!0,(u||l)&&(a=!0)),N&&(y?(s=s.add(y),o=A?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>function(y,I){let A=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{At:N})}};return A(y)-A(I)}(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new ic(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Gp,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=Ee(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Qp(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Kp(r))}),t}uu(e){this.Ha=e.qs,this.Za=Ee();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return ic.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},MD="SyncEngine",Zw=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Jw=class{constructor(e){this.key=e,this.lu=!1}},Xw=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new mi(a=>MP(a),ag),this.Tu=new Map,this.Iu=new Set,this.du=new Ke(q.comparator),this.Eu=new Map,this.Au=new Dl,this.Ru={},this.Vu=new Map,this.mu=wl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function P5(n,e,t=!0){let r=fx(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await cx(r,e,t,!0),i}async function x5(n,e){let t=fx(n);await cx(t,e,!0,!1)}async function cx(n,e,t,r){let i=await m5(n.localStore,Rr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=await k5(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&ex(n.remoteStore,i),a}async function k5(n,e,t,r,i){n.gu=(p,g,y)=>async function(A,N,k,H){let Y=N.view.nu(k);Y.Ds&&(Y=await FM(A.localStore,N.query,!1).then(({documents:D})=>N.view.nu(D,Y)));let Ce=H&&H.targetChanges.get(N.targetId),Qe=H&&H.targetMismatches.get(N.targetId)!=null,Ne=N.view.applyChanges(Y,A.isPrimaryClient,Ce,Qe);return $M(A,N.targetId,Ne._u),Ne.snapshot}(n,p,g,y);let o=await FM(n.localStore,e,!0),s=new Yw(e,o.qs),a=s.nu(o.documents),u=El.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);$M(n,t,l._u);let h=new Zw(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot}async function O5(n,e,t){let r=se(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!ag(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await xw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&TD(r.remoteStore,i.targetId),eD(r,i.targetId)}).catch(cc)):(eD(r,i.targetId),await xw(r.localStore,i.targetId,!0))}async function F5(n,e){let t=se(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),TD(t.remoteStore,r.targetId))}async function L5(n,e,t){let r=q5(n);try{let i=await function(s,a){let u=se(s),l=We.now(),h=a.reduce((y,I)=>y.add(I.key),Ee()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let I=yi(),A=Ee();return u.Os.getEntries(y,h).next(N=>{I=N,I.forEach((k,H)=>{H.isValidDocument()||(A=A.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,I)).next(N=>{p=N;let k=[];for(let H of a){let Y=H3(H,p.get(H.key).overlayedDocument);Y!=null&&k.push(new xr(H.key,Y,bP(Y.value.mapValue),Nr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,k,a)}).next(N=>{g=N;let k=N.applyToLocalDocumentSet(p,A);return u.documentOverlayCache.saveOverlays(y,N.batchId,k)})}).then(()=>({batchId:g.batchId,changes:kP(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Ke(ge)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l}(r,i.batchId,t),await Rl(r,i.changes),await dg(r.remoteStore)}catch(i){let o=RD(i,"Failed to persist write");t.reject(o)}}async function ux(n,e){let t=se(n);try{let r=await f5(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Re(s.lu,14607):i.removedDocuments.size>0&&(Re(s.lu,42227),s.lu=!1))}),await Rl(t,r,e)}catch(r){await cc(r)}}function HM(n,e,t){let r=se(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=se(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.wa)g.va(a)&&(l=!0)}),l&&ND(u)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function V5(n,e,t){let r=se(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Ke(q.comparator);s=s.insert(o,nr.newNoDocument(o,le.min()));let a=Ee().add(o),u=new Pp(le.min(),new Map,new Ke(ge),s,a);await ux(r,u),r.du=r.du.remove(o),r.Eu.delete(e),PD(r)}else await xw(r.localStore,e,!1).then(()=>eD(r,e,t)).catch(cc)}async function j5(n,e){let t=se(n),r=e.batch.batchId;try{let i=await h5(t.localStore,e);dx(t,r,null),lx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Rl(t,i)}catch(i){await cc(i)}}async function U5(n,e,t){let r=se(n);try{let i=await function(s,a){let u=se(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Re(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);dx(r,e,t),lx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Rl(r,i)}catch(i){await cc(i)}}function lx(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function dx(n,e,t){let r=se(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function eD(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||hx(n,r)})}function hx(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(TD(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),PD(n))}function $M(n,e,t){for(let r of t)r instanceof Kp?(n.Au.addReference(r.key,e),B5(n,r)):r instanceof Qp?(V(MD,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||hx(n,r.key)):Q(19791,{yu:r})}function B5(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(V(MD,"New document in limbo: "+t),n.Iu.add(r),PD(n))}function PD(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new q(je.fromString(e)),r=n.mu.next();n.Eu.set(r,new Jw(t)),n.du=n.du.insert(t,r),ex(n.remoteStore,new Il(Rr(ID(t.path)),r,"TargetPurposeLimboResolution",fD.ue))}}async function Rl(n,e,t){let r=se(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Rw.Es(u.targetId,l);o.push(p)}}))}),await Promise.all(s),r.hu.J_(i),await async function(u,l){let h=se(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,g=>P.forEach(g.Is,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>P.forEach(g.ds,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!uc(p))throw p;V(bD,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.Fs.get(g),I=y.snapshotVersion,A=y.withLastLimboFreeSnapshotVersion(I);h.Fs=h.Fs.insert(g,A)}}}(r.localStore,o))}async function H5(n,e){let t=se(n);if(!t.currentUser.isEqual(e)){V(MD,"User change. New user:",e.toKey());let r=await JP(t.localStore,e);t.currentUser=e,function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new L(M.CANCELLED,s))})}),o.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Rl(t,r.Bs)}}function $5(n,e){let t=se(n),r=t.Eu.get(e);if(r&&r.lu)return Ee().add(r.key);{let i=Ee(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function fx(n){let e=se(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ux.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=V5.bind(null,e),e.hu.J_=N5.bind(null,e.eventManager),e.hu.pu=M5.bind(null,e.eventManager),e}function q5(n){let e=se(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=j5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=U5.bind(null,e),e}var px=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ug(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,r){return null}Fu(t,r){return null}vu(t){return d5(this.persistence,new Mw,t.initialUser,this.serializer)}Du(t){return new Vp(Aw.Vi,this.serializer)}bu(t){return new kw}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),tD=class extends px{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Re(this.persistence.referenceDelegate instanceof jp,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new gw(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new Vp(r=>jp.Vi(r,t),this.serializer)}};var z5=(()=>{class n{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>HM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=H5.bind(null,this.syncEngine),await R5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Kw}()}createDatastore(t){let r=ug(t.databaseInfo.databaseId),i=function(s){return new jw(s)}(t.databaseInfo);return function(s,a,u,l){return new $w(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new zw(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>HM(this.syncEngine,r,0),function(){return Bp.C()?new Bp:new Ow}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let g=new Xw(o,s,a,u,l,h);return p&&(g.fu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(o){let s=se(o);V(_s,"RemoteStore shutting down."),s.Ia.add(5),await Al(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return n.provider={build:()=>new n},n})();var Yp=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):fi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var uo="FirestoreClient",nD=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=wt.UNAUTHENTICATED,this.clientId=pl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{V(uo,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(V(uo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=RD(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function SI(n,e){n.asyncQueue.verifyOperationInProgress(),V(uo,"Initializing OfflineComponentProvider");let t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await JP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{so("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{V("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{so("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e}async function qM(n,e){n.asyncQueue.verifyOperationInProgress();let t=await G5(n);V(uo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>jM(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>jM(e.remoteStore,i)),n._onlineComponents=e}async function G5(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){V(uo,"Using user provided OfflineComponentProvider");try{await SI(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;so("Error using user provided cache. Falling back to memory cache: "+t),await SI(n,new px)}}else V(uo,"Using default OfflineComponentProvider"),await SI(n,new tD(void 0));return n._offlineComponents}async function gx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(V(uo,"Using user provided OnlineComponentProvider"),await qM(n,n._uninitializedComponentsProvider._online)):(V(uo,"Using default OnlineComponentProvider"),await qM(n,new z5))),n._onlineComponents}function W5(n){return gx(n).then(e=>e.syncEngine)}async function rD(n){let e=await gx(n),t=e.eventManager;return t.onListen=P5.bind(null,e.syncEngine),t.onUnlisten=O5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=x5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=F5.bind(null,e.syncEngine),t}function K5(n,e,t={}){let r=new Sr;return n.asyncQueue.enqueueAndForget(async()=>function(o,s,a,u,l){let h=new Yp({next:g=>{h.Ou(),s.enqueueAndForget(()=>ax(o,p)),g.fromCache&&u.source==="server"?l.reject(new L(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new Wp(a,h,{includeMetadataChanges:!0,ka:!0});return sx(o,p)}(await rD(n),n.asyncQueue,e,t,r)),r.promise}function mx(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var zM=new Map;var yx="firestore.googleapis.com",GM=!0,Zp=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yx,this.ssl=GM}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:GM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<c5)throw new L(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}s3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},oc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new L(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new AI;switch(r.type){case"firstParty":return new PI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=zM.get(t);r&&(V("ComponentProvider","Removing Datastore"),zM.delete(t),r.terminate())}(this),Promise.resolve()}};function vx(n,e,t,r={}){var i;n=Fn(n,oc);let o=Wi(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(Bf(`https://${u}`),Hf("Firestore",!0)),s.host!==yx&&s.host!==u&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!wr(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=wt.MOCK_USER;else{h=ER(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new L(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new wt(g)}n._authCredentials=new RI(new bp(h,p))}}var Es=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},bt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new no(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Sl(t,n._jsonSchema))return new n(e,r||null,new q(je.fromString(t.referencePath)))}};bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:ft("string",bt._jsonSchemaVersion),referencePath:ft("string")};var no=class n extends Es{constructor(e,t,r){super(e,t,ID(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new q(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function _x(n,e,...t){if(n=ut(n),eP("collection","path",e),n instanceof oc){let r=je.fromString(e,...t);return lM(r),new no(n,null,r)}{if(!(n instanceof bt||n instanceof no))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(je.fromString(e,...t));return lM(r),new no(n.firestore,null,r)}}function xD(n,e,...t){if(n=ut(n),arguments.length===1&&(e=pl.newId()),eP("doc","path",e),n instanceof oc){let r=je.fromString(e,...t);return uM(r),new bt(n,null,new q(r))}{if(!(n instanceof bt||n instanceof no))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(je.fromString(e,...t));return uM(r),new bt(n.firestore,n instanceof no?n.converter:null,new q(r))}}var WM="AsyncQueue",Jp=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Hp(this,"async_queue_retry"),this.oc=()=>{let r=CI();r&&V(WM,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=CI();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=CI();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Sr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!uc(e))throw e;V(WM,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,fi("INTERNAL UNHANDLED ERROR: ",KM(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=Gw.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&Q(47125,{hc:KM(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function KM(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function QM(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var kr=class extends oc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Jp,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Jp(e),this._firestoreClient=void 0,await e}}};function Ex(n,e){let t=typeof n=="object"?n:ts(),r=typeof n=="string"?n:e||Rp,i=Pa(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=_R("firestore");o&&vx(i,...o)}return i}function kD(n){if(n._terminated)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Q5(n),n._firestoreClient}function Q5(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new LI(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,mx(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new nD(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var ro=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(jt.fromBase64String(e))}catch(t){throw new L(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Sl(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};ro._jsonSchemaVersion="firestore/bytes/1.0",ro._jsonSchema={type:ft("string",ro._jsonSchemaVersion),bytes:ft("string")};var sc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new L(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var bl=class{constructor(e){this._methodName=e}};var io=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new L(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new L(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Sl(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};io._jsonSchemaVersion="firestore/geoPoint/1.0",io._jsonSchema={type:ft("string",io._jsonSchemaVersion),latitude:ft("number"),longitude:ft("number")};var oo=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Sl(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new L(M.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};oo._jsonSchemaVersion="firestore/vectorValue/1.0",oo._jsonSchema={type:ft("string",oo._jsonSchemaVersion),vectorValues:ft("object")};var Y5=/^__.*__$/,iD=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new xr(e,this.data,this.fieldMask,t,this.fieldTransforms):new vs(e,this.data,t,this.fieldTransforms)}},Xp=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new xr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function Ix(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q(40011,{Ec:n})}}var oD=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return tg(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Ix(this.Ec)&&Y5.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},sD=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ug(e)}Dc(e,t,r,i=!1){return new oD({Ec:e,methodName:t,bc:r,path:Dn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function hg(n){let e=n._freezeSettings(),t=ug(n._databaseId);return new sD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function wx(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);OD("Data must be an object, but it was:",s,r);let a=Dx(r,s),u,l;if(o.merge)u=new On(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=aD(e,p,t);if(!s.contains(g))throw new L(M.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Tx(h,g)||h.push(g)}u=new On(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new iD(new wn(a),u,l)}var eg=class n extends bl{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function Z5(n,e,t,r){let i=n.Dc(1,e,t);OD("Data must be an object, but it was:",i,r);let o=[],s=wn.empty();lo(r,(u,l)=>{let h=FD(e,u,t);l=ut(l);let p=i.gc(h);if(l instanceof eg)o.push(h);else{let g=Nl(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new On(o);return new Xp(s,a,i.fieldTransforms)}function J5(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[aD(e,r,t)],u=[i];if(o.length%2!=0)throw new L(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(aD(e,o[g])),u.push(o[g+1]);let l=[],h=wn.empty();for(let g=a.length-1;g>=0;--g)if(!Tx(l,a[g])){let y=a[g],I=u[g];I=ut(I);let A=s.gc(y);if(I instanceof eg)l.push(y);else{let N=Nl(I,A);N!=null&&(l.push(y),h.set(y,N))}}let p=new On(l);return new Xp(h,p,s.fieldTransforms)}function X5(n,e,t,r=!1){return Nl(t,n.Dc(r?4:3,e))}function Nl(n,e){if(bx(n=ut(n)))return OD("Unsupported field value:",e,n),Dx(n,e);if(n instanceof bl)return function(r,i){if(!Ix(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Nl(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return L3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=We.fromDate(r);return{timestampValue:Fp(i.serializer,o)}}if(r instanceof We){let o=new We(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fp(i.serializer,o)}}if(r instanceof io)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ro)return{bytesValue:qP(i.serializer,r._byteString)};if(r instanceof bt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:DD(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof oo)return function(s,a){return{mapValue:{fields:{[mD]:{stringValue:yD},[Qa]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return wD(a.serializer,l)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${ig(r)}`)}(n,e)}function Dx(n,e){let t={};return mP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lo(n,(r,i)=>{let o=Nl(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function bx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof We||n instanceof io||n instanceof ro||n instanceof bt||n instanceof bl||n instanceof oo)}function OD(n,e,t){if(!bx(t)||!tP(t)){let r=ig(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function aD(n,e,t){if((e=ut(e))instanceof sc)return e._internalPath;if(typeof e=="string")return FD(n,e);throw tg("Field path arguments must be of type string or ",n,!1,void 0,t)}var eq=new RegExp("[~\\*/\\[\\]]");function FD(n,e,t){if(e.search(eq)>=0)throw tg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sc(...e.split("."))._internalPath}catch{throw tg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function tg(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new L(M.INVALID_ARGUMENT,a+n+u)}function Tx(n,e){return n.some(t=>t.isEqual(e))}var ng=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new cD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(LD("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},cD=class extends ng{data(){return super.data()}};function LD(n,e){return typeof e=="string"?FD(n,e):e instanceof sc?e._internalPath:e._delegate._internalPath}function Cx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new L(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Tl=class{},uD=class extends Tl{};function ir(n,e,...t){let r=[];e instanceof Tl&&r.push(e),r=r.concat(t),function(o){let s=o.filter(u=>u instanceof lD).length,a=o.filter(u=>u instanceof rg).length;if(s>1||s>0&&a>0)throw new L(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var rg=class n extends uD{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return Sx(e._query,t),new Es(e.firestore,e.converter,YI(e._query,t))}_parse(e){let t=hg(e.firestore);return function(o,s,a,u,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new L(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){ZM(p,h);let I=[];for(let A of p)I.push(YM(u,o,A));g={arrayValue:{values:I}}}else g=YM(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||ZM(p,h),g=X5(a,s,p,h==="in"||h==="not-in");return ht.create(l,h,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function or(n,e,t){let r=e,i=LD("where",n);return rg._create(i,r,t)}var lD=class n extends Tl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:rr.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)Sx(s,u),s=YI(s,u)}(e._query,t),new Es(e.firestore,e.converter,YI(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function YM(n,e,t){if(typeof(t=ut(t))=="string"){if(t==="")throw new L(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NP(e)&&t.indexOf("/")!==-1)throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(je.fromString(t));if(!q.isDocumentKey(r))throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yM(n,new q(r))}if(t instanceof bt)return yM(n,t._key);throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ig(t)}.`)}function ZM(n,e){if(!Array.isArray(n)||n.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Sx(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var dD=class{convertValue(e,t="none"){switch(ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Q(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return lo(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Qa].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ve(s.doubleValue));return new oo(o)}convertGeoPoint(e){return new io(Ve(e.latitude),Ve(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=sg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(yl(e));default:return null}}convertTimestamp(e){let t=pi(e);return new We(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=je.fromString(e);Re(YP(r),9688,{name:e});let i=new Np(r.get(1),r.get(3)),o=new q(r.popFirst(5));return i.isEqual(t)||fi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function Ax(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var ls=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ds=class n extends ng{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Wa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(LD("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new L(M.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};ds._jsonSchemaVersion="firestore/documentSnapshot/1.0",ds._jsonSchema={type:ft("string",ds._jsonSchemaVersion),bundleSource:ft("string","DocumentSnapshot"),bundleName:ft("string"),bundle:ft("string")};var Wa=class extends ds{data(e={}){return super.data(e)}},hs=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ls(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Wa(this._firestore,this._userDataWriter,r.key,r,new ls(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new L(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Wa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ls(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Wa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ls(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:tq(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new L(M.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=pl.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function tq(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:n})}}hs._jsonSchemaVersion="firestore/querySnapshot/1.0",hs._jsonSchema={type:ft("string",hs._jsonSchemaVersion),bundleSource:ft("string","QuerySnapshot"),bundleName:ft("string"),bundle:ft("string")};var Cl=class extends dD{constructor(e){super(),this.firestore=e}convertBytes(e){return new ro(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,t)}};function Ln(n){n=Fn(n,Es);let e=Fn(n.firestore,kr),t=kD(e),r=new Cl(e);return Cx(n._query),K5(t,n._query).then(i=>new hs(e,r,n,i))}function Rx(n,e,t){n=Fn(n,bt);let r=Fn(n.firestore,kr),i=Ax(n.converter,e,t);return fg(r,[wx(hg(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Nr.none())])}function Nx(n,e,t,...r){n=Fn(n,bt);let i=Fn(n.firestore,kr),o=hg(i),s;return s=typeof(e=ut(e))=="string"||e instanceof sc?J5(o,"updateDoc",n._key,e,t,r):Z5(o,"updateDoc",n._key,e),fg(i,[s.toMutation(n._key,Nr.exists(!0))])}function Mx(n){return fg(Fn(n.firestore,kr),[new _l(n._key,Nr.none())])}function Px(n,e){let t=Fn(n.firestore,kr),r=xD(n),i=Ax(n.converter,e);return fg(t,[wx(hg(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Nr.exists(!1))]).then(()=>r)}function Ml(n,...e){var t,r,i;n=ut(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||QM(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(QM(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof bt)l=Fn(n.firestore,kr),h=ID(n._key.path),u={next:p=>{e[s]&&e[s](nq(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Fn(n,Es);l=Fn(p.firestore,kr),h=p._query;let g=new Cl(l);u={next:y=>{e[s]&&e[s](new hs(l,g,p,y))},error:e[s+1],complete:e[s+2]},Cx(n._query)}return function(g,y,I,A){let N=new Yp(A),k=new Wp(y,N,I);return g.asyncQueue.enqueueAndForget(async()=>sx(await rD(g),k)),()=>{N.Ou(),g.asyncQueue.enqueueAndForget(async()=>ax(await rD(g),k))}}(kD(l),h,a,u)}function fg(n,e){return function(r,i){let o=new Sr;return r.asyncQueue.enqueueAndForget(async()=>L5(await W5(r),i,o)),o.promise}(kD(n),e)}function nq(n,e,t){let r=t.docs.get(e._key),i=new Cl(n);return new ds(n,i,e._key,r,new ls(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){ac=i})(Qi),Xn(new Xt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new kr(new NI(r.getProvider("auth-internal")),new xI(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Np(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ge(oM,sM,e),Ge(oM,sM,"esm2017")})();var vi=class{constructor(e){return e}},xx="firestore",VD=class{constructor(){return ka(xx)}};var jD=new U("angularfire2.firestore-instances");function rq(n,e){let t=Ku(xx,n,e);return t&&new vi(t)}function iq(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new vi(r)}}var oq={provide:VD,deps:[[new sn,jD]]},sq={provide:vi,useFactory:rq,deps:[[new sn,jD],si]};function qce(n,...e){return Ge("angularfire",Yi.full,"fst"),gn([sq,oq,{provide:jD,useFactory:iq(n),multi:!0,deps:[De,Ue,Zi,rs,[new sn,al],[new sn,La],...e]}])}var pg=Lt(Px,!0,2);var Tt=Lt(_x,!0,2);var dc=Lt(Mx,!0,2);var ws=Lt(xD,!0,2);var kx=Lt(Ln,!0);var zce=Lt(Ex,!0);var Ox=Lt(Rx,!0,2);var gg=Lt(Nx,!0,2);var mg=class n{firestore=S(vi);promptsSubs;catsSubs;tagsSubs;prompts=Me([]);categories=Me([]);tags=Me([]);constructor(){this.promptsSubs=this.trackPrompts(),this.catsSubs=this.trackCategories(),this.tagsSubs=this.trackTags()}trackPrompts(){let e=Tt(this.firestore,"prompts");return Ml(e,t=>{let r=[];t.forEach(i=>{r.push(x({id:i.id},i.data()))}),this.prompts.set(r)})}trackCategories(){let e=Tt(this.firestore,"categories");return Ml(e,t=>{let r=[];t.forEach(i=>{r.push(x({id:i.id},i.data()))}),this.categories.set(r)})}trackTags(){let e=Tt(this.firestore,"tags");return Ml(e,t=>{let r=[];t.forEach(i=>{r.push(x({id:i.id},i.data()))}),this.tags.set(r)})}async categoryNameBySlug(e){return this.categories().length>0?this.categories().find(t=>t.slug.toLowerCase()===e.toLowerCase()).name:await Ln(ir(Tt(this.firestore,"categories"),or("slug","==",e))).then(t=>{if(t.empty)throw new Error(`No se encontr\xF3 una categoria ${e} `);return t.docs[0].data().name})}async tagNameBySlug(e){return this.tags().length>0?this.tags().find(t=>t.slug.toLowerCase()===e.toLowerCase()).name:await Ln(ir(Tt(this.firestore,"tags"),or("slug","==",e))).then(t=>{if(t.empty)throw new Error(`No se encontr\xF3 un etiqueta ${e} `);return t.docs[0].data().name})}async getPromptBySlug(e){return this.prompts().length>0?this.prompts().find(t=>t.slug===e):await Ln(ir(Tt(this.firestore,"prompts"),or("slug","==",e))).then(t=>{if(t.empty)throw new Error(`No se encontr\xF3 un pormpt ${e} `);return t.docs[0].data()})}getPromptById(e){return this.prompts().find(t=>t.id===e)}async getPromptsByCategory(e){return this.prompts().length>0?this.prompts().filter(t=>t.categoria===e):await Ln(ir(Tt(this.firestore,"prompts"),or("categoria","==",e))).then(t=>{if(t.empty)throw new Error(`No se encontr\xF3 ning\xFAn prompt para la categor\xEDa ${e} `);return t.docs.map(r=>x({id:r.id},r.data()))})}async getPromptsByTag(e){return this.prompts().length>0?this.prompts().filter(t=>t.tags.includes(e)):await Ln(ir(Tt(this.firestore,"prompts"),or("tags","array-contains",e))).then(t=>{if(t.empty)throw new Error(`No se encontr\xF3 ning\xFAn prompt para la etiqueta ${e} `);return t.docs.map(r=>x({id:r.id},r.data()))})}async createPrompt(e){try{let t=Z(x({},e),{old_id:900,slug:e.titulo??this.generateSlug(e.titulo),fecha_creacion:new Date});await pg(Tt(this.firestore,"prompts"),t)}catch(t){let r=`Error al crear prompt: ${t}`;console.error(r)}}async deletePrompt(e){try{let t=ws(this.firestore,"prompts",e);await dc(t)}catch(t){let r=`Error al eliminar prompt ${e}: ${t}`;console.error(r)}}async updateCategoryPromptCount(e,t){let r=await Ln(ir(Tt(this.firestore,"categories"),or("name","==",e)));if(r.empty)throw new Error(`No se encontr\xF3 una categor\xEDa con el nombre ${e}`);await gg(r.docs[0].ref,{prompt_count:t,fecha_edicion:new Date})}async createCategory(e){await pg(Tt(this.firestore,"categories"),Z(x({},e),{slug:this.generateSlug(e.name||""),fecha_creacion:new Date}))}async updateTagPromptCount(e,t){let r=await Ln(ir(Tt(this.firestore,"tags"),or("name","==",e)));if(r.empty)throw new Error(`No se encontr\xF3 una etiqueta con el nombre ${e}`);await gg(r.docs[0].ref,{prompt_count:t,fecha_edicion:new Date})}async createTag(e){await pg(Tt(this.firestore,"tags"),Z(x({},e),{slug:this.generateSlug(e.name||""),fecha_creacion:new Date}))}async deleteCategory(e){try{let t=await Ln(ir(Tt(this.firestore,"categories"),or("name","==",e)));if(t.empty)throw new Error(`No se encontr\xF3 una etiqueta con el nombre ${e}`);await dc(t.docs[0].ref)}catch(t){let r=`Error al eliminar la categor\xEDa ${e}: ${t}`;console.error(r)}}async deleteTag(e){try{let t=await Ln(ir(Tt(this.firestore,"tags"),or("name","==",e)));if(t.empty)throw new Error(`No se encontr\xF3 una etiqueta con el nombre ${e}`);await dc(t.docs[0].ref)}catch(t){let r=`Error al eliminar la etiqueta ${e}: ${t}`;console.error(r)}}searchPrompts(e){try{let t=e.toLowerCase();return this.prompts().filter(r=>r.titulo.toLowerCase().includes(t)||r.prompt.toLowerCase().includes(t)||r.descripcion.toLowerCase().includes(t)||r.categoria.toLowerCase().includes(t)||r.tags.some(i=>i.toLowerCase().includes(t)))}catch(t){let r=`Error en b\xFAsqueda: ${t}`;return console.error(r),[]}}async updatePrompt(e,t){try{let r=ws(this.firestore,"prompts",e);await gg(r,Z(x({},t),{fechaModificacion:new Date}))}catch(r){let i=`Error al actualizar prompt ${e}: ${r}`;console.error(i)}}generateSlug(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").trim()}ngOnDestroy(){this.promptsSubs?.(),this.catsSubs?.(),this.tagsSubs?.()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var hc=class n{firestoreService=S(mg);search(e){return this.searchInFirestore(e)}prompts(){return this.firestoreService.prompts()}categories(){return this.firestoreService.categories()}tags(){return this.firestoreService.tags()}async categoryNameBySlug(e){return this.firestoreService.categoryNameBySlug(e)}async tagNameBySlug(e){return this.firestoreService.tagNameBySlug(e)}async byCategoryName(e){return{name:this.titleCase(e),prompts:await this.firestoreService.getPromptsByCategory(e)}}async byTagName(e){return{name:this.titleCase(e),prompts:await this.firestoreService.getPromptsByTag(e)}}async createPrompt(e){await this.firestoreService.createPrompt(e).then(t=>{this.addOrUpdateCategory(e.categoria),this.addOrUpdateTags(e.tags)})}async addOrUpdateCategory(e){let t=this.prompts().filter(r=>r.categoria===e.toLowerCase()).length;console.log("Count for category:",e.toLowerCase(),t),t>1?await this.firestoreService.updateCategoryPromptCount(e.toLowerCase(),t+1):await this.firestoreService.createCategory({name:e.toLowerCase(),prompt_count:1,slug:""})}addOrUpdateTags(e){e.forEach(async t=>{let r=this.prompts().filter(i=>i.tags.includes(t.toLowerCase())).length;console.log("Count for tag:",t.toLowerCase(),r),r>1?await this.firestoreService.updateTagPromptCount(t.toLowerCase(),r+1):await this.firestoreService.createTag({name:t.toLowerCase(),prompt_count:1,slug:""})})}async updateOrDeleteCategory(e){let t=this.prompts().filter(r=>r.categoria===e.toLowerCase()).length;console.log("Count for category:",e.toLowerCase(),t),t>0?await this.firestoreService.updateTagPromptCount(e.toLowerCase(),t+1):await this.firestoreService.deleteCategory(e.toLowerCase())}async updateOrDeleteTags(e){e.forEach(async t=>{let r=this.prompts().filter(i=>i.tags.includes(t.toLowerCase())).length;console.log("Count for tag:",t.toLowerCase(),r),r>0?await this.firestoreService.updateTagPromptCount(t.toLowerCase(),r+1):await this.firestoreService.deleteTag(t.toLowerCase())})}async deletePrompt(e){let t=this.firestoreService.getPromptById(e),r=[...t.tags],i=t.categoria;await this.firestoreService.deletePrompt(e).then(()=>{this.updateOrDeleteCategory(i),this.updateOrDeleteTags(r)})}async deleteTag(e){await this.firestoreService.deleteTag(e.toLowerCase())}async deleteCategory(e){await this.firestoreService.deleteCategory(e.toLowerCase())}async bySlug(e){return this.firestoreService.getPromptBySlug(e)}searchInFirestore(e){try{let t=this.firestoreService.searchPrompts(e).map(r=>({item:r,foundIn:"titulo",position:0,relevanceScore:1}));return{search:e,found:t}}catch(t){return console.error("Error en b\xFAsqueda de Firestore:",t),{search:e,found:[]}}}titleCase(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var ho=class n{firestore=S(vi);auth=S(li);isAdminCache={};async getAdmins(){let e=Tt(this.firestore,"admins");return(await kx(e)).docs.map(r=>x({uid:r.id},r.data()))}async addAdminByUid(e,t){let r=ws(this.firestore,"admins",e);await Ox(r,{email:t})}async removeAdmin(e){let t=ws(this.firestore,"admins",e);await dc(t)}isCurrentUserAdmin(){return this.auth.currentUser?this.isAdminCache.hasOwnProperty(this.auth.currentUser.uid)?W(this.isAdminCache[this.auth.currentUser.uid]):Fe(this.auth.currentUser.getIdToken()).pipe($t(()=>{let e=this.auth.currentUser?.uid;return e?W(ws(this.firestore,"admins",e)).pipe(fe(t=>t.id===e),Ze(t=>{this.isAdminCache[e]=t})):W(!1)})):(this.isAdminCache={},W(!1))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var uq={menu:"M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z",back:"m313-440 224 224-57 56-320-320 320-320 57 56-224 224h487v80H313Z",search:"M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z",copy:"M360-240q-33 0-56.5-23.5T280-320v-480q0-33 23.5-56.5T360-880h360q33 0 56.5 23.5T800-800v480q0 33-23.5 56.5T720-240H360Zm0-80h360v-480H360v480ZM200-80q-33 0-56.5-23.5T120-160v-560h80v560h440v80H200Zm160-240v-480 480Z",share:"M680-80q-50 0-85-35t-35-85q0-6 3-28L282-392q-16 15-37 23.5t-45 8.5q-50 0-85-35t-35-85q0-50 35-85t85-35q24 0 45 8.5t37 23.5l281-164q-2-7-2.5-13.5T560-760q0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35q-24 0-45-8.5T598-672L317-508q2 7 2.5 13.5t.5 14.5q0 8-.5 14.5T317-452l281 164q16-15 37-23.5t45-8.5q50 0 85 35t35 85q0 50-35 85t-85 35Z","dark-mode":"M480-120q-150 0-255-105T120-480q0-150 105-255t255-105q14 0 27.5 1t26.5 3q-41 29-65.5 75.5T444-660q0 90 63 153t153 63q55 0 101-24.5t75-65.5q2 13 3 26.5t1 27.5q0 150-105 255T480-120Zm0-80q88 0 158-48.5T740-375q-20 5-40 8t-40 3q-123 0-209.5-86.5T364-660q0-20 3-40t8-40q-78 32-126.5 102T200-480q0 116 82 198t198 82Zm-10-270Z","light-mode":"M480-360q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0 80q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM200-440H40v-80h160v80Zm720 0H760v-80h160v80ZM440-760v-160h80v160h-80Zm0 720v-160h80v160h-80ZM256-650l-101-97 57-59 96 100-52 56Zm492 496-97-101 53-55 101 97-57 59Zm-98-550 97-101 59 57-100 96-56-52ZM154-212l101-97 55 53-97 101-59-57Zm326-268Z",close:"m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z",link:"M440-280H280q-83 0-141.5-58.5T80-480q0-83 58.5-141.5T280-680h160v80H280q-50 0-85 35t-35 85q0 50 35 85t85 35h160v80ZM320-440v-80h320v80H320Zm200 160v-80h160q50 0 85-35t35-85q0-50-35-85t-85-35H520v-80h160q83 0 141.5 58.5T880-480q0 83-58.5 141.5T680-280H520Z",terminal:"M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm0-80h640v-400H160v400Zm140-40-56-56 103-104-104-104 57-56 160 160-160 160Zm180 0v-80h240v80H480Z",check:"M382-240 154-468l57-57 171 171 367-367 57 57-424 424Z",add:"M440-120v-320H120v-80h320v-320h80v320h320v80H520v320h-80Z",delete:"M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z",logout:"M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h280v80H200Zm440-160-55-58 102-102H360v-80h327L585-622l55-58 200 200-200 200Z",login:"M480-120v-80h280v-560H480v-80h280q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H480Zm-80-160-55-58 102-102H120v-80h327L345-622l55-58 200 200-200 200Z"},Ct=class n{elementRef=S(Ft);renderer=S(an);icon=oe.required({alias:"pdIcon"});size=oe(24);fill=oe("currentColor");constructor(){Sa(()=>{this.createSvgIcon()})}createSvgIcon(){let e=uq[this.icon()];if(!e){console.warn(`Icon "${this.icon()}" not found`);return}this.elementRef.nativeElement.innerHTML="";let t=this.renderer.createElement("svg","http://www.w3.org/2000/svg");this.renderer.setAttribute(t,"height",`${this.size()}px`),this.renderer.setAttribute(t,"width",`${this.size()}px`),this.renderer.setAttribute(t,"viewBox","0 -960 960 960"),this.renderer.setAttribute(t,"fill",this.fill());let r=this.renderer.createElement("path","http://www.w3.org/2000/svg");this.renderer.setAttribute(r,"d",e),this.renderer.appendChild(t,r),this.renderer.appendChild(this.elementRef.nativeElement,t)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ue({type:n,selectors:[["","pdIcon",""]],inputs:{icon:[1,"pdIcon","icon"],size:[1,"size"],fill:[1,"fill"]}})};var yg=class n{copyService=S(Of);promptText=oe("");promptUrl=oe(null);copyPrompt(){this.promptText()&&this.copyService.copy(this.promptText())}copyUrl(){this.promptUrl()&&this.copyService.copy(this.promptUrl())}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["pd-copy-actions"]],inputs:{promptText:[1,"promptText"],promptUrl:[1,"promptUrl"]},decls:3,vars:0,consts:[[1,"space-x-2","flex"],["pd-action-button","","title","Copiar la direcci\xF3n","aria-label","Copiar la direcci\xF3n","pdIcon","link",3,"clicked"],["pd-action-button","","title","Copiar el prompt","aria-label","Copiar el prompt","pdIcon","copy",3,"clicked"]],template:function(t,r){t&1&&(G(0,"div",0)(1,"button",1),ie("clicked",function(){return r.copyUrl()}),$(),G(2,"button",2),ie("clicked",function(){return r.copyPrompt()}),$()())},dependencies:[kf,Ct],encapsulation:2})};var lq=["*"],Fx=class n{constructor(e){this.renderer=e;this.setListeners()}isOpen=Me(!1);removeDocumentClickListenerFn=null;removeDocumentEscapeListenerFn=null;show(){this.isOpen()!==!0&&(this.isOpen.set(!0),this.setListeners())}hide(){this.isOpen()&&(this.isOpen.set(!1),this.removeDocumentClickListenerFn?.(),this.removeDocumentEscapeListenerFn?.())}onClick(){this.hide()}setListeners(){this.isOpen()===!0&&(this.removeDocumentClickListenerFn=this.renderer.listen("document","click",()=>this.hide()),this.removeDocumentEscapeListenerFn=this.renderer.listen("document","keydown.escape",()=>this.hide(),{passive:!0}))}ngOnDestroy(){this.removeDocumentClickListenerFn?.(),this.removeDocumentEscapeListenerFn?.()}static \u0275fac=function(t){return new(t||n)(z(an))};static \u0275cmp=ce({type:n,selectors:[["pd-drawer"],["","pd-drawer",""]],ngContentSelectors:lq,decls:3,vars:4,consts:[[1,"drawer","shadow-lg/60","dark:shadow-lg/70","md:shadow-sm/40","md:dark:shadow-md/70","fixed","md:top-14","top-0","z-14","dark:shadow-black","shadow-black/80","bg-drawer","bottom-0","overflow-hidden",3,"click"],[1,"fixed","md:hidden","top-0","left-0","z-12","bg-black/10","dark:bg-black/20","block","opacity-100","w-screen","h-screen"]],template:function(t,r){t&1&&(Vu(),cn(0,"div",0),Ca("click",function(){return r.onClick()}),ju(1),Yt(),zi(2,"div",1)),t&2&&(Zt("open",r.isOpen()),ee(2),Zt("hidden",!r.isOpen()))},encapsulation:2})};var _g=new U(""),qD=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(K(_g),K(De))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),Pl=class{_doc;constructor(e){this._doc=e}manager},UD="ng-app-id";function Lx(n){for(let e of n)e.remove()}function Vx(n,e){let t=e.createElement("style");return t.textContent=n,t}function dq(n,e,t,r){let i=n.head?.querySelectorAll(`style[${UD}="${e}"],link[${UD}="${e}"]`);if(i)for(let o of i)o.removeAttribute(UD),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function HD(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var zD=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,dq(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Vx);r?.forEach(i=>this.addUsage(i,this.external,HD))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Lx(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Lx(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Vx(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,HD(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(K(Et),K(df),K(ff,8),K($i))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),BD={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},GD=/%COMP%/g;var Ux="%COMP%",hq=`_nghost-${Ux}`,fq=`_ngcontent-${Ux}`,pq=!0,gq=new U("",{providedIn:"root",factory:()=>pq});function mq(n){return fq.replace(GD,n)}function yq(n){return hq.replace(GD,n)}function Bx(n,e){return e.map(t=>t.replace(GD,n))}var WD=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new xl(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof vg?i.applyToHost(t):i instanceof kl&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case Zr.Emulated:o=new vg(u,l,r,this.appId,h,s,a,p,g);break;case Zr.ShadowDom:return new $D(u,l,t,r,s,a,this.nonce,p,g);default:o=new kl(u,l,r,h,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(K(qD),K(zD),K(df),K(gq),K(Et),K($i),K(De),K(ff),K(Qo,8))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),xl=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(BD[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(jx(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(jx(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=BD[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=BD[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(vr.DashCase|vr.Important)?e.style.setProperty(t,r,i&vr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&vr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=xn().getGlobalEventTarget(this.doc,e),!e))throw new j(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function jx(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var $D=class extends xl{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=Bx(i.id,h);for(let g of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=g,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let g of p){let y=HD(g,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},kl=class extends xl{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?Bx(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},vg=class extends kl{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=mq(h),this.hostAttr=yq(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Eg=class n extends Qu{supportsDOMEvents=!0;static makeCurrent(){TE(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=vq();return t==null?null:_q(t)}resetBaseElement(){Ol=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return RE(document.cookie,e)}},Ol=null;function vq(){return Ol=Ol||document.head.querySelector("base"),Ol?Ol.getAttribute("href"):null}function _q(n){return new URL(n,document.baseURI).pathname}var Eq=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),$x=(()=>{class n extends Pl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(K(Et))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),Hx=["alt","control","meta","shift"],Iq={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wq={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},qx=(()=>{class n extends Pl{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>xn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Hx.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=Iq[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Hx.forEach(s=>{if(s!==i){let a=wq[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(K(Et))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();function Dq(n,e){return pR(x({rootComponent:n},bq(e)))}function bq(n){return{appProviders:[...Rq,...n?.providers??[]],platformProviders:Aq}}function Tq(){Eg.makeCurrent()}function Cq(){return new pn}function Sq(){return a_(document),document}var Aq=[{provide:$i,useValue:rN},{provide:hf,useValue:Tq,multi:!0},{provide:Et,useFactory:Sq}];var Rq=[{provide:fu,useValue:"root"},{provide:pn,useFactory:Cq},{provide:_g,useClass:$x,multi:!0,deps:[Et]},{provide:_g,useClass:qx,multi:!0,deps:[Et]},WD,zD,qD,{provide:zo,useExisting:WD},{provide:Yu,useClass:Eq},[]];var zx=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(K(Et))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var he="primary",Yl=Symbol("RouteTitle"),JD=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ts(n){return new JD(n)}function Xx(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Mq(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Or(n[t],e[t]))return!1;return!0}function Or(n,e){let t=n?XD(n):void 0,r=e?XD(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!ek(n[i],e[i]))return!1;return!0}function XD(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function ek(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function tk(n){return n.length>0?n[n.length-1]:null}function Ii(n){return sy(n)?n:ei(n)?Fe(Promise.resolve(n)):W(n)}var Pq={exact:rk,subset:ik},nk={exact:xq,subset:kq,ignored:()=>!0};function Gx(n,e,t){return Pq[t.paths](n.root,e.root,t.matrixParams)&&nk[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function xq(n,e){return Or(n,e)}function rk(n,e,t){if(!Ds(n.segments,e.segments)||!Dg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!rk(n.children[r],e.children[r],t))return!1;return!0}function kq(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ek(n[t],e[t]))}function ik(n,e,t){return ok(n,e,e.segments,t)}function ok(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Ds(i,t)||e.hasChildren()||!Dg(i,t,r))}else if(n.segments.length===t.length){if(!Ds(n.segments,t)||!Dg(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!ik(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Ds(n.segments,i)||!Dg(n.segments,i,r)||!n.children[he]?!1:ok(n.children[he],e,o,r)}}function Dg(n,e,t){return e.every((r,i)=>nk[t](n[i].parameters,r.parameters))}var Lr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Te([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ts(this.queryParams),this._queryParamMap}toString(){return Lq.serialize(this)}},Te=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bg(this)}},fo=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ts(this.parameters),this._parameterMap}toString(){return ak(this)}};function Oq(n,e){return Ds(n,e)&&n.every((t,r)=>Or(t.parameters,e[r].parameters))}function Ds(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function Fq(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===he&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==he&&(t=t.concat(e(i,r)))}),t}var Zl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>new Cs,providedIn:"root"})}return n})(),Cs=class{parse(e){let t=new tb(e);return new Lr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Fl(e.root,!0)}`,r=Uq(e.queryParams),i=typeof e.fragment=="string"?`#${Vq(e.fragment)}`:"";return`${t}${r}${i}`}},Lq=new Cs;function bg(n){return n.segments.map(e=>ak(e)).join("/")}function Fl(n,e){if(!n.hasChildren())return bg(n);if(e){let t=n.children[he]?Fl(n.children[he],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==he&&r.push(`${i}:${Fl(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=Fq(n,(r,i)=>i===he?[Fl(n.children[he],!1)]:[`${i}:${Fl(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[he]!=null?`${bg(n)}/${t[0]}`:`${bg(n)}/(${t.join("//")})`}}function sk(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ig(n){return sk(n).replace(/%3B/gi,";")}function Vq(n){return encodeURI(n)}function eb(n){return sk(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tg(n){return decodeURIComponent(n)}function Wx(n){return Tg(n.replace(/\+/g,"%20"))}function ak(n){return`${eb(n.path)}${jq(n.parameters)}`}function jq(n){return Object.entries(n).map(([e,t])=>`;${eb(e)}=${eb(t)}`).join("")}function Uq(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Ig(t)}=${Ig(i)}`).join("&"):`${Ig(t)}=${Ig(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Bq=/^[^\/()?;#]+/;function KD(n){let e=n.match(Bq);return e?e[0]:""}var Hq=/^[^\/()?;=#]+/;function $q(n){let e=n.match(Hq);return e?e[0]:""}var qq=/^[^=?&#]+/;function zq(n){let e=n.match(qq);return e?e[0]:""}var Gq=/^[^&#]+/;function Wq(n){let e=n.match(Gq);return e?e[0]:""}var tb=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[he]=new Te(e,t)),r}parseSegment(){let e=KD(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new fo(Tg(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=$q(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=KD(this.remaining);i&&(r=i,this.capture(r))}e[Tg(t)]=Tg(r)}parseQueryParam(e){let t=zq(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=Wq(this.remaining);s&&(r=s,this.capture(r))}let i=Wx(t),o=Wx(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=KD(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=he);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[he]:new Te([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function ck(n){return n.segments.length>0?new Te([],{[he]:n}):n}function uk(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=uk(i);if(r===he&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Te(n.segments,e);return Kq(t)}function Kq(n){if(n.numberOfChildren===1&&n.children[he]){let e=n.children[he];return new Te(n.segments.concat(e.segments),e.children)}return n}function po(n){return n instanceof Lr}function lk(n,e,t=null,r=null){let i=dk(n);return hk(i,e,t,r)}function dk(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new Te(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=ck(r);return e??i}function hk(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return QD(i,i,i,t,r);let o=Qq(e);if(o.toRoot())return QD(i,i,new Te([],{}),t,r);let s=Yq(o,i,n),a=s.processChildren?Vl(s.segmentGroup,s.index,o.commands):pk(s.segmentGroup,s.index,o.commands);return QD(i,s.segmentGroup,a,t,r)}function Cg(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Bl(n){return typeof n=="object"&&n!=null&&n.outlets}function QD(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=fk(n,e,t);let a=ck(uk(s));return new Lr(a,o,i)}function fk(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=fk(o,e,t)}),new Te(n.segments,r)}var Sg=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Cg(r[0]))throw new j(4003,!1);let i=r.find(Bl);if(i&&i!==tk(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Qq(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Sg(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Sg(t,e,r)}var gc=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Yq(n,e,t){if(n.isAbsolute)return new gc(e,!0,0);if(!t)return new gc(e,!1,NaN);if(t.parent===null)return new gc(t,!0,0);let r=Cg(n.commands[0])?0:1,i=t.segments.length-1+r;return Zq(t,i,n.numberOfDoubleDots)}function Zq(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new gc(r,!1,i-o)}function Jq(n){return Bl(n[0])?n[0].outlets:{[he]:n}}function pk(n,e,t){if(n??=new Te([],{}),n.segments.length===0&&n.hasChildren())return Vl(n,e,t);let r=Xq(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Te(n.segments.slice(0,r.pathIndex),{});return o.children[he]=new Te(n.segments.slice(r.pathIndex),n.children),Vl(o,0,i)}else return r.match&&i.length===0?new Te(n.segments,{}):r.match&&!n.hasChildren()?nb(n,e,t):r.match?Vl(n,0,i):nb(n,e,t)}function Vl(n,e,t){if(t.length===0)return new Te(n.segments,{});{let r=Jq(t),i={};if(Object.keys(r).some(o=>o!==he)&&n.children[he]&&n.numberOfChildren===1&&n.children[he].segments.length===0){let o=Vl(n.children[he],e,t);return new Te(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=pk(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Te(n.segments,i)}}function Xq(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Bl(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!Qx(u,l,s))return o;r+=2}else{if(!Qx(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function nb(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Bl(o)){let u=e6(o.outlets);return new Te(r,u)}if(i===0&&Cg(t[0])){let u=n.segments[e];r.push(new fo(u.path,Kx(t[0]))),i++;continue}let s=Bl(o)?o.outlets[he]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Cg(a)?(r.push(new fo(s,Kx(a))),i+=2):(r.push(new fo(s,{})),i++)}return new Te(r,{})}function e6(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=nb(new Te([],{}),0,r))}),e}function Kx(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Qx(n,e,t){return n==t.path&&Or(e,t.parameters)}var jl="imperative",St=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(St||{}),Tn=class{id;url;constructor(e,t){this.id=e,this.url=t}},Ss=class extends Tn{type=St.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ar=class extends Tn{urlAfterRedirects;type=St.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},en=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n}(en||{}),Hl=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Hl||{}),Fr=class extends Tn{reason;code;type=St.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},_i=class extends Tn{reason;code;type=St.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},yc=class extends Tn{error;target;type=St.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},$l=class extends Tn{urlAfterRedirects;state;type=St.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ag=class extends Tn{urlAfterRedirects;state;type=St.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rg=class extends Tn{urlAfterRedirects;state;shouldActivate;type=St.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ng=class extends Tn{urlAfterRedirects;state;type=St.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mg=class extends Tn{urlAfterRedirects;state;type=St.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pg=class{route;type=St.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},xg=class{route;type=St.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},kg=class{snapshot;type=St.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Og=class{snapshot;type=St.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fg=class{snapshot;type=St.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lg=class{snapshot;type=St.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ql=class{},vc=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function t6(n){return!(n instanceof ql)&&!(n instanceof vc)}function n6(n,e){return n.providers&&!n._injector&&(n._injector=Ia(n.providers,e,`Route: ${n.path}`)),n._injector??e}function sr(n){return n.outlet||he}function r6(n,e){let t=n.filter(r=>sr(r)===e);return t.push(...n.filter(r=>sr(r)!==e)),t}function Ic(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Vg=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ic(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new wc(this.rootInjector)}},wc=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Vg(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(K(Je))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jg=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=rb(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=rb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=ib(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ib(e,this._root).map(t=>t.value)}};function rb(n,e){if(n===e.value)return e;for(let t of e.children){let r=rb(n,t);if(r)return r}return null}function ib(n,e){if(n===e.value)return[e];for(let t of e.children){let r=ib(n,t);if(r.length)return r.unshift(e),r}return[]}var bn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function pc(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var zl=class extends jg{snapshot;constructor(e,t){super(e),this.snapshot=t,hb(this,e)}toString(){return this.snapshot.toString()}};function gk(n){let e=i6(n),t=new Rt([new fo("",{})]),r=new Rt({}),i=new Rt({}),o=new Rt({}),s=new Rt(""),a=new Ei(t,r,o,s,i,he,n,e.root);return a.snapshot=e.root,new zl(new bn(a,[]),e)}function i6(n){let e={},t={},r={},i="",o=new bs([],e,r,i,t,he,n,null,{});return new Gl("",new bn(o,[]))}var Ei=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(fe(l=>l[Yl]))??W(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(fe(e=>Ts(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(fe(e=>Ts(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ug(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:x(x({},e.params),n.params),data:x(x({},e.data),n.data),resolve:x(x(x(x({},n.data),e.data),i?.data),n._resolvedData)}:r={params:x({},n.params),data:x({},n.data),resolve:x(x({},n.data),n._resolvedData??{})},i&&yk(i)&&(r.resolve[Yl]=i.title),r}var bs=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Yl]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ts(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ts(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Gl=class extends jg{url;constructor(e,t){super(t),this.url=e,hb(this,t)}toString(){return mk(this._root)}};function hb(n,e){e.value._routerState=n,e.children.forEach(t=>hb(n,t))}function mk(n){let e=n.children.length>0?` { ${n.children.map(mk).join(", ")} } `:"";return`${n.value}${e}`}function YD(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Or(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Or(e.params,t.params)||n.paramsSubject.next(t.params),Mq(e.url,t.url)||n.urlSubject.next(t.url),Or(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ob(n,e){let t=Or(n.params,e.params)&&Oq(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||ob(n.parent,e.parent))}function yk(n){return typeof n.title=="string"||n.title===null}var vk=new U(""),fb=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=he;activateEvents=new qe;deactivateEvents=new qe;attachEvents=new qe;detachEvents=new qe;routerOutletData=oe(void 0);parentContexts=S(wc);location=S(qi);changeDetector=S(Gi);inputBinder=S(qg,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new sb(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ue({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Pn]})}return n})(),sb=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Ei?this.route:e===wc?this.childContexts:e===vk?this.outletData:this.parent.get(e,t)}},qg=new U("");var pb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ce({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ke(0,"router-outlet")},dependencies:[fb],encapsulation:2})}return n})();function gb(n){let e=n.children&&n.children.map(gb),t=e?Z(x({},n),{children:e}):x({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==he&&(t.component=pb),t}function o6(n,e,t){let r=Wl(n,e._root,t?t._root:void 0);return new zl(r,e)}function Wl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=s6(n,e,t);return new bn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Wl(n,a)),s}}let r=a6(e.value),i=e.children.map(o=>Wl(n,o));return new bn(r,i)}}function s6(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Wl(n,r,i);return Wl(n,r)})}function a6(n){return new Ei(new Rt(n.url),new Rt(n.params),new Rt(n.queryParams),new Rt(n.fragment),new Rt(n.data),n.outlet,n.component,n)}var _c=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},_k="ngNavigationCancelingError";function Bg(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=po(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Ek(!1,en.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function Ek(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[_k]=!0,t.cancellationCode=e,t}function c6(n){return Ik(n)&&po(n.url)}function Ik(n){return!!n&&n[_k]}var u6=(n,e,t,r)=>fe(i=>(new ab(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),ab=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),YD(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=pc(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=pc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=pc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=pc(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Lg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Og(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(YD(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),YD(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Hg=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},mc=class{component;route;constructor(e,t){this.component=e,this.route=t}};function l6(n,e,t){let r=n._root,i=e?e._root:null;return Ll(r,i,t,[r.value])}function d6(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Dc(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Ty(n)?n:e.get(n):r}function Ll(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=pc(e);return n.children.forEach(s=>{h6(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ul(a,t.getContext(s),i)),i}function h6(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=f6(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Hg(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ll(n,e,a?a.children:null,r,i):Ll(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new mc(a.outlet.component,s))}else s&&Ul(e,a,i),i.canActivateChecks.push(new Hg(r)),o.component?Ll(n,null,a?a.children:null,r,i):Ll(n,null,t,r,i);return i}function f6(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Ds(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ds(n.url,e.url)||!Or(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ob(n,e)||!Or(n.queryParams,e.queryParams);case"paramsChange":default:return!ob(n,e)}}function Ul(n,e,t){let r=pc(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ul(s,e.children.getContext(o),t):Ul(s,null,t):Ul(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new mc(e.outlet.component,i)):t.canDeactivateChecks.push(new mc(null,i)):t.canDeactivateChecks.push(new mc(null,i))}function Jl(n){return typeof n=="function"}function p6(n){return typeof n=="boolean"}function g6(n){return n&&Jl(n.canLoad)}function m6(n){return n&&Jl(n.canActivate)}function y6(n){return n&&Jl(n.canActivateChild)}function v6(n){return n&&Jl(n.canDeactivate)}function _6(n){return n&&Jl(n.canMatch)}function wk(n){return n instanceof $r||n?.name==="EmptyError"}var wg=Symbol("INITIAL_VALUE");function Ec(){return $t(n=>sh(n.map(e=>e.pipe(Cn(1),dy(wg)))).pipe(fe(e=>{for(let t of e)if(t!==!0){if(t===wg)return wg;if(t===!1||E6(t))return t}return!0}),rn(e=>e!==wg),Cn(1)))}function E6(n){return po(n)||n instanceof _c}function I6(n,e){return ot(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?W(Z(x({},t),{guardsResult:!0})):w6(s,r,i,n).pipe(ot(a=>a&&p6(a)?D6(r,o,n,e):W(a)),fe(a=>Z(x({},t),{guardsResult:a})))})}function w6(n,e,t,r){return Fe(n).pipe(ot(i=>A6(i.component,i.route,t,e,r)),zr(i=>i!==!0,!0))}function D6(n,e,t,r){return Fe(e).pipe(Co(i=>Ys(T6(i.route.parent,r),b6(i.route,r),S6(n,i.path,t),C6(n,i.route,t))),zr(i=>i!==!0,!0))}function b6(n,e){return n!==null&&e&&e(new Fg(n)),W(!0)}function T6(n,e){return n!==null&&e&&e(new kg(n)),W(!0)}function C6(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(o=>nu(()=>{let s=Ic(e)??t,a=Dc(o,s),u=m6(a)?a.canActivate(e,n):mt(s,()=>a(e,n));return Ii(u).pipe(zr())}));return W(i).pipe(Ec())}function S6(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>d6(s)).filter(s=>s!==null).map(s=>nu(()=>{let a=s.guards.map(u=>{let l=Ic(s.node)??t,h=Dc(u,l),p=y6(h)?h.canActivateChild(r,n):mt(l,()=>h(r,n));return Ii(p).pipe(zr())});return W(a).pipe(Ec())}));return W(o).pipe(Ec())}function A6(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return W(!0);let s=o.map(a=>{let u=Ic(e)??i,l=Dc(a,u),h=v6(l)?l.canDeactivate(n,e,t,r):mt(u,()=>l(n,e,t,r));return Ii(h).pipe(zr())});return W(s).pipe(Ec())}function R6(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let o=i.map(s=>{let a=Dc(s,n),u=g6(a)?a.canLoad(e,t):mt(n,()=>a(e,t));return Ii(u)});return W(o).pipe(Ec(),Dk(r))}function Dk(n){return ey(Ze(e=>{if(typeof e!="boolean")throw Bg(n,e)}),fe(e=>e===!0))}function N6(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let o=i.map(s=>{let a=Dc(s,n),u=_6(a)?a.canMatch(e,t):mt(n,()=>a(e,t));return Ii(u)});return W(o).pipe(Ec(),Dk(r))}var Kl=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Ql=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function fc(n){return Ks(new Kl(n))}function M6(n){return Ks(new j(4e3,!1))}function P6(n){return Ks(Ek(!1,en.GuardRejected))}var cb=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[he])return M6(`${e.redirectTo}`);i=i.children[he]}}applyRedirectCommands(e,t,r,i,o){return x6(t,i,o).pipe(fe(s=>{if(s instanceof Lr)throw new Ql(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Ql(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Lr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Te(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function x6(n,e,t){if(typeof n=="string")return W(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return Ii(mt(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var ub={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function k6(n,e,t,r,i){let o=bk(n,e,t);return o.matched?(r=n6(e,r),N6(r,e,t,i).pipe(fe(s=>s===!0?o:x({},ub)))):W(o)}function bk(n,e,t){if(e.path==="**")return O6(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?x({},ub):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Xx)(t,n,e);if(!i)return x({},ub);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?x(x({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function O6(n){return{matched:!0,parameters:n.length>0?tk(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Yx(n,e,t,r){return t.length>0&&V6(n,t,r)?{segmentGroup:new Te(e,L6(r,new Te(t,n.children))),slicedSegments:[]}:t.length===0&&j6(n,t,r)?{segmentGroup:new Te(n.segments,F6(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Te(n.segments,n.children),slicedSegments:t}}function F6(n,e,t,r){let i={};for(let o of t)if(zg(n,e,o)&&!r[sr(o)]){let s=new Te([],{});i[sr(o)]=s}return x(x({},r),i)}function L6(n,e){let t={};t[he]=e;for(let r of n)if(r.path===""&&sr(r)!==he){let i=new Te([],{});t[sr(r)]=i}return t}function V6(n,e,t){return t.some(r=>zg(n,e,r)&&sr(r)!==he)}function j6(n,e,t){return t.some(r=>zg(n,e,r))}function zg(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function U6(n,e,t){return e.length===0&&!n.children[t]}var lb=class{};function B6(n,e,t,r,i,o,s="emptyOnly"){return new db(n,e,t,r,i,s,o).recognize()}var H6=31,db=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new cb(this.urlSerializer,this.urlTree)}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=Yx(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(fe(({children:t,rootSnapshot:r})=>{let i=new bn(r,t),o=new Gl("",i),s=lk(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new bs([],Object.freeze({}),Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),he,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,he,t).pipe(fe(r=>({children:r,rootSnapshot:t})),qr(r=>{if(r instanceof Ql)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Kl?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(fe(s=>s instanceof bn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Fe(o).pipe(Co(s=>{let a=r.children[s],u=r6(t,s);return this.processSegmentGroup(e,u,a,s,i)}),ly((s,a)=>(s.push(...a),s)),Mi(null),uy(),ot(s=>{if(s===null)return fc(r);let a=Tk(s);return $6(a),W(a)}))}processSegment(e,t,r,i,o,s,a){return Fe(t).pipe(Co(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(qr(l=>{if(l instanceof Kl)return W(null);throw l}))),zr(u=>!!u),qr(u=>{if(wk(u))return U6(r,i,o)?W(new lb):fc(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return sr(r)!==s&&(s===he||!zg(i,o,r))?fc(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):fc(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=bk(t,i,o);if(!u)return fc(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>H6&&(this.allowRedirects=!1));let y=new bs(o,l,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,Zx(i),sr(i),i.component??i._loadedComponent??null,i,Jx(i)),I=Ug(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(I.params),y.data=Object.freeze(I.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe($t(N=>this.applyRedirects.lineralizeSegments(i,N)),ot(N=>this.processSegment(e,r,t,N.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=k6(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe($t(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe($t(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:y}=u,I=new bs(g,p,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,Zx(r),sr(r),r.component??r._loadedComponent??null,r,Jx(r)),A=Ug(I,s,this.paramsInheritanceStrategy);I.params=Object.freeze(A.params),I.data=Object.freeze(A.data);let{segmentGroup:N,slicedSegments:k}=Yx(t,g,y,l);if(k.length===0&&N.hasChildren())return this.processChildren(h,l,N,I).pipe(fe(Y=>new bn(I,Y)));if(l.length===0&&k.length===0)return W(new bn(I,[]));let H=sr(r)===o;return this.processSegment(h,l,N,k,H?he:o,!0,I).pipe(fe(Y=>new bn(I,Y instanceof bn?[Y]:[])))}))):fc(t)))}getChildConfig(e,t,r){return t.children?W({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?W({routes:t._loadedRoutes,injector:t._loadedInjector}):R6(e,t,r,this.urlSerializer).pipe(ot(i=>i?this.configLoader.loadChildren(e,t).pipe(Ze(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):P6(t))):W({routes:[],injector:e})}};function $6(n){n.sort((e,t)=>e.value.outlet===he?-1:t.value.outlet===he?1:e.value.outlet.localeCompare(t.value.outlet))}function q6(n){let e=n.value.routeConfig;return e&&e.path===""}function Tk(n){let e=[],t=new Set;for(let r of n){if(!q6(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=Tk(r.children);e.push(new bn(r.value,i))}return e.filter(r=>!t.has(r))}function Zx(n){return n.data||{}}function Jx(n){return n.resolve||{}}function z6(n,e,t,r,i,o){return ot(s=>B6(n,e,t,r,s.extractedUrl,i,o).pipe(fe(({state:a,tree:u})=>Z(x({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function G6(n,e){return ot(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return W(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of Ck(u))s.add(l);let a=0;return Fe(s).pipe(Co(u=>o.has(u)?W6(u,r,n,e):(u.data=Ug(u,u.parent,n).resolve,W(void 0))),Ze(()=>a++),Zs(1),ot(u=>a===s.size?W(t):tn))})}function Ck(n){let e=n.children.map(t=>Ck(t)).flat();return[n,...e]}function W6(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!yk(i)&&(o[Yl]=i.title),nu(()=>(n.data=Ug(n,n.parent,t).resolve,K6(o,n,e,r).pipe(fe(s=>(n._resolvedData=s,n.data=x(x({},n.data),s),null)))))}function K6(n,e,t,r){let i=XD(n);if(i.length===0)return W({});let o={};return Fe(i).pipe(ot(s=>Q6(n[s],e,t,r).pipe(zr(),Ze(a=>{if(a instanceof _c)throw Bg(new Cs,a);o[s]=a}))),Zs(1),fe(()=>o),qr(s=>wk(s)?tn:Ks(s)))}function Q6(n,e,t,r){let i=Ic(e)??r,o=Dc(n,i),s=o.resolve?o.resolve(e,t):mt(i,()=>o(e,t));return Ii(s)}function ZD(n){return $t(e=>{let t=n(e);return t?Fe(t).pipe(fe(()=>e)):W(e)})}var mb=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===he);return r}getResolvedTitleForRoute(t){return t.data[Yl]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>S(Sk),providedIn:"root"})}return n})(),Sk=(()=>{class n extends mb{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(K(zx))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bc=new U("",{providedIn:"root",factory:()=>({})}),Xl=new U(""),Ak=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=S(z_);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return W(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Ii(mt(t,()=>r.loadComponent())).pipe(fe(Nk),Ze(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),ru(()=>{this.componentLoaders.delete(r)})),o=new qs(i,()=>new Ye).pipe($s());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Rk(r,this.compiler,t,this.onLoadEndListener).pipe(ru(()=>{this.childrenLoaders.delete(r)})),s=new qs(o,()=>new Ye).pipe($s());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Rk(n,e,t,r){return Ii(mt(t,()=>n.loadChildren())).pipe(fe(Nk),ot(i=>i instanceof wf||Array.isArray(i)?W(i):Fe(e.compileModuleAsync(i))),fe(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Xl,[],{optional:!0,self:!0}).flat()),{routes:s.map(gb),injector:o}}))}function Y6(n){return n&&typeof n=="object"&&"default"in n}function Nk(n){return Y6(n)?n.default:n}var Gg=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>S(Z6),providedIn:"root"})}return n})(),Z6=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Mk=new U("");var yb=new U(""),Pk=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ye;transitionAbortWithErrorSubject=new Ye;configLoader=S(Ak);environmentInjector=S(Je);destroyRef=S(Nt);urlSerializer=S(Zl);rootContexts=S(wc);location=S(Fa);inputBindingEnabled=S(qg,{optional:!0})!==null;titleStrategy=S(mb);options=S(bc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=S(Gg);createViewTransition=S(Mk,{optional:!0});navigationErrorHandler=S(yb,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>W(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Pg(i)),r=i=>this.events.next(new xg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(Z(x({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new Rt(null),this.transitions.pipe(rn(r=>r!==null),$t(r=>{let i=!1;return W(r).pipe($t(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",en.SupersededByNewNavigation),tn;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?Z(x({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload"){let u="";return this.events.next(new _i(o.id,this.urlSerializer.serialize(o.rawUrl),u,Hl.IgnoredSameUrlNavigation)),o.resolve(!1),tn}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return W(o).pipe($t(u=>(this.events.next(new Ss(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?tn:Promise.resolve(u))),z6(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ze(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=Z(x({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let l=new $l(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:g}=o,y=new Ss(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let I=gk(this.rootComponentType).snapshot;return this.currentTransition=r=Z(x({},o),{targetSnapshot:I,urlAfterRedirects:l,extras:Z(x({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,W(r)}else{let u="";return this.events.next(new _i(o.id,this.urlSerializer.serialize(o.extractedUrl),u,Hl.IgnoredByUrlHandlingStrategy)),o.resolve(!1),tn}}),Ze(o=>{let s=new Ag(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),fe(o=>(this.currentTransition=r=Z(x({},o),{guards:l6(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),I6(this.environmentInjector,o=>this.events.next(o)),Ze(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Bg(this.urlSerializer,o.guardsResult);let s=new Rg(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),rn(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",en.GuardRejected),!1)),ZD(o=>{if(o.guards.canActivateChecks.length!==0)return W(o).pipe(Ze(s=>{let a=new Ng(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),$t(s=>{let a=!1;return W(s).pipe(G6(this.paramsInheritanceStrategy,this.environmentInjector),Ze({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",en.NoDataFromResolver)}}))}),Ze(s=>{let a=new Mg(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),ZD(o=>{let s=a=>{let u=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let l=Ic(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(Ze(h=>{a.component=h}),fe(()=>{})))}for(let l of a.children)u.push(...s(l));return u};return sh(s(o.targetSnapshot.root)).pipe(Mi(null),Cn(1))}),ZD(()=>this.afterPreactivation()),$t(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Fe(a).pipe(fe(()=>r)):W(r)}),fe(o=>{let s=o6(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=Z(x({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),Ze(()=>{this.events.next(new ql)}),u6(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Cn(1),ch(new de(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(rn(()=>!i&&!r.targetRouterState),Ze(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",en.Aborted)}))),Ze({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ar(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),ch(this.transitionAbortWithErrorSubject.pipe(Ze(o=>{throw o}))),ru(()=>{i||this.cancelNavigationTransition(r,"",en.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),qr(o=>{if(this.destroyed)return r.resolve(!1),tn;if(i=!0,Ik(o))this.events.next(new Fr(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),c6(o)?this.events.next(new vc(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new yc(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=mt(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof _c){let{message:u,cancellationCode:l}=Bg(this.urlSerializer,a);this.events.next(new Fr(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new vc(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return tn}))}))}cancelNavigationTransition(t,r,i){let o=new Fr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function J6(n){return n!==jl}var xk=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>S(X6),providedIn:"root"})}return n})(),$g=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},X6=(()=>{class n extends $g{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Jr(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kk=(()=>{class n{urlSerializer=S(Zl);options=S(bc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=S(Fa);urlHandlingStrategy=S(Gg);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Lr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Lr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=gk(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>S(e8),providedIn:"root"})}return n})(),e8=(()=>{class n extends kk{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Ss?this.updateStateMemento():t instanceof _i?this.commitTransition(r):t instanceof $l?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof ql?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Fr&&t.code!==en.SupersededByNewNavigation&&t.code!==en.Redirect?this.restoreHistory(r):t instanceof yc?this.restoreHistory(r,!0):t instanceof ar&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=x(x({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=x(x({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Jr(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vb(n,e){n.events.pipe(rn(t=>t instanceof ar||t instanceof Fr||t instanceof yc||t instanceof _i),fe(t=>t instanceof ar||t instanceof _i?0:(t instanceof Fr?t.code===en.Redirect||t.code===en.SupersededByNewNavigation:!1)?2:1),rn(t=>t!==2),Cn(1)).subscribe(()=>{e()})}var t8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},n8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},rt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=S(O_);stateManager=S(kk);options=S(bc,{optional:!0})||{};pendingTasks=S(mr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=S(Pk);urlSerializer=S(Zl);location=S(Fa);urlHandlingStrategy=S(Gg);injector=S(Je);_events=new Ye;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=S(xk);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=S(Xl,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!S(qg,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new $e;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Fr&&r.code!==en.Redirect&&r.code!==en.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ar)this.navigated=!0;else if(r instanceof vc){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=x({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||J6(i.source)},s);this.scheduleNavigation(a,jl,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}t6(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),jl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=x({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(Ot)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(gb),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=x(x({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=dk(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return hk(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=po(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,jl,null,r)}navigate(t,r={skipLocationChange:!1}){return r8(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=x({},t8):r===!1?i=x({},n8):i=r,po(t))return Gx(this.currentUrlTree,t,i);let o=this.parseUrl(t);return Gx(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return vb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function r8(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new j(4008,!1)}var Vr=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Me(null);get href(){return Jt(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ye;applicationErrorHandler=S(Ot);options=S(bc,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(S(new Pf("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof ar&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(po(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:po(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(z(rt),z(Ei),Pu("tabindex"),z(an),z(Ft),z(Oa))};static \u0275dir=ue({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&ie("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ta("href",i.reactiveHref(),d_)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ra],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ra],replaceUrl:[2,"replaceUrl","replaceUrl",Ra],routerLink:"routerLink"},features:[Pn]})}return n})(),o8=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new qe;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof ar&&this.update()})}ngAfterContentInit(){W(this.links.changes,W(null)).pipe(Qs()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Fe(t).pipe(Qs()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=s8(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(z(rt),z(Ft),z(an),z(Gi),z(Vr,8))};static \u0275dir=ue({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&B_(o,Vr,5),r&2){let s;Yo(s=Zo())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Pn]})}return n})();function s8(n){return!!n.paths}var a8=new U("");function c8(n,...e){return gn([{provide:Xl,multi:!0,useValue:n},[],{provide:Ei,useFactory:u8,deps:[rt]},{provide:Sf,multi:!0,useFactory:d8},e.map(t=>t.\u0275providers)])}function u8(n){return n.routerState.root}function l8(n,e){return{\u0275kind:n,\u0275providers:e}}function d8(){let n=S(Ue);return e=>{let t=n.get(ti);if(e!==t.components[0])return;let r=n.get(rt),i=n.get(h8);n.get(f8)===1&&r.initialNavigation(),n.get(p8,null,{optional:!0})?.setUpPreloading(),n.get(a8,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var h8=new U("",{factory:()=>new Ye}),f8=new U("",{providedIn:"root",factory:()=>1});var p8=new U("");function g8(n){return l8(7,[{provide:yb,useValue:n}])}var dn=class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=ue({type:n,selectors:[["button","pdHeaderButton",""]],hostAttrs:[1,"rounded-md","hover:bg-button-hover","text-header-contrast"],features:[_t([Ir])]})};var go=class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=ue({type:n,selectors:[["","pdTruncate",""]],hostAttrs:[1,"w-full","inline-block","truncate"]})};var y8=new Intl.RelativeTimeFormat("es",{numeric:"auto"});function ed(n){let e=new Date,t=n.getTime()-e.getTime(),r=v8(t);return y8.format(_8(t,r),r)}var Eb=60*1e3,Ib=60*Eb,wb=24*Ib,Db=7*wb,bb=4*Db,Ok=bb*12;function v8(n){return n=Math.abs(n),n<Eb?"second":n<Ib?"minute":n<wb?"hour":n<Db?"day":n<bb?"week":n<Ok?"month":"year"}function _8(n,e){return Math.round(e==="minute"?n/Eb:e==="hour"?n/Ib:e==="day"?n/wb:e==="week"?n/Db:e==="month"?n/bb:e==="year"?n/Ok:n/1e3)}var Wg=class n{transform(e){return e?(ed(e instanceof Date?e:new Date(e)),ed(new Date(e))):"Sin informaci\xF3n"}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=wa({name:"relDate",type:n,pure:!0})};var E8=["pdHeaderBackButton",""],jr=class n{back=ct();onClick(e){this.back.emit(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["button","pdHeaderBackButton",""]],hostAttrs:["title","Volver","aria-label","Volver"],hostBindings:function(t,r){t&1&&ie("click",function(o){return r.onClick(o)})},outputs:{back:"back"},features:[_t([dn])],attrs:E8,decls:1,vars:0,consts:[["pdIcon","back"]],template:function(t,r){t&1&&ke(0,"span",0)},dependencies:[Ct],encapsulation:2})};var cr=class n{get height(){return this.actualHeight()}double=Me(!1);actualHeight=ln(()=>this.double()?"h-30":"h-14");static \u0275fac=function(t){return new(t||n)};static \u0275dir=ue({type:n,selectors:[["","pdHeaderLayout",""]],hostAttrs:[1,"sticky","left-0","top-0","z-10","bg-header"],hostVars:2,hostBindings:function(t,r){t&2&&H_(r.height)}})},Kg=class n extends cr{constructor(){super(),this.double.set(!0)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ue({type:n,selectors:[["","pdDoubleHeaderLayout",""]],features:[Qt]})},Vn=class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=ue({type:n,selectors:[["","pdHeaderContent",""]],hostAttrs:[1,"px-3","flex","flex-col","justify-center","gap-1","bg-header"]})},jn=class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=ue({type:n,selectors:[["","pdHeaderRow",""]],hostAttrs:[1,"flex","items-center","overflow-hidden","justify-between","gap-2","h-14"]})};var Tc=class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=ue({type:n,selectors:[["button","pdHeaderActionButton",""]],hostAttrs:[1,"hover:shadow-md","hover:shadow-black/20","shadow-black/40","rounded-full","bg-action","hover:bg-action-hover","text-header-contrast"],features:[_t([Ir])]})};var I8=["pdDialog"],w8=["*"],Cc=class n{dialog;dialogTitle=oe("");confirm=ct();show(){this.dialog.nativeElement.showModal()}onConfirm(e){this.dialog.nativeElement.close(),this.confirm.emit(e)}ngOnDestroy(){this.dialog.nativeElement.close()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["pd-dialog"]],viewQuery:function(t,r){if(t&1&&Uu(I8,7),t&2){let i;Yo(i=Zo())&&(r.dialog=i.first)}},inputs:{dialogTitle:[1,"dialogTitle"]},outputs:{confirm:"confirm"},ngContentSelectors:w8,decls:11,vars:1,consts:[["pdDialog",""],["closeBy","any",1,"backdrop:bg-neutral-500/20","fixed","top-1/3","left-1/2","-translate-x-1/2","w-fit","h-fit","max-w-screen-sm","shadow-lg/50","shadow-black/40","p-3","bg-white","dark:bg-neutral-700"],[1,"text-2xl","font-semibold","px-2","mb-4"],[1,"p-3"],[1,"flex","items-center","justify-end","gap-2","text-sm"],["pd-button","","type","button",1,"hover:bg-neutral-200","hover:dark:bg-neutral-600","bg-neutral-100","dark:bg-neutral-700","rounded-md",3,"click"],["pd-button","","autofocus","","type","button",1,"hover:bg-neutral-200","hover:dark:bg-neutral-600","bg-neutral-300","dark:bg-neutral-800","rounded-md",3,"click"]],template:function(t,r){if(t&1){let i=un();Vu(),G(0,"dialog",1,0)(2,"h1",2),ye(3),$(),G(4,"div",3),ju(5),$(),G(6,"form",4)(7,"button",5),ie("click",function(s){return et(i),tt(r.onConfirm(s))}),ye(8," S\xED "),$(),G(9,"button",6),ie("click",function(s){return et(i),Jo(1).close(),tt(s.stopPropagation())}),ye(10," No "),$()()()}t&2&&(ee(3),ze(" ",r.dialogTitle()," "))},dependencies:[Ir],encapsulation:2})};var D8=()=>["/prompts/create"];function b8(n,e){if(n&1){let t=un();G(0,"button",14),ie("click",function(){et(t),_n();let i=Jo(17);return tt(i.show())}),ke(1,"span",15),$(),ke(2,"button",16)}n&2&&(ee(2),Ae("routerLink",Bu(1,D8)))}var Fk=class n{constructor(e){this.router=e;let t=this.router.parseUrl(this.router.lastSuccessfulNavigation?.initialUrl?.toString()||"/");this.lastName=this.router.lastSuccessfulNavigation?.extras.state?.name||"",this.lastParams=t.queryParams,this.lastUrl=t.toString().split("?")[0]||"/"}adminService=S(ho);isAdmin$=this.adminService.isCurrentUserAdmin();lastUrl;lastParams;lastName;titulo=oe("Elemento");subtitulo=oe("Informaci\xF3n detallada del elemento");copyPrompt=ct();share=ct();delete=ct();onCopyPrompt(e){this.copyPrompt.emit(e)}onBack(e){if(e.stopPropagation(),this.lastName){this.router.navigate([this.lastUrl],{queryParams:this.lastParams,state:{name:this.lastName}});return}else this.router.navigate([this.lastUrl],{queryParams:this.lastParams})}onShare(e){this.share.emit(e)}onDelete(e){e.stopPropagation(),this.delete.emit(e)}static \u0275fac=function(t){return new(t||n)(z(rt))};static \u0275cmp=ce({type:n,selectors:[["pd-detail-header"],["","pd-detail-header",""]],inputs:{titulo:[1,"titulo"],subtitulo:[1,"subtitulo"]},outputs:{copyPrompt:"copyPrompt",share:"share",delete:"delete"},features:[_t([Kg])],decls:19,vars:7,consts:[["confirmar",""],["pdHeaderContent",""],["pdHeaderRow","",1,"-mb-2"],["pdHeaderBackButton","",3,"back"],[1,"w-full"],[1,"flex","items-center"],["pdHeaderButton","","title","Copiar el prompt","aria-label","Copiar el prompt",3,"click"],["pdIcon","copy"],["pdHeaderButton","","title","Compartir el prompt","aria-label","Compartir el prompt",3,"click"],["pdIcon","share"],[1,"overflow-hidden","w-full","px-3"],["pdTruncate","",1,"text-header-contrast","text-[1.75rem]/9",3,"title"],["pdTruncate","",1,"text-header-low-contrast","text-sm",3,"title"],["dialogTitle","Eliminar",3,"confirm"],["pdHeaderButton","","title","Eliminar el prompt","aria-label","Eliminar el prompt",1,"ml-4",3,"click"],["pdIcon","delete"],["pdHeaderActionButton","","title","Agregar","aria-label","Agregar","pdIcon","add",1,"ml-4","mr-2",3,"routerLink"]],template:function(t,r){if(t&1){let i=un();G(0,"div",1)(1,"div",2)(2,"button",3),ie("back",function(s){return et(i),tt(r.onBack(s))}),$(),ke(3,"div",4),G(4,"div",5)(5,"button",6),ie("click",function(s){return et(i),tt(r.onCopyPrompt(s))}),ke(6,"span",7),$(),G(7,"button",8),ie("click",function(s){return et(i),tt(r.onShare(s))}),ke(8,"span",9),$(),Yn(9,b8,3,2),ri(10,"async"),$()(),G(11,"div",10)(12,"h1",11),ye(13),$(),G(14,"div",12),ye(15),$()()(),G(16,"pd-dialog",13,0),ie("confirm",function(s){return et(i),tt(r.onDelete(s))}),ye(18," Eliminar\xE1 definitivamente el elemento, desea continuar? "),$()}t&2&&(ee(9),Zn(ii(10,5,r.isAdmin$)?9:-1),ee(3),Ae("title",r.titulo()),ee(),ze(" ",r.titulo()," "),ee(),Ae("title",r.subtitulo()),ee(),ze(" ",r.subtitulo()," "))},dependencies:[Ct,dn,jr,Vn,jn,go,Tc,Vr,Cc,is],encapsulation:2})};var Qg=class n{modeService=S(Lf);static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["pd-mode-toggle"]],decls:1,vars:1,consts:[["pdHeaderButton","",3,"click","pdIcon"]],template:function(t,r){t&1&&(G(0,"button",0),ie("click",function(){return r.modeService.toggle()}),$()),t&2&&Ae("pdIcon",r.modeService.darkMode()?"dark-mode":"light-mode")},dependencies:[Ct,dn],encapsulation:2})};var zk=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(z(an),z(Ft))};static \u0275dir=ue({type:n})}return n})(),Mb=(()=>{class n extends zk{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Jr(n)))(i||n)}})();static \u0275dir=ue({type:n,features:[Qt]})}return n})(),sd=new U("");var T8={provide:sd,useExisting:An(()=>sm),multi:!0};function C8(){let n=xn()?xn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var S8=new U(""),sm=(()=>{class n extends zk{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!C8())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(z(an),z(Ft),z(S8,8))};static \u0275dir=ue({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ie("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[ni([T8]),Qt]})}return n})();function Pb(n){return n==null||xb(n)===0}function xb(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var am=new U(""),kb=new U(""),A8=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Lk=class{static min(e){return R8(e)}static max(e){return N8(e)}static required(e){return Gk(e)}static requiredTrue(e){return M8(e)}static email(e){return P8(e)}static minLength(e){return x8(e)}static maxLength(e){return k8(e)}static pattern(e){return O8(e)}static nullValidator(e){return Zg()}static compose(e){return Jk(e)}static composeAsync(e){return e1(e)}};function R8(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function N8(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Gk(n){return Pb(n.value)?{required:!0}:null}function M8(n){return n.value===!0?null:{required:!0}}function P8(n){return Pb(n.value)||A8.test(n.value)?null:{email:!0}}function x8(n){return e=>{let t=e.value?.length??xb(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function k8(n){return e=>{let t=e.value?.length??xb(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function O8(n){if(!n)return Zg;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Pb(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Zg(n){return null}function Wk(n){return n!=null}function Kk(n){return ei(n)?Fe(n):n}function Qk(n){let e={};return n.forEach(t=>{e=t!=null?x(x({},e),t):e}),Object.keys(e).length===0?null:e}function Yk(n,e){return e.map(t=>t(n))}function F8(n){return!n.validate}function Zk(n){return n.map(e=>F8(e)?e:t=>e.validate(t))}function Jk(n){if(!n)return null;let e=n.filter(Wk);return e.length==0?null:function(t){return Qk(Yk(t,e))}}function Xk(n){return n!=null?Jk(Zk(n)):null}function e1(n){if(!n)return null;let e=n.filter(Wk);return e.length==0?null:function(t){let r=Yk(t,e).map(Kk);return ay(r).pipe(fe(Qk))}}function t1(n){return n!=null?e1(Zk(n)):null}function Vk(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function n1(n){return n._rawValidators}function r1(n){return n._rawAsyncValidators}function Tb(n){return n?Array.isArray(n)?n:[n]:[]}function Jg(n,e){return Array.isArray(n)?n.includes(e):n===e}function jk(n,e){let t=Tb(e);return Tb(n).forEach(i=>{Jg(t,i)||t.push(i)}),t}function Uk(n,e){return Tb(e).filter(t=>!Jg(n,t))}var Xg=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Xk(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=t1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Nc=class extends Xg{name;get formDirective(){return null}get path(){return null}},As=class extends Xg{_parent=null;name=null;valueAccessor=null},em=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},L8={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},lhe=Z(x({},L8),{"[class.ng-submitted]":"isSubmitted"}),i1=(()=>{class n extends em{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(z(As,2))};static \u0275dir=ue({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Zt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Qt]})}return n})(),dhe=(()=>{class n extends em{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(z(Nc,10))};static \u0275dir=ue({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Zt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Qt]})}return n})();var nd="VALID",Yg="INVALID",Sc="PENDING",rd="DISABLED",mo=class{},tm=class extends mo{value;source;constructor(e,t){super(),this.value=e,this.source=t}},id=class extends mo{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},od=class extends mo{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Ac=class extends mo{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Cb=class extends mo{source;constructor(e){super(),this.source=e}},Sb=class extends mo{source;constructor(e){super(),this.source=e}};function Ob(n){return(cm(n)?n.validators:n)||null}function V8(n){return Array.isArray(n)?Xk(n):n||null}function Fb(n,e){return(cm(e)?e.asyncValidators:n)||null}function j8(n){return Array.isArray(n)?t1(n):n||null}function cm(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function o1(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new j(1e3,"");if(!r[t])throw new j(1001,"")}function s1(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new j(1002,"")})}var Mc=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Jt(this.statusReactive)}set status(e){Jt(()=>this.statusReactive.set(e))}_status=ln(()=>this.statusReactive());statusReactive=Me(void 0);get valid(){return this.status===nd}get invalid(){return this.status===Yg}get pending(){return this.status==Sc}get disabled(){return this.status===rd}get enabled(){return this.status!==rd}errors;get pristine(){return Jt(this.pristineReactive)}set pristine(e){Jt(()=>this.pristineReactive.set(e))}_pristine=ln(()=>this.pristineReactive());pristineReactive=Me(!0);get dirty(){return!this.pristine}get touched(){return Jt(this.touchedReactive)}set touched(e){Jt(()=>this.touchedReactive.set(e))}_touched=ln(()=>this.touchedReactive());touchedReactive=Me(!1);get untouched(){return!this.touched}_events=new Ye;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(jk(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(jk(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Uk(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Uk(e,this._rawAsyncValidators))}hasValidator(e){return Jg(this._rawValidators,e)}hasAsyncValidator(e){return Jg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Z(x({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new od(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new od(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Z(x({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new id(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new id(!0,r))}markAsPending(e={}){this.status=Sc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ac(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Z(x({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=rd,this.errors=null,this._forEachChild(i=>{i.disable(Z(x({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new tm(this.value,r)),this._events.next(new Ac(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Z(x({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=nd,this._forEachChild(r=>{r.enable(Z(x({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Z(x({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nd||this.status===Sc)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new tm(this.value,t)),this._events.next(new Ac(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Z(x({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rd:nd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Sc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=Kk(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ac(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new qe,this.statusChanges=new qe}_calculateStatus(){return this._allControlsDisabled()?rd:this.errors?Yg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sc)?Sc:this._anyControlsHaveStatus(Yg)?Yg:nd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new id(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new od(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){cm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=V8(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=j8(this._rawAsyncValidators)}},nm=class extends Mc{constructor(e,t,r){super(Ob(t),Fb(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){s1(this,!0,e),Object.keys(e).forEach(r=>{o1(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ab=class extends nm{};var Lb=new U("",{providedIn:"root",factory:()=>Vb}),Vb="always";function U8(n,e){return[...e.path,n]}function Rb(n,e,t=Vb){jb(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),H8(n,e),q8(n,e),$8(n,e),B8(n,e)}function rm(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),om(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function im(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function B8(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function jb(n,e){let t=n1(n);e.validator!==null?n.setValidators(Vk(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=r1(n);e.asyncValidator!==null?n.setAsyncValidators(Vk(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();im(e._rawValidators,i),im(e._rawAsyncValidators,i)}function om(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=n1(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=r1(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return im(e._rawValidators,r),im(e._rawAsyncValidators,r),t}function H8(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&a1(n,e)})}function $8(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&a1(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function a1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function q8(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function z8(n,e){n==null,jb(n,e)}function G8(n,e){return om(n,e)}function c1(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function W8(n){return Object.getPrototypeOf(n.constructor)===Mb}function K8(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function u1(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===sm?t=o:W8(o)?r=o:i=o}),i||r||t||null}function Q8(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Bk(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Hk(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Rc=class extends Mc{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(Ob(t),Fb(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Hk(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Bk(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Bk(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Hk(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Y8=n=>n instanceof Rc;var fhe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=ue({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var Ub=new U(""),Z8={provide:As,useExisting:An(()=>Bb)},Bb=(()=>{class n extends As{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(t){}model;update=new qe;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=u1(this,i)}ngOnChanges(t){if(this._isControlChanged(t)){let r=t.form.previousValue;r&&rm(r,this,!1),Rb(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}c1(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&rm(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static \u0275fac=function(r){return new(r||n)(z(am,10),z(kb,10),z(sd,10),z(Ub,8),z(Lb,8))};static \u0275dir=ue({type:n,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[ni([Z8]),Qt,Pn]})}return n})(),J8={provide:Nc,useExisting:An(()=>X8)},X8=(()=>{class n extends Nc{callSetDisabledState;get submitted(){return Jt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=ln(()=>this._submittedReactive());_submittedReactive=Me(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new qe;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(om(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Rb(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){rm(t.control||null,t,!1),Q8(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),K8(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Cb(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1),r?.emitEvent!==!1&&this.form._events.next(new Sb(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(rm(r||null,t),Y8(i)&&(Rb(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);z8(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&G8(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jb(this.form,this),this._oldForm&&om(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(z(am,10),z(kb,10),z(Lb,8))};static \u0275dir=ue({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&ie("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ni([J8]),Qt,Pn]})}return n})();var ez={provide:As,useExisting:An(()=>tz)},tz=(()=>{class n extends As{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new qe;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=u1(this,o)}ngOnChanges(t){this._added||this._setUpControl(),c1(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return U8(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(z(Nc,13),z(am,10),z(kb,10),z(sd,10),z(Ub,8))};static \u0275dir=ue({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[ni([ez]),Qt,Pn]})}return n})();var nz={provide:sd,useExisting:An(()=>d1),multi:!0};function l1(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function rz(n){return n.split(":")[0]}var d1=(()=>{class n extends Mb{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=S(ti).injector;appRefDestroyRef=this.appRefInjector.get(Nt);destroyRef=S(Nt);cdr=S(Gi);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefDestroyRef.destroyed||(this._queuedWrite=!0,bf({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=l1(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=rz(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Jr(n)))(i||n)}})();static \u0275dir=ue({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&ie("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ni([nz]),Qt]})}return n})(),phe=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(l1(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(z(Ft),z(an),z(d1,9))};static \u0275dir=ue({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),iz={provide:sd,useExisting:An(()=>h1),multi:!0};function $k(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function oz(n){return n.split(":")[0]}var h1=(()=>{class n extends Mb{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=oz(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Jr(n)))(i||n)}})();static \u0275dir=ue({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&ie("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ni([iz]),Qt]})}return n})(),ghe=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue($k(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue($k(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(z(Ft),z(an),z(h1,9))};static \u0275dir=ue({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var sz=(()=>{class n{_validator=Zg;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Zg,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ue({type:n,features:[Pn]})}return n})();var az={provide:am,useExisting:An(()=>cz),multi:!0};var cz=(()=>{class n extends sz{required;inputName="required";normalizeInput=Ra;createValidator=t=>Gk;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Jr(n)))(i||n)}})();static \u0275dir=ue({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ta("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ni([az]),Qt]})}return n})();var uz=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Xr({type:n});static \u0275inj=lr({})}return n})(),Nb=class extends Mc{constructor(e,t,r){super(Ob(t),Fb(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){s1(this,!1,e),e.forEach((r,i)=>{o1(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function qk(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var mhe=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return qk(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new nm(i,o)}record(t,r=null){let i=this._reduceControls(t);return new Ab(i,r)}control(t,r,i){let o={};return this.useNonNullable?(qk(r)?o=r:(o.validators=r,o.asyncValidators=i),new Rc(t,Z(x({},o),{nonNullable:!0}))):new Rc(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new Nb(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Rc)return t;if(t instanceof Mc)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var um=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ub,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Lb,useValue:t.callSetDisabledState??Vb}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Xr({type:n});static \u0275inj=lr({imports:[uz]})}return n})();var lm=class n{router=S(rt);static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["pd-placeholder-searcher"]],decls:2,vars:0,consts:[[1,"w-full",3,"click"],["type","text","readonly","","placeholder","Buscar prompts...","aria-label","Buscar prompts","aria-autocomplete","list","aria-haspopup","listbox","aria-controls","search-options","aria-activedescendant","search-option-active",1,"w-full","bg-search","ring-0","outline-0","text-search-contrast","placeholder:text-placeholder","placeholder:text-center","rounded-full","px-6","p-1.5"]],template:function(t,r){t&1&&(cn(0,"div",0),Ca("click",function(o){return o.stopPropagation(),r.router.navigate(["/searching"])}),zi(1,"input",1),Yt())},dependencies:[um],encapsulation:2})};var dm=class n{auth=S(li);loginWithGoogle(){let e=new uI;return tM(this.auth,e).then(t=>t.user).catch(()=>null)}logout(){return nM(this.auth)}get currentUser$(){return new de(e=>({unsubscribe:this.auth.onAuthStateChanged(r=>e.next(r))}))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var dz=()=>["/admin"];function hz(n,e){if(n&1){let t=un();G(0,"span",8),ye(1),$(),G(2,"button",9),ie("click",function(){et(t);let i=_n();return tt(i.logout())}),$(),ke(3,"button",10)}n&2&&(ee(),ze(" ",e.email),ee(2),Ae("routerLink",Bu(2,dz)))}function fz(n,e){if(n&1){let t=un();G(0,"button",11),ie("click",function(){et(t);let i=_n();return tt(i.login())}),$()}}var f1=class n{open=ct();authService=S(dm);currentUser$=this.authService.currentUser$;onMainButtonClick(e){e.stopPropagation(),this.open.emit()}login(){this.authService.loginWithGoogle()}logout(){this.authService.logout()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["pd-main-header"],["","pd-main-header",""]],outputs:{open:"open"},features:[_t([cr])],decls:12,vars:3,consts:[["pdHeaderContent",""],["pdHeaderRow",""],["pdHeaderButton","","title","Abrir men\xFA","aria-label","Abrir men\xFA","pdIcon","menu",1,"md:hidden",3,"click"],[1,"text-2xl/8","hidden","md:inline-flex","items-center","gap-0.5","text-contrast","font-mont-alt","font-semibold",2,"letter-spacing","0.07em"],["pdIcon","terminal",1,"scale-[115%]","text-lime-300"],[1,"w-full","max-w-[500px]"],[1,"flex","items-center","gap-2"],["pdHeaderButton","","title","Iniciar sesi\xF3n","aria-label","Iniciar sesi\xF3n","pdIcon","login"],[1,"text-contrast"],["pdHeaderButton","","title","Cerrar sesi\xF3n","aria-label","Cerrar sesi\xF3n","pdIcon","logout",3,"click"],["pdHeaderButton","","title","Admin","aria-label","Admin","pdIcon","terminal",1,"ml-4","mr-2",3,"routerLink"],["pdHeaderButton","","title","Iniciar sesi\xF3n","aria-label","Iniciar sesi\xF3n","pdIcon","login",3,"click"]],template:function(t,r){if(t&1&&(G(0,"div",0)(1,"div",1)(2,"button",2),ie("click",function(o){return r.onMainButtonClick(o)}),$(),G(3,"div",3),ke(4,"span",4),ye(5," ARTIFICIALMENTE "),$(),ke(6,"pd-placeholder-searcher",5),G(7,"div",6),Yn(8,hz,4,3),ri(9,"async"),Fu(10,fz,1,0,"button",7),ke(11,"pd-mode-toggle"),$()()()),t&2){let i;ee(8),Zn((i=ii(9,1,r.currentUser$))?8:10,i)}},dependencies:[lm,Qg,Ct,Vn,jn,dn,Vr,is],encapsulation:2})};var pz=["searchInput"],hm=class n{clear(e){e.stopPropagation(),this.searchControl.setValue(""),this.search.emit("")}searchInput;searchControl=new Rc("");search=ct();term=oe("");onSearch(){this.search.emit(this.searchControl.value?.trim()??""),this.searchInput.nativeElement.blur()}ngAfterViewInit(){setTimeout(()=>{this.searchInput.nativeElement.focus()},20),this.searchControl.valueChanges.pipe(cy(300)).subscribe(e=>{let t=e?.trim()??"";this.search.emit(t)}),this.searchControl.setValue(this.term())}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["pd-searcher"]],viewQuery:function(t,r){if(t&1&&Uu(pz,5),t&2){let i;Yo(i=Zo())&&(r.searchInput=i.first)}},inputs:{term:[1,"term"]},outputs:{search:"search"},decls:4,vars:1,consts:[["searchInput",""],[1,"w-full","flex","flex-row","items-center","gap-2"],["tabindex","0","type","text","autofocus","","placeholder","Buscar prompts...","aria-label","Buscar prompts","aria-autocomplete","list","aria-haspopup","listbox","aria-controls","search-options","aria-activedescendant","search-option-active",1,"w-full","text-primary-contrast","p-1.5","ring-0","outline-0","border-b-[1px]","border-dotted","border-b-contrast",3,"keydown.enter","formControl"],["pdHeaderButton","","title","Abrir men\xFA","aria-label","Abrir men\xFA","pdIcon","close",3,"click"]],template:function(t,r){if(t&1){let i=un();G(0,"div",1)(1,"input",2,0),ie("keydown.enter",function(){return et(i),tt(r.onSearch())}),$(),G(3,"button",3),ie("click",function(s){return et(i),tt(r.clear(s))}),$()()}t&2&&(ee(),Ae("formControl",r.searchControl))},dependencies:[um,sm,i1,Bb,dn,Ct],encapsulation:2})};var p1=class n{router=S(rt);search=ct();term=oe("");onBack(e){e.stopPropagation(),this.router.navigate(["/"])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["pd-search-header"],["","pd-search-header",""]],inputs:{term:[1,"term"]},outputs:{search:"search"},features:[_t([cr])],decls:4,vars:1,consts:[["pdHeaderContent",""],["pdHeaderRow",""],["pdHeaderBackButton","",3,"back"],[1,"w-full",3,"search","term"]],template:function(t,r){t&1&&(G(0,"div",0)(1,"div",1)(2,"button",2),ie("back",function(o){return r.onBack(o)}),$(),G(3,"pd-searcher",3),ie("search",function(o){return r.search.emit(o)}),$()()()),t&2&&(ee(3),Ae("term",r.term()))},dependencies:[Vn,jn,hm,jr],encapsulation:2})};function gz(n,e){if(n&1){let t=un();G(0,"button",9),ie("click",function(){et(t),_n();let i=Jo(11);return tt(i.show())}),ke(1,"span",10),$()}if(n&2){let t=_n();Ae("disabled",!t.enabled())}}var g1=class n{adminService=S(ho);isAdmin$=this.adminService.isCurrentUserAdmin();enabled=oe(!1);delete=ct();router=S(rt);titulo=oe("");subtitulo=oe("");onBack(e){e.stopPropagation(),this.router.navigate(["/"])}onDelete(e){e.stopPropagation(),this.delete.emit(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["pd-section-header"],["","pd-section-header",""]],inputs:{enabled:[1,"enabled"],titulo:[1,"titulo"],subtitulo:[1,"subtitulo"]},outputs:{delete:"delete"},features:[_t([cr])],decls:13,vars:7,consts:[["confirmar",""],["pdHeaderContent",""],["pdHeaderRow",""],["pdHeaderBackButton","",3,"back"],[1,"overflow-hidden","w-full","flex","flex-col"],["pdTruncate","",1,"text-header-contrast","text-xl",3,"title"],[1,"text-header-low-contrast","text-sm",3,"title"],["pdHeaderButton","","title","Eliminar","aria-label","Eliminar",1,"ml-4","disabled:pointer-events-none","disabled:opacity-50",3,"disabled"],["dialogTitle","Eliminar",3,"confirm"],["pdHeaderButton","","title","Eliminar","aria-label","Eliminar",1,"ml-4","disabled:pointer-events-none","disabled:opacity-50",3,"click","disabled"],["pdIcon","delete"]],template:function(t,r){if(t&1){let i=un();G(0,"div",1)(1,"div",2)(2,"button",3),ie("back",function(s){return et(i),tt(r.onBack(s))}),$(),G(3,"div",4)(4,"h1",5),ye(5),$(),G(6,"div",6),ye(7),$()(),Yn(8,gz,2,1,"button",7),ri(9,"async"),$()(),G(10,"pd-dialog",8,0),ie("confirm",function(s){return et(i),tt(r.onDelete(s))}),ye(12," Eliminar\xE1 definitivamente el elemento, desea continuar? "),$()}t&2&&(ee(4),Ae("title",r.titulo()),ee(),ze(" ",r.titulo()," "),ee(),Ae("title",r.subtitulo()),ee(),ze(" ",r.subtitulo()," "),ee(),Zn(ii(9,5,r.isAdmin$)?8:-1))},dependencies:[dn,jr,Vn,jn,go,Ct,Cc,is],encapsulation:2})};var m1=class n{apply=ct();waiting=oe(!1);enabled=oe(!0);router=S(rt);titulo=oe("Tarea");onBack(e){e.stopPropagation(),this.router.navigate(["/"])}onTaskButtonClicked(e){e.stopPropagation(),this.apply.emit(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["pd-task-header"]],inputs:{waiting:[1,"waiting"],enabled:[1,"enabled"],titulo:[1,"titulo"]},outputs:{apply:"apply"},features:[_t([cr])],decls:7,vars:5,consts:[["pdHeaderContent",""],["pdHeaderRow","",1,""],["pdHeaderBackButton","",3,"back"],["pdTruncate","",1,"text-header-contrast","text-2xl",3,"title"],[1,"spinner"],["pdHeaderActionButton","","title","Aceptar","aria-label","Aceptar","pdIcon","check",1,"mr-2","disabled:pointer-events-none","md:hidden","disabled:bg-neutral-500","dark:disabled:bg-neutral-600","transition-colors","duration-300",3,"click","disabled"]],template:function(t,r){t&1&&(G(0,"div",0)(1,"div",1)(2,"button",2),ie("back",function(o){return r.onBack(o)}),$(),G(3,"h1",3),ye(4),$(),ke(5,"div",4),G(6,"button",5),ie("click",function(o){return r.onTaskButtonClicked(o)}),$()()()),t&2&&(ee(3),Ae("title",r.titulo()),ee(),ze(" ",r.titulo()," "),ee(),Zt("spinner-show",r.waiting()),ee(),Ae("disabled",!r.enabled()||r.waiting()))},dependencies:[jr,Tc,Vn,jn,Ct,go],encapsulation:2})};var fm=class n{textData=oe.required({alias:"pdHighlightText"});partIndex=oe.required();isHighlighted=ln(()=>this.partIndex()===this.textData().in);static \u0275fac=function(t){return new(t||n)};static \u0275dir=ue({type:n,selectors:[["","pdHighlightText",""]],hostAttrs:[1,"whitespace-pre"],hostVars:2,hostBindings:function(t,r){t&2&&Zt("bg-resaltador",r.isHighlighted())},inputs:{textData:[1,"pdHighlightText","textData"],partIndex:[1,"partIndex"]}})};function mz(n,e){if(n&1&&(G(0,"span",1),ye(1),$()),n&2){let t=e.$implicit,r=e.$index,i=_n();Ae("pdHighlightText",i.textData())("partIndex",r),ee(),Er(t)}}var y1=class n{textData=oe.required();static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["pd-highlighted-text"]],inputs:{textData:[1,"textData"]},decls:3,vars:0,consts:[[1,"whitespace-nowrap","flex","flex-row","justify-start","items-center"],[3,"pdHighlightText","partIndex"]],template:function(t,r){t&1&&(G(0,"div",0),j_(1,mz,2,3,"span",1,V_),$()),t&2&&(ee(),U_(r.textData().parts))},dependencies:[fm],encapsulation:2})};var yz=["pd-value-item",""],pm=class n{value=oe(void 0,{alias:"pd-value-item"});valueText=ln(()=>{let e=this.value();return e==null?"Sin informaci\xF3n":Array.isArray(e)?e.length>0?e.join(", "):"Sin informaci\xF3n":typeof this.value()=="boolean"?this.value()?"S\xED":"No":e instanceof We?ed(e.toDate()):String(this.value())});static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["","pd-value-item",""]],hostAttrs:[1,"text-md","text-inverse"],inputs:{value:[1,"pd-value-item","value"]},attrs:yz,decls:1,vars:1,template:function(t,r){t&1&&ye(0),t&2&&ze("",r.valueText()," ")},encapsulation:2})};var vz=["pd-label-item",""],gm=class n{text=oe("",{alias:"pd-label-item"});static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["","pd-label-item",""]],hostAttrs:[1,"text-sm","text-inverse","opacity-80"],inputs:{text:[1,"pd-label-item","text"]},attrs:vz,decls:1,vars:1,template:function(t,r){t&1&&ye(0),t&2&&ze("",r.text()," ")},encapsulation:2})};var _z=["pd-key-value-item",""],v1=class n{label=oe("");value=oe(void 0);static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["","pd-key-value-item",""]],hostAttrs:[1,"flex","flex-col","pt-1","pb-3","items-start","justify-center"],inputs:{label:[1,"label"],value:[1,"value"]},attrs:_z,decls:2,vars:2,consts:[[3,"pd-label-item"],[3,"pd-value-item"]],template:function(t,r){t&1&&ke(0,"div",0)(1,"div",1),t&2&&(Ae("pd-label-item",r.label()),ee(),Ae("pd-value-item",r.value()))},dependencies:[gm,pm],encapsulation:2})};function Ez(n,e){n&1&&(cn(0,"span",3),ye(1,"WARN"),Yt())}function Iz(n,e){n&1&&(cn(0,"span",4),ye(1,"404"),Yt())}function wz(n,e){n&1&&(cn(0,"span",5),ye(1,"OK"),Yt())}var _1=class n{notificationService=S(Na);static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["pd-notification"]],decls:8,vars:10,consts:[[1,"fixed","duration-200","m-auto","z-35","scale-0","left-0","right-0","w-fit","min-w-64","shadow-lg","shadow-black/30","dark:shadow-black/60","transition-all","ease-out"],[1,"rounded-lg","w-full","flex","bg-neutral-50","dark:bg-neutral-800","items-center","gap-4","p-3"],[1,"w-full","pl-1"],[1,"dark:text-amber-400","font-semibold","text-amber-600","p-0.5","px-1.5","rounded-lg"],[1,"dark:text-red-400","font-semibold","text-red-500","p-0.5","px-1.5","rounded-lg"],[1,"dark:text-green-300","font-semibold","text-green-800","p-0.5","px-1.5","rounded-lg"],[1,"fixed","top-0","left-0","z-30","bg-black/10","dark:bg-black/20","block","opacity-100","w-screen","h-screen"]],template:function(t,r){t&1&&(cn(0,"div",0)(1,"div",1)(2,"span",2),ye(3),Yt(),Yn(4,Ez,2,0,"span",3)(5,Iz,2,0,"span",4)(6,wz,2,0,"span",5),Yt()(),zi(7,"div",6)),t&2&&(Zt("-bottom-8",!r.notificationService.showNotification())("bottom-18",r.notificationService.showNotification())("scale-100",r.notificationService.showNotification()),ee(3),Er(r.notificationService.notificationMessage().message),ee(),Zn(r.notificationService.notificationMessage().type==="warn"?4:r.notificationService.notificationMessage().type==="404"?5:6),ee(3),Zt("hidden",!r.notificationService.showNotification()))},encapsulation:2})};var E1=class n{quantity=oe(0);static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["pd-quantity-bagde"]],hostAttrs:[1,"min-w-6","w-6","h-6","inline-flex","items-center","justify-center","rounded-full","bg-primary-light","text-primary-contrast","text-xs"],inputs:{quantity:[1,"quantity"]},decls:2,vars:1,template:function(t,r){t&1&&(cn(0,"span"),ye(1),Yt()),t&2&&(ee(),Er(r.quantity()))},encapsulation:2})};function Hb(n){let e=n.paramMap.get("id");if(!e)throw new Error("Route parameter 'id' is required");return e}var I1=class n{constructor(e){this.appDataService=e}async resolve(e,t){let r=Hb(e);if(!r)throw new Error("Route parameter 'slug' is required");return this.appDataService.bySlug(r)}static \u0275fac=function(t){return new(t||n)(K(hc))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})},w1=class n{constructor(e,t){this.appDataService=e;this.router=t}async resolve(e,t){let r=this.router.getCurrentNavigation()?.extras.state?.name??await this.appDataService.categoryNameBySlug(Hb(e));if(r)return this.appDataService.byCategoryName(r);throw new Error("Route parameter 'slug' is required")}static \u0275fac=function(t){return new(t||n)(K(hc),K(rt))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})},D1=class n{constructor(e,t){this.appDataService=e;this.router=t}async resolve(e,t){let r=this.router.getCurrentNavigation()?.extras.state?.name??await this.appDataService.tagNameBySlug(Hb(e));if(r)return this.appDataService.byTagName(r);throw new Error("Route parameter 'slug' is required")}static \u0275fac=function(t){return new(t||n)(K(hc),K(rt))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};function b1(n){return n.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim()}function fpe(n,e,t=40){let r=b1(n),i=b1(e),o=r.indexOf(i);if(o===-1)return{parts:[n.slice(0,t)],highlightIndex:-1};let s=Math.floor(t/2),a=e.length,u=Math.max(0,o-s),l=Math.min(n.length,o+a+s),h=o<=s?0:u,p=o+a>=n.length-s?n.length:l,g=n.slice(h,o),y=n.slice(o,o+a),I=n.slice(o+a,p),A=[],N=-1;return g?(A.push(g),N=A.length):N=0,A.push(y),I&&A.push(I),{parts:A,highlightIndex:N}}var T1=class n{constructor(e,t){this.adminService=e;this.router=t}canActivate(e,t){return this.adminService.isCurrentUserAdmin().pipe(Cn(1),fe(r=>r?!0:this.router.createUrlTree(["/"])))}static \u0275fac=function(t){return new(t||n)(K(ho),K(rt))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var mm=class n{prompt=oe({});static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["pd-promp-info"]],hostAttrs:[1,"md:flex","justify-end","items-center","text-inverse-low","hidden"],inputs:{prompt:[1,"prompt"]},decls:2,vars:4,template:function(t,r){t&1&&(ye(0),ri(1,"relDate")),t&2&&Af("",ii(1,2,r.prompt().fecha_creacion.toDate()),", ",r.prompt().autor)},dependencies:[Wg],encapsulation:2})};var Dz=(n,e)=>["/",n,e],bz=n=>({id:n});function Tz(n,e){if(n&1&&(ke(0,"pd-promp-info",1),G(1,"a",2)(2,"div",3),ye(3),$()(),G(4,"div",4)(5,"div",5),ye(6),$(),G(7,"div",6),ye(8),$()(),ke(9,"pd-copy-actions",7)),n&2){let t=e,r=_n();Ae("prompt",t),ee(),Ae("routerLink",q_(8,Dz,r.promptUrl,t.slug))("state",$_(11,bz,t.id)),ee(2),ze(" ",t.titulo," "),ee(3),ze(" ",t.prompt," "),ee(2),Er(t.descripcion),ee(),Ae("promptText",t.prompt)("promptUrl",r.baseUrl()+t.slug)}}function Cz(n,e){n&1&&(G(0,"div",0),ye(1,"No prompt available"),$())}var C1=class n{promptUrl="prompt";basePath=S(Wf);baseUrl=Me(window.location.origin+this.basePath+this.promptUrl+"/");visible=Me(!1);prompt=oe(null);static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["pd-display-prompt"],["","pd-display-prompt",""]],hostAttrs:[1,"select-none","md:min-w-[16rem]","md:w-[24rem]","md:max-w-[36rem]","grow-1","relative","inline-block","group","px-2","py-4","shadow-md/30","shadow-black/40","dark:shadow-black/80","bg-card","hover:bg-card-hover","dark:hover:bg-card-hover/30","transition-colors","duration-150"],inputs:{prompt:[1,"prompt"]},decls:2,vars:1,consts:[[1,"no-prompt"],[1,"pb-4","px-2","text-xs",3,"prompt"],[3,"routerLink","state"],[1,"text-primary-dark","px-2","text-lg/6","font-titulo","opacity-85","group-hover:opacity-100",2,"text-wrap","balance"],[1,"relative","prompt","opacity-85","group-hover:opacity-100","text-prompt","transition-opacity","duration-150","px-2"],[1,"prompt-text","font-merri","font-[370]","py-3","leading-7","italic"],[1,"text-sm"],["tabindex","2",1,"absolute","bottom-3","right-5","pointer-events-none","transition-discrete","opacity-0","hidden","z-3","group-active:block","group-hover:block","group-focus:block","group-focus:opacity-100","group-hover:opacity-80","hover:opacity-100","transition-all","group-focus:pointer-events-auto","group-hover:pointer-events-auto",3,"promptText","promptUrl"]],template:function(t,r){if(t&1&&Yn(0,Tz,10,13)(1,Cz,2,0,"div",0),t&2){let i;Zn((i=r.prompt())?0:1,i)}},dependencies:[yg,Vr,mm],encapsulation:2})};export{x as a,Z as b,fe as c,rn as d,U as e,S as f,gn as g,et as h,tt as i,Ue as j,lF as k,Me as l,sn as m,ee as n,z as o,ce as p,NA as q,MA as r,De as s,Z2 as t,J2 as u,Ta as v,Yn as w,Zn as x,ej as y,j_ as z,U_ as A,Ae as B,G as C,$ as D,ke as E,un as F,ie as G,_n as H,Jo as I,Zt as J,ye as K,Er as L,ze as M,$_ as N,q_ as O,ri as P,ii as Q,Uj as R,ln as S,ct as T,oe as U,CE as V,Wf as W,eN as X,ZB as Y,nN as Z,Dq as _,zx as $,Ei as aa,fb as ba,rt as ca,Vr as da,o8 as ea,c8 as fa,g8 as ga,Na as ha,Of as ia,Ff as ja,Lf as ka,_R as la,Wi as ma,Bf as na,Hf as oa,ut as pa,Xt as qa,Xn as ra,Pa as sa,In as ta,ts as ua,Ge as va,oie as wa,Yi as xa,Ku as ya,ka as za,Zi as Aa,si as Ba,rs as Ca,bie as Da,Tie as Ea,La as Fa,al as Ga,Eae as Ha,Iae as Ia,qce as Ja,zce as Ka,hc as La,ho as Ma,Fx as Na,Fk as Oa,sm as Pa,Lk as Qa,i1 as Ra,dhe as Sa,fhe as Ta,X8 as Ua,tz as Va,d1 as Wa,phe as Xa,ghe as Ya,cz as Za,mhe as _a,um as $a,f1 as ab,p1 as bb,g1 as cb,m1 as db,y1 as eb,v1 as fb,_1 as gb,E1 as hb,I1 as ib,w1 as jb,D1 as kb,fpe as lb,T1 as mb,C1 as nb};
