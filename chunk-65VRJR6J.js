import{a as y}from"./chunk-ZY2CGTJQ.js";import"./chunk-ZHDL4VS5.js";import{i as S}from"./chunk-BDT624KJ.js";import{Aa as g,Ba as v,Ga as P,K as s,L as a,M as p,N as u,S as c,ja as r,l as o,ra as f,s as m,sa as b,u as l,ua as h,v as d}from"./chunk-3KYPNB66.js";var D=class n{notificationService=o(g);router=o(h);route=o(b);persist=o(P);data=v(this.route.data);prompts=r(()=>this.data().item.prompts);titulo=r(()=>this.data().item.name);subtitulo=r(()=>this.resolvedSubtitulo(this.prompts().length,this.data().type.lowercase));borrable=r(()=>this.prompts().length<=0);constructor(t){t.setTitle(`${this.data()?.item.name} | ${this.data()?.type.title} | Prompter`)}onDelete(t){t.stopPropagation(),this.borrable()&&(this.data()?.type.lowercase==="etiqueta"?this.persist.deleteTag(this.data()?.item.name).then(()=>{this.notificationService.success("Etiqueta eliminada."),this.router.navigate(["/"])}):this.persist.deleteCategory(this.data()?.item.name).then(()=>{this.notificationService.success("Categor\xEDa eliminada."),this.router.navigate(["/"])}))}resolvedSubtitulo(t,e){return`${t===0?"Ning\xFAn prompt asociado":t===1?"1 prompt asociado":`${t.toFixed(0)} prompts asociados`} a esta ${e}`}static \u0275fac=function(e){return new(e||n)(l(f))};static \u0275cmp=d({type:n,selectors:[["pd-prompts"]],hostAttrs:[1,"w-full"],decls:3,vars:4,consts:[["pd-section-header","",3,"delete","titulo","subtitulo","enabled"],[1,"flex","flex-row","w-full"],["pd-prompts-list","",1,"p-4",3,"prompts"]],template:function(e,i){e&1&&(a(0,"header",0),c("delete",function(N){return i.onDelete(N)}),p(),a(1,"div",1),u(2,"ul",2),p()),e&2&&(s("titulo",i.titulo())("subtitulo",i.subtitulo())("enabled",i.borrable()),m(2),s("prompts",i.prompts()))},dependencies:[y,S],encapsulation:2})};export{D as Prompts};
