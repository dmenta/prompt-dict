import{a as k,f as w,k as E}from"./chunk-YZYSJLOM.js";import{b as _,c as b,e as D,k as S,l as C}from"./chunk-SAX6VCBM.js";import"./chunk-YRE2X32C.js";import{Ab as g,R as a,Ua as v,Va as y,Wa as l,Xa as n,Ya as s,Za as f,ca as m,cb as h,eb as P,gc as T,qa as c,ua as d,ya as u}from"./chunk-YSAVDWCI.js";var F=(i,e)=>e.key;function x(i,e){if(i&1&&f(0,"li",3),i&2){let t=e.$implicit,r=P();l("label",t.label)("value",r.prompt()[t.key])}}var M=class i{notificationService=a(S);persistService=a(C);url=m(window.location.href);route=a(b);router=a(D);data=T(this.route.data);copyService=a(k);prompt=g(()=>this.data().prompt);displayProperties=[{label:"T\xEDtulo",key:"titulo"},{label:"Texto",key:"prompt"},{label:"Descripci\xF3n",key:"descripcion"},{label:"Autor",key:"autor"},{label:"Categor\xEDa",key:"categoria"},{label:"Creado",key:"fecha_creacion"},{label:"Etiquetas",key:"tags"},{label:"ID",key:"id"}];constructor(e){e.setTitle(`${this.prompt().titulo} | Prompter`)}onDelete(e){e.stopPropagation(),this.persistService.deletePrompt(this.prompt().id),this.notificationService.success("Prompt eliminado"),this.router.navigate(["/"])}onCopyPrompt(e){e.stopPropagation(),this.copyService.copy(this.prompt().prompt)}async onShare(e){if(e.stopPropagation(),!navigator.canShare){this.copyService.copy(this.url());return}let t=this.prompt(),r=this.url(),p={title:"Prompter",text:t.titulo,url:r};if(navigator.canShare(p))try{await navigator.share(p)}catch(o){console.warn("Error al compartir el prompt:",o)}else this.copyService.copy(this.url())}static \u0275fac=function(t){return new(t||i)(d(_))};static \u0275cmp=u({type:i,selectors:[["pd-prompt-detail"]],hostAttrs:[1,"w-full"],decls:5,vars:1,consts:[["pd-detail-header","",3,"delete","copyPrompt","share","titulo"],[1,"px-6","py-6","w-full"],[1,"divide-y-[0.5px]","divide-gray-500/50","space-y-2"],["pd-key-value-item","",3,"label","value"]],template:function(t,r){t&1&&(n(0,"header",0),h("delete",function(o){return r.onDelete(o)})("copyPrompt",function(o){return r.onCopyPrompt(o)})("share",function(o){return r.onShare(o)}),s(),n(1,"div",1)(2,"ul",2),v(3,x,1,2,"li",3,F),s()()),t&2&&(l("titulo",r.prompt().titulo),c(3),y(r.displayProperties))},dependencies:[w,E],encapsulation:2})};export{M as PromptDetail};
