var rM=Object.defineProperty,iM=Object.defineProperties;var oM=Object.getOwnPropertyDescriptors;var RI=Object.getOwnPropertySymbols;var sM=Object.prototype.hasOwnProperty,aM=Object.prototype.propertyIsEnumerable;var MI=(t,e,n)=>e in t?rM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,se=(t,e)=>{for(var n in e||={})sM.call(e,n)&&MI(t,n,e[n]);if(RI)for(var n of RI(e))aM.call(e,n)&&MI(t,n,e[n]);return t},ce=(t,e)=>iM(t,oM(e));function B(t){return typeof t=="function"}function mf(t){return B(t?.lift)}function te(t){return e=>{if(mf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function eo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Wc=eo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Wr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Pe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(B(r))try{r()}catch(o){e=o instanceof Wc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{PI(o)}catch(s){e=e??[],s instanceof Wc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Wc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)PI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Wr(n,e)}remove(e){let{_finalizers:n}=this;n&&Wr(n,e),e instanceof t&&e._removeParent(this)}};Pe.EMPTY=(()=>{let t=new Pe;return t.closed=!0,t})();var yf=Pe.EMPTY;function Kc(t){return t instanceof Pe||t&&"closed"in t&&B(t.remove)&&B(t.add)&&B(t.unsubscribe)}function PI(t){B(t)?t():t.unsubscribe()}var Ut={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var to={setTimeout(t,e,...n){let{delegate:r}=to;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=to;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Qc(t){to.setTimeout(()=>{let{onUnhandledError:e}=Ut;if(e)e(t);else throw t})}function Ks(){}var xI=vf("C",void 0,void 0);function kI(t){return vf("E",void 0,t)}function OI(t){return vf("N",t,void 0)}function vf(t,e,n){return{kind:t,value:e,error:n}}var Kr=null;function no(t){if(Ut.useDeprecatedSynchronousErrorHandling){let e=!Kr;if(e&&(Kr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Kr;if(Kr=null,n)throw r}}else t()}function FI(t){Ut.useDeprecatedSynchronousErrorHandling&&Kr&&(Kr.errorThrown=!0,Kr.error=t)}var Qr=class extends Pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Kc(e)&&e.add(this)):this.destination=lM}static create(e,n,r){return new ro(e,n,r)}next(e){this.isStopped?Ef(OI(e),this):this._next(e)}error(e){this.isStopped?Ef(kI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ef(xI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},cM=Function.prototype.bind;function _f(t,e){return cM.call(t,e)}var If=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Yc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Yc(r)}else Yc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Yc(n)}}},ro=class extends Qr{constructor(e,n,r){super();let i;if(B(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Ut.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&_f(e.next,o),error:e.error&&_f(e.error,o),complete:e.complete&&_f(e.complete,o)}):i=e}this.destination=new If(i)}};function Yc(t){Ut.useDeprecatedSynchronousErrorHandling?FI(t):Qc(t)}function uM(t){throw t}function Ef(t,e){let{onStoppedNotification:n}=Ut;n&&to.setTimeout(()=>n(t,e))}var lM={closed:!0,next:Ks,error:uM,complete:Ks};function J(t,e,n,r,i){return new wf(t,e,n,r,i)}var wf=class extends Qr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function gt(t,e){return te((n,r)=>{let i=0;n.subscribe(J(r,o=>{r.next(t.call(e,o,i++))}))})}function Yr(t,e){return te((n,r)=>{let i=0;n.subscribe(J(r,o=>t.call(e,o,i++)&&r.next(o)))})}var io=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Et(t){return t}function LI(...t){return Df(t)}function Df(t){return t.length===0?Et:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Q=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=hM(n)?n:new ro(n,r,i);return no(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=VI(r),new r((i,o)=>{let s=new ro({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[io](){return this}pipe(...n){return Df(n)(this)}toPromise(n){return n=VI(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function VI(t){var e;return(e=t??Ut.Promise)!==null&&e!==void 0?e:Promise}function dM(t){return t&&B(t.next)&&B(t.error)&&B(t.complete)}function hM(t){return t&&t instanceof Qr||dM(t)&&Kc(t)}function Tf(){return te((t,e)=>{let n=null;t._refCount++;let r=J(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var bf=class extends Q{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,mf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pe;let n=this.getSubject();e.add(this.source.subscribe(J(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pe.EMPTY)}return e}refCount(){return Tf()(this)}};var jI=eo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Rt=(()=>{class t extends Q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Zc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new jI}next(n){no(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){no(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){no(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?yf:(this.currentObservers=null,o.push(n),new Pe(()=>{this.currentObservers=null,Wr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Q;return n.source=this,n}}return t.create=(e,n)=>new Zc(e,n),t})(),Zc=class extends Rt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:yf}};var Qs=class extends Rt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Cf={now(){return(Cf.delegate||Date).now()},delegate:void 0};var Jc=class extends Pe{constructor(e,n){super()}schedule(e,n=0){return this}};var Ys={setInterval(t,e,...n){let{delegate:r}=Ys;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ys;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var oo=class extends Jc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ys.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ys.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Wr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var so=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};so.now=Cf.now;var ao=class extends so{constructor(e,n=so.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var nr=new ao(oo),Af=nr;var Xc=class extends oo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var eu=class extends ao{};var Sf=new eu(Xc);var Zs=new Q(t=>t.complete());function tu(t){return t&&B(t.schedule)}function BI(t){return t[t.length-1]}function nu(t){return B(BI(t))?t.pop():void 0}function rr(t){return tu(BI(t))?t.pop():void 0}function ru(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function $I(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function UI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zr(t){return this instanceof Zr?(this.v=t,this):new Zr(t)}function HI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(I){return Promise.resolve(I).then(y,p)}}function c(y,I){r[y]&&(i[y]=function(A){return new Promise(function(N,P){o.push([y,A,N,P])>1||u(y,A)})},I&&(i[y]=I(i[y])))}function u(y,I){try{l(r[y](I))}catch(A){g(o[0][3],A)}}function l(y){y.value instanceof Zr?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,I){y(I),o.shift(),o.length&&u(o[0][0],o[0][1])}}function qI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof UI=="function"?UI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var co=t=>t&&typeof t.length=="number"&&typeof t!="function";function iu(t){return B(t?.then)}function ou(t){return B(t[io])}function su(t){return Symbol.asyncIterator&&B(t?.[Symbol.asyncIterator])}function au(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function fM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var cu=fM();function uu(t){return B(t?.[cu])}function lu(t){return HI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Zr(n.read());if(i)return yield Zr(void 0);yield yield Zr(r)}}finally{n.releaseLock()}})}function du(t){return B(t?.getReader)}function Ee(t){if(t instanceof Q)return t;if(t!=null){if(ou(t))return pM(t);if(co(t))return gM(t);if(iu(t))return mM(t);if(su(t))return zI(t);if(uu(t))return yM(t);if(du(t))return vM(t)}throw au(t)}function pM(t){return new Q(e=>{let n=t[io]();if(B(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function gM(t){return new Q(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function mM(t){return new Q(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Qc)})}function yM(t){return new Q(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function zI(t){return new Q(e=>{_M(t,e).catch(n=>e.error(n))})}function vM(t){return zI(lu(t))}function _M(t,e){var n,r,i,o;return $I(this,void 0,void 0,function*(){try{for(n=qI(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function mt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function ir(t,e=0){return te((n,r)=>{n.subscribe(J(r,i=>mt(r,t,()=>r.next(i),e),()=>mt(r,t,()=>r.complete(),e),i=>mt(r,t,()=>r.error(i),e)))})}function or(t,e=0){return te((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function GI(t,e){return Ee(t).pipe(or(e),ir(e))}function WI(t,e){return Ee(t).pipe(or(e),ir(e))}function KI(t,e){return new Q(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function QI(t,e){return new Q(n=>{let r;return mt(n,e,()=>{r=t[cu](),mt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>B(r?.return)&&r.return()})}function hu(t,e){if(!t)throw new Error("Iterable cannot be null");return new Q(n=>{mt(n,e,()=>{let r=t[Symbol.asyncIterator]();mt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function YI(t,e){return hu(lu(t),e)}function ZI(t,e){if(t!=null){if(ou(t))return GI(t,e);if(co(t))return KI(t,e);if(iu(t))return WI(t,e);if(su(t))return hu(t,e);if(uu(t))return QI(t,e);if(du(t))return YI(t,e)}throw au(t)}function $t(t,e){return e?ZI(t,e):Ee(t)}function EM(...t){let e=rr(t);return $t(t,e)}function IM(t,e){let n=B(t)?t:()=>t,r=i=>i.error(n());return new Q(e?i=>e.schedule(r,0,i):r)}function wM(t){return!!t&&(t instanceof Q||B(t.lift)&&B(t.subscribe))}var Jr=eo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function JI(t){return t instanceof Date&&!isNaN(t)}var{isArray:DM}=Array;function TM(t,e){return DM(e)?t(...e):t(e)}function uo(t){return gt(e=>TM(t,e))}var{isArray:bM}=Array,{getPrototypeOf:CM,prototype:AM,keys:SM}=Object;function fu(t){if(t.length===1){let e=t[0];if(bM(e))return{args:e,keys:null};if(NM(e)){let n=SM(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function NM(t){return t&&typeof t=="object"&&CM(t)===AM}function pu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function RM(...t){let e=rr(t),n=nu(t),{args:r,keys:i}=fu(t);if(r.length===0)return $t([],e);let o=new Q(MM(r,e,i?s=>pu(i,s):Et));return n?o.pipe(uo(n)):o}function MM(t,e,n=Et){return r=>{XI(e,()=>{let{length:i}=t,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)XI(e,()=>{let l=$t(t[u],e),h=!1;l.subscribe(J(r,p=>{o[u]=p,h||(h=!0,c--),c||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function XI(t,e,n){t?mt(n,t,e):e()}function ew(t,e,n,r,i,o,s,c){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=A=>l<r?I(A):u.push(A),I=A=>{o&&e.next(A),l++;let N=!1;Ee(n(A,h++)).subscribe(J(e,P=>{i?.(P),o?y(P):e.next(P)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let P=u.shift();s?mt(e,s,()=>I(P)):I(P)}g()}catch(P){e.error(P)}}))};return t.subscribe(J(e,y,()=>{p=!0,g()})),()=>{c?.()}}function xn(t,e,n=1/0){return B(e)?xn((r,i)=>gt((o,s)=>e(r,o,i,s))(Ee(t(r,i))),n):(typeof e=="number"&&(n=e),te((r,i)=>ew(r,i,t,n)))}function Nf(t=1/0){return xn(Et,t)}function tw(){return Nf(1)}function gu(...t){return tw()($t(t,rr(t)))}function PM(t){return new Q(e=>{Ee(t()).subscribe(e)})}function Rf(...t){let e=nu(t),{args:n,keys:r}=fu(t),i=new Q(o=>{let{length:s}=n;if(!s){o.complete();return}let c=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Ee(n[h]).subscribe(J(o,g=>{p||(p=!0,l--),c[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?pu(r,c):c),o.complete())}))}});return e?i.pipe(uo(e)):i}var xM=["addListener","removeListener"],kM=["addEventListener","removeEventListener"],OM=["on","off"];function Mf(t,e,n,r){if(B(n)&&(r=n,n=void 0),r)return Mf(t,e,n).pipe(uo(r));let[i,o]=VM(t)?kM.map(s=>c=>t[s](e,c,n)):FM(t)?xM.map(nw(t,e)):LM(t)?OM.map(nw(t,e)):[];if(!i&&co(t))return xn(s=>Mf(s,e,n))(Ee(t));if(!i)throw new TypeError("Invalid event target");return new Q(s=>{let c=(...u)=>s.next(1<u.length?u:u[0]);return i(c),()=>o(c)})}function nw(t,e){return n=>r=>t[n](e,r)}function FM(t){return B(t.addListener)&&B(t.removeListener)}function LM(t){return B(t.on)&&B(t.off)}function VM(t){return B(t.addEventListener)&&B(t.removeEventListener)}function rw(t=0,e,n=Af){let r=-1;return e!=null&&(tu(e)?n=e:r=e),new Q(i=>{let o=JI(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function iw(t){return te((e,n)=>{let r=null,i=!1,o;r=e.subscribe(J(n,void 0,void 0,s=>{o=Ee(t(s,iw(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function ow(t,e,n,r,i){return(o,s)=>{let c=n,u=e,l=0;o.subscribe(J(s,h=>{let p=l++;u=c?t(u,h,p):(c=!0,h),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function jM(t,e){return B(e)?xn(t,e,1):xn(t,1)}function BM(t,e=nr){return te((n,r)=>{let i=null,o=null,s=null,c=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function u(){let l=s+t,h=e.now();if(h<l){i=this.schedule(void 0,l-h),r.add(i);return}c()}n.subscribe(J(r,l=>{o=l,s=e.now(),i||(i=e.schedule(u,t),r.add(i))},()=>{c(),r.complete()},void 0,()=>{o=i=null}))})}function Js(t){return te((e,n)=>{let r=!1;e.subscribe(J(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function mu(t){return t<=0?()=>Zs:te((e,n)=>{let r=0;e.subscribe(J(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function yu(t=UM){return te((e,n)=>{let r=!1;e.subscribe(J(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function UM(){return new Jr}function $M(t){return te((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function HM(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Yr((i,o)=>t(i,o,r)):Et,mu(1),n?Js(e):yu(()=>new Jr))}function Pf(t){return t<=0?()=>Zs:te((e,n)=>{let r=[];e.subscribe(J(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function qM(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Yr((i,o)=>t(i,o,r)):Et,Pf(1),n?Js(e):yu(()=>new Jr))}function sw(t,e){return te(ow(t,e,arguments.length>=2,!0))}function aw(...t){let e=rr(t);return te((n,r)=>{(e?gu(t,n,e):gu(t,n)).subscribe(r)})}function cw(t,e){return te((n,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();n.subscribe(J(r,u=>{i?.unsubscribe();let l=0,h=o++;Ee(t(u,h)).subscribe(i=J(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function zM(t){return te((e,n)=>{Ee(t).subscribe(J(n,()=>n.complete(),Ks)),!n.closed&&e.subscribe(n)})}function uw(t,e,n){let r=B(t)||e||n?{next:t,error:e,complete:n}:t;return r?te((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(J(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Et}function lw(t,e){return te((n,r)=>{let{leading:i=!0,trailing:o=!1}=e??{},s=!1,c=null,u=null,l=!1,h=()=>{u?.unsubscribe(),u=null,o&&(y(),l&&r.complete())},p=()=>{u=null,l&&r.complete()},g=I=>u=Ee(t(I)).subscribe(J(r,h,p)),y=()=>{if(s){s=!1;let I=c;c=null,r.next(I),!l&&g(I)}};n.subscribe(J(r,I=>{s=!0,c=I,!(u&&!u.closed)&&(i?y():g(I))},()=>{l=!0,!(o&&s&&u&&!u.closed)&&r.complete()}))})}function GM(t,e=nr,n){let r=rw(t,e);return lw(()=>r,n)}var xf;function vu(){return xf}function sn(t){let e=xf;return xf=t,e}var dw=Symbol("NotFound");function lo(t){return t===dw||t?.name==="\u0275NotFound"}function Du(t,e){return Object.is(t,e)}var Be=null,_u=!1,kf=1,WM=null,ot=Symbol("SIGNAL");function $(t){let e=Be;return Be=t,e}function Tu(){return Be}var sr={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ho(t){if(_u)throw new Error("");if(Be===null)return;Be.consumerOnSignalRead(t);let e=Be.nextProducerIndex++;if(Au(Be),e<Be.producerNode.length&&Be.producerNode[e]!==t&&ea(Be)){let n=Be.producerNode[e];Cu(n,Be.producerIndexOfThis[e])}Be.producerNode[e]!==t&&(Be.producerNode[e]=t,Be.producerIndexOfThis[e]=ea(Be)?fw(t,Be,e):0),Be.producerLastReadVersion[e]=t.version}function hw(){kf++}function bu(t){if(!(ea(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===kf)){if(!t.producerMustRecompute(t)&&!fo(t)){wu(t);return}t.producerRecomputeValue(t),wu(t)}}function Of(t){if(t.liveConsumerNode===void 0)return;let e=_u;_u=!0;try{for(let n of t.liveConsumerNode)n.dirty||KM(n)}finally{_u=e}}function Ff(){return Be?.consumerAllowSignalWrites!==!1}function KM(t){t.dirty=!0,Of(t),t.consumerMarkedDirty?.(t)}function wu(t){t.dirty=!1,t.lastCleanEpoch=kf}function ar(t){return t&&(t.nextProducerIndex=0),$(t)}function Xr(t,e){if($(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ea(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Cu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function fo(t){Au(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(bu(n),r!==n.version))return!0}return!1}function po(t){if(Au(t),ea(t))for(let e=0;e<t.producerNode.length;e++)Cu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function fw(t,e,n){if(pw(t),t.liveConsumerNode.length===0&&gw(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=fw(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Cu(t,e){if(pw(t),t.liveConsumerNode.length===1&&gw(t))for(let r=0;r<t.producerNode.length;r++)Cu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Au(i),i.producerIndexOfThis[r]=e}}function ea(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Au(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function pw(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function gw(t){return t.producerNode!==void 0}function Su(t){WM?.(t)}function Nu(t,e){let n=Object.create(QM);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(bu(n),ho(n),n.value===Xs)throw n.error;return n.value};return r[ot]=n,Su(n),r}var Eu=Symbol("UNSET"),Iu=Symbol("COMPUTING"),Xs=Symbol("ERRORED"),QM=ce(se({},sr),{value:Eu,dirty:!0,error:null,equal:Du,kind:"computed",producerMustRecompute(t){return t.value===Eu||t.value===Iu},producerRecomputeValue(t){if(t.value===Iu)throw new Error("");let e=t.value;t.value=Iu;let n=ar(t),r,i=!1;try{r=t.computation(),$(null),i=e!==Eu&&e!==Xs&&r!==Xs&&t.equal(e,r)}catch(o){r=Xs,t.error=o}finally{Xr(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function YM(){throw new Error}var mw=YM;function yw(t){mw(t)}function Lf(t){mw=t}var ZM=null;function Vf(t,e){let n=Object.create(Ru);n.value=t,e!==void 0&&(n.equal=e);let r=()=>vw(n);return r[ot]=n,Su(n),[r,s=>go(n,s),s=>jf(n,s)]}function vw(t){return ho(t),t.value}function go(t,e){Ff()||yw(t),t.equal(t.value,e)||(t.value=e,JM(t))}function jf(t,e){Ff()||yw(t),go(t,e(t.value))}var Ru=ce(se({},sr),{equal:Du,value:void 0,kind:"signal"});function JM(t){t.version++,hw(),Of(t),ZM?.(t)}function _w(t){let e=$(null);try{return t()}finally{$(e)}}var Ou="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",z=class extends Error{code;constructor(e,n){super(ii(e,n)),this.code=e}};function XM(t){return`NG0${Math.abs(t)}`}function ii(t,e){return`${XM(t)}${e?": "+e:""}`}var Fu=globalThis;function he(t){for(let e in t)if(t[e]===he)return e;throw Error("")}function ww(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function On(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(On).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Lu(t,e){return t?e?`${t} ${e}`:t:e||""}var eP=he({__forward_ref__:he});function Pt(t){return t.__forward_ref__=Pt,t.toString=function(){return On(this())},t}function Ue(t){return Zf(t)?t():t}function Zf(t){return typeof t=="function"&&t.hasOwnProperty(eP)&&t.__forward_ref__===Pt}function Dw(t,e){t==null&&Jf(e,t,null,"!=")}function Jf(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function ue(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function oi(t){return{providers:t.providers||[],imports:t.imports||[]}}function sa(t){return nP(t,Vu)}function tP(t){return sa(t)!==null}function nP(t,e){return t.hasOwnProperty(e)&&t[e]||null}function rP(t){let e=t?.[Vu]??null;return e||null}function Uf(t){return t&&t.hasOwnProperty(Pu)?t[Pu]:null}var Vu=he({\u0275prov:he}),Pu=he({\u0275inj:he}),q=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ue({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Xf(t){return t&&!!t.\u0275providers}var ep=he({\u0275cmp:he}),tp=he({\u0275dir:he}),np=he({\u0275pipe:he}),rp=he({\u0275mod:he}),ra=he({\u0275fac:he}),si=he({__NG_ELEMENT_ID__:he}),Ew=he({__NG_ENV_ID__:he});function ai(t){return typeof t=="string"?t:t==null?"":String(t)}function xu(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ai(t)}var ip=he({ngErrorCode:he}),Tw=he({ngErrorMessage:he}),na=he({ngTokenPath:he});function op(t,e){return bw("",-200,e)}function ju(t,e){throw new z(-201,!1)}function iP(t,e){t[na]??=[];let n=t[na],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(Dw(e.provide,"Token with multi: true should have a provide property"),r=xu(e.provide)):r=xu(e),n[0]!==r&&t[na].unshift(r)}function oP(t,e){let n=t[na],r=t[ip],i=t[Tw]||t.message;return t.message=aP(i,r,n,e),t}function bw(t,e,n){let r=new z(e,t);return r[ip]=e,r[Tw]=t,n&&(r[na]=n),r}function sP(t){return t[ip]}function aP(t,e,n=[],r=null){let i="";n&&n.length>1&&(i=` Path: ${n.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return ii(e,`${t}${o}${i}`)}var $f;function Cw(){return $f}function st(t){let e=$f;return $f=t,e}function sp(t,e,n){let r=sa(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;ju(t,"Injector")}var cP={},ei=cP,Hf="__NG_DI_FLAG__",qf=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=ti(n)||0;try{return this.injector.get(e,r&8?null:ei,r)}catch(i){if(lo(i))return i;throw i}}};function uP(t,e=0){let n=vu();if(n===void 0)throw new z(-203,!1);if(n===null)return sp(t,void 0,e);{let r=lP(e),i=n.retrieve(t,r);if(lo(i)){if(r.optional)return null;throw i}return i}}function Ye(t,e=0){return(Cw()||uP)(Ue(t),e)}function O(t,e){return Ye(t,ti(e))}function ti(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function lP(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function zf(t){let e=[];for(let n=0;n<t.length;n++){let r=Ue(t[n]);if(Array.isArray(r)){if(r.length===0)throw new z(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let c=r[s],u=dP(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(Ye(i,o))}else e.push(Ye(r))}return e}function ap(t,e){return t[Hf]=e,t.prototype[Hf]=e,t}function dP(t){return t[Hf]}function cr(t,e){let n=t.hasOwnProperty(ra);return n?t[ra]:null}function Aw(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function Sw(t){return t.flat(Number.POSITIVE_INFINITY)}function Bu(t,e){t.forEach(n=>Array.isArray(n)?Bu(n,e):e(n))}function cp(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function aa(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Nw(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function Rw(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Uu(t,e,n){let r=yo(t,e);return r>=0?t[r|1]=n:(r=~r,Rw(t,r,e,n)),r}function $u(t,e){let n=yo(t,e);if(n>=0)return t[n|1]}function yo(t,e){return hP(t,e,1)}function hP(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Ht={},at=[],lr=new q(""),up=new q("",-1),lp=new q(""),ia=class{get(e,n=ei){if(n===ei){let i=bw("",-201);throw i.name="\u0275NotFound",i}return n}};function dp(t){return t[rp]||null}function Fn(t){return t[ep]||null}function ca(t){return t[tp]||null}function hp(t){return t[np]||null}function qt(t){return{\u0275providers:t}}function Mw(t){return qt([{provide:lr,multi:!0,useValue:t}])}function Pw(...t){return{\u0275providers:Hu(!0,t),\u0275fromNgModule:!0}}function Hu(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Bu(e,s=>{let c=s;ku(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&xw(i,o),n}function xw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];fp(i,o=>{e(o,r)})}}function ku(t,e,n,r){if(t=Ue(t),!t)return!1;let i=null,o=Uf(t),s=!o&&Fn(t);if(!o&&!s){let u=t.ngModule;if(o=Uf(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)ku(l,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{Bu(o.imports,h=>{ku(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&xw(l,e)}if(!c){let l=cr(i)||(()=>new i);e({provide:i,useFactory:l,deps:at},i),e({provide:lp,useValue:i,multi:!0},i),e({provide:lr,useValue:()=>Ye(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=t;fp(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function fp(t,e){for(let n of t)Xf(n)&&(n=n.\u0275providers),Array.isArray(n)?fp(n,e):e(n)}var fP=he({provide:String,useValue:he});function kw(t){return t!==null&&typeof t=="object"&&fP in t}function pP(t){return!!(t&&t.useExisting)}function gP(t){return!!(t&&t.useFactory)}function ni(t){return typeof t=="function"}function Ow(t){return!!t.useClass}var pp=new q(""),Mu={},Iw={},Bf;function ua(){return Bf===void 0&&(Bf=new ia),Bf}var ct=class{},ri=class extends ct{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Wf(e,s=>this.processProvider(s)),this.records.set(up,mo(void 0,this)),i.has("environment")&&this.records.set(ct,mo(void 0,this));let o=this.records.get(pp);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(lp,at,{self:!0}))}retrieve(e,n){let r=ti(n)||0;try{return this.get(e,ei,r)}catch(i){if(lo(i))return i;throw i}}destroy(){ta(this),this._destroyed=!0;let e=$(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),$(e)}}onDestroy(e){return ta(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ta(this);let n=sn(this),r=st(void 0),i;try{return e()}finally{sn(n),st(r)}}get(e,n=ei,r){if(ta(this),e.hasOwnProperty(Ew))return e[Ew](this);let i=ti(r),o,s=sn(this),c=st(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=EP(e)&&sa(e);h&&this.injectableDefInScope(h)?l=mo(Gf(e),Mu):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?ua():this.parent;return n=i&8&&n===ei?null:n,u.get(e,n)}catch(u){let l=sP(u);throw l===-200||l===-201?new z(l,null):u}finally{st(c),sn(s)}}resolveInjectorInitializers(){let e=$(null),n=sn(this),r=st(void 0),i;try{let o=this.get(lr,at,{self:!0});for(let s of o)s()}finally{sn(n),st(r),$(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(On(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ue(e);let n=ni(e)?e:Ue(e&&e.provide),r=yP(e);if(!ni(e)&&e.multi===!0){let i=this.records.get(n);i||(i=mo(void 0,Mu,!0),i.factory=()=>zf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=$(null);try{if(n.value===Iw)throw op(On(e));return n.value===Mu&&(n.value=Iw,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&_P(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{$(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ue(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Gf(t){let e=sa(t),n=e!==null?e.factory:cr(t);if(n!==null)return n;if(t instanceof q)throw new z(204,!1);if(t instanceof Function)return mP(t);throw new z(204,!1)}function mP(t){if(t.length>0)throw new z(204,!1);let n=rP(t);return n!==null?()=>n.factory(t):()=>new t}function yP(t){if(kw(t))return mo(void 0,t.useValue);{let e=gp(t);return mo(e,Mu)}}function gp(t,e,n){let r;if(ni(t)){let i=Ue(t);return cr(i)||Gf(i)}else if(kw(t))r=()=>Ue(t.useValue);else if(gP(t))r=()=>t.useFactory(...zf(t.deps||[]));else if(pP(t))r=(i,o)=>Ye(Ue(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Ue(t&&(t.useClass||t.provide));if(vP(t))r=()=>new i(...zf(t.deps));else return cr(i)||Gf(i)}return r}function ta(t){if(t.destroyed)throw new z(205,!1)}function mo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function vP(t){return!!t.deps}function _P(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function EP(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Wf(t,e){for(let n of t)Array.isArray(n)?Wf(n,e):n&&Xf(n)?Wf(n.\u0275providers,e):e(n)}function dr(t,e){let n;t instanceof ri?(ta(t),n=t):n=new qf(t);let r,i=sn(n),o=st(void 0);try{return e()}finally{sn(i),st(o)}}function Fw(){return Cw()!==void 0||vu()!=null}var zt=0,L=1,G=2,xe=3,xt=4,ut=5,ci=6,vo=7,Se=8,It=9,cn=10,Ie=11,_o=12,mp=13,ui=14,lt=15,hr=16,li=17,un=18,la=19,yp=20,kn=21,qu=22,Ln=23,wt=24,di=25,me=26,Lw=1,fr=6,pr=7,da=8,hi=9,$e=10;function ln(t){return Array.isArray(t)&&typeof t[Lw]=="object"}function Gt(t){return Array.isArray(t)&&t[Lw]===!0}function vp(t){return(t.flags&4)!==0}function gr(t){return t.componentOffset>-1}function ha(t){return(t.flags&1)===1}function Wt(t){return!!t.template}function Eo(t){return(t[G]&512)!==0}function dn(t){return(t[G]&256)===256}var Vw="svg",jw="math";function kt(t){for(;Array.isArray(t);)t=t[zt];return t}function zu(t,e){return kt(e[t])}function Kt(t,e){return kt(e[t.index])}function fi(t,e){return t.data[e]}function _p(t,e){return t[e]}function Ep(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Ot(t,e){let n=e[t];return ln(n)?n:n[zt]}function Bw(t){return(t[G]&4)===4}function Gu(t){return(t[G]&128)===128}function Uw(t){return Gt(t[xe])}function Dt(t,e){return e==null?null:t[e]}function Ip(t){t[li]=0}function wp(t){t[G]&1024||(t[G]|=1024,Gu(t)&&mr(t))}function Dp(t,e){for(;t>0;)e=e[ui],t--;return e}function fa(t){return!!(t[G]&9216||t[wt]?.dirty)}function Wu(t){t[cn].changeDetectionScheduler?.notify(8),t[G]&64&&(t[G]|=1024),fa(t)&&mr(t)}function mr(t){t[cn].changeDetectionScheduler?.notify(0);let e=ur(t);for(;e!==null&&!(e[G]&8192||(e[G]|=8192,!Gu(e)));)e=ur(e)}function pa(t,e){if(dn(t))throw new z(911,!1);t[kn]===null&&(t[kn]=[]),t[kn].push(e)}function Ku(t,e){if(t[kn]===null)return;let n=t[kn].indexOf(e);n!==-1&&t[kn].splice(n,1)}function ur(t){let e=t[xe];return Gt(e)?e[xe]:e}function Tp(t){return t[vo]??=[]}function bp(t){return t.cleanup??=[]}function $w(t,e,n,r){let i=Tp(e);i.push(n),t.firstCreatePass&&bp(t).push(r,i.length-1)}var X={lFrame:nD(null),bindingsEnabled:!0,skipHydrationRootTNode:null},ga=function(t){return t[t.Off=0]="Off",t[t.Exhaustive=1]="Exhaustive",t[t.OnlyDirtyViews=2]="OnlyDirtyViews",t}(ga||{}),IP=0,Kf=!1;function Hw(){return X.lFrame.elementDepthCount}function qw(){X.lFrame.elementDepthCount++}function Cp(){X.lFrame.elementDepthCount--}function Ap(){return X.bindingsEnabled}function Sp(){return X.skipHydrationRootTNode!==null}function Np(t){return X.skipHydrationRootTNode===t}function Rp(){X.skipHydrationRootTNode=null}function H(){return X.lFrame.lView}function De(){return X.lFrame.tView}function zw(t){return X.lFrame.contextLView=t,t[Se]}function Gw(t){return X.lFrame.contextLView=null,t}function He(){let t=Mp();for(;t!==null&&t.type===64;)t=t.parent;return t}function Mp(){return X.lFrame.currentTNode}function Ww(){let t=X.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Io(t,e){let n=X.lFrame;n.currentTNode=t,n.isParent=e}function Pp(){return X.lFrame.isParent}function xp(){X.lFrame.isParent=!1}function Kw(){return X.lFrame.contextLView}function kp(t){Jf("Must never be called in production mode"),IP=t}function Op(){return Kf}function wo(t){let e=Kf;return Kf=t,e}function ma(){let t=X.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Qw(){return X.lFrame.bindingIndex}function Yw(t){return X.lFrame.bindingIndex=t}function Do(){return X.lFrame.bindingIndex++}function Qu(t){let e=X.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Zw(){return X.lFrame.inI18n}function Jw(t,e){let n=X.lFrame;n.bindingIndex=n.bindingRootIndex=t,Yu(e)}function Xw(){return X.lFrame.currentDirectiveIndex}function Yu(t){X.lFrame.currentDirectiveIndex=t}function eD(t){let e=X.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Fp(){return X.lFrame.currentQueryIndex}function Zu(t){X.lFrame.currentQueryIndex=t}function wP(t){let e=t[L];return e.type===2?e.declTNode:e.type===1?t[ut]:null}function Lp(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=wP(o),i===null||(o=o[ui],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=X.lFrame=tD();return r.currentTNode=e,r.lView=t,!0}function Ju(t){let e=tD(),n=t[L];X.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function tD(){let t=X.lFrame,e=t===null?null:t.child;return e===null?nD(t):e}function nD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function rD(){let t=X.lFrame;return X.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Vp=rD;function Xu(){let t=rD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function iD(t){return(X.lFrame.contextLView=Dp(t,X.lFrame.contextLView))[Se]}function hn(){return X.lFrame.selectedIndex}function yr(t){X.lFrame.selectedIndex=t}function jp(){let t=X.lFrame;return fi(t.tView,t.selectedIndex)}function oD(){return X.lFrame.currentNamespace}var sD=!0;function el(){return sD}function tl(t){sD=t}function Qf(t,e=null,n=null,r){let i=Bp(t,e,n,r);return i.resolveInjectorInitializers(),i}function Bp(t,e=null,n=null,r,i=new Set){let o=[n||at,Pw(t)];return r=r||(typeof t=="object"?void 0:On(t)),new ri(o,e||ua(),r||null,i)}var ke=class t{static THROW_IF_NOT_FOUND=ei;static NULL=new ia;static create(e,n){if(Array.isArray(e))return Qf({name:""},n,e,"");{let r=e.name??"";return Qf({name:r},e.parent,e.providers,r)}}static \u0275prov=ue({token:t,providedIn:"any",factory:()=>Ye(up)});static __NG_ELEMENT_ID__=-1},To=new q(""),dt=(()=>{class t{static __NG_ELEMENT_ID__=DP;static __NG_ENV_ID__=n=>n}return t})(),oa=class extends dt{_lView;constructor(e){super(),this._lView=e}get destroyed(){return dn(this._lView)}onDestroy(e){let n=this._lView;return pa(n,e),()=>Ku(n,e)}};function DP(){return new oa(H())}var an=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Ft=new q("",{providedIn:"root",factory:()=>{let t=O(ct),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(an),e.handleError(n))}}}),aD={provide:lr,useValue:()=>void O(an),multi:!0},TP=new q("",{providedIn:"root",factory:()=>{let t=O(To).defaultView;if(!t)return;let e=O(Ft),n=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),O(dt).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function bP(){return qt([Mw(()=>void O(TP))])}function Qt(t,e){let[n,r,i]=Vf(t,e?.equal),o=n,s=o[ot];return o.set=r,o.update=i,o.asReadonly=Up.bind(o),o}function Up(){let t=this[ot];if(t.readonlyFn===void 0){let e=()=>this();e[ot]=t,t.readonlyFn=e}return t.readonlyFn}var Mt=class{},ya=new q("",{providedIn:"root",factory:()=>!1});var $p=new q(""),nl=new q("");var bo=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=CP}return t})();function CP(){return new bo(H(),He())}var vr=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Qs(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Q(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=ue({token:t,providedIn:"root",factory:()=>new t})}return t})(),_r=(()=>{class t{internalPendingTasks=O(vr);scheduler=O(Mt);errorHandler=O(Ft);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=ue({token:t,providedIn:"root",factory:()=>new t})}return t})();function pi(...t){}var va=(()=>{class t{static \u0275prov=ue({token:t,providedIn:"root",factory:()=>new Yf})}return t})(),Yf=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function Fo(t){return{toString:t}.toString()}var rl="__parameters__";function FP(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function HD(t,e,n){return Fo(()=>{let r=FP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,h){let p=u.hasOwnProperty(rl)?u[rl]:Object.defineProperty(u,rl,{value:[]})[rl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var vt=ap(HD("Optional"),8);var qD=ap(HD("SkipSelf"),4);function LP(t){return typeof t=="function"}var hl=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function zD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var wi=(()=>{let t=()=>GD;return t.ngInherit=!0,t})();function GD(t){return t.type.prototype.ngOnChanges&&(t.setInput=jP),VP}function VP(){let t=KD(this),e=t?.current;if(e){let n=t.previous;if(n===Ht)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function jP(t,e,n,r,i){let o=this.declaredInputs[r],s=KD(t)||BP(t,{previous:Ht,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new hl(l&&l.currentValue,n,u===Ht),zD(t,e,i,n)}var WD="__ngSimpleChanges__";function KD(t){return t[WD]||null}function BP(t,e){return t[WD]=e}var cD=[];var le=function(t,e=null,n){for(let r=0;r<cD.length;r++){let i=cD[r];i(t,e,n)}};function UP(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=GD(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function QD(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function sl(t,e,n){YD(t,e,3,n)}function al(t,e,n,r){(t[G]&3)===n&&YD(t,e,n,r)}function Hp(t,e){let n=t[G];(n&3)===e&&(n&=16383,n+=1,t[G]=n)}function YD(t,e,n,r){let i=r!==void 0?t[li]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[li]+=65536),(c<o||o==-1)&&($P(t,n,e,u),t[li]=(t[li]&4294901760)+u+2),u++}function uD(t,e){le(4,t,e);let n=$(null);try{e.call(t)}finally{$(n),le(5,t,e)}}function $P(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[G]>>14<t[li]>>16&&(t[G]&3)===e&&(t[G]+=16384,uD(c,o)):uD(c,o)}var No=-1,mi=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function HP(t){return(t.flags&8)!==0}function qP(t){return(t.flags&16)!==0}function zP(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];GP(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function ZD(t){return t===3||t===4||t===6}function GP(t){return t.charCodeAt(0)===64}function Mo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?lD(t,n,i,null,e[++r]):lD(t,n,i,null,null))}}return t}function lD(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function JD(t){return t!==No}function fl(t){return t&32767}function WP(t){return t>>16}function pl(t,e){let n=WP(t),r=e;for(;n>0;)r=r[ui],n--;return r}var ng=!0;function gl(t){let e=ng;return ng=t,e}var KP=256,XD=KP-1,eT=5,QP=0,fn={};function YP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(si)&&(r=n[si]),r==null&&(r=n[si]=QP++);let i=r&XD,o=1<<i;e.data[t+(i>>eT)]|=o}function ml(t,e){let n=tT(t,e);if(n!==-1)return n;let r=e[L];r.firstCreatePass&&(t.injectorIndex=e.length,qp(r.data,t),qp(e,null),qp(r.blueprint,null));let i=xg(t,e),o=t.injectorIndex;if(JD(i)){let s=fl(i),c=pl(i,e),u=c[L].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function qp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function tT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function xg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=sT(i),r===null)return No;if(n++,i=i[ui],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return No}function rg(t,e,n){YP(t,e,n)}function ZP(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(ZD(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function nT(t,e,n){if(n&8||t!==void 0)return t;ju(e,"NodeInjector")}function rT(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[It],o=st(void 0);try{return i?i.get(e,r,n&8):sp(e,r,n&8)}finally{st(o)}}return nT(r,e,n)}function iT(t,e,n,r=0,i){if(t!==null){if(e[G]&2048&&!(r&2)){let s=tx(t,e,n,r,fn);if(s!==fn)return s}let o=oT(t,e,n,r,fn);if(o!==fn)return o}return rT(e,n,r,i)}function oT(t,e,n,r,i){let o=XP(n);if(typeof o=="function"){if(!Lp(e,t,r))return r&1?nT(i,n,r):rT(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))ju(n);else return s}finally{Vp()}}else if(typeof o=="number"){let s=null,c=tT(t,e),u=No,l=r&1?e[lt][ut]:null;for((c===-1||r&4)&&(u=c===-1?xg(t,e):e[c+8],u===No||!hD(r,!1)?c=-1:(s=e[L],c=fl(u),e=pl(u,e)));c!==-1;){let h=e[L];if(dD(o,c,h.data)){let p=JP(c,e,n,s,r,l);if(p!==fn)return p}u=e[c+8],u!==No&&hD(r,e[L].data[c+8]===l)&&dD(o,c,e)?(s=h,c=fl(u),e=pl(u,e)):c=-1}}return i}function JP(t,e,n,r,i,o){let s=e[L],c=s.data[t+8],u=r==null?gr(c)&&ng:r!=s&&(c.type&3)!==0,l=i&1&&o===c,h=cl(c,s,n,u,l);return h!==null?Ia(e,s,h,c,i):fn}function cl(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?c:c+h,g=i?c+h:l;for(let y=p;y<g;y++){let I=s[y];if(y<u&&n===I||y>=u&&I.type===n)return y}if(i){let y=s[u];if(y&&Wt(y)&&y.type===n)return u}return null}function Ia(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof mi){let c=o;if(c.resolving){let y=xu(s[n]);throw op(y)}let u=gl(c.canSeeViewProviders);c.resolving=!0;let l=s[n].type||s[n],h,p=c.injectImpl?st(c.injectImpl):null,g=Lp(t,r,0);try{o=t[n]=c.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&UP(n,s[n],e)}finally{p!==null&&st(p),gl(u),c.resolving=!1,Vp()}}return o}function XP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(si)?t[si]:void 0;return typeof e=="number"?e>=0?e&XD:ex:e}function dD(t,e,n){let r=1<<t;return!!(n[e+(t>>eT)]&r)}function hD(t,e){return!(t&2)&&!(t&1&&e)}var gi=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return iT(this._tNode,this._lView,e,ti(r),n)}};function ex(){return new gi(He(),H())}function Lo(t){return Fo(()=>{let e=t.prototype.constructor,n=e[ra]||ig(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[ra]||ig(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ig(t){return Zf(t)?()=>{let e=ig(Ue(t));return e&&e()}:cr(t)}function tx(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[G]&2048&&!Eo(s);){let c=oT(o,s,n,r|2,fn);if(c!==fn)return c;let u=o.parent;if(!u){let l=s[yp];if(l){let h=l.get(n,fn,r);if(h!==fn)return h}u=sT(s),s=s[ui]}o=u}return i}function sT(t){let e=t[L],n=e.type;return n===2?e.declTNode:n===1?t[ut]:null}function kg(t){return ZP(He(),t)}function nx(){return Vo(He(),H())}function Vo(t,e){return new Jt(Kt(t,e))}var Jt=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=nx}return t})();function rx(t){return t instanceof Jt?t.nativeElement:t}function ix(){return this._results[Symbol.iterator]()}var yl=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Rt}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=Sw(e);(this._changesDetected=!Aw(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=ix};function aT(t){return(t.flags&128)===128}var Og=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Og||{}),cT=new Map,ox=0;function sx(){return ox++}function ax(t){cT.set(t[la],t)}function og(t){cT.delete(t[la])}var fD="__ngContext__";function Po(t,e){ln(e)?(t[fD]=e[la],ax(e)):t[fD]=e}function uT(t){return dT(t[_o])}function lT(t){return dT(t[xt])}function dT(t){for(;t!==null&&!Gt(t);)t=t[xt];return t}var sg;function cx(t){sg=t}function hT(){if(sg!==void 0)return sg;if(typeof document<"u")return document;throw new z(210,!1)}var ux=new q("",{providedIn:"root",factory:()=>lx}),lx="ng",fT=new q(""),Fg=new q("",{providedIn:"platform",factory:()=>"unknown"});var dx=new q("",{providedIn:"root",factory:()=>hT().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var hx="h",fx="b";var pT="r";var Lg="di",Vg="s";var gT=!1,mT=new q("",{providedIn:"root",factory:()=>gT});var yT=new q("");var Ao=new WeakMap;var Co=null,zp=0,ag=class{callbacks=new Set;listener=()=>{for(let e of this.callbacks)e()}};function px(){return new IntersectionObserver(t=>{for(let e of t)e.isIntersecting&&Ao.has(e.target)&&Ao.get(e.target).listener()})}function gx(t,e,n){let r=Ao.get(t);return Co=Co||n(),r||(r=new ag,Co.observe(t),Ao.set(t,r),zp++),r.callbacks.add(e),()=>{Ao.has(t)&&(r.callbacks.delete(e),r.callbacks.size===0&&(Co?.unobserve(t),Ao.delete(t),zp--),zp===0&&(Co?.disconnect(),Co=null))}}var mx=(t,e,n,r)=>{};function yx(t,e,n,r){mx(t,e,n,r)}var vT=new q("");function xl(t){return(t.flags&32)===32}var vx=()=>null;function _T(t,e,n=!1){return vx(t,e,n)}function ET(t){return t.get(yT,!1,{optional:!0})}function IT(t,e){let n=t.contentQueries;if(n!==null){let r=$(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];Zu(o),c.contentQueries(2,e[s],s)}}}finally{$(r)}}}function cg(t,e,n){Zu(0);let r=$(null);try{e(t,n)}finally{$(r)}}function wT(t,e,n){if(vp(e)){let r=$(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{$(r)}}}var xo=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(xo||{});var il;function _x(){if(il===void 0&&(il=null,Fu.trustedTypes))try{il=Fu.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return il}function pD(t){return _x()?.createScriptURL(t)||t}var vl=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ou})`}};function Na(t){return t instanceof vl?t.changingThisBreaksApplicationSecurity:t}function jg(t,e){let n=DT(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Ou})`)}return n===e}function DT(t){return t instanceof vl&&t.getTypeName()||null}var Ex=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function TT(t){return t=String(t),t.match(Ex)?t:"unsafe:"+t}var kl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(kl||{});function bT(t){let e=AT();return e?e.sanitize(kl.URL,t)||"":jg(t,"URL")?Na(t):TT(ai(t))}function CT(t){let e=AT();if(e)return pD(e.sanitize(kl.RESOURCE_URL,t)||"");if(jg(t,"ResourceURL"))return pD(Na(t));throw new z(904,!1)}function Ix(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?CT:bT}function wx(t,e,n){return Ix(e,n)(t)}function AT(){let t=H();return t&&t[cn].sanitizer}function ST(t){return t instanceof Function?t():t}function Dx(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var NT="ng-template";function Tx(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Dx(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Bg(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Bg(t){return t.type===4&&t.value!==NT}function bx(t,e,n){let r=t.type===4&&!n?NT:t.value;return e===r}function Cx(t,e,n){let r=4,i=t.attrs,o=i!==null?Nx(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!Yt(r)&&!Yt(u))return!1;if(s&&Yt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!bx(t,u,n)||u===""&&e.length===1){if(Yt(r))return!1;s=!0}}else if(r&8){if(i===null||!Tx(t,i,u,n)){if(Yt(r))return!1;s=!0}}else{let l=e[++c],h=Ax(u,i,Bg(t),n);if(h===-1){if(Yt(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Yt(r))return!1;s=!0}}}}return Yt(r)||s}function Yt(t){return(t&1)===0}function Ax(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Rx(e,t)}function RT(t,e,n=!1){for(let r=0;r<e.length;r++)if(Cx(t,e[r],n))return!0;return!1}function Sx(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function Nx(t){for(let e=0;e<t.length;e++){let n=t[e];if(ZD(n))return e}return t.length}function Rx(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Mx(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function gD(t,e){return t?":not("+e.trim()+")":e}function Px(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Yt(s)&&(e+=gD(o,i),i=""),r=s,o=o||!Yt(r);n++}return i!==""&&(e+=gD(o,i)),e}function xx(t){return t.map(Px).join(",")}function kx(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Yt(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var ft={};function Ox(t,e){return t.createText(e)}function Fx(t,e,n){t.setValue(e,n)}function MT(t,e,n){return t.createElement(e,n)}function _l(t,e,n,r,i){t.insertBefore(e,n,r,i)}function PT(t,e,n){t.appendChild(e,n)}function mD(t,e,n,r,i){r!==null?_l(t,e,n,r,i):PT(t,e,n)}function xT(t,e,n){t.removeChild(null,e,n)}function Lx(t,e,n){t.setAttribute(e,"style",n)}function Vx(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function kT(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&zP(t,e,r),i!==null&&Vx(t,e,i),o!==null&&Lx(t,e,o)}function Ug(t,e,n,r,i,o,s,c,u,l,h){let p=me+r,g=p+i,y=jx(p,g),I=typeof l=="function"?l():l;return y[L]={type:t,blueprint:y,template:n,queries:null,viewQuery:c,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:I,incompleteFirstPass:!1,ssrId:h}}function jx(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ft);return n}function Bx(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Ug(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function $g(t,e,n,r,i,o,s,c,u,l,h){let p=e.blueprint.slice();return p[zt]=i,p[G]=r|4|128|8|64|1024,(l!==null||t&&t[G]&2048)&&(p[G]|=2048),Ip(p),p[xe]=p[ui]=t,p[Se]=n,p[cn]=s||t&&t[cn],p[Ie]=c||t&&t[Ie],p[It]=u||t&&t[It]||null,p[ut]=o,p[la]=sx(),p[ci]=h,p[yp]=l,p[lt]=e.type==2?t[lt]:p,p}function Ux(t,e,n){let r=Kt(e,t),i=Bx(n),o=t[cn].rendererFactory,s=Hg(t,$g(t,i,null,OT(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function OT(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function FT(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Hg(t,e){return t[_o]?t[mp][xt]=e:t[_o]=e,t[mp]=e,e}function $x(t=1){LT(De(),H(),hn()+t,!1)}function LT(t,e,n,r){if(!r)if((e[G]&3)===3){let o=t.preOrderCheckHooks;o!==null&&sl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&al(e,o,0,n)}yr(n)}var Ol=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ol||{});function ug(t,e,n,r){let i=$(null);try{let[o,s,c]=t.inputs[n],u=null;(s&Ol.SignalBased)!==0&&(u=e[o][ot]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):zD(e,u,o,r)}finally{$(i)}}var wa=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(wa||{}),Hx;function qg(t,e){return Hx(t,e)}function So(t,e,n,r,i){if(r!=null){let o,s=!1;Gt(r)?o=r:ln(r)&&(s=!0,r=r[zt]);let c=kt(r);t===0&&n!==null?i==null?PT(e,n,c):_l(e,n,c,i||null,!0):t===1&&n!==null?_l(e,n,c,i||null,!0):t===2?xT(e,c,s):t===3&&e.destroyNode(c),o!=null&&Xx(e,t,o,n,i)}}function qx(t,e){VT(t,e),e[zt]=null,e[ut]=null}function zx(t,e,n,r,i,o){r[zt]=i,r[ut]=e,Ll(t,r,n,1,i,o)}function VT(t,e){e[cn].changeDetectionScheduler?.notify(9),Ll(t,e,e[Ie],2,null,null)}function Gx(t){let e=t[_o];if(!e)return Gp(t[L],t);for(;e;){let n=null;if(ln(e))n=e[_o];else{let r=e[$e];r&&(n=r)}if(!n){for(;e&&!e[xt]&&e!==t;)ln(e)&&Gp(e[L],e),e=e[xe];e===null&&(e=t),ln(e)&&Gp(e[L],e),n=e&&e[xt]}e=n}}function zg(t,e){let n=t[hi],r=n.indexOf(e);n.splice(r,1)}function Fl(t,e){if(dn(e))return;let n=e[Ie];n.destroyNode&&Ll(t,e,n,3,null,null),Gx(e)}function Gp(t,e){if(dn(e))return;let n=$(null);try{e[G]&=-129,e[G]|=256,e[wt]&&po(e[wt]),Kx(t,e),Wx(t,e),e[L].type===1&&e[Ie].destroy();let r=e[hr];if(r!==null&&Gt(e[xe])){r!==e[xe]&&zg(r,e);let i=e[un];i!==null&&i.detachView(t)}og(e)}finally{$(n)}}function Wx(t,e){let n=t.cleanup,r=e[vo];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let c=n[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[n[s+1]];n[s].call(c)}r!==null&&(e[vo]=null);let i=e[kn];if(i!==null){e[kn]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[Ln];if(o!==null){e[Ln]=null;for(let s of o)s.destroy()}}function Kx(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof mi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];le(4,c,u);try{u.call(c)}finally{le(5,c,u)}}else{le(4,i,o);try{o.call(i)}finally{le(5,i,o)}}}}}function jT(t,e,n){return Qx(t,e.parent,n)}function Qx(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[zt];if(gr(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===xo.None||i===xo.Emulated)return null}return Kt(r,n)}function BT(t,e,n){return Zx(t,e,n)}function Yx(t,e,n){return t.type&40?Kt(t,n):null}var Zx=Yx,yD;function Gg(t,e,n,r){let i=jT(t,r,e),o=e[Ie],s=r.parent||e[ut],c=BT(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)mD(o,i,n[u],c,!1);else mD(o,i,n,c,!1);yD!==void 0&&yD(o,r,e,n,i)}function _a(t,e){if(e!==null){let n=e.type;if(n&3)return Kt(e,t);if(n&4)return lg(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return _a(t,r);{let i=t[e.index];return Gt(i)?lg(-1,i):kt(i)}}else{if(n&128)return _a(t,e.next);if(n&32)return qg(e,t)()||kt(t[e.index]);{let r=UT(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ur(t[lt]);return _a(i,r)}else return _a(t,e.next)}}}return null}function UT(t,e){if(e!==null){let r=t[lt][ut],i=e.projection;return r.projection[i]}return null}function lg(t,e){let n=$e+t+1;if(n<e.length){let r=e[n],i=r[L].firstChild;if(i!==null)return _a(r,i)}return e[pr]}function Wg(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&e===0&&(c&&Po(kt(c),r),n.flags|=2),!xl(n))if(u&8)Wg(t,e,n.child,r,i,o,!1),So(e,t,i,c,o);else if(u&32){let l=qg(n,r),h;for(;h=l();)So(e,t,i,h,o);So(e,t,i,c,o)}else u&16?$T(t,e,r,n,i,o):So(e,t,i,c,o);n=s?n.projectionNext:n.next}}function Ll(t,e,n,r,i,o){Wg(n,r,t.firstChild,e,i,o,!1)}function Jx(t,e,n){let r=e[Ie],i=jT(t,n,e),o=n.parent||e[ut],s=BT(o,n,e);$T(r,0,e,n,i,s)}function $T(t,e,n,r,i,o){let s=n[lt],u=s[ut].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];So(e,t,i,h,o)}else{let l=u,h=s[xe];aT(r)&&(l.flags|=128),Wg(t,e,l,h,i,o,!0)}}function Xx(t,e,n,r,i){let o=n[pr],s=kt(n);o!==s&&So(e,t,r,o,i);for(let c=$e;c<n.length;c++){let u=n[c];Ll(u[L],u,t,e,r,o)}}function ek(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:wa.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=wa.Important),t.setStyle(n,r,i,o))}}function HT(t,e,n,r,i){let o=hn(),s=r&2;try{yr(-1),s&&e.length>me&&LT(t,e,me,!1),le(s?2:0,i,n),n(r,i)}finally{yr(o),le(s?3:1,i,n)}}function Kg(t,e,n){ck(t,e,n),(n.flags&64)===64&&uk(t,e,n)}function Vl(t,e,n=Kt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function tk(t,e,n,r){let o=r.get(mT,gT)||n===xo.ShadowDom,s=t.selectRootElement(e,o);return nk(s),s}function nk(t){rk(t)}var rk=()=>null;function ik(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function ok(t,e,n,r,i,o){let s=e[L];if(Yg(t,s,e,n,r)){gr(t)&&ak(e,t.index);return}t.type&3&&(n=ik(n)),sk(t,e,n,r,i,o)}function sk(t,e,n,r,i,o){if(t.type&3){let s=Kt(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function ak(t,e){let n=Ot(e,t);n[G]&16||(n[G]|=64)}function ck(t,e,n){let r=n.directiveStart,i=n.directiveEnd;gr(n)&&Ux(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||ml(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let c=t.data[s],u=Ia(e,t,s,n);if(Po(u,e),o!==null&&fk(e,s-r,u,c,n,o),Wt(c)){let l=Ot(n.index,e);l[Se]=Ia(e,t,s,n)}}}function uk(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Xw();try{yr(o);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];Yu(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&lk(u,l)}}finally{yr(-1),Yu(s)}}function lk(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function qT(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];RT(e,o.selectors,!1)&&(r??=[],Wt(o)?r.unshift(o):r.push(o))}return r}function dk(t,e,n,r,i,o){let s=Kt(t,e);hk(e[Ie],s,o,t.value,n,r,i)}function hk(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let c=s==null?ai(o):s(o,r||"",i);t.setAttribute(e,i,c,n)}}function fk(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1];ug(r,n,u,l)}}function zT(t,e,n,r,i){let o=me+n,s=e[L],c=i(s,e,t,r,n);e[o]=c,Io(t,!0);let u=t.type===2;return u?(kT(e[Ie],c,t),(Hw()===0||ha(t))&&Po(c,e),qw()):Po(c,e),el()&&(!u||!xl(t))&&Gg(s,e,c,t),t}function GT(t){let e=t;return Pp()?xp():(e=e.parent,Io(e,!1)),e}function Qg(t,e){let n=t[It];if(!n)return;n.get(Ft,null)?.(e)}function Yg(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];ug(p,n[l],h,i),c=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];ug(h,l,r,i),c=!0}return c}function pk(t,e){let n=Ot(e,t),r=n[L];gk(r,n);let i=n[zt];i!==null&&n[ci]===null&&(n[ci]=_T(i,n[It])),le(18),Zg(r,n,n[Se]),le(19,n[Se])}function gk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Zg(t,e,n){Ju(e);try{let r=t.viewQuery;r!==null&&cg(1,r,n);let i=t.template;i!==null&&HT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[un]?.finishViewCreation(t),t.staticContentQueries&&IT(t,e),t.staticViewQueries&&cg(2,t.viewQuery,n);let o=t.components;o!==null&&mk(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[G]&=-5,Xu()}}function mk(t,e){for(let n=0;n<e.length;n++)pk(t,e[n])}function jo(t,e,n,r){let i=$(null);try{let o=e.tView,c=t[G]&4096?4096:16,u=$g(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[hr]=l;let h=t[un];return h!==null&&(u[un]=h.createEmbeddedView(o)),Zg(o,u,n),u}finally{$(i)}}function yi(t,e){return!e||e.firstChild===null||aT(t)}var vD=!1,yk=new q("");function Da(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(kt(o)),Gt(o)&&WT(o,r);let s=n.type;if(s&8)Da(t,e,n.child,r);else if(s&32){let c=qg(n,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=UT(e,n);if(Array.isArray(c))r.push(...c);else{let u=ur(e[lt]);Da(u[L],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function WT(t,e){for(let n=$e;n<t.length;n++){let r=t[n],i=r[L].firstChild;i!==null&&Da(r[L],r,i,e)}t[pr]!==t[zt]&&e.push(t[pr])}function KT(t){if(t[di]!==null){for(let e of t[di])e.impl.addSequence(e);t[di].length=0}}var QT=[];function vk(t){return t[wt]??_k(t)}function _k(t){let e=QT.pop()??Object.create(Ik);return e.lView=t,e}function Ek(t){t.lView[wt]!==t&&(t.lView=null,QT.push(t))}var Ik=ce(se({},sr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{mr(t.lView)},consumerOnSignalRead(){this.lView[wt]=this}});function wk(t){let e=t[wt]??Object.create(Dk);return e.lView=t,e}var Dk=ce(se({},sr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=ur(t.lView);for(;e&&!YT(e[L]);)e=ur(e);e&&wp(e)},consumerOnSignalRead(){this.lView[wt]=this}});function YT(t){return t.type!==2}function ZT(t){if(t[Ln]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Ln])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[G]&8192)}}var Tk=100;function Jg(t,e=0){let r=t[cn].rendererFactory,i=!1;i||r.begin?.();try{bk(t,e)}finally{i||r.end?.()}}function bk(t,e){let n=Op();try{wo(!0),dg(t,e);let r=0;for(;fa(t);){if(r===Tk)throw new z(103,!1);r++,dg(t,1)}}finally{wo(n)}}function JT(t,e){kp(e?ga.Exhaustive:ga.OnlyDirtyViews);try{Jg(t)}finally{kp(ga.Off)}}function Ck(t,e,n,r){if(dn(e))return;let i=e[G],o=!1,s=!1;Ju(e);let c=!0,u=null,l=null;o||(YT(t)?(l=vk(e),u=ar(l)):Tu()===null?(c=!1,l=wk(e),u=ar(l)):e[wt]&&(po(e[wt]),e[wt]=null));try{Ip(e),Yw(t.bindingStartIndex),n!==null&&HT(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&sl(e,y,null)}else{let y=t.preOrderHooks;y!==null&&al(e,y,0,null),Hp(e,0)}if(s||Ak(e),ZT(e),XT(e,0),t.contentQueries!==null&&IT(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&sl(e,y)}else{let y=t.contentHooks;y!==null&&al(e,y,1),Hp(e,1)}Nk(t,e);let p=t.components;p!==null&&tb(e,p,0);let g=t.viewQuery;if(g!==null&&cg(2,g,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&sl(e,y)}else{let y=t.viewHooks;y!==null&&al(e,y,2),Hp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[qu]){for(let y of e[qu])y();e[qu]=null}o||(KT(e),e[G]&=-73)}catch(h){throw o||mr(e),h}finally{l!==null&&(Xr(l,u),c&&Ek(l)),Xu()}}function XT(t,e){for(let n=uT(t);n!==null;n=lT(n))for(let r=$e;r<n.length;r++){let i=n[r];eb(i,e)}}function Ak(t){for(let e=uT(t);e!==null;e=lT(e)){if(!(e[G]&2))continue;let n=e[hi];for(let r=0;r<n.length;r++){let i=n[r];wp(i)}}}function Sk(t,e,n){le(18);let r=Ot(e,t);eb(r,n),le(19,r[Se])}function eb(t,e){Gu(t)&&dg(t,e)}function dg(t,e){let r=t[L],i=t[G],o=t[wt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&fo(o)),s||=!1,o&&(o.dirty=!1),t[G]&=-9217,s)Ck(r,t,r.template,t[Se]);else if(i&8192){let c=$(null);try{ZT(t),XT(t,1);let u=r.components;u!==null&&tb(t,u,1),KT(t)}finally{$(c)}}}function tb(t,e,n){for(let r=0;r<e.length;r++)Sk(t,e[r],n)}function Nk(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)yr(~i);else{let o=i,s=n[++r],c=n[++r];Jw(s,o);let u=e[o];le(24,u),c(2,u),le(25,u)}}}finally{yr(-1)}}function jl(t,e){let n=Op()?64:1088;for(t[cn].changeDetectionScheduler?.notify(e);t;){t[G]|=n;let r=ur(t);if(Eo(t)&&!r)return t;t=r}return null}function nb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function rb(t,e){let n=$e+e;if(n<t.length)return t[n]}function Bo(t,e,n,r=!0){let i=e[L];if(Rk(i,e,t,n),r){let s=lg(n,t),c=e[Ie],u=c.parentNode(t[pr]);u!==null&&zx(i,t[ut],c,e,u,s)}let o=e[ci];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Xg(t,e){let n=Ta(t,e);return n!==void 0&&Fl(n[L],n),n}function Ta(t,e){if(t.length<=$e)return;let n=$e+e,r=t[n];if(r){let i=r[hr];i!==null&&i!==t&&zg(i,r),e>0&&(t[n-1][xt]=r[xt]);let o=aa(t,$e+e);qx(r[L],r);let s=o[un];s!==null&&s.detachView(o[L]),r[xe]=null,r[xt]=null,r[G]&=-129}return r}function Rk(t,e,n,r){let i=$e+r,o=n.length;r>0&&(n[i-1][xt]=e),r<o-$e?(e[xt]=n[i],cp(n,$e+r,e)):(n.push(e),e[xt]=null),e[xe]=n;let s=e[hr];s!==null&&n!==s&&ib(s,e);let c=e[un];c!==null&&c.insertView(t),Wu(e),e[G]|=128}function ib(t,e){let n=t[hi],r=e[xe];if(ln(r))t[G]|=2;else{let i=r[xe][lt];e[lt]!==i&&(t[G]|=2)}n===null?t[hi]=[e]:n.push(e)}var Ir=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[L];return Da(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[Se]}set context(e){this._lView[Se]=e}get destroyed(){return dn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[xe];if(Gt(e)){let n=e[da],r=n?n.indexOf(this):-1;r>-1&&(Ta(e,r),aa(n,r))}this._attachedToViewContainer=!1}Fl(this._lView[L],this._lView)}onDestroy(e){pa(this._lView,e)}markForCheck(){jl(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[G]&=-129}reattach(){Wu(this._lView),this._lView[G]|=128}detectChanges(){this._lView[G]|=1024,Jg(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[It].get(yk,vD)}catch{this.exhaustive=vD}}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Eo(this._lView),n=this._lView[hr];n!==null&&!e&&zg(n,this._lView),VT(this._lView[L],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e;let n=Eo(this._lView),r=this._lView[hr];r!==null&&!n&&ib(r,this._lView),Wu(this._lView)}};var vi=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Mk;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=jo(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Ir(o)}}return t})();function Mk(){return em(He(),H())}function em(t,e){return t.type&4?new vi(e,t,Vo(t,e)):null}function Uo(t,e,n,r,i){let o=t.data[e];if(o===null)o=Pk(t,e,n,r,i),Zw()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=Ww();o.injectorIndex=s===null?-1:s.injectorIndex}return Io(o,!0),o}function Pk(t,e,n,r,i){let o=Mp(),s=Pp(),c=s?o:o&&o.parent,u=t.data[e]=kk(t,c,n,e,r,i);return xk(t,u,o,s),u}function xk(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function kk(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return Sp()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var sW=new RegExp(`^(\\d+)*(${fx}|${hx})*(.*)`);function Ok(t){let e=t[fr]??[],r=t[xe][Ie],i=[];for(let o of e)o.data[Lg]!==void 0?i.push(o):Fk(o,r);t[fr]=i}function Fk(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[pT];for(;n<i;){let o=r.nextSibling;xT(e,r,!1),r=o,n++}}}var Lk=()=>null,Vk=()=>null;function El(t,e){return Lk(t,e)}function ob(t,e,n){return Vk(t,e,n)}var sb=class{},Bl=class{},hg=class{resolveComponentFactory(e){throw new z(917,!1)}},Ra=class{static NULL=new hg},ba=class{},Di=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>jk()}return t})();function jk(){let t=H(),e=He(),n=Ot(e.index,t);return(ln(n)?n:t)[Ie]}var ab=(()=>{class t{static \u0275prov=ue({token:t,providedIn:"root",factory:()=>null})}return t})();var ul={},Ro=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,ul,r);return i!==ul||n===ul?i:this.parentInjector.get(e,n,r)}};function Il(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=Lu(i,c);else if(o==2){let u=c,l=e[++s];r=Lu(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function ne(t,e=0){let n=H();if(n===null)return Ye(t,e);let r=He();return iT(r,n,Ue(t),e)}function cb(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let c=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[c,u,l]=h.resolveHostDirectives(s);break}$k(t,e,n,c,o,u,l)}o!==null&&r!==null&&Bk(n,r,o)}function Bk(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new z(-301,!1);r.push(e[i],o)}}function Uk(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function $k(t,e,n,r,i,o,s){let c=r.length,u=!1;for(let g=0;g<c;g++){let y=r[g];!u&&Wt(y)&&(u=!0,Uk(t,n,g)),rg(ml(n,e),t,y.type)}Kk(n,t.data.length,c);for(let g=0;g<c;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=FT(t,e,c,null);c>0&&(n.directiveToIndex=new Map);for(let g=0;g<c;g++){let y=r[g];if(n.mergedAttrs=Mo(n.mergedAttrs,y.hostAttrs),qk(t,n,e,p,y),Wk(p,y,i),s!==null&&s.has(y)){let[A,N]=s.get(y);n.directiveToIndex.set(y.type,[p,A+n.directiveStart,N+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let I=y.type.prototype;!l&&(I.ngOnChanges||I.ngOnInit||I.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(I.ngOnChanges||I.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}Hk(t,n,o)}function Hk(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))_D(0,e,i,r),_D(1,e,i,r),ID(e,r,!1);else{let o=n.get(i);ED(0,e,o,r),ED(1,e,o,r),ID(e,r,!0)}}}function _D(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),ub(e,o)}}function ED(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;t===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),ub(e,s)}}function ub(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function ID(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Bg(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[c+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[c+1]);break}}c+=2}t.initialInputs??=[],t.initialInputs.push(s)}function qk(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=cr(i.type,!0)),s=new mi(o,Wt(i),ne,null);t.blueprint[r]=s,n[r]=s,zk(t,e,r,FT(t,n,i.hostVars,ft),i)}function zk(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;Gk(s)!=c&&s.push(c),s.push(n,r,o)}}function Gk(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Wk(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Wt(e)&&(n[""]=t)}}function Kk(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function lb(t,e,n,r,i,o,s,c){let u=e[L],l=u.consts,h=Dt(l,s),p=Uo(u,t,n,r,h);return o&&cb(u,e,p,Dt(l,c),i),p.mergedAttrs=Mo(p.mergedAttrs,p.attrs),p.attrs!==null&&Il(p,p.attrs,!1),p.mergedAttrs!==null&&Il(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function db(t,e){QD(t,e),vp(e)&&t.queries.elementEnd(e)}function Qk(t,e,n,r,i,o){let s=e.consts,c=Dt(s,i),u=Uo(e,t,n,r,c);if(u.mergedAttrs=Mo(u.mergedAttrs,u.attrs),o!=null){let l=Dt(s,o);u.localNames=[];for(let h=0;h<l.length;h+=2)u.localNames.push(l[h],-1)}return u.attrs!==null&&Il(u,u.attrs,!1),u.mergedAttrs!==null&&Il(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function tm(t){return fb(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function hb(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function fb(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function nm(t,e,n){return t[e]=n}function Yk(t,e){return t[e]}function pn(t,e,n){if(n===ft)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function pb(t,e,n,r){let i=pn(t,e,n);return pn(t,e+1,r)||i}function ll(t,e,n){return function r(i){let o=gr(t)?Ot(t.index,e):e;jl(o,5);let s=e[Se],c=wD(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)c=wD(e,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function wD(t,e,n,r){let i=$(null);try{return le(6,e,n),n(r)!==!1}catch(o){return Qg(t,o),!1}finally{le(7,e,n),$(i)}}function gb(t,e,n,r,i,o,s,c){let u=ha(t),l=!1,h=null;if(!r&&u&&(h=Zk(e,n,o,t.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=Kt(t,n),g=r?r(p):p;yx(n,g,o,c);let y=i.listen(g,o,c),I=r?A=>r(kt(A[t.index])):t.index;mb(I,e,n,o,c,y,!1)}return l}function Zk(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=e[vo],u=i[o+2];return c&&c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function mb(t,e,n,r,i,o,s){let c=e.firstCreatePass?bp(e):null,u=Tp(n),l=u.length;u.push(i,o),c&&c.push(r,t,l,(l+1)*(s?-1:1))}function DD(t,e,n,r,i,o){let s=e[n],c=e[L],l=c.data[n].outputs[r],p=s[l].subscribe(o);mb(t.index,c,e,i,o,p,!0)}var fg=Symbol("BINDING");var wl=class extends Ra{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Fn(e);return new ko(n,this.ngModule)}};function Jk(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Ol.SignalBased)!==0};return i&&(o.transform=i),o})}function Xk(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function eO(t,e,n){let r=e instanceof ct?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Ro(n,r):n}function tO(t){let e=t.get(ba,null);if(e===null)throw new z(407,!1);let n=t.get(ab,null),r=t.get(Mt,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function nO(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return MT(e,n,n==="svg"?Vw:n==="math"?jw:null)}var ko=class extends Bl{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Jk(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Xk(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=xx(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){le(22);let c=$(null);try{let u=this.componentDef,l=rO(r,u,s,o),h=eO(u,i||this.ngModule,e),p=tO(h),g=p.rendererFactory.createRenderer(null,u),y=r?tk(g,r,u.encapsulation,h):nO(u,g),I=s?.some(TD)||o?.some(P=>typeof P!="function"&&P.bindings.some(TD)),A=$g(null,l,null,512|OT(u),null,null,p,g,h,null,_T(y,h,!0));A[me]=y,Ju(A);let N=null;try{let P=lb(me,A,2,"#host",()=>l.directiveRegistry,!0,0);y&&(kT(g,y,P),Po(y,A)),Kg(l,A,P),wT(l,P,A),db(l,P),n!==void 0&&oO(P,this.ngContentSelectors,n),N=Ot(P.index,A),A[Se]=N[Se],Zg(l,A,null)}catch(P){throw N!==null&&og(N),og(A),P}finally{le(23),Xu()}return new Dl(this.componentType,A,!!I)}finally{$(c)}}};function rO(t,e,n,r){let i=t?["ng-version","20.1.2"]:kx(e.selectors[0]),o=null,s=null,c=0;if(n)for(let h of n)c+=h[fg].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let g of p.bindings){c+=g[fg].requiredVars;let y=h+1;g.create&&(g.targetIdx=y,(o??=[]).push(g)),g.update&&(g.targetIdx=y,(s??=[]).push(g))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,g=ca(p);u.push(g)}return Ug(0,null,iO(o,s),1,c,u,null,null,null,[i],null)}function iO(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function TD(t){let e=t[fg].kind;return e==="input"||e==="twoWay"}var Dl=class extends sb{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=fi(n[L],me),this.location=Vo(this._tNode,n),this.instance=Ot(this._tNode.index,n)[Se],this.hostView=this.changeDetectorRef=new Ir(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Yg(r,i[L],i,e,n);this.previousInputValues.set(e,n);let s=Ot(r.index,i);jl(s,1)}get injector(){return new gi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function oO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var $o=(()=>{class t{static __NG_ELEMENT_ID__=sO}return t})();function sO(){let t=He();return vb(t,H())}var aO=$o,yb=class extends aO{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Vo(this._hostTNode,this._hostLView)}get injector(){return new gi(this._hostTNode,this._hostLView)}get parentInjector(){let e=xg(this._hostTNode,this._hostLView);if(JD(e)){let n=pl(e,this._hostLView),r=fl(e),i=n[L].data[r+8];return new gi(i,n)}else return new gi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=bD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-$e}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=El(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,yi(this._hostTNode,s)),c}createComponent(e,n,r,i,o,s,c){let u=e&&!LP(e),l;if(u)l=n;else{let N=n||{};l=N.index,r=N.injector,i=N.projectableNodes,o=N.environmentInjector||N.ngModuleRef,s=N.directives,c=N.bindings}let h=u?e:new ko(Fn(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let P=(u?p:this.parentInjector).get(ct,null);P&&(o=P)}let g=Fn(h.componentType??{}),y=El(this._lContainer,g?.id??null),I=y?.firstChild??null,A=h.create(p,i,I,o,s,c);return this.insertImpl(A.hostView,l,yi(this._hostTNode,y)),A}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Uw(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[xe],l=new yb(u,u[ut],u[xe]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Bo(s,i,o,r),e.attachToViewContainerRef(),cp(Wp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=bD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Ta(this._lContainer,n);r&&(aa(Wp(this._lContainer),n),Fl(r[L],r))}detach(e){let n=this._adjustIndex(e,-1),r=Ta(this._lContainer,n);return r&&aa(Wp(this._lContainer),n)!=null?new Ir(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function bD(t){return t[da]}function Wp(t){return t[da]||(t[da]=[])}function vb(t,e){let n,r=e[t.index];return Gt(r)?n=r:(n=nb(r,e,null,t),e[t.index]=n,Hg(e,n)),uO(n,e,t,r),new yb(n,t,e)}function cO(t,e){let n=t[Ie],r=n.createComment(""),i=Kt(e,t),o=n.parentNode(i);return _l(n,o,r,n.nextSibling(i),!1),r}var uO=dO,lO=()=>!1;function _b(t,e,n){return lO(t,e,n)}function dO(t,e,n,r){if(t[pr])return;let i;n.type&8?i=kt(r):i=cO(e,n),t[pr]=i}var pg=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},gg=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),c=this.queries[s.indexInDeclarationView];i.push(c.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)rm(e,n).matches!==null&&this.queries[n].setDirty()}},Tl=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=_O(e):this.predicate=e}},mg=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},yg=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,hO(n,o)),this.matchTNodeWithReadOption(e,n,cl(n,e,o,!1,!1))}else r===vi?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,cl(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Jt||i===$o||i===vi&&n.type&4)this.addMatch(n.index,-2);else{let o=cl(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function hO(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function fO(t,e){return t.type&11?Vo(t,e):t.type&4?em(t,e):null}function pO(t,e,n,r){return n===-1?fO(e,t):n===-2?gO(t,e,r):Ia(t,t[L],n,e)}function gO(t,e,n){if(n===Jt)return Vo(e,t);if(n===vi)return em(e,t);if(n===$o)return vb(e,t)}function Eb(t,e,n,r){let i=e[un].queries[r];if(i.matches===null){let o=t.data,s=n.matches,c=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)c.push(null);else{let h=o[l];c.push(pO(e,h,s[u+1],n.metadata.read))}}i.matches=c}return i.matches}function vg(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=Eb(t,e,i,n);for(let c=0;c<o.length;c+=2){let u=o[c];if(u>0)r.push(s[c/2]);else{let l=o[c+1],h=e[-u];for(let p=$e;p<h.length;p++){let g=h[p];g[hr]===g[xe]&&vg(g[L],g,l,r)}if(h[hi]!==null){let p=h[hi];for(let g=0;g<p.length;g++){let y=p[g];vg(y[L],y,l,r)}}}}}return r}function mO(t,e){return t[un].queries[e].queryList}function Ib(t,e,n){let r=new yl((n&4)===4);return $w(t,e,r,r.destroy),(e[un]??=new gg).queries.push(new pg(r))-1}function yO(t,e,n){let r=De();return r.firstCreatePass&&(wb(r,new Tl(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),Ib(r,H(),e)}function vO(t,e,n,r){let i=De();if(i.firstCreatePass){let o=He();wb(i,new Tl(e,n,r),o.index),EO(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return Ib(i,H(),n)}function _O(t){return t.split(",").map(e=>e.trim())}function wb(t,e,n){t.queries===null&&(t.queries=new mg),t.queries.track(new yg(e,n))}function EO(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function rm(t,e){return t.queries.getByIndex(e)}function IO(t,e){let n=t[L],r=rm(n,e);return r.crossesNgTemplate?vg(n,t,e,[]):Eb(n,t,r,e)}var CD=new Set;function gn(t){CD.has(t)||(CD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var _i=class{},Db=class{};var bl=class extends _i{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new wl(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=dp(e);this._bootstrapComponents=ST(o.bootstrap),this._r3Injector=Bp(e,n,[{provide:_i,useValue:this},{provide:Ra,useValue:this.componentFactoryResolver},...r],On(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Cl=class extends Db{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new bl(this.moduleType,e,[])}};var Ca=class extends _i{injector;componentFactoryResolver=new wl(this);instance=null;constructor(e){super();let n=new ri([...e.providers,{provide:_i,useValue:this},{provide:Ra,useValue:this.componentFactoryResolver}],e.parent||ua(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function im(t,e,n=null){return new Ca({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var wO=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Hu(!1,n.type),i=r.length>0?im([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ue({token:t,providedIn:"environment",factory:()=>new t(Ye(ct))})}return t})();function DO(t){return Fo(()=>{let e=Tb(t),n=ce(se({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Og.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(wO).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||xo.Emulated,styles:t.styles||at,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&gn("NgStandalone"),bb(n);let r=t.dependencies;return n.directiveDefs=AD(r,TO),n.pipeDefs=AD(r,hp),n.id=AO(n),n})}function TO(t){return Fn(t)||ca(t)}function Ho(t){return Fo(()=>({type:t.type,bootstrap:t.bootstrap||at,declarations:t.declarations||at,imports:t.imports||at,exports:t.exports||at,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function bO(t,e){if(t==null)return Ht;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=Ol.None,u=null),n[o]=[r,c,u],e[o]=s}return n}function CO(t){if(t==null)return Ht;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function qe(t){return Fo(()=>{let e=Tb(t);return bb(e),e})}function Ul(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Tb(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Ht,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||at,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:bO(t.inputs,e),outputs:CO(t.outputs),debugInfo:null}}function bb(t){t.features?.forEach(e=>e(t))}function AD(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function AO(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function SO(t){return Object.getPrototypeOf(t.prototype).constructor}function Tt(t){let e=SO(t.type),n=!0,r=[t];for(;e;){let i;if(Wt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Kp(t.inputs),s.declaredInputs=Kp(t.declaredInputs),s.outputs=Kp(t.outputs);let c=i.hostBindings;c&&xO(t,c);let u=i.viewQuery,l=i.contentQueries;if(u&&MO(t,u),l&&PO(t,l),NO(t,i),ww(t.outputs,i.outputs),Wt(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(t),c===Tt&&(n=!1)}}e=Object.getPrototypeOf(e)}RO(r)}function NO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function RO(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Mo(i.hostAttrs,n=Mo(n,i.hostAttrs))}}function Kp(t){return t===Ht?{}:t===at?[]:t}function MO(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function PO(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function xO(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function kO(t){let e=n=>{let r=Array.isArray(t);n.hostDirectives===null?(n.resolveHostDirectives=OO,n.hostDirectives=r?t.map(_g):[t]):r?n.hostDirectives.unshift(...t.map(_g)):n.hostDirectives.unshift(t)};return e.ngInherit=!0,e}function OO(t){let e=[],n=!1,r=null,i=null;for(let o=0;o<t.length;o++){let s=t[o];if(s.hostDirectives!==null){let c=e.length;r??=new Map,i??=new Map,Cb(s,e,r),i.set(s,[c,e.length-1])}o===0&&Wt(s)&&(n=!0,e.push(s))}for(let o=n?1:0;o<t.length;o++)e.push(t[o]);return[e,r,i]}function Cb(t,e,n){if(t.hostDirectives!==null)for(let r of t.hostDirectives)if(typeof r=="function"){let i=r();for(let o of i)SD(_g(o),e,n)}else SD(r,e,n)}function SD(t,e,n){let r=ca(t.directive);FO(r.declaredInputs,t.inputs),Cb(r,e,n),n.set(r,t),e.push(r)}function _g(t){return typeof t=="function"?{directive:Ue(t),inputs:Ht,outputs:Ht}:{directive:Ue(t.directive),inputs:ND(t.inputs),outputs:ND(t.outputs)}}function ND(t){if(t===void 0||t.length===0)return Ht;let e={};for(let n=0;n<t.length;n+=2)e[t[n]]=t[n+1];return e}function FO(t,e){for(let n in e)if(e.hasOwnProperty(n)){let r=e[n],i=t[n];t[r]=i}}function Ab(t,e,n,r,i,o,s,c){if(n.firstCreatePass){t.mergedAttrs=Mo(t.mergedAttrs,t.attrs);let h=t.tView=Ug(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),h.queries=n.queries.embeddedTView(t))}c&&(t.flags|=c),Io(t,!1);let u=VO(n,e,t,r);el()&&Gg(n,e,u,t),Po(u,e);let l=nb(u,e,u,t);e[r+me]=l,Hg(e,l),_b(l,t,e)}function LO(t,e,n,r,i,o,s,c,u,l,h){let p=n+me,g;return e.firstCreatePass?(g=Uo(e,p,4,s||null,c||null),Ap()&&cb(e,t,g,Dt(e.consts,l),qT),QD(e,g)):g=e.data[p],Ab(g,t,e,n,r,i,o,u),ha(g)&&Kg(e,t,g),l!=null&&Vl(t,g,h),g}function Ei(t,e,n,r,i,o,s,c,u,l,h){let p=n+me,g;if(e.firstCreatePass){if(g=Uo(e,p,4,s||null,c||null),l!=null){let y=Dt(e.consts,l);g.localNames=[];for(let I=0;I<y.length;I+=2)g.localNames.push(y[I],-1)}}else g=e.data[p];return Ab(g,t,e,n,r,i,o,u),l!=null&&Vl(t,g,h),g}function Sb(t,e,n,r,i,o,s,c){let u=H(),l=De(),h=Dt(l.consts,o);return LO(u,l,t,e,n,r,i,h,void 0,s,c),Sb}function Nb(t,e,n,r,i,o,s,c){let u=H(),l=De(),h=Dt(l.consts,o);return Ei(u,l,t,e,n,r,i,h,void 0,s,c),Nb}var VO=jO;function jO(t,e,n,r){return tl(!0),e[Ie].createComment("")}var yt=function(t){return t[t.NOT_STARTED=0]="NOT_STARTED",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.COMPLETE=2]="COMPLETE",t[t.FAILED=3]="FAILED",t}(yt||{}),RD=0,BO=1,Ne=function(t){return t[t.Placeholder=0]="Placeholder",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete",t[t.Error=3]="Error",t}(Ne||{}),om=function(t){return t[t.Initial=-1]="Initial",t}(om||{}),UO=0,Ma=1;var $O=4,HO=5,qO=6,zO=7,Qp=8,GO=9,sm=function(t){return t[t.Manual=0]="Manual",t[t.Playthrough=1]="Playthrough",t}(sm||{});function Rb(t,e,n){let r=Pb(t);e[r]===null&&(e[r]=[]),e[r].push(n)}function dl(t,e){let n=Pb(t),r=e[n];if(r!==null){for(let i of r)i();e[n]=null}}function Mb(t){dl(1,t),dl(0,t),dl(2,t)}function Pb(t){let e=$O;return t===1?e=HO:t===2&&(e=GO),e}var $l=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}($l||{}),Pa=new q(""),xb=!1,Eg=class extends Rt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Fw()&&(this.destroyRef=O(dt,{optional:!0})??void 0,this.pendingTasks=O(vr,{optional:!0})??void 0)}emit(e){let n=$(null);try{super.next(e)}finally{$(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Pe&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ht=Eg;function kb(t){let e,n;function r(){t=pi;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function MD(t){return queueMicrotask(()=>t()),()=>{t=pi}}var am="isAngularZone",Al=am+"_ID",WO=0,ye=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ht(!1);onMicrotaskEmpty=new ht(!1);onStable=new ht(!1);onError=new ht(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=xb}=e;if(typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,YO(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(am)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new z(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,KO,pi,pi);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},KO={};function cm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function QO(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){kb(()=>{t.callbackScheduled=!1,Ig(t),t.isCheckStableRunning=!0,cm(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Ig(t)}function YO(t){let e=()=>{QO(t)},n=WO++;t._inner=t._inner.fork({name:"angular",properties:{[am]:!0,[Al]:n,[Al+n]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(ZO(u))return r.invokeTask(o,s,c,u);try{return PD(t),r.invokeTask(o,s,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),xD(t)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return PD(t),r.invoke(o,s,c,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!JO(u)&&e(),xD(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Ig(t),cm(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Ig(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function PD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function xD(t){t._nesting--,cm(t)}var Aa=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ht;onMicrotaskEmpty=new ht;onStable=new ht;onError=new ht;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function ZO(t){return Ob(t,"__ignore_ng_zone__")}function JO(t){return Ob(t,"__scheduler_tick__")}function Ob(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var um=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=ue({token:t,providedIn:"root",factory:()=>new t})}return t})(),Fb=[0,1,2,3],Lb=(()=>{class t{ngZone=O(ye);scheduler=O(Mt);errorHandler=O(an,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){O(Pa,{optional:!0})}execute(){let n=this.sequences.size>0;n&&le(16),this.executing=!0;for(let r of Fb)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&le(17)}register(n){let{view:r}=n;r!==void 0?((r[di]??=[]).push(n),mr(r),r[G]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run($l.AFTER_NEXT_RENDER,n):n()}static \u0275prov=ue({token:t,providedIn:"root",factory:()=>new t})}return t})(),Sl=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[di];e&&(this.view[di]=e.filter(n=>n!==this))}};function Vb(t,e){let n=e?.injector??O(ke);return gn("NgAfterRender"),jb(t,n,e,!1)}function lm(t,e){let n=e?.injector??O(ke);return gn("NgAfterNextRender"),jb(t,n,e,!0)}function XO(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function jb(t,e,n,r){let i=e.get(um);i.impl??=e.get(Lb);let o=e.get(Pa,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(dt):null,c=e.get(bo,null,{optional:!0}),u=new Sl(i.impl,XO(t),c?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}function Hl(t){return t+1}function qo(t,e){let n=t[L],r=Hl(e.index);return t[r]}function e1(t,e,n){let r=t[L],i=Hl(e);t[i]=n}function zo(t,e){let n=Hl(e.index);return t.data[n]}function t1(t,e,n){let r=Hl(e);t.data[r]=n}function n1(t,e,n){let r=e[L],i=zo(r,n);switch(t){case Ne.Complete:return i.primaryTmplIndex;case Ne.Loading:return i.loadingTmplIndex;case Ne.Error:return i.errorTmplIndex;case Ne.Placeholder:return i.placeholderTmplIndex;default:return null}}function kD(t,e){return e===Ne.Placeholder?t.placeholderBlockConfig?.[RD]??null:e===Ne.Loading?t.loadingBlockConfig?.[RD]??null:null}function r1(t){return t.loadingBlockConfig?.[BO]??null}function OD(t,e){if(!t||t.length===0)return e;let n=new Set(t);for(let r of e)n.add(r);return t.length===n.size?t:Array.from(n)}function i1(t,e){let n=e.primaryTmplIndex+me;return fi(t,n)}function o1(t,e,n){let r=n.get(ye);return gx(t,()=>r.run(e),()=>r.runOutsideAngular(()=>px()))}function s1(t,e,n){return n==null?t:n>=0?Dp(n,t):t[e.index][$e]??null}function a1(t,e){return zu(me+e,t)}function c1(t,e,n,r,i,o,s){let c=t[It],u=c.get(ye),l;function h(){if(dn(t)){l.destroy();return}let p=qo(t,e),g=p[Ma];if(g!==om.Initial&&g!==Ne.Placeholder){l.destroy();return}let y=s1(t,e,r);if(!y||(l.destroy(),dn(y)))return;let I=a1(y,n),A=i(I,()=>{u.run(()=>{t!==y&&Ku(y,A),o()})},c);t!==y&&pa(y,A),Rb(s,p,A)}l=Vb({read:h},{injector:c})}var u1=(()=>{class t{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){let s=i.length>0?im(i,r,o):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ue({token:t,providedIn:"environment",factory:()=>new t})}return t})();var Bb=new q("");function Yp(t,e,n){return t.get(u1).getOrCreateInjector(e,t,n,"")}function l1(t,e,n){if(t instanceof Ro){let i=t.injector,o=t.parentInjector,s=Yp(o,e,n);return new Ro(i,s)}let r=t.get(ct);if(r!==t){let i=Yp(r,e,n);return new Ro(t,i)}return Yp(t,e,n)}function Er(t,e,n,r=!1){let i=n[xe],o=i[L];if(dn(i))return;let s=qo(i,e),c=s[Ma],u=s[zO];if(!(u!==null&&t<u)&&FD(c,t)&&FD(s[UO]??-1,t)){let l=zo(o,e),p=!r&&!0&&(r1(l)!==null||kD(l,Ne.Loading)!==null||kD(l,Ne.Placeholder))?p1:h1;try{p(t,s,n,e,i)}catch(g){Qg(i,g)}}}function d1(t,e){let n=t[fr]?.findIndex(i=>i.data[Vg]===e[Ma])??-1;return{dehydratedView:n>-1?t[fr][n]:null,dehydratedViewIx:n}}function h1(t,e,n,r,i){le(20);let o=n1(t,i,r);if(o!==null){e[Ma]=t;let s=i[L],c=o+me,u=fi(s,c),l=0;Xg(n,l);let h;if(t===Ne.Complete){let I=zo(s,r),A=I.providers;A&&A.length>0&&(h=l1(i[It],I,A))}let{dehydratedView:p,dehydratedViewIx:g}=d1(n,e),y=jo(i,u,null,{injector:h,dehydratedView:p});if(Bo(n,y,l,yi(u,p)),jl(y,2),g>-1&&n[fr]?.splice(g,1),(t===Ne.Complete||t===Ne.Error)&&Array.isArray(e[Qp])){for(let I of e[Qp])I();e[Qp]=null}}le(21)}function FD(t,e){return t<e}function f1(t,e){let n=t[e.index];Er(Ne.Placeholder,e,n)}function LD(t,e,n){t.loadingPromise.then(()=>{t.loadingState===yt.COMPLETE?Er(Ne.Complete,e,n):t.loadingState===yt.FAILED&&Er(Ne.Error,e,n)})}var p1=null;var g1=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Ub=new q("");function Ti(t){return!!t&&typeof t.then=="function"}function ql(t){return!!t&&typeof t.subscribe=="function"}var $b=new q("");var dm=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=O($b,{optional:!0})??[];injector=O(ke);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=dr(this.injector,i);if(Ti(o))n.push(o);else if(ql(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Hb=new q("");function qb(){Lf(()=>{let t="";throw new z(600,t)})}function zb(t){return t.isBoundToModule}var m1=10;var bi=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=O(Ft);afterRenderManager=O(um);zonelessEnabled=O(ya);rootEffectScheduler=O(va);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Rt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=O(vr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(gt(n=>!n))}constructor(){O(Pa,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=O(ct);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=ke.NULL){return this._injector.get(ye).run(()=>{le(10);let s=n instanceof Bl;if(!this._injector.get(dm).done){let I="";throw new z(405,I)}let u;s?u=n:u=this._injector.get(Ra).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let l=zb(u)?void 0:this._injector.get(_i),h=r||u.selector,p=u.create(i,[],h,l),g=p.location.nativeElement,y=p.injector.get(Ub,null);return y?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),Ea(this.components,p),y?.unregisterApplication(g)}),this._loadComponent(p),le(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){le(12),this.tracingSnapshot!==null?this.tracingSnapshot.run($l.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new z(101,!1);let n=$(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,$(n),this.afterTick.next(),le(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ba,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<m1;)le(14),this.synchronizeOnce(),le(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!fa(i))continue;let o=r&&!this.zonelessEnabled?0:1;Jg(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>fa(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ea(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Hb,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ea(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new z(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ea(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Gb(t,e,n){let r=e[It],i=e[L];if(t.loadingState!==yt.NOT_STARTED)return t.loadingPromise??Promise.resolve();let o=qo(e,n),s=i1(i,t);t.loadingState=yt.IN_PROGRESS,dl(1,o);let c=t.dependencyResolverFn,u=r.get(_r).add();return c?(t.loadingPromise=Promise.allSettled(c()).then(l=>{let h=!1,p=[],g=[];for(let y of l)if(y.status==="fulfilled"){let I=y.value,A=Fn(I)||ca(I);if(A)p.push(A);else{let N=hp(I);N&&g.push(N)}}else{h=!0;break}if(h){if(t.loadingState=yt.FAILED,t.errorTmplIndex===null){let y="",I=new z(-750,!1);Qg(e,I)}}else{t.loadingState=yt.COMPLETE;let y=s.tView;if(p.length>0){y.directiveRegistry=OD(y.directiveRegistry,p);let I=p.map(N=>N.type),A=Hu(!1,...I);t.providers=A}g.length>0&&(y.pipeRegistry=OD(y.pipeRegistry,g))}}),t.loadingPromise.finally(()=>{t.loadingPromise=null,u()})):(t.loadingPromise=Promise.resolve().then(()=>{t.loadingPromise=null,t.loadingState=yt.COMPLETE,u()}),t.loadingPromise)}function y1(t,e){return e[It].get(Bb,null,{optional:!0})?.behavior!==sm.Manual}function v1(t,e,n){let r=e[L],i=e[n.index];if(!y1(t,e))return;let o=qo(e,n),s=zo(r,n);switch(Mb(o),s.loadingState){case yt.NOT_STARTED:Er(Ne.Loading,n,i),Gb(s,e,n),s.loadingState===yt.IN_PROGRESS&&LD(s,n,i);break;case yt.IN_PROGRESS:Er(Ne.Loading,n,i),LD(s,n,i);break;case yt.COMPLETE:Er(Ne.Complete,n,i);break;case yt.FAILED:Er(Ne.Error,n,i);break;default:}}function _1(t,e,n){return t===0?VD(e,n):t===2?!VD(e,n):!0}function E1(t){return t!=null&&(t&1)===1}function VD(t,e){let n=t[It],r=zo(t[L],e),i=ET(n),o=E1(r.flags),c=qo(t,e)[qO]!==null;return!(o&&c&&i)}function I1(t,e,n,r,i,o,s,c,u,l){let h=H(),p=De(),g=t+me,y=Ei(h,p,t,null,0,0),I=h[It];if(p.firstCreatePass){gn("NgDefer");let Ae={primaryTmplIndex:e,loadingTmplIndex:r??null,placeholderTmplIndex:i??null,errorTmplIndex:o??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:n??null,loadingState:yt.NOT_STARTED,loadingPromise:null,providers:null,hydrateTriggers:null,debug:null,flags:l??0};u?.(p,Ae,c,s),t1(p,g,Ae)}let A=h[g];_b(A,y,h);let N=null,P=null;if(A[fr]?.length>0){let Ae=A[fr][0].data;P=Ae[Lg]??null,N=Ae[Vg]}let j=[null,om.Initial,null,null,null,null,P,N,null,null];e1(h,g,j);let K=null;P!==null&&(K=I.get(vT),K.add(P,{lView:h,tNode:y,lContainer:A}));let de=()=>{Mb(j),P!==null&&K?.cleanup([P])};Rb(0,j,()=>Ku(h,de)),pa(h,de)}function w1(t,e){let n=H(),r=He();_1(0,n,r)&&(f1(n,r),c1(n,r,t,e,o1,()=>v1(0,n,r),0))}function zl(t,e,n,r){let i=H(),o=Do();if(pn(i,o,e)){let s=De(),c=jp();dk(c,i,t,e,n,r)}return zl}var wg=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function Zp(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function D1(t,e,n){let r,i,o=0,s=t.length-1,c=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=t.at(o),h=e[o],p=Zp(o,l,o,h,n);if(p!==0){p<0&&t.updateValue(o,h),o++;continue}let g=t.at(s),y=e[u],I=Zp(s,g,u,y,n);if(I!==0){I<0&&t.updateValue(s,y),s--,u--;continue}let A=n(o,l),N=n(s,g),P=n(o,h);if(Object.is(P,N)){let j=n(u,y);Object.is(j,A)?(t.swap(o,s),t.updateValue(s,y),u--,s--):t.move(s,o),t.updateValue(o,h),o++;continue}if(r??=new Nl,i??=BD(t,o,s,n),Dg(t,r,o,P))t.updateValue(o,h),o++,s++;else if(i.has(P))r.set(A,t.detach(o)),s--;else{let j=t.create(o,e[o]);t.attach(o,j),o++,s++}}for(;o<=u;)jD(t,r,n,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let h=t.at(o),p=l.value,g=Zp(o,h,o,p,n);if(g!==0)g<0&&t.updateValue(o,p),o++,l=u.next();else{r??=new Nl,i??=BD(t,o,s,n);let y=n(o,p);if(Dg(t,r,o,y))t.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(y))t.attach(o,t.create(o,p)),o++,s++,l=u.next();else{let I=n(o,h);r.set(I,t.detach(o)),s--}}}for(;!l.done;)jD(t,r,n,t.length,l.value),l=u.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(u=>{t.destroy(u)})}function Dg(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function jD(t,e,n,r,i){if(Dg(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function BD(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var Nl=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function T1(t,e,n,r,i,o,s,c){gn("NgControlFlow");let u=H(),l=De(),h=Dt(l.consts,o);return Ei(u,l,t,e,n,r,i,h,256,s,c),hm}function hm(t,e,n,r,i,o,s,c){gn("NgControlFlow");let u=H(),l=De(),h=Dt(l.consts,o);return Ei(u,l,t,e,n,r,i,h,512,s,c),hm}function b1(t,e){gn("NgControlFlow");let n=H(),r=Do(),i=n[r]!==ft?n[r]:-1,o=i!==-1?Rl(n,me+i):void 0,s=0;if(pn(n,r,t)){let c=$(null);try{if(o!==void 0&&Xg(o,s),t!==-1){let u=me+t,l=Rl(n,u),h=Ag(n[L],u),p=ob(l,h,n),g=jo(n,h,e,{dehydratedView:p});Bo(l,g,s,yi(h,p))}}finally{$(c)}}else if(o!==void 0){let c=rb(o,s);c!==void 0&&(c[Se]=e)}}var Tg=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-$e}};function C1(t){return t}function A1(t,e){return e}var bg=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function S1(t,e,n,r,i,o,s,c,u,l,h,p,g){gn("NgControlFlow");let y=H(),I=De(),A=u!==void 0,N=H(),P=c?s.bind(N[lt][Se]):s,j=new bg(A,P);N[me+t]=j,Ei(y,I,t+1,e,n,r,i,Dt(I.consts,o),256),A&&Ei(y,I,t+2,u,l,h,p,Dt(I.consts,g),512)}var Cg=class extends wg{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-$e}at(e){return this.getLView(e)[Se].$implicit}attach(e,n){let r=n[ci];this.needsIndexUpdate||=e!==this.length,Bo(this.lContainer,n,e,yi(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,R1(this.lContainer,e)}create(e,n){let r=El(this.lContainer,this.templateTNode.tView.ssrId),i=jo(this.hostLView,this.templateTNode,new Tg(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Fl(e[L],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Se].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Se].$index=e}getLView(e){return M1(this.lContainer,e)}};function N1(t){let e=$(null),n=hn();try{let r=H(),i=r[L],o=r[n],s=n+1,c=Rl(r,s);if(o.liveCollection===void 0){let l=Ag(i,s);o.liveCollection=new Cg(c,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(D1(u,t,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=Do(),h=u.length===0;if(pn(r,l,h)){let p=n+2,g=Rl(r,p);if(h){let y=Ag(i,p),I=ob(g,y,r),A=jo(r,y,void 0,{dehydratedView:I});Bo(g,A,0,yi(y,I))}else i.firstUpdatePass&&Ok(g),Xg(g,0)}}}finally{$(e)}}function Rl(t,e){return t[e]}function R1(t,e){return Ta(t,e)}function M1(t,e){return rb(t,e)}function Ag(t,e){return fi(t,e)}function Wb(t,e,n){let r=H(),i=Do();if(pn(r,i,e)){let o=De(),s=jp();ok(s,r,t,e,r[Ie],n)}return Wb}function Sg(t,e,n,r,i){Yg(e,t,n,i?"class":"style",r)}function fm(t,e,n,r){let i=H(),o=i[L],s=t+me,c=o.firstCreatePass?lb(s,i,2,e,qT,Ap(),n,r):o.data[s];if(zT(c,i,t,e,Yb),ha(c)){let u=i[L];Kg(u,i,c),wT(u,c,i)}return r!=null&&Vl(i,c),fm}function pm(){let t=De(),e=He(),n=GT(e);return t.firstCreatePass&&db(t,n),Np(n)&&Rp(),Cp(),n.classesWithoutHost!=null&&HP(n)&&Sg(t,n,H(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&qP(n)&&Sg(t,n,H(),n.stylesWithoutHost,!1),pm}function Kb(t,e,n,r){return fm(t,e,n,r),pm(),Kb}function gm(t,e,n,r){let i=H(),o=i[L],s=t+me,c=o.firstCreatePass?Qk(s,o,2,e,n,r):o.data[s];return zT(c,i,t,e,Yb),r!=null&&Vl(i,c),gm}function mm(){let t=He(),e=GT(t);return Np(e)&&Rp(),Cp(),mm}function Qb(t,e,n,r){return gm(t,e,n,r),mm(),Qb}var Yb=(t,e,n,r,i)=>(tl(!0),MT(e[Ie],r,oD()));function P1(){return H()}var xa="en-US";var x1=xa;function Zb(t){typeof t=="string"&&(x1=t.toLowerCase().replace(/_/g,"-"))}function Ci(t,e,n){let r=H(),i=De(),o=He();return k1(i,r,r[Ie],o,t,e,n),Ci}function Jb(t,e,n){let r=H(),i=De(),o=He();return(o.type&3||n)&&gb(o,i,r,n,r[Ie],t,e,ll(o,r,e)),Jb}function k1(t,e,n,r,i,o,s){let c=!0,u=null;if((r.type&3||s)&&(u??=ll(r,e,o),gb(r,t,e,s,n,i,o,u)&&(c=!1)),c){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let g=h[p],y=h[p+1];u??=ll(r,e,o),DD(r,e,g,y,i,u)}if(l&&l.length)for(let p of l)u??=ll(r,e,o),DD(r,e,p,i,i,u)}}function O1(t=1){return iD(t)}function F1(t,e){let n=null,r=Sx(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?RT(t,o,!0):Mx(r,o))return i}return n}function L1(t){let e=H()[lt][ut];if(!e.projection){let n=t?t.length:1,r=e.projection=Nw(n,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=t?F1(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function V1(t,e=0,n,r,i,o){let s=H(),c=De(),u=r?t+1:null;u!==null&&Ei(s,c,u,r,i,o,null,n);let l=Uo(c,me+t,16,null,n||null);l.projection===null&&(l.projection=e),xp();let p=!s[ci]||Sp();s[lt][ut].projection[l.projection]===null&&u!==null?j1(s,c,u):p&&!xl(l)&&Jx(c,s,l)}function j1(t,e,n){let r=me+n,i=e.data[r],o=t[r],s=El(o,i.tView.ssrId),c=jo(t,i,void 0,{dehydratedView:s});Bo(o,c,0,yi(i,s))}function B1(t,e,n,r){vO(t,e,n,r)}function U1(t,e,n){yO(t,e,n)}function $1(t){let e=H(),n=De(),r=Fp();Zu(r+1);let i=rm(n,r);if(t.dirty&&Bw(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=IO(e,r);t.reset(o,rx),t.notifyOnChanges()}return!0}return!1}function H1(){return mO(H(),Fp())}function q1(t){let e=Kw();return _p(e,me+t)}function ol(t,e){return t<<17|e<<2}function Ii(t){return t>>17&32767}function z1(t){return(t&2)==2}function G1(t,e){return t&131071|e<<17}function Ng(t){return t|2}function Oo(t){return(t&131068)>>2}function Jp(t,e){return t&-131069|e<<2}function W1(t){return(t&1)===1}function Rg(t){return t|1}function K1(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,c=Ii(s),u=Oo(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||yo(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let g=Ii(t[c+1]);t[r+1]=ol(g,c),g!==0&&(t[g+1]=Jp(t[g+1],r)),t[c+1]=G1(t[c+1],r)}else t[r+1]=ol(c,0),c!==0&&(t[c+1]=Jp(t[c+1],r)),c=r;else t[r+1]=ol(u,0),c===0?c=r:t[u+1]=Jp(t[u+1],r),u=r;l&&(t[r+1]=Ng(t[r+1])),UD(t,h,r,!0),UD(t,h,r,!1),Q1(e,h,t,r,o),s=ol(c,u),o?e.classBindings=s:e.styleBindings=s}function Q1(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&yo(o,e)>=0&&(n[r+1]=Rg(n[r+1]))}function UD(t,e,n,r){let i=t[n+1],o=e===null,s=r?Ii(i):Oo(i),c=!1;for(;s!==0&&(c===!1||o);){let u=t[s],l=t[s+1];Y1(u,e)&&(c=!0,t[s+1]=r?Rg(l):Ng(l)),s=r?Ii(l):Oo(l)}c&&(t[n+1]=r?Ng(i):Rg(i))}function Y1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?yo(t,e)>=0:!1}var Zt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Z1(t){return t.substring(Zt.key,Zt.keyEnd)}function J1(t){return X1(t),Xb(t,eC(t,0,Zt.textEnd))}function Xb(t,e){let n=Zt.textEnd;return n===e?-1:(e=Zt.keyEnd=eF(t,Zt.key=e,n),eC(t,e,n))}function X1(t){Zt.key=0,Zt.keyEnd=0,Zt.value=0,Zt.valueEnd=0,Zt.textEnd=t.length}function eC(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function eF(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function ka(t,e){return rF(t,e,null,!0),ka}function tF(t){iF(lF,nF,t,!0)}function nF(t,e){for(let n=J1(e);n>=0;n=Xb(e,n))Uu(t,Z1(e),!0)}function rF(t,e,n,r){let i=H(),o=De(),s=Qu(2);if(o.firstUpdatePass&&nC(o,t,s,r),e!==ft&&pn(i,s,e)){let c=o.data[hn()];rC(o,c,i,i[Ie],t,i[s+1]=hF(e,n),r,s)}}function iF(t,e,n,r){let i=De(),o=Qu(2);i.firstUpdatePass&&nC(i,null,o,r);let s=H();if(n!==ft&&pn(s,o,n)){let c=i.data[hn()];if(iC(c,r)&&!tC(i,o)){let u=r?c.classesWithoutHost:c.stylesWithoutHost;u!==null&&(n=Lu(u,n||"")),Sg(i,c,s,n,r)}else dF(i,c,s,s[Ie],s[o+1],s[o+1]=uF(t,e,n),r,o)}}function tC(t,e){return e>=t.expandoStartIndex}function nC(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[hn()],s=tC(t,n);iC(o,r)&&e===null&&!s&&(e=!1),e=oF(i,o,e,r),K1(i,o,e,n,s,r)}}function oF(t,e,n,r){let i=eD(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Xp(null,t,e,n,r),n=Sa(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Xp(i,t,e,n,r),o===null){let u=sF(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Xp(null,t,e,u[1],r),u=Sa(u,e.attrs,r),aF(t,e,r,u))}else o=cF(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function sF(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Oo(r)!==0)return t[Ii(r)]}function aF(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ii(i)]=r}function cF(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Sa(r,s,n)}return Sa(r,e.attrs,n)}function Xp(t,e,n,r,i){let o=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(o=e[c],r=Sa(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function Sa(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Uu(t,s,n?!0:e[++o]))}return t===void 0?null:t}function uF(t,e,n){if(n==null||n==="")return at;let r=[],i=Na(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function lF(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Uu(t,r,n)}function dF(t,e,n,r,i,o,s,c){i===ft&&(i=at);let u=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let g=u<i.length?i[u+1]:void 0,y=l<o.length?o[l+1]:void 0,I=null,A;h===p?(u+=2,l+=2,g!==y&&(I=p,A=y)):p===null||h!==null&&h<p?(u+=2,I=h):(l+=2,I=p,A=y),I!==null&&rC(t,e,n,r,I,A,s,c),h=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function rC(t,e,n,r,i,o,s,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],h=W1(l)?$D(u,e,n,i,Oo(l),s):void 0;if(!Ml(h)){Ml(o)||z1(l)&&(o=$D(u,null,n,i,c,s));let p=zu(hn(),n);ek(r,s,p,i,o)}}function $D(t,e,n,r,i,o){let s=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=n[i+1];g===ft&&(g=p?at:void 0);let y=p?$u(g,r):h===r?g:void 0;if(l&&!Ml(y)&&(y=$u(u,r)),Ml(y)&&(c=y,s))return c;let I=t[i+1];i=s?Ii(I):Oo(I)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=$u(u,r))}return c}function Ml(t){return t!==void 0}function hF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=On(Na(t)))),t}function iC(t,e){return(t.flags&(e?8:16))!==0}function fF(t,e=""){let n=H(),r=De(),i=t+me,o=r.firstCreatePass?Uo(r,i,1,e,null):r.data[i],s=pF(r,n,o,e,t);n[i]=s,el()&&Gg(r,n,s,o),Io(o,!1)}var pF=(t,e,n,r,i)=>(tl(!0),Ox(e[Ie],r));function gF(t,e,n,r=""){return pn(t,Do(),n)?e+ai(n)+r:ft}function mF(t,e,n,r,i,o=""){let s=Qw(),c=pb(t,s,n,i);return Qu(2),c?e+ai(n)+r+ai(i)+o:ft}function oC(t){return ym("",t),oC}function ym(t,e,n){let r=H(),i=gF(r,t,e,n);return i!==ft&&aC(r,hn(),i),ym}function sC(t,e,n,r,i){let o=H(),s=mF(o,t,e,n,r,i);return s!==ft&&aC(o,hn(),s),sC}function aC(t,e,n){let r=zu(e,t);Fx(t[Ie],r,n)}function yF(t,e,n){let r=De();if(r.firstCreatePass){let i=Wt(t);Mg(n,r.data,r.blueprint,i,!0),Mg(e,r.data,r.blueprint,i,!1)}}function Mg(t,e,n,r,i){if(t=Ue(t),Array.isArray(t))for(let o=0;o<t.length;o++)Mg(t[o],e,n,r,i);else{let o=De(),s=H(),c=He(),u=ni(t)?t:Ue(t.provide),l=gp(t),h=c.providerIndexes&1048575,p=c.directiveStart,g=c.providerIndexes>>20;if(ni(t)||!t.multi){let y=new mi(l,i,ne,null),I=tg(u,e,i?h:h+g,p);I===-1?(rg(ml(c,s),o,u),eg(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(y),s.push(y)):(n[I]=y,s[I]=y)}else{let y=tg(u,e,h+g,p),I=tg(u,e,h,h+g),A=y>=0&&n[y],N=I>=0&&n[I];if(i&&!N||!i&&!A){rg(ml(c,s),o,u);let P=EF(i?_F:vF,n.length,i,r,l,t);!i&&N&&(n[I].providerFactory=P),eg(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(P),s.push(P)}else{let P=cC(n[i?I:y],l,!i&&r);eg(o,t,y>-1?y:I,P)}!i&&r&&N&&n[I].componentProviders++}}}function eg(t,e,n,r){let i=ni(e),o=Ow(e);if(i||o){let u=(o?Ue(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function cC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function tg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function vF(t,e,n,r,i){return Pg(this.multi,[])}function _F(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let c=this.providerFactory.componentProviders,u=Ia(r,r[L],this.providerFactory.index,i);s=u.slice(0,c),Pg(o,s);for(let l=c;l<u.length;l++)s.push(u[l])}else s=[],Pg(o,s);return s}function Pg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function EF(t,e,n,r,i,o){let s=new mi(t,n,ne,null);return s.multi=[],s.index=e,s.componentProviders=0,cC(s,i,r&&!n),s}function Vn(t,e=[]){return n=>{n.providersResolver=(r,i)=>yF(r,i?i(t):t,e)}}function IF(t,e,n){let r=ma()+t,i=H();return i[r]===ft?nm(i,r,n?e.call(n):e()):Yk(i,r)}function wF(t,e,n,r){return lC(H(),ma(),t,e,n,r)}function DF(t,e,n,r,i){return TF(H(),ma(),t,e,n,r,i)}function uC(t,e){let n=t[e];return n===ft?void 0:n}function lC(t,e,n,r,i,o){let s=e+n;return pn(t,s,i)?nm(t,s+1,o?r.call(o,i):r(i)):uC(t,s+1)}function TF(t,e,n,r,i,o,s){let c=e+n;return pb(t,c,i,o)?nm(t,c+2,s?r.call(s,i,o):r(i,o)):uC(t,c+2)}function bF(t,e){let n=De(),r,i=t+me;n.firstCreatePass?(r=CF(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=cr(r.type,!0)),s,c=st(ne);try{let u=gl(!1),l=o();return gl(u),Ep(n,H(),i,l),l}finally{st(c)}}function CF(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function AF(t,e,n){let r=t+me,i=H(),o=_p(i,r);return SF(i,r)?lC(i,ma(),e,o.transform,n,o):o.transform(n)}function SF(t,e){return t[L].data[e].pure}var Pl=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},NF=(()=>{class t{compileModuleSync(n){return new Cl(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=dp(n),o=ST(i.declarations).reduce((s,c)=>{let u=Fn(c);return u&&s.push(new ko(u)),s},[]);return new Pl(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var RF=(()=>{class t{zone=O(ye);changeDetectionScheduler=O(Mt);applicationRef=O(bi);applicationErrorHandler=O(Ft);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function dC({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ye(ce(se({},hC()),{scheduleInRootZone:n})),[{provide:ye,useFactory:t},{provide:lr,multi:!0,useFactory:()=>{let r=O(RF,{optional:!0});return()=>r.initialize()}},{provide:lr,multi:!0,useFactory:()=>{let r=O(MF);return()=>{r.initialize()}}},e===!0?{provide:$p,useValue:!0}:[],{provide:nl,useValue:n??xb},{provide:Ft,useFactory:()=>{let r=O(ye),i=O(ct),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(an),o.handleError(s))})}}}]}function hC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var MF=(()=>{class t{subscription=new Pe;initialized=!1;zone=O(ye);pendingTasks=O(vr);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var vm=(()=>{class t{applicationErrorHandler=O(Ft);appRef=O(bi);taskService=O(vr);ngZone=O(ye);zonelessEnabled=O(ya);tracing=O(Pa,{optional:!0});disableScheduling=O($p,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Pe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Al):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(nl,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Aa||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?MD:kb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Al+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,MD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function PF(){return gn("NgZoneless"),qt([{provide:Mt,useExisting:vm},{provide:ye,useClass:Aa},{provide:ya,useValue:!0},{provide:nl,useValue:!1},[]])}function xF(){return typeof $localize<"u"&&$localize.locale||xa}var Gl=new q("",{providedIn:"root",factory:()=>O(Gl,{optional:!0,skipSelf:!0})||xF()});var Wl=class{destroyed=!1;listeners=null;errorHandler=O(an,{optional:!0});destroyRef=O(dt);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new z(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed){console.warn(ii(953,!1));return}if(this.listeners===null)return;let n=$(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{$(n)}}};function bt(t){return _w(t)}function wr(t,e){return Nu(t,e?.equal)}var _m=class{[ot];constructor(e){this[ot]=e}destroy(){this[ot].destroy()}};function fC(t,e){let n=e?.injector??O(ke),r=e?.manualCleanup!==!0?n.get(dt):null,i,o=n.get(bo,null,{optional:!0}),s=n.get(Mt);return o!==null?(i=FF(o.view,s,t),r instanceof oa&&r._lView===o.view&&(r=null)):i=LF(t,n.get(va),s),i.injector=n,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new _m(i)}var pC=ce(se({},sr),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:pi,run(){if(this.dirty=!1,this.hasRun&&!fo(this))return;this.hasRun=!0;let t=r=>(this.cleanupFns??=[]).push(r),e=ar(this),n=wo(!1);try{this.maybeCleanup(),this.fn(t)}finally{wo(n),Xr(this,e)}},maybeCleanup(){if(!this.cleanupFns?.length)return;let t=$(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],$(t)}}}),kF=ce(se({},pC),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){po(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),OF=ce(se({},pC),{consumerMarkedDirty(){this.view[G]|=8192,mr(this.view),this.notifier.notify(13)},destroy(){po(this),this.onDestroyFn(),this.maybeCleanup(),this.view[Ln]?.delete(this)}});function FF(t,e,n){let r=Object.create(OF);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=n,t[Ln]??=new Set,t[Ln].add(r),r.consumerMarkedDirty(r),r}function LF(t,e,n){let r=Object.create(kF);return r.fn=t,r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}var _C=Symbol("InputSignalNode#UNSET"),QF=ce(se({},Ru),{transformFn:void 0,applyValueToInputSignal(t,e){go(t,e)}});function EC(t,e){let n=Object.create(QF);n.value=t,n.transformFn=e?.transform;function r(){if(ho(n),n.value===_C){let i=null;throw new z(-950,i)}return n.value}return r[ot]=n,r}var gC=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>kg(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},YF=new q("");YF.__NG_ELEMENT_ID__=t=>{let e=He();if(e===null)throw new z(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new z(204,!1)};function XY(t){return new Wl}function mC(t,e){return EC(t,e)}function ZF(t){return EC(_C,t)}var eZ=(mC.required=ZF,mC);var Go=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},IC=new Go("20.1.2");var Em=new q(""),JF=new q("");function Oa(t){return!t.moduleRef}function XF(t){let e=Oa(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ye);return n.run(()=>{Oa(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Ft),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Oa(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Em);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Em);s.add(o),t.moduleRef.onDestroy(()=>{Ea(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return tL(r,n,()=>{let o=e.get(vr),s=o.add(),c=e.get(dm);return c.runInitializers(),c.donePromise.then(()=>{try{let u=e.get(Gl,xa);if(Zb(u||xa),!e.get(JF,!0))return Oa(t)?e.get(bi):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Oa(t)){let h=e.get(bi);return t.rootComponent!==void 0&&h.bootstrap(t.rootComponent),h}else return eL?.(t.moduleRef,t.allPlatformModules),t.moduleRef}finally{o.remove(s)}})})})}var eL;function tL(t,e,n){try{let r=n();return Ti(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Kl=null;function nL(t=[],e){return ke.create({name:e,providers:[{provide:pp,useValue:"platform"},{provide:Em,useValue:new Set([()=>Kl=null])},...t]})}function rL(t=[]){if(Kl)return Kl;let e=nL(t);return Kl=e,qb(),iL(e),e}function iL(t){let e=t.get(fT,null);dr(t,()=>{e?.forEach(n=>n())})}function bm(){return!1}var Yl=(()=>{class t{static __NG_ELEMENT_ID__=oL}return t})();function oL(t){return sL(He(),H(),(t&16)===16)}function sL(t,e,n){if(gr(t)&&!n){let r=Ot(t.index,e);return new Ir(r,r)}else if(t.type&175){let r=e[lt];return new Ir(r,e)}return null}var Im=class{constructor(){}supports(e){return tm(e)}create(e){return new wm(e)}},aL=(t,e)=>e,wm=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||aL}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<yC(r,i,o)?n:r,c=yC(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=c-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let y=g<o.length?o[g]:o[g]=0,I=y+g;h<=I&&I<l&&(o[g]=y+1)}let p=s.previousIndex;o[p]=h-l}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!tm(e))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,c),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,c)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,hb(e,c=>{s=this._trackByFn(i,c),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,c,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,s,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Dm(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ql),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ql),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Dm=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},Tm=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Ql=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Tm,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function yC(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function vC(){return new Cm([new Im])}var Cm=(()=>{class t{factories;static \u0275prov=ue({token:t,providedIn:"root",factory:vC});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||vC()),deps:[[t,new qD,new vt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new z(901,!1)}}return t})();function tZ(t){le(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=rL(r),o=[dC({}),{provide:Mt,useExisting:vm},aD,...n||[]],s=new Ca({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return XF({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{le(9)}}function wC(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var bC=null;function Ai(){return bC}function cL(t){bC??=t}var Am=class{},Sm=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ue({token:t,factory:()=>O(CC),providedIn:"platform"})}return t})();var CC=(()=>{class t extends Sm{_location;_history;_doc=O(To);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ai().getBaseHref(this._doc)}onPopState(n){let r=Ai().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Ai().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ue({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function AC(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function DC(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Dr(t){return t&&t[0]!=="?"?`?${t}`:t}var Jl=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ue({token:t,factory:()=>O(NC),providedIn:"root"})}return t})(),SC=new q(""),NC=(()=>{class t extends Jl{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(To).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return AC(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Dr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Dr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Dr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Ye(Sm),Ye(SC,8))};static \u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),RC=(()=>{class t{_subject=new Rt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=dL(DC(TC(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Dr(r))}normalize(n){return t.stripTrailingSlash(lL(this._basePath,TC(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Dr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Dr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Dr;static joinWithSlash=AC;static stripTrailingSlash=DC;static \u0275fac=function(r){return new(r||t)(Ye(Jl))};static \u0275prov=ue({token:t,factory:()=>uL(),providedIn:"root"})}return t})();function uL(){return new RC(Ye(Jl))}function lL(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function TC(t){return t.replace(/\/index.html$/,"")}function dL(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Xl=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},PC=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Xl(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),MC(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);MC(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(ne($o),ne(vi),ne(Cm))};static \u0275dir=qe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function MC(t,e){t.context.$implicit=e.item}function xC(t,e){return new z(2100,!1)}var Nm=class{createSubscription(e,n,r){return bt(()=>e.subscribe({next:n,error:r}))}dispose(e){bt(()=>e.unsubscribe())}},Rm=class{createSubscription(e,n,r){return e.then(i=>n?.(i),i=>r?.(i)),{unsubscribe:()=>{n=null,r=null}}}dispose(e){e.unsubscribe()}},hL=new Rm,fL=new Nm,pL=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=O(Ft);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r),r=>this.applicationErrorHandler(r))}_selectStrategy(n){if(Ti(n))return hL;if(ql(n))return fL;throw xC(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(ne(Yl,16))};static \u0275pipe=Ul({name:"async",type:t,pure:!1})}return t})();var gL=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,mL=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw xC(t,n);return n.replace(gL,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||t)};static \u0275pipe=Ul({name:"titlecase",type:t,pure:!0})}return t})();var yL=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ho({type:t});static \u0275inj=oi({})}return t})();function vL(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Mm=class{};var PJ="browser";function zJ(t,e){let r=!e?.manualCleanup?e?.injector?.get(dt)??O(dt):null,i=_L(e?.equal),o;e?.requireSync?o=Qt({kind:0},{equal:i}):o=Qt({kind:1,value:e?.initialValue},{equal:i});let s,c=t.subscribe({next:u=>o.set({kind:1,value:u}),error:u=>{o.set({kind:2,error:u}),s?.()},complete:()=>{s?.()}});if(e?.requireSync&&o().kind===0)throw new z(601,!1);return s=r?.onDestroy(c.unsubscribe.bind(c)),wr(()=>{let u=o();switch(u.kind){case 1:return u.value;case 2:throw u.error;case 0:throw new z(601,!1)}},{equal:e?.equal})}function _L(t=Object.is){return(e,n)=>e.kind===1&&n.kind===1&&t(e.value,n.value)}function kC(t){t===void 0&&(t=O(ke));let e=t.get(_r);return n=>new Q(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var OC=()=>{};var VC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},EL=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},ed={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|c>>4,g=(c&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(n[h],n[p],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):EL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new xm;let g=o<<2|c>>4;if(r.push(g),l!==64){let y=c<<4&240|l>>2;if(r.push(y),p!==64){let I=l<<6&192|p;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},xm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},IL=function(t){let e=VC(t);return ed.encodeByteArray(e,!0)},La=function(t){return IL(t).replace(/\./g,"")},td=function(t){try{return ed.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Om(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var wL=()=>Om().__FIREBASE_DEFAULTS__,DL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},TL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&td(t[1]);return e&&JSON.parse(e)},nd=()=>{try{return OC()||wL()||DL()||TL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Fm=t=>{var e,n;return(n=(e=nd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},jC=t=>{let e=Fm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Lm=()=>{var t;return(t=nd())===null||t===void 0?void 0:t.config},Vm=t=>{var e;return(e=nd())===null||e===void 0?void 0:e[`_${t}`]};var Si=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Tr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rd(t){return(await fetch(t,{credentials:"include"})).ok}function BC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[La(JSON.stringify(n)),La(JSON.stringify(s)),""].join(".")}var Fa={};function bL(){let t={prod:[],emulator:[]};for(let e of Object.keys(Fa))Fa[e]?t.emulator.push(e):t.prod.push(e);return t}function CL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var FC=!1;function id(t,e){if(typeof window>"u"||typeof document>"u"||!Tr(window.location.host)||Fa[t]===e||Fa[t]||FC)return;Fa[t]=e;function n(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=bL().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function c(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{FC=!0,s()},g}function h(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=CL(r),y=n("text"),I=document.getElementById(y)||document.createElement("span"),A=n("learnmore"),N=document.getElementById(A)||document.createElement("a"),P=n("preprendIcon"),j=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let K=g.element;c(K),h(N,A);let de=l();u(j,P),K.append(j,I,N,de),document.body.appendChild(K)}o?(I.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function AL(){var t;let e=(t=nd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $C(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zC(){let t=ze();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function GC(){return!AL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Va(){try{return typeof indexedDB=="object"}catch{return!1}}function WC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var SL="FirebaseError",Ct=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=SL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xt.prototype.create)}},Xt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?NL(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Ct(i,c,r)}};function NL(t,e){return t.replace(RL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var RL=/\{\$([^}]+)}/g;function KC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mn(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(LC(o)&&LC(s)){if(!mn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function LC(t){return t!==null&&typeof t=="object"}function Wo(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function QC(t,e){let n=new km(t,e);return n.subscribe.bind(n)}var km=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ML(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Pm),i.error===void 0&&(i.error=Pm),i.complete===void 0&&(i.complete=Pm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function ML(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Pm(){}var YJ=4*60*60*1e3;function Re(t){return t&&t._delegate?t._delegate:t}var pt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ni="[DEFAULT]";var jm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Si;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xL(e))try{this.getOrInitializeService({instanceIdentifier:Ni})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ni){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ni){return this.instances.has(e)}getOptions(e=Ni){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ni){return this.component?this.component.multipleInstances?e:Ni:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function PL(t){return t===Ni?void 0:t}function xL(t){return t.instantiationMode==="EAGER"}var od=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new jm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var kL=[],re=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(re||{}),OL={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},FL=re.INFO,LL={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},VL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=LL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},yn=class{constructor(e){this.name=e,this._logLevel=FL,this._logHandler=VL,this._userLogHandler=null,kL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}};var jL=(t,e)=>e.some(n=>t instanceof n),YC,ZC;function BL(){return YC||(YC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UL(){return ZC||(ZC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var JC=new WeakMap,Um=new WeakMap,XC=new WeakMap,Bm=new WeakMap,Hm=new WeakMap;function $L(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(vn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&JC.set(n,t)}).catch(()=>{}),Hm.set(e,t),e}function HL(t){if(Um.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Um.set(t,e)}var $m={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Um.get(t);if(e==="objectStoreNames")return t.objectStoreNames||XC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eA(t){$m=t($m)}function qL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(sd(this),e,...n);return XC.set(r,e.sort?e.sort():[e]),vn(r)}:UL().includes(t)?function(...e){return t.apply(sd(this),e),vn(JC.get(this))}:function(...e){return vn(t.apply(sd(this),e))}}function zL(t){return typeof t=="function"?qL(t):(t instanceof IDBTransaction&&HL(t),jL(t,BL())?new Proxy(t,$m):t)}function vn(t){if(t instanceof IDBRequest)return $L(t);if(Bm.has(t))return Bm.get(t);let e=zL(t);return e!==t&&(Bm.set(t,e),Hm.set(e,t)),e}var sd=t=>Hm.get(t);function nA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),c=vn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(vn(s.result),u.oldVersion,u.newVersion,vn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var GL=["get","getKey","getAll","getAllKeys","count"],WL=["put","add","delete","clear"],qm=new Map;function tA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qm.get(e))return qm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=WL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||GL.includes(n)))return;let o=async function(s,...c){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(await Promise.all([l[n](...c),i&&u.done]))[0]};return qm.set(e,o),o}eA(t=>ce(se({},t),{get:(e,n,r)=>tA(e,n)||t.get(e,n,r),has:(e,n)=>!!tA(e,n)||t.has(e,n)}));var Gm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function KL(t){let e=t.getComponent();return e?.type==="VERSION"}var Wm="@firebase/app",rA="0.13.2";var jn=new yn("@firebase/app"),QL="@firebase/app-compat",YL="@firebase/analytics-compat",ZL="@firebase/analytics",JL="@firebase/app-check-compat",XL="@firebase/app-check",eV="@firebase/auth",tV="@firebase/auth-compat",nV="@firebase/database",rV="@firebase/data-connect",iV="@firebase/database-compat",oV="@firebase/functions",sV="@firebase/functions-compat",aV="@firebase/installations",cV="@firebase/installations-compat",uV="@firebase/messaging",lV="@firebase/messaging-compat",dV="@firebase/performance",hV="@firebase/performance-compat",fV="@firebase/remote-config",pV="@firebase/remote-config-compat",gV="@firebase/storage",mV="@firebase/storage-compat",yV="@firebase/firestore",vV="@firebase/ai",_V="@firebase/firestore-compat",EV="firebase",IV="11.10.0";var Km="[DEFAULT]",wV={[Wm]:"fire-core",[QL]:"fire-core-compat",[ZL]:"fire-analytics",[YL]:"fire-analytics-compat",[XL]:"fire-app-check",[JL]:"fire-app-check-compat",[eV]:"fire-auth",[tV]:"fire-auth-compat",[nV]:"fire-rtdb",[rV]:"fire-data-connect",[iV]:"fire-rtdb-compat",[oV]:"fire-fn",[sV]:"fire-fn-compat",[aV]:"fire-iid",[cV]:"fire-iid-compat",[uV]:"fire-fcm",[lV]:"fire-fcm-compat",[dV]:"fire-perf",[hV]:"fire-perf-compat",[fV]:"fire-rc",[pV]:"fire-rc-compat",[gV]:"fire-gcs",[mV]:"fire-gcs-compat",[yV]:"fire-fst",[_V]:"fire-fst-compat",[vV]:"fire-vertex","fire-js":"fire-js",[EV]:"fire-js-all"};var ja=new Map,DV=new Map,Qm=new Map;function iA(t,e){try{t.container.addComponent(e)}catch(n){jn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function en(t){let e=t.name;if(Qm.has(e))return jn.debug(`There were multiple attempts to register component ${e}.`),!1;Qm.set(e,t);for(let n of ja.values())iA(n,t);for(let n of DV.values())iA(n,t);return!0}function Ko(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function At(t){return t==null?!1:t.settings!==void 0}var TV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new Xt("app","Firebase",TV);var Ym=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}};var Cr=IV;function Xm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Km,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw br.create("bad-app-name",{appName:String(i)});if(n||(n=Lm()),!n)throw br.create("no-options");let o=ja.get(i);if(o){if(mn(n,o.options)&&mn(r,o.config))return o;throw br.create("duplicate-app",{appName:i})}let s=new od(i);for(let u of Qm.values())s.addComponent(u);let c=new Ym(n,r,s);return ja.set(i,c),c}function Ri(t=Km){let e=ja.get(t);if(!e&&t===Km&&Lm())return Xm();if(!e)throw br.create("no-app",{appName:t});return e}function ad(){return Array.from(ja.values())}function be(t,e,n){var r;let i=(r=wV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jn.warn(c.join(" "));return}en(new pt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var bV="firebase-heartbeat-database",CV=1,Ba="firebase-heartbeat-store",zm=null;function cA(){return zm||(zm=nA(bV,CV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ba)}catch(n){console.warn(n)}}}}).catch(t=>{throw br.create("idb-open",{originalErrorMessage:t.message})})),zm}async function AV(t){try{let n=(await cA()).transaction(Ba),r=await n.objectStore(Ba).get(uA(t));return await n.done,r}catch(e){if(e instanceof Ct)jn.warn(e.message);else{let n=br.create("idb-get",{originalErrorMessage:e?.message});jn.warn(n.message)}}}async function oA(t,e){try{let r=(await cA()).transaction(Ba,"readwrite");await r.objectStore(Ba).put(e,uA(t)),await r.done}catch(n){if(n instanceof Ct)jn.warn(n.message);else{let r=br.create("idb-set",{originalErrorMessage:n?.message});jn.warn(r.message)}}}function uA(t){return`${t.name}!${t.options.appId}`}var SV=1024,NV=30,Zm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Jm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=sA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>NV){let s=MV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){jn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=sA(),{heartbeatsToSend:r,unsentEntries:i}=RV(this._heartbeatsCache.heartbeats),o=La(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return jn.warn(n),""}}};function sA(){return new Date().toISOString().substring(0,10)}function RV(t,e=SV){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),aA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),aA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Jm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Va()?WC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await AV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return oA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return oA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function aA(t){return La(JSON.stringify({version:2,heartbeats:t})).length}function MV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function PV(t){en(new pt("platform-logger",e=>new Gm(e),"PRIVATE")),en(new pt("heartbeat",e=>new Zm(e),"PRIVATE")),be(Wm,rA,t),be(Wm,rA,"esm2017"),be("fire-js","")}PV("");var xV="firebase",kV="11.10.0";be(xV,kV,"app");var Ar=new Go("ANGULARFIRE2_VERSION");function Ua(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Yo=(t,e)=>{let n=e?[e]:ad(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Qo=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(Qo||{}),lA=bm()&&typeof Zone<"u"?Qo.WARN:Qo.SILENT;var cd=class{zone;delegate;constructor(e,n=Sf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Sr=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=O(ye);this.outsideAngular=n.runOutsideAngular(()=>new cd(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new cd(typeof Zone>"u"?void 0:Zone.current,nr))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),dA=!1;function OV(t,e){!dA&&(lA>Qo.SILENT||bm())&&(dA=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),lA>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function FV(t){let e=O(ye,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Mi(t){let e=O(ye,{optional:!0});return e?e.run(()=>t()):t()}var LV=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),dr(n,()=>Mi(()=>t.apply(void 0,r)))),Me=(t,e,n)=>(n||=e?Qo.WARN:Qo.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=O(Sr),s=O(_r),c=O(ct)}catch{return OV(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Mi(()=>s.add())),i[l]=LV(i[l],r,c));let u=FV(()=>t.apply(this,i));return e?u instanceof Q?u.pipe(or(o.outsideAngular),ir(o.insideAngular),kC(c)):u instanceof Promise?Mi(()=>{let l=s.add();return new Promise((h,p)=>{u.then(g=>dr(c,()=>Mi(()=>h(g))),g=>dr(c,()=>Mi(()=>p(g)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Mi(()=>u):u instanceof Q?u.pipe(or(o.outsideAngular),ir(o.insideAngular)):Mi(()=>u)});var Bn=class{constructor(e){return e}},Pi=class{constructor(){return ad()}};function VV(t){return t&&t.length===1?t[0]:new Bn(Ri())}var ey=new q("angularfire2._apps"),jV={provide:Bn,useFactory:VV,deps:[[new vt,ey]]},BV={provide:Pi,deps:[[new vt,ey]]};function UV(t){return(e,n)=>{let r=n.get(Fg);be("angularfire",Ar.full,"core"),be("angularfire",Ar.full,"app"),be("angular",IC.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Bn(i)}}function OX(t,...e){return qt([jV,BV,{provide:ey,useFactory:UV(t),multi:!0,deps:[ye,ke,Sr,...e]}])}var FX=Me(Xm,!0);var $V=new Map,HV={activated:!1,tokenObservers:[]},qV={initialized:!1,enabled:!1};function tn(t){return $V.get(t)||Object.assign({},HV)}function gA(){return qV}var zV="https://content-firebaseappcheck.googleapis.com/v1";var GV="exchangeDebugToken",hA={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},zX=24*60*60*1e3;var ry=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new Si,this.pending.promise.catch(n=>{}),await WV(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new Si,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function WV(t){return new Promise(e=>{setTimeout(e,t)})}var KV={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Nr=new Xt("appCheck","AppCheck",KV);function mA(t){if(!tn(t).activated)throw Nr.create("use-before-activation",{appName:t.name})}async function yA({url:t,body:e},n){let r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){let p=await i.getHeartbeatsHeader();p&&(r["X-Firebase-Client"]=p)}let o={method:"POST",body:JSON.stringify(e),headers:r},s;try{s=await fetch(t,o)}catch(p){throw Nr.create("fetch-network-error",{originalErrorMessage:p?.message})}if(s.status!==200)throw Nr.create("fetch-status-error",{httpStatus:s.status});let c;try{c=await s.json()}catch(p){throw Nr.create("fetch-parse-error",{originalErrorMessage:p?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Nr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let l=Number(u[1])*1e3,h=Date.now();return{token:c.token,expireTimeMillis:h+l,issuedAtTimeMillis:h}}function vA(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${zV}/projects/${n}/apps/${r}:${GV}?key=${i}`,body:{debug_token:e}}}var QV="firebase-app-check-database",YV=1,iy="firebase-app-check-store";var ud=null;function ZV(){return ud||(ud=new Promise((t,e)=>{try{let n=indexedDB.open(QV,YV);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Nr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(iy,{keyPath:"compositeKey"})}}}catch(n){e(Nr.create("storage-open",{originalErrorMessage:n?.message}))}}),ud)}function JV(t,e){return XV(e2(t),e)}async function XV(t,e){let r=(await ZV()).transaction(iy,"readwrite"),o=r.objectStore(iy).put({compositeKey:t,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;c(Nr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}function e2(t){return`${t.options.appId}-${t.name}`}var $a=new yn("@firebase/app-check");function ty(t,e){return Va()?JV(t,e).catch(n=>{$a.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function _A(){return gA().enabled}async function EA(){let t=gA();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var t2={error:"UNKNOWN_ERROR"};function n2(t){return ed.encodeString(JSON.stringify(t),!1)}async function oy(t,e=!1,n=!1){let r=t.app;mA(r);let i=tn(r),o=i.token,s;if(o&&!Ha(o)&&(i.token=void 0,o=void 0),!o){let l=await i.cachedTokenPromise;l&&(Ha(l)?o=l:await ty(r,void 0))}if(!e&&o&&Ha(o))return{token:o.token};let c=!1;if(_A())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=yA(vA(r,await EA()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let l=await i.exchangeTokenPromise;return await ty(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?$a.warn(l.message):n&&$a.error(l),ny(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=await tn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?$a.warn(l.message):n&&$a.error(l),s=l}let u;return o?s?Ha(o)?u={token:o.token,internalError:s}:u=ny(s):(u={token:o.token},i.token=o,await ty(r,o)):u=ny(s),c&&s2(r,u),u}async function r2(t){let e=t.app;mA(e);let{provider:n}=tn(e);if(_A()){let r=await EA(),{token:i}=await yA(vA(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await n.getToken();return{token:r}}}function i2(t,e,n,r){let{app:i}=t,o=tn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Ha(o.token)){let c=o.token;Promise.resolve().then(()=>{n({token:c.token}),fA(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>fA(t))}function IA(t,e){let n=tn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function fA(t){let{app:e}=t,n=tn(e),r=n.tokenRefresher;r||(r=o2(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function o2(t){let{app:e}=t;return new ry(async()=>{let n=tn(e),r;if(n.token?r=await oy(t,!0):r=await oy(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let n=tn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},hA.RETRIAL_MIN_WAIT,hA.RETRIAL_MAX_WAIT)}function s2(t,e){let n=tn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Ha(t){return t.expireTimeMillis-Date.now()>0}function ny(t){return{token:n2(t2),error:t}}var sy=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=tn(this.app);for(let n of e)IA(this.app,n.next);return Promise.resolve()}};function a2(t,e){return new sy(t,e)}function c2(t){return{getToken:e=>oy(t,e),getLimitedUseToken:()=>r2(t),addTokenListener:e=>i2(t,"INTERNAL",e),removeTokenListener:e=>IA(t.app,e)}}var u2="@firebase/app-check",l2="0.10.1";var d2="app-check",pA="app-check-internal";function h2(){en(new pt(d2,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return a2(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(pA).initialize()})),en(new pt(pA,t=>{let e=t.getProvider("app-check").getImmediate();return c2(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),be(u2,l2)}h2();var f2="app-check";var Zo=class{constructor(){return Yo(f2)}};var p2=["localhost","0.0.0.0","127.0.0.1"],ree=typeof window<"u"&&p2.includes(window.location.hostname);function FA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var LA=FA,VA=new Xt("auth","Firebase",FA());var gd=new yn("@firebase/auth");function g2(t,...e){gd.logLevel<=re.WARN&&gd.warn(`Auth (${Cr}): ${t}`,...e)}function dd(t,...e){gd.logLevel<=re.ERROR&&gd.error(`Auth (${Cr}): ${t}`,...e)}function En(t,...e){throw Ty(t,...e)}function nn(t,...e){return Ty(t,...e)}function Dy(t,e,n){let r=Object.assign(Object.assign({},LA()),{[e]:n});return new Xt("auth","Firebase",r).create(e,{appName:t.name})}function xi(t){return Dy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function m2(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&En(t,"argument-error"),Dy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ty(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return VA.create(t,...e)}function W(t,e,...n){if(!t)throw Ty(e,...n)}function Un(t){let e="INTERNAL ASSERTION FAILED: "+t;throw dd(e),new Error(e)}function Hn(t,e){t||Un(e)}function uy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function y2(){return wA()==="http:"||wA()==="https:"}function wA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function v2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y2()||HC()||"connection"in navigator)?navigator.onLine:!0}function _2(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ki=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hn(n>e,"Short delay should be less than long delay!"),this.isMobile=UC()||qC()}get(){return v2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function by(t,e){Hn(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var md=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var E2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var I2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],w2=new ki(3e4,6e4);function Cy(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Xo(t,e,n,r,i={}){return jA(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let c=Wo(Object.assign({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);let l=Object.assign({method:e,headers:u},o);return $C()||(l.referrerPolicy="no-referrer"),t.emulatorConfig&&Tr(t.emulatorConfig.host)&&(l.credentials="include"),md.fetch()(await BA(t,t.config.apiHost,n,c),l)})}async function jA(t,e,n){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},E2),e);try{let i=new ly(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw ld(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ld(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw ld(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw ld(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Dy(t,h,l);En(t,h)}}catch(i){if(i instanceof Ct)throw i;En(t,"network-request-failed",{message:String(i)})}}async function D2(t,e,n,r,i={}){let o=await Xo(t,e,n,r,i);return"mfaPendingCredential"in o&&En(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function BA(t,e,n,r){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?by(t.config,i):`${t.config.apiScheme}://${i}`;return I2.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}var ly=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(nn(this.auth,"network-request-failed")),w2.get())})}};function ld(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=nn(t,e,r);return i.customData._tokenResponse=n,i}async function T2(t,e){return Xo(t,"POST","/v1/accounts:delete",e)}async function yd(t,e){return Xo(t,"POST","/v1/accounts:lookup",e)}function qa(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ay(t,e=!1){let n=Re(t),r=await n.getIdToken(e),i=Sy(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:qa(ay(i.auth_time)),issuedAtTime:qa(ay(i.iat)),expirationTime:qa(ay(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function ay(t){return Number(t)*1e3}function Sy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return dd("JWT malformed, contained fewer than 3 sections"),null;try{let i=td(n);return i?JSON.parse(i):(dd("Failed to decode base64 JWT payload"),null)}catch(i){return dd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function DA(t){let e=Sy(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ga(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ct&&b2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function b2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var dy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Wa=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qa(this.lastLoginAt),this.creationTime=qa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function vd(t){var e;let n=t.auth,r=await t.getIdToken(),i=await Ga(t,yd(n,{idToken:r}));W(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?UA(o.providerUserInfo):[],c=C2(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!c?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Wa(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function Ny(t){let e=Re(t);await vd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function C2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function UA(t){return t.map(e=>{var{providerId:n}=e,r=ru(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function A2(t,e){let n=await jA(t,{},async()=>{let r=Wo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await BA(t,i,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return t.emulatorConfig&&Tr(t.emulatorConfig.host)&&(u.credentials="include"),md.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function S2(t,e){return Xo(t,"POST","/v2/accounts:revokeToken",Cy(t,e))}var za=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){W(e.length!==0,"internal-error");let n=DA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:i,expiresIn:o}=await A2(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(W(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(W(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Un("not implemented")}};function Rr(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Mr=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=ru(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Wa(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){let n=await Ga(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Ay(this,e)}reload(){return Ny(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(At(this.auth.app))return Promise.reject(xi(this.auth));let e=await this.getIdToken();return await Ga(this,T2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,c,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,I=(s=n.photoURL)!==null&&s!==void 0?s:void 0,A=(c=n.tenantId)!==null&&c!==void 0?c:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,P=(l=n.createdAt)!==null&&l!==void 0?l:void 0,j=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:K,emailVerified:de,isAnonymous:Ae,providerData:pe,stsTokenManager:D}=n;W(K&&D,e,"internal-error");let v=za.fromJSON(this.name,D);W(typeof K=="string",e,"internal-error"),Rr(p,e.name),Rr(g,e.name),W(typeof de=="boolean",e,"internal-error"),W(typeof Ae=="boolean",e,"internal-error"),Rr(y,e.name),Rr(I,e.name),Rr(A,e.name),Rr(N,e.name),Rr(P,e.name),Rr(j,e.name);let E=new t({uid:K,auth:e,email:g,emailVerified:de,displayName:p,isAnonymous:Ae,photoURL:I,phoneNumber:y,tenantId:A,stsTokenManager:v,createdAt:P,lastLoginAt:j});return pe&&Array.isArray(pe)&&(E.providerData=pe.map(w=>Object.assign({},w))),N&&(E._redirectEventId=N),E}static async _fromIdTokenResponse(e,n,r=!1){let i=new za;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await vd(o),o}static async _fromGetAccountInfoResponse(e,n,r){let i=n.users[0];W(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?UA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new za;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Wa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var TA=new Map;function $n(t){Hn(t instanceof Function,"Expected a class definition");let e=TA.get(t);return e?(Hn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,TA.set(t,e),e)}var N2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){let r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),hy=N2;function hd(t,e,n){return`firebase:${t}:${e}:${n}`}var _d=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=hd(this.userKey,i.apiKey,o),this.fullPersistenceKey=hd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=await yd(this.auth,{idToken:e}).catch(()=>{});return n?Mr._fromGetAccountInfoResponse(this.auth,n,e):null}return Mr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new t($n(hy),e,r);let i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||$n(hy),s=hd(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let h=await l._get(s);if(h){let p;if(typeof h=="string"){let g=await yd(e,{idToken:h}).catch(()=>{});if(!g)break;p=await Mr._fromGetAccountInfoResponse(e,g,h)}else p=Mr._fromJSON(e,h);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],c&&await o._set(s,c.toJSON()),await Promise.all(n.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new t(o,e,r))}};function bA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($A(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WA(e))return"Blackberry";if(KA(e))return"Webos";if(HA(e))return"Safari";if((e.includes("chrome/")||qA(e))&&!e.includes("edge/"))return"Chrome";if(GA(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function $A(t=ze()){return/firefox\//i.test(t)}function HA(t=ze()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qA(t=ze()){return/crios\//i.test(t)}function zA(t=ze()){return/iemobile/i.test(t)}function GA(t=ze()){return/android/i.test(t)}function WA(t=ze()){return/blackberry/i.test(t)}function KA(t=ze()){return/webos/i.test(t)}function Ry(t=ze()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function R2(t=ze()){var e;return Ry(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function M2(){return zC()&&document.documentMode===10}function QA(t=ze()){return Ry(t)||GA(t)||KA(t)||WA(t)||/windows phone/i.test(t)||zA(t)}function YA(t,e=[]){let n;switch(t){case"Browser":n=bA(ze());break;case"Worker":n=`${bA(ze())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cr}/${r}`}var fy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function P2(t,e={}){return Xo(t,"GET","/v2/passwordPolicy",Cy(t,e))}var x2=6,py=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:x2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var gy=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ed(this),this.idTokenSubscription=new Ed(this),this.beforeStateQueue=new fy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$n(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await _d.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await yd(this,{idToken:e}),r=await Mr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(At(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(At(this.app))return Promise.reject(xi(this));let n=e?Re(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return At(this.app)?Promise.reject(xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return At(this.app)?Promise.reject(xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($n(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await P2(this),n=new py(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await S2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&$n(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=await _d.create(this,[$n(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(At(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&g2(`Error while retrieving App Check token: ${n.error}`),n?.token}};function Sd(t){return Re(t)}var Ed=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=QC(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var My={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function k2(t){My=t}function O2(t){return My.loadJS(t)}function F2(){return My.gapiScript}function ZA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Py(t,e){let n=Ko(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(mn(o,e??{}))return i;En(i,"already-initialized")}return n.initialize({options:e})}function L2(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map($n);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function xy(t,e,n){let r=Sd(t);W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=JA(e),{host:s,port:c}=V2(e),u=c===null?"":`:${c}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){W(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),W(mn(l,r.config.emulator)&&mn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Tr(s)?(rd(`${o}//${s}${u}`),id("Auth",!0)):i||j2()}function JA(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function V2(t){let e=JA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:CA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:CA(s)}}}function CA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function j2(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ka=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Un("not implemented")}_getIdTokenResponse(e){return Un("not implemented")}_linkToIdToken(e,n){return Un("not implemented")}_getReauthenticationResolver(e){return Un("not implemented")}};async function Jo(t,e){return D2(t,"POST","/v1/accounts:signInWithIdp",Cy(t,e))}var B2="http://localhost",Id=class t extends Ka{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):En("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=ru(n,["providerId","signInMethod"]);if(!r||!i)return null;let s=new t(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let n=this.buildRequest();return Jo(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,Jo(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,Jo(e,n)}buildRequest(){let e={requestUri:B2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wo(n)}return e}};var Qa=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var wd=class extends Qa{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var U2=(()=>{class t extends wd{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Id._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();var Ya=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){let o=await Mr._fromIdTokenResponse(e,r,i),s=AA(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);let i=AA(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})}};function AA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var my=class t extends Ct{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function XA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?my._fromErrorAndOperation(t,o,e,r):o})}async function $2(t,e,n=!1){let r=await Ga(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ya._forOperation(t,"link",r)}async function H2(t,e,n=!1){let{auth:r}=t;if(At(r.app))return Promise.reject(xi(r));let i="reauthenticate";try{let o=await Ga(t,XA(r,i,e,t),n);W(o.idToken,r,"internal-error");let s=Sy(o.idToken);W(s,r,"internal-error");let{sub:c}=s;return W(t.uid===c,r,"user-mismatch"),Ya._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&En(r,"user-mismatch"),o}}async function q2(t,e,n=!1){if(At(t.app))return Promise.reject(xi(t));let r="signIn",i=await XA(t,r,e),o=await Ya._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function ky(t,e,n,r){return Re(t).onIdTokenChanged(e,n,r)}function Oy(t,e,n){return Re(t).beforeAuthStateChanged(e,n)}function Fy(t){return Re(t).signOut()}var Dd="__sak";var Td=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dd,"1"),this.storage.removeItem(Dd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var z2=1e3,G2=10,W2=(()=>{class t extends Td{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QA(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},s=this.storage.getItem(i);M2()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,G2):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},z2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(n,r){await super._set(n,r),this.localCache[n]=JSON.stringify(r)}async _get(n){let r=await super._get(n);return this.localCache[n]=JSON.stringify(r),r}async _remove(n){await super._remove(n),delete this.localCache[n]}}return t.type="LOCAL",t})(),eS=W2;var K2=(()=>{class t extends Td{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Ly=K2;function Q2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}var Y2=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}async handleEvent(n){let r=n,{eventId:i,eventType:o,data:s}=r.data,c=this.handlersMap[o];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(c).map(async h=>h(r.origin,s)),l=await Q2(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Vy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var yy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((c,u)=>{let l=Vy("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function _n(){return window}function Z2(t){_n().location.href=t}function tS(){return typeof _n().WorkerGlobalScope<"u"&&typeof _n().importScripts=="function"}async function J2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function X2(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ej(){return tS()?self:null}var nS="firebaseLocalStorageDb",tj=1,bd="firebaseLocalStorage",rS="fbase_key",Oi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Nd(t,e){return t.transaction([bd],e?"readwrite":"readonly").objectStore(bd)}function nj(){let t=indexedDB.deleteDatabase(nS);return new Oi(t).toPromise()}function vy(){let t=indexedDB.open(nS,tj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(bd,{keyPath:rS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{let r=t.result;r.objectStoreNames.contains(bd)?e(r):(r.close(),await nj(),e(await vy()))})})}async function SA(t,e,n){let r=Nd(t,!0).put({[rS]:e,value:n});return new Oi(r).toPromise()}async function rj(t,e){let n=Nd(t,!1).get(e),r=await new Oi(n).toPromise();return r===void 0?null:r.value}function NA(t,e){let n=Nd(t,!0).delete(e);return new Oi(n).toPromise()}var ij=800,oj=3,sj=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vy(),this.db)}async _withRetries(n){let r=0;for(;;)try{let i=await this._openDb();return await n(i)}catch(i){if(r++>oj)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Y2._getInstance(ej()),this.receiver._subscribe("keyChanged",async(n,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(n,r)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await J2(),!this.activeServiceWorker)return;this.sender=new yy(this.activeServiceWorker);let i=await this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(n){if(!(!this.sender||!this.activeServiceWorker||X2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let n=await vy();return await SA(n,Dd,"1"),await NA(n,Dd),!0}catch{}return!1}async _withPendingWrite(n){this.pendingWrites++;try{await n()}finally{this.pendingWrites--}}async _set(n,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>SA(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)))}async _get(n){let r=await this._withRetries(i=>rj(i,n));return this.localCache[n]=r,r}async _remove(n){return this._withPendingWrite(async()=>(await this._withRetries(r=>NA(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)))}async _poll(){let n=await this._withRetries(o=>{let s=Nd(o,!1).getAll();return new Oi(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ij)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),iS=sj;var fee=ZA("rcb"),pee=new ki(3e4,6e4);function oS(t,e){return e?$n(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Za=class extends Ka{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Jo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Jo(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function aj(t){return q2(t.auth,new Za(t),t.bypassAuthState)}function cj(t){let{auth:e,user:n}=t;return W(n,e,"internal-error"),H2(n,new Za(t),t.bypassAuthState)}async function uj(t){let{auth:e,user:n}=t;return W(n,e,"internal-error"),$2(n,new Za(t),t.bypassAuthState)}var Cd=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:c}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aj;case"linkViaPopup":case"linkViaRedirect":return uj;case"reauthViaPopup":case"reauthViaRedirect":return cj;default:En(this.auth,"internal-error")}}resolve(e){Hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var lj=new ki(2e3,1e4);async function jy(t,e,n){if(At(t.app))return Promise.reject(nn(t,"operation-not-supported-in-this-environment"));let r=Sd(t);m2(t,e,Qa);let i=oS(r,n);return new dj(r,"signInViaPopup",e,i).executeNotNull()}var dj=(()=>{class t extends Cd{constructor(n,r,i,o,s){super(n,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}async executeNotNull(){let n=await this.execute();return W(n,this.auth,"internal-error"),n}async onExecution(){Hn(this.filter.length===1,"Popup operations only handle one event");let n=Vy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(nn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(nn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,lj.get())};n()}}t.currentPopupAction=null;return t})(),hj="pendingRedirect",fd=new Map,_y=class extends Cd{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=fd.get(this.auth._key());if(!e){try{let r=await fj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}fd.set(this.auth._key(),e)}return this.bypassAuthState||fd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function fj(t,e){let n=mj(e),r=gj(t);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}function pj(t,e){fd.set(t._key(),e)}function gj(t){return $n(t._redirectPersistence)}function mj(t){return hd(hj,t.config.apiKey,t.name)}async function yj(t,e,n=!1){if(At(t.app))return Promise.reject(xi(t));let r=Sd(t),i=oS(r,e),s=await new _y(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var vj=10*60*1e3,Ey=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_j(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!sS(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(nn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vj&&this.cachedEventUids.clear(),this.cachedEventUids.has(RA(e))}saveEventToCache(e){this.cachedEventUids.add(RA(e)),this.lastProcessedEventTime=Date.now()}};function RA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function _j(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sS(t);default:return!1}}async function Ej(t,e={}){return Xo(t,"GET","/v1/projects",e)}var Ij=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wj=/^https?/;async function Dj(t){if(t.config.emulator)return;let{authorizedDomains:e}=await Ej(t);for(let n of e)try{if(Tj(n))return}catch{}En(t,"unauthorized-domain")}function Tj(t){let e=uy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!wj.test(n))return!1;if(Ij.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var bj=new ki(3e4,6e4);function MA(){let t=_n().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Cj(t){return new Promise((e,n)=>{var r,i,o;function s(){MA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{MA(),n(nn(t,"network-request-failed"))},timeout:bj.get()})}if(!((i=(r=_n().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=_n().gapi)===null||o===void 0)&&o.load)s();else{let c=ZA("iframefcb");return _n()[c]=()=>{gapi.load?s():n(nn(t,"network-request-failed"))},O2(`${F2()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw pd=null,e})}var pd=null;function Aj(t){return pd=pd||Cj(t),pd}var Sj=new ki(5e3,15e3),Nj="__/auth/iframe",Rj="emulator/auth/iframe",Mj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xj(t){let e=t.config;W(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?by(e,Rj):`https://${t.config.authDomain}/${Nj}`,r={apiKey:e.apiKey,appName:t.name,v:Cr},i=Pj.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Wo(r).slice(1)}`}async function kj(t){let e=await Aj(t),n=_n().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:xj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mj,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=nn(t,"network-request-failed"),c=_n().setTimeout(()=>{o(s)},Sj.get());function u(){_n().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{o(s)})}))}var Oj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Fj=500,Lj=600,Vj="_blank",jj="http://localhost",Ad=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Bj(t,e,n,r=Fj,i=Lj){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},Oj),{width:r.toString(),height:i.toString(),top:o,left:s}),l=ze().toLowerCase();n&&(c=qA(l)?Vj:n),$A(l)&&(e=e||jj,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[y,I])=>`${g}${y}=${I},`,"");if(R2(l)&&c!=="_self")return Uj(e||"",c),new Ad(null);let p=window.open(e||"",c,h);W(p,t,"popup-blocked");try{p.focus()}catch{}return new Ad(p)}function Uj(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var $j="__/auth/handler",Hj="emulator/auth/handler",qj=encodeURIComponent("fac");async function PA(t,e,n,r,i,o){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Cr,eventId:i};if(e instanceof Qa){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",KC(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof wd){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let c=s;for(let h of Object.keys(c))c[h]===void 0&&delete c[h];let u=await t._getAppCheckToken(),l=u?`#${qj}=${encodeURIComponent(u)}`:"";return`${zj(t)}?${Wo(c).slice(1)}${l}`}function zj({config:t}){return t.emulator?by(t,Hj):`https://${t.authDomain}/${$j}`}var cy="webStorageSupport",Iy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ly,this._completeRedirectFn=yj,this._overrideRedirectResult=pj}async _openPopup(e,n,r,i){var o;Hn((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=await PA(e,n,r,uy(),i);return Bj(e,s,Vy())}async _openRedirect(e,n,r,i){await this._originValidation(e);let o=await PA(e,n,r,uy(),i);return Z2(o),new Promise(()=>{})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Hn(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){let n=await kj(e),r=new Ey(e);return n.register("authEvent",i=>(W(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cy,{type:cy},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[cy];s!==void 0&&n(!!s),En(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Dj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QA()||HA()||Ry()}},aS=Iy;var xA="@firebase/auth",kA="1.10.8";var wy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Gj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Wj(t){en(new pt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;W(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YA(t)},l=new gy(r,i,o,u);return L2(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),en(new pt("auth-internal",e=>{let n=Sd(e.getProvider("auth").getImmediate());return(r=>new wy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),be(xA,kA,Gj(t)),be(xA,kA,"esm2017")}var Kj=5*60,Qj=Vm("authIdTokenMaxAge")||Kj,OA=null,Yj=t=>async e=>{let n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Qj)return;let i=n?.token;OA!==i&&(OA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function By(t=Ri()){let e=Ko(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Py(t,{popupRedirectResolver:aS,persistence:[iS,eS,Ly]}),r=Vm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=Yj(o.toString());Oy(n,s,()=>s(n.currentUser)),ky(n,c=>s(c))}}let i=Fm("auth");return i&&xy(n,`http://${i}`),n}function Zj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}k2({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=nn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Zj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Wj("Browser");var cS="auth",Ja=class{constructor(e){return e}},Xa=class{constructor(){return Yo(cS)}};var Uy=new q("angularfire2.auth-instances");function $B(t,e){let n=Ua(cS,t,e);return n&&new Ja(n)}function HB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ja(r)}}var qB={provide:Xa,deps:[[new vt,Uy]]},zB={provide:Ja,useFactory:$B,deps:[[new vt,Uy],Bn]};function ete(t,...e){return be("angularfire",Ar.full,"auth"),qt([zB,qB,{provide:Uy,useFactory:HB(t),multi:!0,deps:[ye,ke,Sr,Pi,[new vt,Zo],...e]}])}var tte=Me(By,!0);var nte=Me(jy,!0,2);var rte=Me(Fy,!0,2);var uS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lS={};var qn,$y;(function(){var t;function e(D,v){function E(){}E.prototype=v.prototype,D.D=v.prototype,D.prototype=new E,D.prototype.constructor=D,D.C=function(w,T,C){for(var _=Array(arguments.length-2),Rn=2;Rn<arguments.length;Rn++)_[Rn-2]=arguments[Rn];return v.prototype[T].apply(w,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,E){E||(E=0);var w=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)w[T]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(T=0;16>T;++T)w[T]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=D.g[0],E=D.g[1],T=D.g[2];var C=D.g[3],_=v+(C^E&(T^C))+w[0]+3614090360&4294967295;v=E+(_<<7&4294967295|_>>>25),_=C+(T^v&(E^T))+w[1]+3905402710&4294967295,C=v+(_<<12&4294967295|_>>>20),_=T+(E^C&(v^E))+w[2]+606105819&4294967295,T=C+(_<<17&4294967295|_>>>15),_=E+(v^T&(C^v))+w[3]+3250441966&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(C^E&(T^C))+w[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(T^v&(E^T))+w[5]+1200080426&4294967295,C=v+(_<<12&4294967295|_>>>20),_=T+(E^C&(v^E))+w[6]+2821735955&4294967295,T=C+(_<<17&4294967295|_>>>15),_=E+(v^T&(C^v))+w[7]+4249261313&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(C^E&(T^C))+w[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(T^v&(E^T))+w[9]+2336552879&4294967295,C=v+(_<<12&4294967295|_>>>20),_=T+(E^C&(v^E))+w[10]+4294925233&4294967295,T=C+(_<<17&4294967295|_>>>15),_=E+(v^T&(C^v))+w[11]+2304563134&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(C^E&(T^C))+w[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(T^v&(E^T))+w[13]+4254626195&4294967295,C=v+(_<<12&4294967295|_>>>20),_=T+(E^C&(v^E))+w[14]+2792965006&4294967295,T=C+(_<<17&4294967295|_>>>15),_=E+(v^T&(C^v))+w[15]+1236535329&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(T^C&(E^T))+w[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^T&(v^E))+w[6]+3225465664&4294967295,C=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(C^v))+w[11]+643717713&4294967295,T=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(T^C))+w[0]+3921069994&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(T^C&(E^T))+w[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^T&(v^E))+w[10]+38016083&4294967295,C=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(C^v))+w[15]+3634488961&4294967295,T=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(T^C))+w[4]+3889429448&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(T^C&(E^T))+w[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^T&(v^E))+w[14]+3275163606&4294967295,C=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(C^v))+w[3]+4107603335&4294967295,T=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(T^C))+w[8]+1163531501&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(T^C&(E^T))+w[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^T&(v^E))+w[2]+4243563512&4294967295,C=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(C^v))+w[7]+1735328473&4294967295,T=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(T^C))+w[12]+2368359562&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(E^T^C)+w[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^T)+w[8]+2272392833&4294967295,C=v+(_<<11&4294967295|_>>>21),_=T+(C^v^E)+w[11]+1839030562&4294967295,T=C+(_<<16&4294967295|_>>>16),_=E+(T^C^v)+w[14]+4259657740&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(E^T^C)+w[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^T)+w[4]+1272893353&4294967295,C=v+(_<<11&4294967295|_>>>21),_=T+(C^v^E)+w[7]+4139469664&4294967295,T=C+(_<<16&4294967295|_>>>16),_=E+(T^C^v)+w[10]+3200236656&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(E^T^C)+w[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^T)+w[0]+3936430074&4294967295,C=v+(_<<11&4294967295|_>>>21),_=T+(C^v^E)+w[3]+3572445317&4294967295,T=C+(_<<16&4294967295|_>>>16),_=E+(T^C^v)+w[6]+76029189&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(E^T^C)+w[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^T)+w[12]+3873151461&4294967295,C=v+(_<<11&4294967295|_>>>21),_=T+(C^v^E)+w[15]+530742520&4294967295,T=C+(_<<16&4294967295|_>>>16),_=E+(T^C^v)+w[2]+3299628645&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(T^(E|~C))+w[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~T))+w[7]+1126891415&4294967295,C=v+(_<<10&4294967295|_>>>22),_=T+(v^(C|~E))+w[14]+2878612391&4294967295,T=C+(_<<15&4294967295|_>>>17),_=E+(C^(T|~v))+w[5]+4237533241&4294967295,E=T+(_<<21&4294967295|_>>>11),_=v+(T^(E|~C))+w[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~T))+w[3]+2399980690&4294967295,C=v+(_<<10&4294967295|_>>>22),_=T+(v^(C|~E))+w[10]+4293915773&4294967295,T=C+(_<<15&4294967295|_>>>17),_=E+(C^(T|~v))+w[1]+2240044497&4294967295,E=T+(_<<21&4294967295|_>>>11),_=v+(T^(E|~C))+w[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~T))+w[15]+4264355552&4294967295,C=v+(_<<10&4294967295|_>>>22),_=T+(v^(C|~E))+w[6]+2734768916&4294967295,T=C+(_<<15&4294967295|_>>>17),_=E+(C^(T|~v))+w[13]+1309151649&4294967295,E=T+(_<<21&4294967295|_>>>11),_=v+(T^(E|~C))+w[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~T))+w[11]+3174756917&4294967295,C=v+(_<<10&4294967295|_>>>22),_=T+(v^(C|~E))+w[2]+718787259&4294967295,T=C+(_<<15&4294967295|_>>>17),_=E+(C^(T|~v))+w[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(T+(_<<21&4294967295|_>>>11))&4294967295,D.g[2]=D.g[2]+T&4294967295,D.g[3]=D.g[3]+C&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var E=v-this.blockSize,w=this.B,T=this.h,C=0;C<v;){if(T==0)for(;C<=E;)i(this,D,C),C+=this.blockSize;if(typeof D=="string"){for(;C<v;)if(w[T++]=D.charCodeAt(C++),T==this.blockSize){i(this,w),T=0;break}}else for(;C<v;)if(w[T++]=D[C++],T==this.blockSize){i(this,w),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var E=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=E&255,E/=256;for(this.u(D),D=Array(16),v=E=0;4>v;++v)for(var w=0;32>w;w+=8)D[E++]=this.g[v]>>>w&255;return D};function o(D,v){var E=c;return Object.prototype.hasOwnProperty.call(E,D)?E[D]:E[D]=v(D)}function s(D,v){this.h=v;for(var E=[],w=!0,T=D.length-1;0<=T;T--){var C=D[T]|0;w&&C==v||(E[T]=C,w=!1)}this.g=E}var c={};function u(D){return-128<=D&&128>D?o(D,function(v){return new s([v|0],0>v?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return N(l(-D));for(var v=[],E=1,w=0;D>=E;w++)v[w]=D/E|0,E*=4294967296;return new s(v,0)}function h(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return N(h(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),w=p,T=0;T<D.length;T+=8){var C=Math.min(8,D.length-T),_=parseInt(D.substring(T,T+C),v);8>C?(C=l(Math.pow(v,C)),w=w.j(C).add(l(_))):(w=w.j(E),w=w.add(l(_)))}return w}var p=u(0),g=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(A(this))return-N(this).m();for(var D=0,v=1,E=0;E<this.g.length;E++){var w=this.i(E);D+=(0<=w?w:4294967296+w)*v,v*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(I(this))return"0";if(A(this))return"-"+N(this).toString(D);for(var v=l(Math.pow(D,6)),E=this,w="";;){var T=de(E,v).g;E=P(E,T.j(v));var C=((0<E.g.length?E.g[0]:E.h)>>>0).toString(D);if(E=T,I(E))return C+w;for(;6>C.length;)C="0"+C;w=C+w}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function I(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function A(D){return D.h==-1}t.l=function(D){return D=P(this,D),A(D)?-1:I(D)?0:1};function N(D){for(var v=D.g.length,E=[],w=0;w<v;w++)E[w]=~D.g[w];return new s(E,~D.h).add(g)}t.abs=function(){return A(this)?N(this):this},t.add=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],w=0,T=0;T<=v;T++){var C=w+(this.i(T)&65535)+(D.i(T)&65535),_=(C>>>16)+(this.i(T)>>>16)+(D.i(T)>>>16);w=_>>>16,C&=65535,_&=65535,E[T]=_<<16|C}return new s(E,E[E.length-1]&-2147483648?-1:0)};function P(D,v){return D.add(N(v))}t.j=function(D){if(I(this)||I(D))return p;if(A(this))return A(D)?N(this).j(N(D)):N(N(this).j(D));if(A(D))return N(this.j(N(D)));if(0>this.l(y)&&0>D.l(y))return l(this.m()*D.m());for(var v=this.g.length+D.g.length,E=[],w=0;w<2*v;w++)E[w]=0;for(w=0;w<this.g.length;w++)for(var T=0;T<D.g.length;T++){var C=this.i(w)>>>16,_=this.i(w)&65535,Rn=D.i(T)>>>16,Ns=D.i(T)&65535;E[2*w+2*T]+=_*Ns,j(E,2*w+2*T),E[2*w+2*T+1]+=C*Ns,j(E,2*w+2*T+1),E[2*w+2*T+1]+=_*Rn,j(E,2*w+2*T+1),E[2*w+2*T+2]+=C*Rn,j(E,2*w+2*T+2)}for(w=0;w<v;w++)E[w]=E[2*w+1]<<16|E[2*w];for(w=v;w<2*v;w++)E[w]=0;return new s(E,0)};function j(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function K(D,v){this.g=D,this.h=v}function de(D,v){if(I(v))throw Error("division by zero");if(I(D))return new K(p,p);if(A(D))return v=de(N(D),v),new K(N(v.g),N(v.h));if(A(v))return v=de(D,N(v)),new K(N(v.g),v.h);if(30<D.g.length){if(A(D)||A(v))throw Error("slowDivide_ only works with positive integers.");for(var E=g,w=v;0>=w.l(D);)E=Ae(E),w=Ae(w);var T=pe(E,1),C=pe(w,1);for(w=pe(w,2),E=pe(E,2);!I(w);){var _=C.add(w);0>=_.l(D)&&(T=T.add(E),C=_),w=pe(w,1),E=pe(E,1)}return v=P(D,T.j(v)),new K(T,v)}for(T=p;0<=D.l(v);){for(E=Math.max(1,Math.floor(D.m()/v.m())),w=Math.ceil(Math.log(E)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),C=l(E),_=C.j(v);A(_)||0<_.l(D);)E-=w,C=l(E),_=C.j(v);I(C)&&(C=g),T=T.add(C),D=P(D,_)}return new K(T,D)}t.A=function(D){return de(this,D).h},t.and=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)&D.i(w);return new s(E,this.h&D.h)},t.or=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)|D.i(w);return new s(E,this.h|D.h)},t.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)^D.i(w);return new s(E,this.h^D.h)};function Ae(D){for(var v=D.g.length+1,E=[],w=0;w<v;w++)E[w]=D.i(w)<<1|D.i(w-1)>>>31;return new s(E,D.h)}function pe(D,v){var E=v>>5;v%=32;for(var w=D.g.length-E,T=[],C=0;C<w;C++)T[C]=0<v?D.i(C+E)>>>v|D.i(C+E+1)<<32-v:D.i(C+E);return new s(T,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$y=lS.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,qn=lS.Integer=s}).apply(typeof uS<"u"?uS:typeof self<"u"?self:typeof window<"u"?window:{});var Rd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zn={};var Hy,GB,es,qy,ec,Md,zy,Gy,Wy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,f){return a==Array.prototype||a==Object.prototype||(a[d]=f.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rd=="object"&&Rd];for(var d=0;d<a.length;++d){var f=a[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var f=r;a=a.split(".");for(var m=0;m<a.length-1;m++){var b=a[m];if(!(b in f))break e;f=f[b]}a=a[a.length-1],m=f[a],d=d(m),d!=m&&d!=null&&e(f,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var f=0,m=!1,b={next:function(){if(!m&&f<a.length){var S=f++;return{value:d(S,a[S]),done:!1}}return m=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,f){return f})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function h(a,d,f){return a.call.apply(a.bind,arguments)}function p(a,d,f){if(!a)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,m),a.apply(d,b)}}return function(){return a.apply(d,arguments)}}function g(a,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(a,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),a.apply(this,m)}}function I(a,d){function f(){}f.prototype=d.prototype,a.aa=d.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(m,b,S){for(var x=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)x[ge-2]=arguments[ge];return d.prototype[b].apply(m,x)}}function A(a){let d=a.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=a[m];return f}return[]}function N(a,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let b=a.length||0,S=m.length||0;a.length=b+S;for(let x=0;x<S;x++)a[b+x]=m[x]}else a.push(m)}}class P{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function j(a){return/^[\s\xa0]*$/.test(a)}function K(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function de(a){return de[" "](a),a}de[" "]=function(){};var Ae=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function pe(a,d,f){for(let m in a)d.call(f,a[m],m,a)}function D(a,d){for(let f in a)d.call(void 0,a[f],f,a)}function v(a){let d={};for(let f in a)d[f]=a[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,d){let f,m;for(let b=1;b<arguments.length;b++){m=arguments[b];for(f in m)a[f]=m[f];for(let S=0;S<E.length;S++)f=E[S],Object.prototype.hasOwnProperty.call(m,f)&&(a[f]=m[f])}}function T(a){var d=1;a=a.split(":");let f=[];for(;0<d&&a.length;)f.push(a.shift()),d--;return a.length&&f.push(a.join(":")),f}function C(a){c.setTimeout(()=>{throw a},0)}function _(){var a=qh;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Rn{constructor(){this.h=this.g=null}add(d,f){let m=Ns.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var Ns=new P(()=>new DR,a=>a.reset());class DR{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Rs,Ms=!1,qh=new Rn,NE=()=>{let a=c.Promise.resolve(void 0);Rs=()=>{a.then(TR)}};var TR=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(f){C(f)}var d=Ns;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Ms=!1};function Jn(){this.s=this.s,this.C=this.C}Jn.prototype.s=!1,Jn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Jn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ze(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Ze.prototype.h=function(){this.defaultPrevented=!0};var bR=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let f=()=>{};c.addEventListener("test",f,d),c.removeEventListener("test",f,d)}catch{}return a}();function Ps(a,d){if(Ze.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,m=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Ae){e:{try{de(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=a.fromElement:f=="mouseout"&&(d=a.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:CR[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Ps.aa.h.call(this)}}I(Ps,Ze);var CR={2:"touch",3:"pen",4:"mouse"};Ps.prototype.h=function(){Ps.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var xs="closure_listenable_"+(1e6*Math.random()|0),AR=0;function SR(a,d,f,m,b){this.listener=a,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=b,this.key=++AR,this.da=this.fa=!1}function Rc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Mc(a){this.src=a,this.g={},this.h=0}Mc.prototype.add=function(a,d,f,m,b){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var x=Gh(a,d,m,b);return-1<x?(d=a[x],f||(d.fa=!1)):(d=new SR(d,this.src,S,!!m,b),d.fa=f,a.push(d)),d};function zh(a,d){var f=d.type;if(f in a.g){var m=a.g[f],b=Array.prototype.indexOf.call(m,d,void 0),S;(S=0<=b)&&Array.prototype.splice.call(m,b,1),S&&(Rc(d),a.g[f].length==0&&(delete a.g[f],a.h--))}}function Gh(a,d,f,m){for(var b=0;b<a.length;++b){var S=a[b];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==m)return b}return-1}var Wh="closure_lm_"+(1e6*Math.random()|0),Kh={};function RE(a,d,f,m,b){if(m&&m.once)return PE(a,d,f,m,b);if(Array.isArray(d)){for(var S=0;S<d.length;S++)RE(a,d[S],f,m,b);return null}return f=Jh(f),a&&a[xs]?a.K(d,f,l(m)?!!m.capture:!!m,b):ME(a,d,f,!1,m,b)}function ME(a,d,f,m,b,S){if(!d)throw Error("Invalid event type");var x=l(b)?!!b.capture:!!b,ge=Yh(a);if(ge||(a[Wh]=ge=new Mc(a)),f=ge.add(d,f,m,x,S),f.proxy)return f;if(m=NR(),f.proxy=m,m.src=a,m.listener=f,a.addEventListener)bR||(b=x),b===void 0&&(b=!1),a.addEventListener(d.toString(),m,b);else if(a.attachEvent)a.attachEvent(kE(d.toString()),m);else if(a.addListener&&a.removeListener)a.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function NR(){function a(f){return d.call(a.src,a.listener,f)}let d=RR;return a}function PE(a,d,f,m,b){if(Array.isArray(d)){for(var S=0;S<d.length;S++)PE(a,d[S],f,m,b);return null}return f=Jh(f),a&&a[xs]?a.L(d,f,l(m)?!!m.capture:!!m,b):ME(a,d,f,!0,m,b)}function xE(a,d,f,m,b){if(Array.isArray(d))for(var S=0;S<d.length;S++)xE(a,d[S],f,m,b);else m=l(m)?!!m.capture:!!m,f=Jh(f),a&&a[xs]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],f=Gh(S,f,m,b),-1<f&&(Rc(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=Yh(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Gh(d,f,m,b)),(f=-1<a?d[a]:null)&&Qh(f))}function Qh(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[xs])zh(d.i,a);else{var f=a.type,m=a.proxy;d.removeEventListener?d.removeEventListener(f,m,a.capture):d.detachEvent?d.detachEvent(kE(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=Yh(d))?(zh(f,a),f.h==0&&(f.src=null,d[Wh]=null)):Rc(a)}}}function kE(a){return a in Kh?Kh[a]:Kh[a]="on"+a}function RR(a,d){if(a.da)a=!0;else{d=new Ps(d,this);var f=a.listener,m=a.ha||a.src;a.fa&&Qh(a),a=f.call(m,d)}return a}function Yh(a){return a=a[Wh],a instanceof Mc?a:null}var Zh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jh(a){return typeof a=="function"?a:(a[Zh]||(a[Zh]=function(d){return a.handleEvent(d)}),a[Zh])}function Je(){Jn.call(this),this.i=new Mc(this),this.M=this,this.F=null}I(Je,Jn),Je.prototype[xs]=!0,Je.prototype.removeEventListener=function(a,d,f,m){xE(this,a,d,f,m)};function rt(a,d){var f,m=a.F;if(m)for(f=[];m;m=m.F)f.push(m);if(a=a.M,m=d.type||d,typeof d=="string")d=new Ze(d,a);else if(d instanceof Ze)d.target=d.target||a;else{var b=d;d=new Ze(m,a),w(d,b)}if(b=!0,f)for(var S=f.length-1;0<=S;S--){var x=d.g=f[S];b=Pc(x,m,!0,d)&&b}if(x=d.g=a,b=Pc(x,m,!0,d)&&b,b=Pc(x,m,!1,d)&&b,f)for(S=0;S<f.length;S++)x=d.g=f[S],b=Pc(x,m,!1,d)&&b}Je.prototype.N=function(){if(Je.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var f=a.g[d],m=0;m<f.length;m++)Rc(f[m]);delete a.g[d],a.h--}}this.F=null},Je.prototype.K=function(a,d,f,m){return this.i.add(String(a),d,!1,f,m)},Je.prototype.L=function(a,d,f,m){return this.i.add(String(a),d,!0,f,m)};function Pc(a,d,f,m){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,S=0;S<d.length;++S){var x=d[S];if(x&&!x.da&&x.capture==f){var ge=x.listener,Qe=x.ha||x.src;x.fa&&zh(a.i,x),b=ge.call(Qe,m)!==!1&&b}}return b&&!m.defaultPrevented}function OE(a,d,f){if(typeof a=="function")f&&(a=g(a,f));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function FE(a){a.g=OE(()=>{a.g=null,a.i&&(a.i=!1,FE(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class MR extends Jn{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:FE(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ks(a){Jn.call(this),this.h=a,this.g={}}I(ks,Jn);var LE=[];function VE(a){pe(a.g,function(d,f){this.g.hasOwnProperty(f)&&Qh(d)},a),a.g={}}ks.prototype.N=function(){ks.aa.N.call(this),VE(this)},ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xh=c.JSON.stringify,PR=c.JSON.parse,xR=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function ef(){}ef.prototype.h=null;function jE(a){return a.h||(a.h=a.i())}function BE(){}var Os={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tf(){Ze.call(this,"d")}I(tf,Ze);function nf(){Ze.call(this,"c")}I(nf,Ze);var Hr={},UE=null;function xc(){return UE=UE||new Je}Hr.La="serverreachability";function $E(a){Ze.call(this,Hr.La,a)}I($E,Ze);function Fs(a){let d=xc();rt(d,new $E(d))}Hr.STAT_EVENT="statevent";function HE(a,d){Ze.call(this,Hr.STAT_EVENT,a),this.stat=d}I(HE,Ze);function it(a){let d=xc();rt(d,new HE(d,a))}Hr.Ma="timingevent";function qE(a,d){Ze.call(this,Hr.Ma,a),this.size=d}I(qE,Ze);function Ls(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function Vs(){this.g=!0}Vs.prototype.xa=function(){this.g=!1};function kR(a,d,f,m,b,S){a.info(function(){if(a.g)if(S)for(var x="",ge=S.split("&"),Qe=0;Qe<ge.length;Qe++){var ae=ge[Qe].split("=");if(1<ae.length){var Xe=ae[0];ae=ae[1];var et=Xe.split("_");x=2<=et.length&&et[1]=="type"?x+(Xe+"="+ae+"&"):x+(Xe+"=redacted&")}}else x=null;else x=S;return"XMLHTTP REQ ("+m+") [attempt "+b+"]: "+d+`
`+f+`
`+x})}function OR(a,d,f,m,b,S,x){a.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+b+"]: "+d+`
`+f+`
`+S+" "+x})}function Yi(a,d,f,m){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+LR(a,f)+(m?" "+m:"")})}function FR(a,d){a.info(function(){return"TIMEOUT: "+d})}Vs.prototype.info=function(){};function LR(a,d){if(!a.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var m=f[a];if(!(2>m.length)){var b=m[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var x=1;x<b.length;x++)b[x]=""}}}}return Xh(f)}catch{return d}}var kc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rf;function Oc(){}I(Oc,ef),Oc.prototype.g=function(){return new XMLHttpRequest},Oc.prototype.i=function(){return{}},rf=new Oc;function Xn(a,d,f,m){this.j=a,this.i=d,this.l=f,this.R=m||1,this.U=new ks(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new GE}function GE(){this.i=null,this.g="",this.h=!1}var WE={},of={};function sf(a,d,f){a.L=1,a.v=jc(Mn(d)),a.m=f,a.P=!0,KE(a,null)}function KE(a,d){a.F=Date.now(),Fc(a),a.A=Mn(a.v);var f=a.A,m=a.R;Array.isArray(m)||(m=[String(m)]),cI(f.i,"t",m),a.C=0,f=a.j.J,a.h=new GE,a.g=CI(a.j,f?d:null,!a.m),0<a.O&&(a.M=new MR(g(a.Y,a,a.g),a.O)),d=a.U,f=a.g,m=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(LE[0]=b.toString()),b=LE);for(var S=0;S<b.length;S++){var x=RE(f,b[S],m||d.handleEvent,!1,d.h||d);if(!x)break;d.g[x.key]=x}d=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Fs(),kR(a.i,a.u,a.A,a.l,a.R,a.m)}Xn.prototype.ca=function(a){a=a.target;let d=this.M;d&&Pn(a)==3?d.j():this.Y(a)},Xn.prototype.Y=function(a){try{if(a==this.g)e:{let et=Pn(this.g);var d=this.g.Ba();let Xi=this.g.Z();if(!(3>et)&&(et!=3||this.g&&(this.h.h||this.g.oa()||gI(this.g)))){this.J||et!=4||d==7||(d==8||0>=Xi?Fs(3):Fs(2)),af(this);var f=this.g.Z();this.X=f;t:if(QE(this)){var m=gI(this.g);a="";var b=m.length,S=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qr(this),js(this);var x="";break t}this.h.i=new c.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,a+=this.h.i.decode(m[d],{stream:!(S&&d==b-1)});m.length=0,this.h.g+=a,this.C=0,x=this.h.g}else x=this.g.oa();if(this.o=f==200,OR(this.i,this.u,this.A,this.l,this.R,et,f),this.o){if(this.T&&!this.K){t:{if(this.g){var ge,Qe=this.g;if((ge=Qe.g?Qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(ge)){var ae=ge;break t}}ae=null}if(f=ae)Yi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cf(this,f);else{this.o=!1,this.s=3,it(12),qr(this),js(this);break e}}if(this.P){f=!0;let Bt;for(;!this.J&&this.C<x.length;)if(Bt=VR(this,x),Bt==of){et==4&&(this.s=4,it(14),f=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==WE){this.s=4,it(15),Yi(this.i,this.l,x,"[Invalid Chunk]"),f=!1;break}else Yi(this.i,this.l,Bt,null),cf(this,Bt);if(QE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),et!=4||x.length!=0||this.h.h||(this.s=1,it(16),f=!1),this.o=this.o&&f,!f)Yi(this.i,this.l,x,"[Invalid Chunked Response]"),qr(this),js(this);else if(0<x.length&&!this.W){this.W=!0;var Xe=this.j;Xe.g==this&&Xe.ba&&!Xe.M&&(Xe.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),pf(Xe),Xe.M=!0,it(11))}}else Yi(this.i,this.l,x,null),cf(this,x);et==4&&qr(this),this.o&&!this.J&&(et==4?wI(this.j,this):(this.o=!1,Fc(this)))}else tM(this.g),f==400&&0<x.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),qr(this),js(this)}}}catch{}finally{}};function QE(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function VR(a,d){var f=a.C,m=d.indexOf(`
`,f);return m==-1?of:(f=Number(d.substring(f,m)),isNaN(f)?WE:(m+=1,m+f>d.length?of:(d=d.slice(m,m+f),a.C=m+f,d)))}Xn.prototype.cancel=function(){this.J=!0,qr(this)};function Fc(a){a.S=Date.now()+a.I,YE(a,a.I)}function YE(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Ls(g(a.ba,a),d)}function af(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Xn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(FR(this.i,this.A),this.L!=2&&(Fs(),it(17)),qr(this),this.s=2,js(this)):YE(this,this.S-a)};function js(a){a.j.G==0||a.J||wI(a.j,a)}function qr(a){af(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,VE(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function cf(a,d){try{var f=a.j;if(f.G!=0&&(f.g==a||uf(f.h,a))){if(!a.K&&uf(f.h,a)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var b=m;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)qc(f),$c(f);else break e;ff(f),it(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ls(g(f.Za,f),6e3));if(1>=XE(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Gr(f,11)}else if((a.K||f.g==a)&&qc(f),!j(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let ae=b[d];if(f.T=ae[0],ae=ae[1],f.G==2)if(ae[0]=="c"){f.K=ae[1],f.ia=ae[2];let Xe=ae[3];Xe!=null&&(f.la=Xe,f.j.info("VER="+f.la));let et=ae[4];et!=null&&(f.Aa=et,f.j.info("SVER="+f.Aa));let Xi=ae[5];Xi!=null&&typeof Xi=="number"&&0<Xi&&(m=1.5*Xi,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let Bt=a.g;if(Bt){let Gc=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gc){var S=m.h;S.g||Gc.indexOf("spdy")==-1&&Gc.indexOf("quic")==-1&&Gc.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(lf(S,S.h),S.h=null))}if(m.D){let gf=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;gf&&(m.ya=gf,ve(m.I,m.D,gf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var x=a;if(m.qa=bI(m,m.J?m.ia:null,m.W),x.K){eI(m.h,x);var ge=x,Qe=m.L;Qe&&(ge.I=Qe),ge.B&&(af(ge),Fc(ge)),m.g=x}else EI(m);0<f.i.length&&Hc(f)}else ae[0]!="stop"&&ae[0]!="close"||Gr(f,7);else f.G==3&&(ae[0]=="stop"||ae[0]=="close"?ae[0]=="stop"?Gr(f,7):hf(f):ae[0]!="noop"&&f.l&&f.l.ta(ae),f.v=0)}}Fs(4)}catch{}}var jR=class{constructor(a,d){this.g=a,this.map=d}};function ZE(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function JE(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function XE(a){return a.h?1:a.g?a.g.size:0}function uf(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function lf(a,d){a.g?a.g.add(d):a.h=d}function eI(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}ZE.prototype.cancel=function(){if(this.i=tI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function tI(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let f of a.g.values())d=d.concat(f.D);return d}return A(a.i)}function BR(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],f=a.length,m=0;m<f;m++)d.push(a[m]);return d}d=[],f=0;for(m in a)d[f++]=a[m];return d}function UR(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var f=0;f<a;f++)d.push(f);return d}d=[],f=0;for(let m in a)d[f++]=m;return d}}}function nI(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var f=UR(a),m=BR(a),b=m.length,S=0;S<b;S++)d.call(void 0,m[S],f&&f[S],a)}var rI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $R(a,d){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var m=a[f].indexOf("="),b=null;if(0<=m){var S=a[f].substring(0,m);b=a[f].substring(m+1)}else S=a[f];d(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function zr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof zr){this.h=a.h,Lc(this,a.j),this.o=a.o,this.g=a.g,Vc(this,a.s),this.l=a.l;var d=a.i,f=new $s;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),iI(this,f),this.m=a.m}else a&&(d=String(a).match(rI))?(this.h=!1,Lc(this,d[1]||"",!0),this.o=Bs(d[2]||""),this.g=Bs(d[3]||"",!0),Vc(this,d[4]),this.l=Bs(d[5]||"",!0),iI(this,d[6]||"",!0),this.m=Bs(d[7]||"")):(this.h=!1,this.i=new $s(null,this.h))}zr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Us(d,oI,!0),":");var f=this.g;return(f||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Us(d,oI,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(Us(f,f.charAt(0)=="/"?zR:qR,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",Us(f,WR)),a.join("")};function Mn(a){return new zr(a)}function Lc(a,d,f){a.j=f?Bs(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Vc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function iI(a,d,f){d instanceof $s?(a.i=d,KR(a.i,a.h)):(f||(d=Us(d,GR)),a.i=new $s(d,a.h))}function ve(a,d,f){a.i.set(d,f)}function jc(a){return ve(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Bs(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Us(a,d,f){return typeof a=="string"?(a=encodeURI(a).replace(d,HR),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function HR(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var oI=/[#\/\?@]/g,qR=/[#\?:]/g,zR=/[#\?]/g,GR=/[#\?@]/g,WR=/#/g;function $s(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function er(a){a.g||(a.g=new Map,a.h=0,a.i&&$R(a.i,function(d,f){a.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=$s.prototype,t.add=function(a,d){er(this),this.i=null,a=Zi(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(d),this.h+=1,this};function sI(a,d){er(a),d=Zi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function aI(a,d){return er(a),d=Zi(a,d),a.g.has(d)}t.forEach=function(a,d){er(this),this.g.forEach(function(f,m){f.forEach(function(b){a.call(d,b,m,this)},this)},this)},t.na=function(){er(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let b=a[m];for(let S=0;S<b.length;S++)f.push(d[m])}return f},t.V=function(a){er(this);let d=[];if(typeof a=="string")aI(this,a)&&(d=d.concat(this.g.get(Zi(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)d=d.concat(a[f])}return d},t.set=function(a,d){return er(this),this.i=null,a=Zi(this,a),aI(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function cI(a,d,f){sI(a,d),0<f.length&&(a.i=null,a.g.set(Zi(a,d),A(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let S=encodeURIComponent(String(m)),x=this.V(m);for(m=0;m<x.length;m++){var b=S;x[m]!==""&&(b+="="+encodeURIComponent(String(x[m]))),a.push(b)}}return this.i=a.join("&")};function Zi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function KR(a,d){d&&!a.j&&(er(a),a.i=null,a.g.forEach(function(f,m){var b=m.toLowerCase();m!=b&&(sI(this,m),cI(this,b,f))},a)),a.j=d}function QR(a,d){let f=new Vs;if(c.Image){let m=new Image;m.onload=y(tr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=y(tr,f,"TestLoadImage: error",!1,d,m),m.onabort=y(tr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(tr,f,"TestLoadImage: timeout",!1,d,m),c.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=a}else d(!1)}function YR(a,d){let f=new Vs,m=new AbortController,b=setTimeout(()=>{m.abort(),tr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:m.signal}).then(S=>{clearTimeout(b),S.ok?tr(f,"TestPingServer: ok",!0,d):tr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),tr(f,"TestPingServer: error",!1,d)})}function tr(a,d,f,m,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),m(f)}catch{}}function ZR(){this.g=new xR}function JR(a,d,f){let m=f||"";try{nI(a,function(b,S){let x=b;l(b)&&(x=Xh(b)),d.push(m+S+"="+encodeURIComponent(x))})}catch(b){throw d.push(m+"type="+encodeURIComponent("_badmap")),b}}function Hs(a){this.l=a.Ub||null,this.j=a.eb||!1}I(Hs,ef),Hs.prototype.g=function(){return new Bc(this.l,this.j)},Hs.prototype.i=function(a){return function(){return a}}({});function Bc(a,d){Je.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Bc,Je),t=Bc.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,zs(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qs(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,zs(this)),this.g&&(this.readyState=3,zs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uI(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function uI(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?qs(this):zs(this),this.readyState==3&&uI(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,qs(this))},t.Qa=function(a){this.g&&(this.response=a,qs(this))},t.ga=function(){this.g&&qs(this)};function qs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,zs(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=d.next();return a.join(`\r
`)};function zs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Bc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function lI(a){let d="";return pe(a,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function df(a,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=lI(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):ve(a,d,f))}function Te(a){Je.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Te,Je);var XR=/^https?$/i,eM=["POST","PUT"];t=Te.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rf.g(),this.v=this.o?jE(this.o):jE(rf),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){dI(this,S);return}if(a=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var b in m)f.set(b,m[b]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let S of m.keys())f.set(S,m.get(S));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),b=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(eM,d,void 0))||m||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,x]of f)this.g.setRequestHeader(S,x);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pI(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){dI(this,S)}};function dI(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,hI(a),Uc(a)}function hI(a){a.A||(a.A=!0,rt(a,"complete"),rt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,rt(this,"complete"),rt(this,"abort"),Uc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Uc(this,!0)),Te.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?fI(this):this.bb())},t.bb=function(){fI(this)};function fI(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Pn(a)!=4||a.Z()!=2)){if(a.u&&Pn(a)==4)OE(a.Ea,0,a);else if(rt(a,"readystatechange"),Pn(a)==4){a.h=!1;try{let x=a.Z();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=x===0){var b=String(a.D).match(rI)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),m=!XR.test(b?b.toLowerCase():"")}f=m}if(f)rt(a,"complete"),rt(a,"success");else{a.m=6;try{var S=2<Pn(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",hI(a)}}finally{Uc(a)}}}}function Uc(a,d){if(a.g){pI(a);let f=a.g,m=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||rt(a,"ready");try{f.onreadystatechange=m}catch{}}}function pI(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Pn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),PR(d)}};function gI(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function tM(a){let d={};a=(a.g&&2<=Pn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<a.length;m++){if(j(a[m]))continue;var f=T(a[m]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[b]||[];d[b]=S,S.push(f)}D(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gs(a,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||d}function mI(a){this.Aa=0,this.i=[],this.j=new Vs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gs("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gs("baseRetryDelayMs",5e3,a),this.cb=Gs("retryDelaySeedMs",1e4,a),this.Wa=Gs("forwardChannelMaxRetries",2,a),this.wa=Gs("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new ZE(a&&a.concurrentRequestLimit),this.Da=new ZR,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=mI.prototype,t.la=8,t.G=1,t.connect=function(a,d,f,m){it(0),this.W=a,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=bI(this,null,this.W),Hc(this)};function hf(a){if(yI(a),a.G==3){var d=a.U++,f=Mn(a.I);if(ve(f,"SID",a.K),ve(f,"RID",d),ve(f,"TYPE","terminate"),Ws(a,f),d=new Xn(a,a.j,d),d.L=2,d.v=jc(Mn(f)),f=!1,c.navigator&&c.navigator.sendBeacon)try{f=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&c.Image&&(new Image().src=d.v,f=!0),f||(d.g=CI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Fc(d)}TI(a)}function $c(a){a.g&&(pf(a),a.g.cancel(),a.g=null)}function yI(a){$c(a),a.u&&(c.clearTimeout(a.u),a.u=null),qc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Hc(a){if(!JE(a.h)&&!a.s){a.s=!0;var d=a.Ga;Rs||NE(),Ms||(Rs(),Ms=!0),qh.add(d,a),a.B=0}}function nM(a,d){return XE(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Ls(g(a.Ga,a,d),DI(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new Xn(this,this.j,a),S=this.o;if(this.S&&(S?(S=v(S),w(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=_I(this,b,d),f=Mn(this.I),ve(f,"RID",a),ve(f,"CVER",22),this.D&&ve(f,"X-HTTP-Session-Id",this.D),Ws(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(lI(S)))+"&"+d:this.m&&df(f,this.m,S)),lf(this.h,b),this.Ua&&ve(f,"TYPE","init"),this.P?(ve(f,"$req",d),ve(f,"SID","null"),b.T=!0,sf(b,f,null)):sf(b,f,d),this.G=2}}else this.G==3&&(a?vI(this,a):this.i.length==0||JE(this.h)||vI(this))};function vI(a,d){var f;d?f=d.l:f=a.U++;let m=Mn(a.I);ve(m,"SID",a.K),ve(m,"RID",f),ve(m,"AID",a.T),Ws(a,m),a.m&&a.o&&df(m,a.m,a.o),f=new Xn(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),d&&(a.i=d.D.concat(a.i)),d=_I(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),lf(a.h,f),sf(f,m,d)}function Ws(a,d){a.H&&pe(a.H,function(f,m){ve(d,m,f)}),a.l&&nI({},function(f,m){ve(d,m,f)})}function _I(a,d,f){f=Math.min(a.i.length,f);var m=a.l?g(a.l.Na,a.l,a):null;e:{var b=a.i;let S=-1;for(;;){let x=["count="+f];S==-1?0<f?(S=b[0].g,x.push("ofs="+S)):S=0:x.push("ofs="+S);let ge=!0;for(let Qe=0;Qe<f;Qe++){let ae=b[Qe].g,Xe=b[Qe].map;if(ae-=S,0>ae)S=Math.max(0,b[Qe].g-100),ge=!1;else try{JR(Xe,x,"req"+ae+"_")}catch{m&&m(Xe)}}if(ge){m=x.join("&");break e}}}return a=a.i.splice(0,f),d.D=a,m}function EI(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Rs||NE(),Ms||(Rs(),Ms=!0),qh.add(d,a),a.v=0}}function ff(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Ls(g(a.Fa,a),DI(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,II(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Ls(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),$c(this),II(this))};function pf(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function II(a){a.g=new Xn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Mn(a.qa);ve(d,"RID","rpc"),ve(d,"SID",a.K),ve(d,"AID",a.T),ve(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&ve(d,"TO",a.ja),ve(d,"TYPE","xmlhttp"),Ws(a,d),a.m&&a.o&&df(d,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=jc(Mn(d)),f.m=null,f.P=!0,KE(f,a)}t.Za=function(){this.C!=null&&(this.C=null,$c(this),ff(this),it(19))};function qc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function wI(a,d){var f=null;if(a.g==d){qc(a),pf(a),a.g=null;var m=2}else if(uf(a.h,d))f=d.D,eI(a.h,d),m=1;else return;if(a.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=a.B;m=xc(),rt(m,new qE(m,f)),Hc(a)}else EI(a);else if(b=d.s,b==3||b==0&&0<d.X||!(m==1&&nM(a,d)||m==2&&ff(a)))switch(f&&0<f.length&&(d=a.h,d.i=d.i.concat(f)),b){case 1:Gr(a,5);break;case 4:Gr(a,10);break;case 3:Gr(a,6);break;default:Gr(a,2)}}}function DI(a,d){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*d}function Gr(a,d){if(a.j.info("Error code "+d),d==2){var f=g(a.fb,a),m=a.Xa;let b=!m;m=new zr(m||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Lc(m,"https"),jc(m),b?QR(m.toString(),f):YR(m.toString(),f)}else it(2);a.G=0,a.l&&a.l.sa(d),TI(a),yI(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function TI(a){if(a.G=0,a.ka=[],a.l){let d=tI(a.h);(d.length!=0||a.i.length!=0)&&(N(a.ka,d),N(a.ka,a.i),a.h.i.length=0,A(a.i),a.i.length=0),a.l.ra()}}function bI(a,d,f){var m=f instanceof zr?Mn(f):new zr(f);if(m.g!="")d&&(m.g=d+"."+m.g),Vc(m,m.s);else{var b=c.location;m=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var S=new zr(null);m&&Lc(S,m),d&&(S.g=d),b&&Vc(S,b),f&&(S.l=f),m=S}return f=a.D,d=a.ya,f&&d&&ve(m,f,d),ve(m,"VER",a.la),Ws(a,m),m}function CI(a,d,f){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Te(new Hs({eb:f})):new Te(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function AI(){}t=AI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function zc(){}zc.prototype.g=function(a,d){return new _t(a,d)};function _t(a,d){Je.call(this),this.g=new mI(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!j(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!j(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Ji(this)}I(_t,Je),_t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_t.prototype.close=function(){hf(this.g)},_t.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=Xh(a),a=f);d.i.push(new jR(d.Ya++,a)),d.G==3&&Hc(d)},_t.prototype.N=function(){this.g.l=null,delete this.j,hf(this.g),delete this.g,_t.aa.N.call(this)};function SI(a){tf.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let f in d){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}I(SI,tf);function NI(){nf.call(this),this.status=1}I(NI,nf);function Ji(a){this.g=a}I(Ji,AI),Ji.prototype.ua=function(){rt(this.g,"a")},Ji.prototype.ta=function(a){rt(this.g,new SI(a))},Ji.prototype.sa=function(a){rt(this.g,new NI)},Ji.prototype.ra=function(){rt(this.g,"b")},zc.prototype.createWebChannel=zc.prototype.g,_t.prototype.send=_t.prototype.o,_t.prototype.open=_t.prototype.m,_t.prototype.close=_t.prototype.close,Wy=zn.createWebChannelTransport=function(){return new zc},Gy=zn.getStatEventTarget=function(){return xc()},zy=zn.Event=Hr,Md=zn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kc.NO_ERROR=0,kc.TIMEOUT=8,kc.HTTP_ERROR=6,ec=zn.ErrorCode=kc,zE.COMPLETE="complete",qy=zn.EventType=zE,BE.EventType=Os,Os.OPEN="a",Os.CLOSE="b",Os.ERROR="c",Os.MESSAGE="d",Je.prototype.listen=Je.prototype.K,es=zn.WebChannel=BE,GB=zn.FetchXmlHttpFactory=Hs,Te.prototype.listenOnce=Te.prototype.L,Te.prototype.getLastError=Te.prototype.Ka,Te.prototype.getLastErrorCode=Te.prototype.Ba,Te.prototype.getStatus=Te.prototype.Z,Te.prototype.getResponseJson=Te.prototype.Oa,Te.prototype.getResponseText=Te.prototype.oa,Te.prototype.send=Te.prototype.ea,Te.prototype.setWithCredentials=Te.prototype.Ha,Hy=zn.XhrIo=Te}).apply(typeof Rd<"u"?Rd:typeof self<"u"?self:typeof window<"u"?window:{});var dS="@firebase/firestore",hS="4.8.0";var Ge=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");var Is="11.10.0";var Ui=new yn("@firebase/firestore");function ts(){return Ui.logLevel}function F(t,...e){if(Ui.logLevel<=re.DEBUG){let n=e.map(L_);Ui.debug(`Firestore (${Is}): ${t}`,...n)}}function Gn(t,...e){if(Ui.logLevel<=re.ERROR){let n=e.map(L_);Ui.error(`Firestore (${Is}): ${t}`,...n)}}function Fr(t,...e){if(Ui.logLevel<=re.WARN){let n=e.map(L_);Ui.warn(`Firestore (${Is}): ${t}`,...n)}}function L_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function U(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,r0(t,r,n)}function r0(t,e,n){let r=`FIRESTORE (${Is}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Gn(r),new Error(r)}function fe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||r0(e,i,r)}function Y(t,e){return t}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},k=class extends Ct{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var In=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Vd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Jy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ge.UNAUTHENTICATED))}shutdown(){}},Xy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},ev=class{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){fe(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new In;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new In,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},c=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new In)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fe(typeof r.accessToken=="string",31837,{l:r}),new Vd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return fe(e===null||typeof e=="string",2055,{h:e}),new Ge(e)}},tv=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},nv=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new tv(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}},jd=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},rv=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,At(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){fe(this.o===void 0,3512);let r=o=>{o.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,F("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new jd(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new jd(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function WB(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function i0(){return new TextEncoder}var oc=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=WB(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function ee(t,e){return t<e?-1:t>e?1:0}function iv(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ee(r,i);{let o=i0(),s=KB(o.encode(fS(t,n)),o.encode(fS(e,n)));return s!==0?s:ee(r,i)}}n+=r>65535?2:1}return ee(t.length,e.length)}function fS(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function KB(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ee(t[n],e[n]);return ee(t.length,e.length)}function us(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var pS="__name__",Bd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&U(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&U(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ee(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):iv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qn.fromString(e.substring(4,e.length-2))}},_e=class t extends Bd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new k(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},QB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Nt=class t extends Bd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return QB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pS}static keyField(){return new t([pS])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new k(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new k(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new k(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new k(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var V=class t{constructor(e){this.path=e}static fromPath(e){return new t(_e.fromString(e))}static fromName(e){return new t(_e.fromString(e).popFirst(5))}static empty(){return new t(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new _e(e.slice()))}};function o0(t,e,n){if(!n)throw new k(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YB(t,e,n,r){if(e===!0&&r===!0)throw new k(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gS(t){if(!V.isDocumentKey(t))throw new k(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mS(t){if(V.isDocumentKey(t))throw new k(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function s0(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function _h(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":U(12329,{type:typeof t})}function jt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new k(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=_h(t);throw new k(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function ZB(t,e){if(e<=0)throw new k(R.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Ve(t,e){let n={typeString:t};return e&&(n.value=e),n}function _c(t,e){if(!s0(t))throw new k(R.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new k(R.INVALID_ARGUMENT,n);return!0}var yS=-62135596800,vS=1e6,je=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*vS);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new k(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new k(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<yS)throw new k(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new k(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vS}_compareTo(e){return this.seconds===e.seconds?ee(this.nanoseconds,e.nanoseconds):ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_c(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-yS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};je._jsonSchemaVersion="firestore/timestamp/1.0",je._jsonSchema={type:Ve("string",je._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};var Z=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new je(0,0))}static max(){return new t(new je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var sc=-1,ov=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};ov.UNKNOWN_ID=-1;function JB(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(r===1e9?new je(n+1,0):new je(n,r));return new $i(i,V.empty(),e)}function XB(t){return new $i(t.readTime,t.key,sc)}var $i=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Z.min(),V.empty(),sc)}static max(){return new t(Z.max(),V.empty(),sc)}};function eU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=V.comparator(t.documentKey,e.documentKey),n!==0?n:ee(t.largestBatchId,e.largestBatchId))}var tU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function ws(t){if(t.code!==R.FAILED_PRECONDITION||t.message!==tU)throw t;F("LocalStore","Unexpectedly lost primary lease")}var M=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&U(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++c,c===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function nU(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ds(t){return t.name==="IndexedDbTransactionError"}var V_=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),j_=-1;function Eh(t){return t==null}function ac(t){return t===0&&1/t==-1/0}function rU(t){return typeof t=="number"&&Number.isInteger(t)&&!ac(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var a0="";function iU(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=_S(e)),e=oU(t.get(n),e);return _S(e)}function oU(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case a0:n+="";break;default:n+=o}}return n}function _S(t){return t+a0+""}var sU="remoteDocuments",c0="owner";var u0="mutationQueues";var l0="mutations";var d0="documentMutations",aU="remoteDocumentsV14";var h0="remoteDocumentGlobal";var f0="targets";var p0="targetDocuments";var g0="targetGlobal",m0="collectionParents";var y0="clientMetadata";var v0="bundles";var _0="namedQueries";var cU="indexConfiguration";var uU="indexState";var lU="indexEntries";var E0="documentOverlays";var dU="globals";var hU=[u0,l0,d0,sU,f0,c0,g0,p0,y0,h0,m0,v0,_0],vte=[...hU,E0],fU=[u0,l0,d0,aU,f0,c0,g0,p0,y0,h0,m0,v0,_0,E0],pU=fU,gU=[...pU,cU,uU,lU];var _te=[...gU,dU];function ES(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ur(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function I0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ce=class t{constructor(e,n){this.comparator=e,this.root=n||wn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new os(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new os(this.root,e,this.comparator,!1)}getReverseIterator(){return new os(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new os(this.root,e,this.comparator,!0)}},os=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},wn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw U(43730,{key:this.key,value:this.value});if(this.right.isRed())throw U(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw U(27949);return e+(this.isRed()?0:1)}};wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw U(57766)}get value(){throw U(16141)}get color(){throw U(16727)}get left(){throw U(29726)}get right(){throw U(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new wn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var We=class t{constructor(e){this.comparator=e,this.data=new Ce(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ud(this.data.getIterator())}getIteratorFrom(e){return new Ud(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Ud=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Vt=class t{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new t([])}unionWith(e){let n=new We(Nt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return us(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var $d=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var nt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new $d("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};nt.EMPTY_BYTE_STRING=new nt("");var mU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wn(t){if(fe(!!t,39018),typeof t=="string"){let e=0,n=mU.exec(t);if(fe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:we(t.seconds),nanos:we(t.nanos)}}function we(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Kn(t){return typeof t=="string"?nt.fromBase64String(t):nt.fromUint8Array(t)}var w0="server_timestamp",D0="__type__",T0="__previous_value__",b0="__local_write_time__";function Ih(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[D0])===null||n===void 0?void 0:n.stringValue)===w0}function wh(t){let e=t.mapValue.fields[T0];return Ih(e)?wh(e):e}function cc(t){let e=Wn(t.mapValue.fields[b0].timestampValue);return new je(e.seconds,e.nanos)}var av=class{constructor(e,n,r,i,o,s,c,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},Hd="(default)",qd=class t{constructor(e,n){this.projectId=e,this.database=n||Hd}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Hd}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var B_="__type__",C0="__max__",Pd={mapValue:{fields:{__type__:{stringValue:C0}}}},U_="__vector__",ls="value";function Lr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ih(t)?4:S0(t)?9007199254740991:A0(t)?10:11:U(28295,{value:t})}function Cn(t,e){if(t===e)return!0;let n=Lr(t);if(n!==Lr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cc(t).isEqual(cc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Wn(i.timestampValue),c=Wn(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Kn(i.bytesValue).isEqual(Kn(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return we(i.geoPointValue.latitude)===we(o.geoPointValue.latitude)&&we(i.geoPointValue.longitude)===we(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return we(i.integerValue)===we(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=we(i.doubleValue),c=we(o.doubleValue);return s===c?ac(s)===ac(c):isNaN(s)&&isNaN(c)}return!1}(t,e);case 9:return us(t.arrayValue.values||[],e.arrayValue.values||[],Cn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(ES(s)!==ES(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!Cn(s[u],c[u])))return!1;return!0}(t,e);default:return U(52216,{left:t})}}function uc(t,e){return(t.values||[]).find(n=>Cn(n,e))!==void 0}function ds(t,e){if(t===e)return 0;let n=Lr(t),r=Lr(e);if(n!==r)return ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ee(t.booleanValue,e.booleanValue);case 2:return function(o,s){let c=we(o.integerValue||o.doubleValue),u=we(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return IS(t.timestampValue,e.timestampValue);case 4:return IS(cc(t),cc(e));case 5:return iv(t.stringValue,e.stringValue);case 6:return function(o,s){let c=Kn(o),u=Kn(s);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let h=ee(c[l],u[l]);if(h!==0)return h}return ee(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let c=ee(we(o.latitude),we(s.latitude));return c!==0?c:ee(we(o.longitude),we(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return wS(t.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,l,h;let p=o.fields||{},g=s.fields||{},y=(c=p[ls])===null||c===void 0?void 0:c.arrayValue,I=(u=g[ls])===null||u===void 0?void 0:u.arrayValue,A=ee(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=I?.values)===null||h===void 0?void 0:h.length)||0);return A!==0?A:wS(y,I)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Pd.mapValue&&s===Pd.mapValue)return 0;if(o===Pd.mapValue)return 1;if(s===Pd.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=iv(u[p],h[p]);if(g!==0)return g;let y=ds(c[u[p]],l[h[p]]);if(y!==0)return y}return ee(u.length,h.length)}(t.mapValue,e.mapValue);default:throw U(23264,{le:n})}}function IS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ee(t,e);let n=Wn(t),r=Wn(e),i=ee(n.seconds,r.seconds);return i!==0?i:ee(n.nanos,r.nanos)}function wS(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=ds(n[i],r[i]);if(o)return o}return ee(n.length,r.length)}function hs(t){return cv(t)}function cv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Wn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Kn(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return V.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=cv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${cv(n.fields[s])}`;return i+"}"}(t.mapValue):U(61005,{value:t})}function Od(t){switch(Lr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=wh(t);return e?16+Od(e):16;case 5:return 2*t.stringValue.length;case 6:return Kn(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Od(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ur(r.fields,(o,s)=>{i+=o.length+Od(s)}),i}(t.mapValue);default:throw U(13486,{value:t})}}function zd(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function uv(t){return!!t&&"integerValue"in t}function $_(t){return!!t&&"arrayValue"in t}function DS(t){return!!t&&"nullValue"in t}function TS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fd(t){return!!t&&"mapValue"in t}function A0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[B_])===null||n===void 0?void 0:n.stringValue)===U_}function nc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ur(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function S0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===C0}var Ite={mapValue:{fields:{[B_]:{stringValue:U_},[ls]:{arrayValue:{}}}}};var St=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nc(n)}setAll(e){let n=Nt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=nc(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Fd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Fd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ur(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(nc(this.value))}};function N0(t){let e=[];return Ur(t.fields,(n,r)=>{let i=new Nt([n]);if(Fd(r)){let o=N0(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Vt(e)}var rn=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,Z.min(),Z.min(),Z.min(),St.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Z.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Z.min(),Z.min(),St.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Z.min(),Z.min(),St.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=St.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=St.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Vr=class{constructor(e,n){this.position=e,this.inclusive=n}};function bS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=V.comparator(V.fromName(s.referenceValue),n.key):r=ds(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function CS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cn(t.position[n],e.position[n]))return!1;return!0}var Hi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function yU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Gd=class{},Le=class t extends Gd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new dv(e,n,r):n==="array-contains"?new pv(e,r):n==="in"?new gv(e,r):n==="not-in"?new mv(e,r):n==="array-contains-any"?new yv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new hv(e,r):new fv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ds(n,this.value)):n!==null&&Lr(this.value)===Lr(n)&&this.matchesComparison(ds(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return U(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},on=class t extends Gd{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return R0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function R0(t){return t.op==="and"}function M0(t){return vU(t)&&R0(t)}function vU(t){for(let e of t.filters)if(e instanceof on)return!1;return!0}function lv(t){if(t instanceof Le)return t.field.canonicalString()+t.op.toString()+hs(t.value);if(M0(t))return t.filters.map(e=>lv(e)).join(",");{let e=t.filters.map(n=>lv(n)).join(",");return`${t.op}(${e})`}}function P0(t,e){return t instanceof Le?function(r,i){return i instanceof Le&&r.op===i.op&&r.field.isEqual(i.field)&&Cn(r.value,i.value)}(t,e):t instanceof on?function(r,i){return i instanceof on&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&P0(s,i.filters[c]),!0):!1}(t,e):void U(19439)}function x0(t){return t instanceof Le?function(n){return`${n.field.canonicalString()} ${n.op} ${hs(n.value)}`}(t):t instanceof on?function(n){return n.op.toString()+" {"+n.getFilters().map(x0).join(" ,")+"}"}(t):"Filter"}var dv=class extends Le{constructor(e,n,r){super(e,n,r),this.key=V.fromName(r.referenceValue)}matches(e){let n=V.comparator(e.key,this.key);return this.matchesComparison(n)}},hv=class extends Le{constructor(e,n){super(e,"in",n),this.keys=k0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},fv=class extends Le{constructor(e,n){super(e,"not-in",n),this.keys=k0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function k0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>V.fromName(r.referenceValue))}var pv=class extends Le{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return $_(n)&&uc(n.arrayValue,this.value)}},gv=class extends Le{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&uc(this.value.arrayValue,n)}},mv=class extends Le{constructor(e,n){super(e,"not-in",n)}matches(e){if(uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!uc(this.value.arrayValue,n)}},yv=class extends Le{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!$_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>uc(this.value.arrayValue,r))}};var vv=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Pe=null}};function AS(t,e=null,n=[],r=[],i=null,o=null,s=null){return new vv(t,e,n,r,i,o,s)}function H_(t){let e=Y(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>lv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Eh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>hs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>hs(r)).join(",")),e.Pe=n}return e.Pe}function q_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!yU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!P0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!CS(t.startAt,e.startAt)&&CS(t.endAt,e.endAt)}function _v(t){return V.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Qn=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function _U(t,e,n,r,i,o,s,c){return new Qn(t,e,n,r,i,o,s,c)}function z_(t){return new Qn(t)}function SS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function G_(t){return t.collectionGroup!==null}function ss(t){let e=Y(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new We(Nt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Hi(o,r))}),n.has(Nt.keyField().canonicalString())||e.Te.push(new Hi(Nt.keyField(),r))}return e.Te}function Dn(t){let e=Y(t);return e.Ie||(e.Ie=EU(e,ss(t))),e.Ie}function EU(t,e){if(t.limitType==="F")return AS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Hi(i.field,o)});let n=t.endAt?new Vr(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vr(t.startAt.position,t.startAt.inclusive):null;return AS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ev(t,e){let n=t.filters.concat([e]);return new Qn(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Wd(t,e,n){return new Qn(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dh(t,e){return q_(Dn(t),Dn(e))&&t.limitType===e.limitType}function O0(t){return`${H_(Dn(t))}|lt:${t.limitType}`}function ns(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>x0(i)).join(", ")}]`),Eh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>hs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>hs(i)).join(",")),`Target(${r})`}(Dn(t))}; limitType=${t.limitType})`}function Th(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):V.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of ss(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let l=bS(s,c,u);return s.inclusive?l<=0:l<0}(r.startAt,ss(r),i)||r.endAt&&!function(s,c,u){let l=bS(s,c,u);return s.inclusive?l>=0:l>0}(r.endAt,ss(r),i))}(t,e)}function IU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function F0(t){return(e,n)=>{let r=!1;for(let i of ss(t)){let o=wU(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function wU(t,e,n){let r=t.field.isKeyField()?V.comparator(e.key,n.key):function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?ds(u,l):U(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return U(19790,{direction:t.dir})}}var Yn=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ur(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return I0(this.inner)}size(){return this.innerSize}};var DU=new Ce(V.comparator);function Zn(){return DU}var L0=new Ce(V.comparator);function tc(...t){let e=L0;for(let n of t)e=e.insert(n.key,n);return e}function V0(t){let e=L0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fi(){return rc()}function j0(){return rc()}function rc(){return new Yn(t=>t.toString(),(t,e)=>t.isEqual(e))}var TU=new Ce(V.comparator),bU=new We(V.comparator);function ie(...t){let e=bU;for(let n of t)e=e.add(n);return e}var CU=new We(ee);function AU(){return CU}function W_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ac(e)?"-0":e}}function B0(t){return{integerValue:""+t}}function SU(t,e){return rU(e)?B0(e):W_(t,e)}var fs=class{constructor(){this._=void 0}};function NU(t,e,n){return t instanceof ps?function(i,o){let s={fields:{[D0]:{stringValue:w0},[b0]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Ih(o)&&(o=wh(o)),o&&(s.fields[T0]=o),{mapValue:s}}(n,e):t instanceof qi?$0(t,e):t instanceof zi?H0(t,e):function(i,o){let s=U0(i,o),c=NS(s)+NS(i.Ee);return uv(s)&&uv(i.Ee)?B0(c):W_(i.serializer,c)}(t,e)}function RU(t,e,n){return t instanceof qi?$0(t,e):t instanceof zi?H0(t,e):n}function U0(t,e){return t instanceof gs?function(r){return uv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var ps=class extends fs{},qi=class extends fs{constructor(e){super(),this.elements=e}};function $0(t,e){let n=q0(e);for(let r of t.elements)n.some(i=>Cn(i,r))||n.push(r);return{arrayValue:{values:n}}}var zi=class extends fs{constructor(e){super(),this.elements=e}};function H0(t,e){let n=q0(e);for(let r of t.elements)n=n.filter(i=>!Cn(i,r));return{arrayValue:{values:n}}}var gs=class extends fs{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function NS(t){return we(t.integerValue||t.doubleValue)}function q0(t){return $_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function MU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof qi&&i instanceof qi||r instanceof zi&&i instanceof zi?us(r.elements,i.elements,Cn):r instanceof gs&&i instanceof gs?Cn(r.Ee,i.Ee):r instanceof ps&&i instanceof ps}(t.transform,e.transform)}var Iv=class{constructor(e,n){this.version=e,this.transformResults=n}},Tn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ld(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ms=class{};function z0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new lc(t.key,Tn.none()):new Gi(t.key,t.data,Tn.none());{let n=t.data,r=St.empty(),i=new We(Nt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new An(t.key,r,new Vt(i.toArray()),Tn.none())}}function PU(t,e,n){t instanceof Gi?function(i,o,s){let c=i.value.clone(),u=MS(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):t instanceof An?function(i,o,s){if(!Ld(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=MS(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(G0(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ic(t,e,n,r){return t instanceof Gi?function(o,s,c,u){if(!Ld(o.precondition,s))return c;let l=o.value.clone(),h=PS(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof An?function(o,s,c,u){if(!Ld(o.precondition,s))return c;let l=PS(o.fieldTransforms,u,s),h=s.data;return h.setAll(G0(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,c){return Ld(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(t,e,n)}function xU(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=U0(r.transform,i||null);o!=null&&(n===null&&(n=St.empty()),n.set(r.field,o))}return n||null}function RS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&us(r,i,(o,s)=>MU(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Gi=class extends ms{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},An=class extends ms{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function G0(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function MS(t,e,n){let r=new Map;fe(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,RU(s,c,n[i]))}return r}function PS(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,NU(o,s,e))}return r}var lc=class extends ms{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},wv=class extends ms{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Dv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&PU(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ic(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ic(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=j0();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let u=z0(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ie())}isEqual(e){return this.batchId===e.batchId&&us(this.mutations,e.mutations,(n,r)=>RS(n,r))&&us(this.baseMutations,e.baseMutations,(n,r)=>RS(n,r))}},Tv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){fe(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return TU}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var bv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Cv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Oe,oe;function kU(t){switch(t){case R.OK:return U(64938);case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0;default:return U(15467,{code:t})}}function W0(t){if(t===void 0)return Gn("GRPC error has no .code"),R.UNKNOWN;switch(t){case Oe.OK:return R.OK;case Oe.CANCELLED:return R.CANCELLED;case Oe.UNKNOWN:return R.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return R.INTERNAL;case Oe.UNAVAILABLE:return R.UNAVAILABLE;case Oe.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Oe.NOT_FOUND:return R.NOT_FOUND;case Oe.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Oe.ABORTED:return R.ABORTED;case Oe.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Oe.DATA_LOSS:return R.DATA_LOSS;default:return U(39323,{code:t})}}(oe=Oe||(Oe={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";var xS=null;var OU=new qn([4294967295,4294967295],0);function kS(t){let e=i0().encode(t),n=new $y;return n.update(e),new Uint8Array(n.digest())}function OS(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new qn([n,r],0),new qn([i,o],0)]}var Av=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Li(`Invalid padding: ${n}`);if(r<0)throw new Li(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Li(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Li(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=qn.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(qn.fromNumber(r)));return i.compare(OU)===1&&(i=new qn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let n=kS(e),[r,i]=OS(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.fe===0)return;let n=kS(e),[r,i]=OS(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Li=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Kd=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,dc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(Z.min(),i,new Ce(ee),Zn(),ie())}},dc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ie(),ie(),ie())}};var as=class{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}},Qd=class{constructor(e,n){this.targetId=e,this.De=n}},Yd=class{constructor(e,n,r=nt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Zd=class{constructor(){this.ve=0,this.Ce=FS(),this.Fe=nt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ie(),n=ie(),r=ie();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:U(38017,{changeType:o})}}),new dc(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=FS()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,fe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},Sv=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Zn(),this.je=xd(),this.Je=xd(),this.He=new Ce(ee)}Ye(e){for(let n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(let n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{let r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:U(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){let n=e.targetId,r=e.De.count,i=this.st(n);if(i){let o=i.target;if(_v(o))if(r===0){let s=new V(o.path);this.Xe(n,s,rn.newNoDocument(s,Z.min()))}else fe(r===1,20013,{expectedCount:r});else{let s=this.ot(n);if(s!==r){let c=this._t(e),u=c?this.ut(c,e,s):1;if(u!==0){this.rt(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,l)}xS?.ct(function(h,p,g,y,I){var A,N,P,j,K,de;let Ae={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},pe=p.unchangedNames;return pe&&(Ae.bloomFilter={applied:I===0,hashCount:(A=pe?.hashCount)!==null&&A!==void 0?A:0,bitmapLength:(j=(P=(N=pe?.bits)===null||N===void 0?void 0:N.bitmap)===null||P===void 0?void 0:P.length)!==null&&j!==void 0?j:0,padding:(de=(K=pe?.bits)===null||K===void 0?void 0:K.padding)!==null&&de!==void 0?de:0,mightContain:D=>{var v;return(v=y?.mightContain(D))!==null&&v!==void 0&&v}}),Ae}(s,e.De,this.We.lt(),c,u))}}}}_t(e){let n=e.De.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,c;try{s=Kn(r).toUint8Array()}catch(u){if(u instanceof $d)return Fr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Av(s,i,o)}catch(u){return Fr(u instanceof Li?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.fe===0?null:c}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){let r=this.We.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.We.lt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Xe(n,o,null),i++)}),i}Pt(e){let n=new Map;this.Ge.forEach((o,s)=>{let c=this.st(s);if(c){if(o.current&&_v(c.target)){let u=new V(c.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,rn.newNoDocument(u,e))}o.Ne&&(n.set(s,o.Le()),o.ke())}});let r=ie();this.Je.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Kd(e,n,this.He,this.ze,r);return this.ze=Zn(),this.je=xd(),this.Je=xd(),this.He=new Ce(ee),i}Ze(e,n){if(!this.nt(e))return;let r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new Zd,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new We(ee),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new We(ee),this.je=this.je.insert(e,n)),n}nt(e){let n=this.st(e)!==null;return n||F("WatchChangeAggregator","Detected inactive target",e),n}st(e){let n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Zd),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}};function xd(){return new Ce(V.comparator)}function FS(){return new Ce(V.comparator)}var FU={asc:"ASCENDING",desc:"DESCENDING"},LU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VU={and:"AND",or:"OR"},Nv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Rv(t,e){return t.useProto3Json||Eh(e)?e:{value:e}}function Jd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function K0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function jU(t,e){return Jd(t,e.toTimestamp())}function bn(t){return fe(!!t,49232),Z.fromTimestamp(function(n){let r=Wn(n);return new je(r.seconds,r.nanos)}(t))}function K_(t,e){return Mv(t,e).canonicalString()}function Mv(t,e){let n=function(i){return new _e(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Q0(t){let e=_e.fromString(t);return fe(eN(e),10190,{key:e.toString()}),e}function Pv(t,e){return K_(t.databaseId,e.path)}function Ky(t,e){let n=Q0(e);if(n.get(1)!==t.databaseId.projectId)throw new k(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new k(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new V(Z0(n))}function Y0(t,e){return K_(t.databaseId,e)}function BU(t){let e=Q0(t);return e.length===4?_e.emptyPath():Z0(e)}function xv(t){return new _e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Z0(t){return fe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function LS(t,e,n){return{name:Pv(t,e),fields:n.value.mapValue.fields}}function UU(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:U(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(fe(h===void 0||typeof h=="string",58123),nt.fromBase64String(h||"")):(fe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),nt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(l){let h=l.code===void 0?R.UNKNOWN:W0(l.code);return new k(h,l.message||"")}(s);n=new Yd(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Ky(t,r.document.name),o=bn(r.document.updateTime),s=r.document.createTime?bn(r.document.createTime):Z.min(),c=new St({mapValue:{fields:r.document.fields}}),u=rn.newFoundDocument(i,o,s,c),l=r.targetIds||[],h=r.removedTargetIds||[];n=new as(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Ky(t,r.document),o=r.readTime?bn(r.readTime):Z.min(),s=rn.newNoDocument(i,o),c=r.removedTargetIds||[];n=new as([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Ky(t,r.document),o=r.removedTargetIds||[];n=new as([],o,i,null)}else{if(!("filter"in e))return U(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Cv(i,o),c=r.targetId;n=new Qd(c,s)}}return n}function $U(t,e){let n;if(e instanceof Gi)n={update:LS(t,e.key,e.value)};else if(e instanceof lc)n={delete:Pv(t,e.key)};else if(e instanceof An)n={update:LS(t,e.key,e.data),updateMask:ZU(e.fieldMask)};else{if(!(e instanceof wv))return U(16599,{Rt:e.type});n={verify:Pv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let c=s.transform;if(c instanceof ps)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof qi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof zi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof gs)return{fieldPath:s.field.canonicalString(),increment:c.Ee};throw U(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:jU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:U(27497)}(t,e.precondition)),n}function HU(t,e){return t&&t.length>0?(fe(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?bn(i.updateTime):bn(o);return s.isEqual(Z.min())&&(s=bn(o)),new Iv(s,i.transformResults||[])}(n,e))):[]}function qU(t,e){return{documents:[Y0(t,e.path)]}}function zU(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Y0(t,i);let o=function(l){if(l.length!==0)return X0(on.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:rs(g.field),direction:KU(g.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let c=Rv(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{Vt:n,parent:i}}function GU(t){let e=BU(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){fe(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let g=J0(p);return g instanceof on&&M0(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(g=>function(I){return new Hi(is(I.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(g))}(n.orderBy));let c=null;n.limit&&(c=function(p){let g;return g=typeof p=="object"?p.value:p,Eh(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){let g=!!p.before,y=p.values||[];return new Vr(y,g)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let g=!p.before,y=p.values||[];return new Vr(y,g)}(n.endAt)),_U(e,i,s,o,c,"F",u,l)}function WU(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return U(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function J0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=is(n.unaryFilter.field);return Le.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=is(n.unaryFilter.field);return Le.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=is(n.unaryFilter.field);return Le.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=is(n.unaryFilter.field);return Le.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return U(61313);default:return U(60726)}}(t):t.fieldFilter!==void 0?function(n){return Le.create(is(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return U(58110);default:return U(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return on.create(n.compositeFilter.filters.map(r=>J0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return U(1026)}}(n.compositeFilter.op))}(t):U(30097,{filter:t})}function KU(t){return FU[t]}function QU(t){return LU[t]}function YU(t){return VU[t]}function rs(t){return{fieldPath:t.canonicalString()}}function is(t){return Nt.fromServerFormat(t.fieldPath)}function X0(t){return t instanceof Le?function(n){if(n.op==="=="){if(TS(n.value))return{unaryFilter:{field:rs(n.field),op:"IS_NAN"}};if(DS(n.value))return{unaryFilter:{field:rs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(TS(n.value))return{unaryFilter:{field:rs(n.field),op:"IS_NOT_NAN"}};if(DS(n.value))return{unaryFilter:{field:rs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rs(n.field),op:QU(n.op),value:n.value}}}(t):t instanceof on?function(n){let r=n.getFilters().map(i=>X0(i));return r.length===1?r[0]:{compositeFilter:{op:YU(n.op),filters:r}}}(t):U(54877,{filter:t})}function ZU(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function eN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var hc=class t{constructor(e,n,r,i,o=Z.min(),s=Z.min(),c=nt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var kv=class{constructor(e){this.gt=e}};function JU(t){let e=GU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wd(e,e.limit,"L"):e}var Xd=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(we(e.integerValue));else if("doubleValue"in e){let r=we(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),ac(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=Wn(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(Kn(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?S0(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):A0(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):U(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=ls,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(we(c)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),V.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};Xd.Ut=new Xd;var Ov=class{constructor(){this.Dn=new Fv}addToCollectionParentIndex(e,n){return this.Dn.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve($i.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve($i.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}},Fv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new We(_e.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new We(_e.comparator)).toArray()}};var wte=new Uint8Array(0);var VS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tN=41943040,Lt=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Lt.DEFAULT_COLLECTION_PERCENTILE=10,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lt.DEFAULT=new Lt(tN,Lt.DEFAULT_COLLECTION_PERCENTILE,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lt.DISABLED=new Lt(-1,0,0);var fc=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var jS="LruGarbageCollector",XU=1048576;function BS([t,e],[n,r]){let i=ee(t,n);return i===0?ee(e,r):i}var Lv=class{constructor(e){this.Tr=e,this.buffer=new We(BS),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();BS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},Vv=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){F(jS,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ds(n)?F(jS,"Ignoring IndexedDB error during garbage collection: ",n):await ws(n)}await this.Rr(3e5)})}},jv=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return M.resolve(V_.ue);let r=new Lv(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(F("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(VS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VS):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,c,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),ts()<=re.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function e$(t,e){return new jv(t,e)}var Bv=class{constructor(){this.changes=new Yn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Uv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var $v=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ic(r.mutation,i,Vt.empty(),je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ie()){let i=Fi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=tc();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Fi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ie()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=Zn(),s=rc(),c=function(){return rc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof An)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),ic(h.mutation,l,h.mutation.getFieldMask(),je.now())):s.set(l.key,Vt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return c.set(l,new Uv(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=rc(),i=new Ce((s,c)=>s-c),o=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Vt.empty();h=c.applyToLocalView(l,h),r.set(u,h);let p=(i.get(c.batchId)||ie()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,h=u.value,p=j0();h.forEach(g=>{if(!o.has(g)){let y=z0(n.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return M.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return V.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):G_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):M.resolve(Fi()),c=sc,u=o;return s.next(l=>M.forEach(l,(h,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(h)?M.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ie())).next(h=>({batchId:c,changes:V0(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new V(n)).next(r=>{let i=tc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=tc();return this.indexManager.getCollectionParents(e,o).next(c=>M.forEach(c,u=>{let l=function(p,g){return new Qn(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,rn.newInvalidDocument(h)))});let c=tc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&ic(h.mutation,l,Vt.empty(),je.now()),Th(n,l)&&(c=c.insert(u,l))}),c})}};var Hv=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return M.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:bn(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:JU(i.bundledQuery),readTime:bn(i.readTime)}}(n)),M.resolve()}};var qv=class{constructor(){this.overlays=new Ce(V.comparator),this.kr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Fi();return M.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),M.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){let i=Fi(),o=n.length+1,s=new V(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ce((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Fi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let c=Fi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>c.set(l,h)),!(c.size()>=i)););return M.resolve(c)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new bv(n,r));let o=this.kr.get(n);o===void 0&&(o=ie(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var zv=class{constructor(){this.sessionToken=nt.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}};var pc=class{constructor(){this.qr=new We(Fe.Qr),this.$r=new We(Fe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new Fe(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Fe(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new V(new _e([])),r=new Fe(n,e),i=new Fe(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new V(new _e([])),r=new Fe(n,e),i=new Fe(n,e+1),o=ie();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Fe(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Fe=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return V.comparator(e.key,n.key)||ee(e.Hr,n.Hr)}static Ur(e,n){return ee(e.Hr,n.Hr)||V.comparator(e.key,n.key)}};var Gv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new We(Fe.Qr)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Dv(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.Yr=this.Yr.add(new Fe(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return M.resolve(s)}lookupMutationBatch(e,n){return M.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return M.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?j_:this.er-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Fe(n,0),i=new Fe(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let c=this.Zr(s.Hr);o.push(c)}),M.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new We(ee);return n.forEach(i=>{let o=new Fe(i,0),s=new Fe(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],c=>{r=r.add(c.Hr)})}),M.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;V.isDocumentKey(o)||(o=o.child(""));let s=new Fe(new V(o),0),c=new We(ee);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Hr)),!0)},s),M.resolve(this.ei(c))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){fe(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return M.forEach(n.mutations,i=>{let o=new Fe(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new Fe(n,0),i=this.Yr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Wv=class{constructor(e){this.ni=e,this.docs=function(){return new Ce(V.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let r=Zn();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():rn.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Zn(),s=n.path,c=new V(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||eU(XB(h),r)<=0||(i.has(h.key)||Th(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return M.resolve(o)}getAllFromCollectionGroup(e,n,r,i){U(9500)}ri(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Kv(this)}getSize(e){return M.resolve(this.size)}},Kv=class extends Bv{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var Qv=class{constructor(e){this.persistence=e,this.ii=new Yn(n=>H_(n),q_),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.si=0,this.oi=new pc,this.targetCount=0,this._i=fc.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),M.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new fc(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.hr(n),M.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),M.waitFor(o).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),M.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),M.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.oi.containsKey(n))}};var eh=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new V_(0),this.ci=!1,this.ci=!0,this.li=new zv,this.referenceDelegate=e(this),this.hi=new Qv(this),this.indexManager=new Ov,this.remoteDocumentCache=function(i){return new Wv(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new kv(n),this.Ti=new Hv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new Gv(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){F("MemoryPersistence","Starting transaction:",e);let i=new Yv(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return M.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},Yv=class extends sv{constructor(e){super(),this.currentSequenceNumber=e}},Zv=class t{constructor(e){this.persistence=e,this.Ai=new pc,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw U(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),M.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.mi,r=>{let i=V.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,Z.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return M.or([()=>M.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},th=class t{constructor(e,n){this.persistence=e,this.gi=new Yn(r=>iU(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=e$(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return M.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return M.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?M.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(c=>{c||(r++,o.removeEntry(s,Z.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),M.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),M.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Od(e.data.value)),n}Sr(e,n,r){return M.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return M.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Jv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=ie(),i=ie();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Xv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var e_=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return GC()?8:nU(ze())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Xv;return this.ws(e,n,s).next(c=>{if(o.result=c,this.Rs)return this.Ss(e,n,s,c.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(ts()<=re.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",ns(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),M.resolve()):(ts()<=re.DEBUG&&F("QueryEngine","Query:",ns(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(ts()<=re.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",ns(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dn(n))):M.resolve())}ps(e,n){if(SS(n))return M.resolve(null);let r=Dn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Wd(n,null,"F"),r=Dn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ie(...o);return this.gs.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(n,c);return this.Ds(n,l,s,u.readTime)?this.ps(e,Wd(n,null,"F")):this.vs(e,l,n,u)}))})))}ys(e,n,r,i){return SS(n)||i.isEqual(Z.min())?M.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?M.resolve(null):(ts()<=re.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ns(n)),this.vs(e,s,n,JB(i,sc)).next(c=>c))})}bs(e,n){let r=new We(F0(e));return n.forEach((i,o)=>{Th(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return ts()<=re.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",ns(n)),this.gs.getDocumentsMatchingQuery(e,n,$i.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Q_="LocalStore",t$=3e8,t_=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Ce(ee),this.Ms=new Yn(o=>H_(o),q_),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $v(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function n$(t,e,n,r){return new t_(t,e,n,r)}async function nN(t,e){let n=Y(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=ie();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){c.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:c}))})})}function r$(t,e){let n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return function(c,u,l,h){let p=l.batch,g=p.keys(),y=M.resolve();return g.forEach(I=>{y=y.next(()=>h.getEntry(u,I)).next(A=>{let N=l.docVersions.get(I);fe(N!==null,48541),A.version.compareTo(N)<0&&(p.applyToRemoteDocument(A,l),A.isValidDocument()&&(A.setReadTime(l.commitVersion),h.addEntry(A)))})}),y.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=ie();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function rN(t){let e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function i$(t,e){let n=Y(t),r=e.snapshotVersion,i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;let c=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;c.push(n.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(nt.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(A,N,P){return A.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=t$?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(g,y,h)&&c.push(n.hi.updateTargetData(o,y))});let u=Zn(),l=ie();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),c.push(o$(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(Z.min())){let h=n.hi.getLastRemoteSnapshotVersion(o).next(p=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(h)}return M.waitFor(c).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Fs=i,o))}function o$(t,e,n){let r=ie(),i=ie();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Zn();return n.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(Z.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):F(Q_,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function s$(t,e){let n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=j_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function a$(t,e){let n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,M.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new hc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function n_(t,e,n){let r=Y(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Ds(s))throw s;F(Q_,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function US(t,e,n){let r=Y(t),i=Z.min(),o=ie();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=Y(u),g=p.Ms.get(h);return g!==void 0?M.resolve(p.Fs.get(g)):p.hi.getTargetData(l,h)}(r,s,Dn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:Z.min(),n?o:ie())).next(c=>(c$(r,IU(e),c),{documents:c,qs:o})))}function c$(t,e,n){let r=t.xs.get(e)||Z.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}var nh=class{constructor(){this.activeTargetIds=AU()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var r_=class{constructor(){this.Fo=new nh,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new nh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var i_=class{xo(e){}shutdown(){}};var $S="ConnectivityMonitor",rh=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){F($S,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){F($S,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var kd=null;function o_(){return kd===null?kd=function(){return 268435456+Math.round(2147483648*Math.random())}():kd++,"0x"+kd.toString(16)}var Qy="RestConnection",u$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},s_=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Hd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=o_(),c=this.Go(e,n.toUriEncodedString());F(Qy,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(c),h=Tr(l);return this.jo(e,c,u,r,h).then(p=>(F(Qy,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Fr(Qy,`RPC '${e}' ${s} failed with error: `,p,"url: ",c,"request:",r),p})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Is}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=u$[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var a_=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var tt="WebChannelConnection",c_=class extends s_{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=o_();return new Promise((c,u)=>{let l=new Hy;l.setWithCredentials(!0),l.listenOnce(qy.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ec.NO_ERROR:let p=l.getResponseJson();F(tt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),c(p);break;case ec.TIMEOUT:F(tt,`RPC '${e}' ${s} timed out`),u(new k(R.DEADLINE_EXCEEDED,"Request time out"));break;case ec.HTTP_ERROR:let g=l.getStatus();if(F(tt,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let I=y?.error;if(I&&I.status&&I.message){let A=function(P){let j=P.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(j)>=0?j:R.UNKNOWN}(I.status);u(new k(A,I.message))}else u(new k(R.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new k(R.UNAVAILABLE,"Connection failed."));break;default:U(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{F(tt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);F(tt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}P_(e,n,r){let i=o_(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Wy(),c=Gy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");F(tt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let g=!1,y=!1,I=new a_({Ho:N=>{y?F(tt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(g||(F(tt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),F(tt,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},Yo:()=>p.close()}),A=(N,P,j)=>{N.listen(P,K=>{try{j(K)}catch(de){setTimeout(()=>{throw de},0)}})};return A(p,es.EventType.OPEN,()=>{y||(F(tt,`RPC '${e}' stream ${i} transport opened.`),I.s_())}),A(p,es.EventType.CLOSE,()=>{y||(y=!0,F(tt,`RPC '${e}' stream ${i} transport closed`),I.__(),this.I_(p))}),A(p,es.EventType.ERROR,N=>{y||(y=!0,Fr(tt,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),I.__(new k(R.UNAVAILABLE,"The operation could not be completed")))}),A(p,es.EventType.MESSAGE,N=>{var P;if(!y){let j=N.data[0];fe(!!j,16349);let K=j,de=K?.error||((P=K[0])===null||P===void 0?void 0:P.error);if(de){F(tt,`RPC '${e}' stream ${i} received error:`,de);let Ae=de.status,pe=function(E){let w=Oe[E];if(w!==void 0)return W0(w)}(Ae),D=de.message;pe===void 0&&(pe=R.INTERNAL,D="Unknown error status: "+Ae+" with message "+de.message),y=!0,I.__(new k(pe,D)),p.close()}else F(tt,`RPC '${e}' stream ${i} received:`,j),I.a_(j)}}),A(c,zy.STAT_EVENT,N=>{N.stat===Md.PROXY?F(tt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Md.NOPROXY&&F(tt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.o_()},0),I}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function Yy(){return typeof document<"u"?document:null}function bh(t){return new Nv(t,!0)}var ih=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var HS="PersistentStream",oh=class{constructor(e,n,r,i,o,s,c,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new ih(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(Gn(n.toString()),Gn("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new k(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return F(HS,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(F(HS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},u_=class extends oh{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let n=UU(this.serializer,e),r=function(o){if(!("targetChange"in o))return Z.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Z.min():s.readTime?bn(s.readTime):Z.min()}(e);return this.listener.J_(n,r)}H_(e){let n={};n.database=xv(this.serializer),n.addTarget=function(o,s){let c,u=s.target;if(c=_v(u)?{documents:qU(o,u)}:{query:zU(o,u).Vt},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=K0(o,s.resumeToken);let l=Rv(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(Z.min())>0){c.readTime=Jd(o,s.snapshotVersion.toTimestamp());let l=Rv(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=WU(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){let n={};n.database=xv(this.serializer),n.removeTarget=e,this.k_(n)}},l_=class extends oh{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let n=HU(e.writeResults,e.commitTime),r=bn(e.commitTime);return this.listener.ta(r,n)}na(){let e={};e.database=xv(this.serializer),this.k_(e)}X_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>$U(this.serializer,r))};this.k_(n)}};var d_=class{},h_=class extends d_{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new k(R.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,Mv(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new k(R.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Jo(e,Mv(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new k(R.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},f_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Gn(n),this._a=!1):F("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Wi="RemoteStore",p_=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(async()=>{Ki(this)&&(F(Wi,"Restarting streams for network reachability change."),await async function(u){let l=Y(u);l.Ia.add(4),await Ec(l),l.Aa.set("Unknown"),l.Ia.delete(4),await Ch(l)}(this))})}),this.Aa=new f_(r,i)}};async function Ch(t){if(Ki(t))for(let e of t.da)await e(!0)}async function Ec(t){for(let e of t.da)await e(!1)}function iN(t,e){let n=Y(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),X_(n)?J_(n):Ts(n).x_()&&Z_(n,e))}function Y_(t,e){let n=Y(t),r=Ts(n);n.Ta.delete(e),r.x_()&&oN(n,e),n.Ta.size===0&&(r.x_()?r.B_():Ki(n)&&n.Aa.set("Unknown"))}function Z_(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ts(t).H_(e)}function oN(t,e){t.Ra.$e(e),Ts(t).Y_(e)}function J_(t){t.Ra=new Sv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Ts(t).start(),t.Aa.aa()}function X_(t){return Ki(t)&&!Ts(t).M_()&&t.Ta.size>0}function Ki(t){return Y(t).Ia.size===0}function sN(t){t.Ra=void 0}async function l$(t){t.Aa.set("Online")}async function d$(t){t.Ta.forEach((e,n)=>{Z_(t,e)})}async function h$(t,e){sN(t),X_(t)?(t.Aa.la(e),J_(t)):t.Aa.set("Unknown")}async function f$(t,e,n){if(t.Aa.set("Online"),e instanceof Yd&&e.state===2&&e.cause)try{await async function(i,o){let s=o.cause;for(let c of o.targetIds)i.Ta.has(c)&&(await i.remoteSyncer.rejectListen(c,s),i.Ta.delete(c),i.Ra.removeTarget(c))}(t,e)}catch(r){F(Wi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sh(t,r)}else if(e instanceof as?t.Ra.Ye(e):e instanceof Qd?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Z.min()))try{let r=await rN(t.localStore);n.compareTo(r)>=0&&await function(o,s){let c=o.Ra.Pt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(nt.EMPTY_BYTE_STRING,h.snapshotVersion)),oN(o,u);let p=new hc(h.target,u,l,h.sequenceNumber);Z_(o,p)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){F(Wi,"Failed to raise snapshot:",r),await sh(t,r)}}async function sh(t,e,n){if(!Ds(e))throw e;t.Ia.add(1),await Ec(t),t.Aa.set("Offline"),n||(n=()=>rN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{F(Wi,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Ch(t)})}function aN(t,e){return e().catch(n=>sh(t,n,e))}async function Ah(t){let e=Y(t),n=jr(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:j_;for(;p$(e);)try{let i=await s$(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,g$(e,i)}catch(i){await sh(e,i)}cN(e)&&uN(e)}function p$(t){return Ki(t)&&t.Pa.length<10}function g$(t,e){t.Pa.push(e);let n=jr(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function cN(t){return Ki(t)&&!jr(t).M_()&&t.Pa.length>0}function uN(t){jr(t).start()}async function m$(t){jr(t).na()}async function y$(t){let e=jr(t);for(let n of t.Pa)e.X_(n.mutations)}async function v$(t,e,n){let r=t.Pa.shift(),i=Tv.from(r,e,n);await aN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ah(t)}async function _$(t,e){e&&jr(t).Z_&&await async function(r,i){if(function(s){return kU(s)&&s!==R.ABORTED}(i.code)){let o=r.Pa.shift();jr(r).N_(),await aN(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Ah(r)}}(t,e),cN(t)&&uN(t)}async function qS(t,e){let n=Y(t);n.asyncQueue.verifyOperationInProgress(),F(Wi,"RemoteStore received new credentials");let r=Ki(n);n.Ia.add(3),await Ec(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Ch(n)}async function E$(t,e){let n=Y(t);e?(n.Ia.delete(2),await Ch(n)):e||(n.Ia.add(2),await Ec(n),n.Aa.set("Unknown"))}function Ts(t){return t.Va||(t.Va=function(n,r,i){let o=Y(n);return o.ia(),new u_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:l$.bind(null,t),e_:d$.bind(null,t),n_:h$.bind(null,t),J_:f$.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),X_(t)?J_(t):t.Aa.set("Unknown")):(await t.Va.stop(),sN(t))})),t.Va}function jr(t){return t.ma||(t.ma=function(n,r,i){let o=Y(n);return o.ia(),new l_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:m$.bind(null,t),n_:_$.bind(null,t),ea:y$.bind(null,t),ta:v$.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Ah(t)):(await t.ma.stop(),t.Pa.length>0&&(F(Wi,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}var g_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new In,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new k(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function eE(t,e){if(Gn("AsyncQueue",`${e}: ${t}`),Ds(t))return new k(R.UNAVAILABLE,`${e}: ${t}`);throw t}var ah=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||V.comparator(n.key,r.key):(n,r)=>V.comparator(n.key,r.key),this.keyedMap=tc(),this.sortedSet=new Ce(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var ch=class{constructor(){this.fa=new Ce(V.comparator)}track(e){let n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):U(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){let e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}},ys=class t{constructor(e,n,r,i,o,s,c,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(c=>{s.push({type:0,doc:c})}),new t(e,n,ah.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var m_=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},y_=class{constructor(){this.queries=zS(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=Y(n),o=i.queries;i.queries=zS(),o.forEach((s,c)=>{for(let u of c.wa)u.onError(r)})})(this,new k(R.ABORTED,"Firestore shutting down"))}};function zS(){return new Yn(t=>O0(t),Dh)}async function lN(t,e){let n=Y(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new m_,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await n.onListen(i,!0);break;case 1:o.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){let c=eE(s,`Initialization of query '${ns(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&tE(n)}async function dN(t,e){let n=Y(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function I$(t,e){let n=Y(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let c of s.wa)c.Ca(i)&&(r=!0);s.ya=i}}r&&tE(n)}function w$(t,e,n){let r=Y(t),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(n);r.queries.delete(e)}function tE(t){t.Da.forEach(e=>{e.next()})}var v_,GS;(GS=v_||(v_={})).Fa="default",GS.Cache="cache";var uh=class{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ys(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;let r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=ys.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==v_.Cache}};var lh=class{constructor(e){this.key=e}},dh=class{constructor(e){this.key=e}},__=class{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ie(),this.mutatedKeys=ie(),this.Xa=F0(e),this.eu=new ah(this.Xa)}get tu(){return this.Ha}nu(e,n){let r=n?n.ru:new ch,i=n?n.eu:this.eu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=Th(this.query,p)?p:null,I=!!g&&this.mutatedKeys.has(g.key),A=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),N=!1;g&&y?g.data.isEqual(y.data)?I!==A&&(r.track({type:3,doc:y}),N=!0):this.iu(g,y)||(r.track({type:2,doc:y}),N=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(c=!0)):!g&&y?(r.track({type:0,doc:y}),N=!0):g&&!y&&(r.track({type:1,doc:g}),N=!0,(u||l)&&(c=!0)),N&&(y?(s=s.add(y),o=A?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:c,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>function(y,I){let A=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return U(20277,{At:N})}};return A(y)-A(I)}(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let c=n&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new ys(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new ch,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ie(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new dh(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new lh(r))}),n}uu(e){this.Ha=e.qs,this.Za=ie();let n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return ys.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},nE="SyncEngine",E_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},I_=class{constructor(e){this.key=e,this.lu=!1}},w_=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Yn(c=>O0(c),Dh),this.Tu=new Map,this.Iu=new Set,this.du=new Ce(V.comparator),this.Eu=new Map,this.Au=new pc,this.Ru={},this.Vu=new Map,this.mu=fc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function D$(t,e,n=!0){let r=yN(t),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await hN(r,e,n,!0),i}async function T$(t,e){let n=yN(t);await hN(n,e,!0,!1)}async function hN(t,e,n,r){let i=await a$(t.localStore,Dn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),c;return r&&(c=await b$(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&iN(t.remoteStore,i),c}async function b$(t,e,n,r,i){t.gu=(p,g,y)=>async function(A,N,P,j){let K=N.view.nu(P);K.Ds&&(K=await US(A.localStore,N.query,!1).then(({documents:D})=>N.view.nu(D,K)));let de=j&&j.targetChanges.get(N.targetId),Ae=j&&j.targetMismatches.get(N.targetId)!=null,pe=N.view.applyChanges(K,A.isPrimaryClient,de,Ae);return KS(A,N.targetId,pe._u),pe.snapshot}(t,p,g,y);let o=await US(t.localStore,e,!0),s=new __(e,o.qs),c=s.nu(o.documents),u=dc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(c,t.isPrimaryClient,u);KS(t,n,l._u);let h=new E_(e,n,s);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),l.snapshot}async function C$(t,e,n){let r=Y(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Dh(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await n_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Y_(r.remoteStore,i.targetId),D_(r,i.targetId)}).catch(ws)):(D_(r,i.targetId),await n_(r.localStore,i.targetId,!0))}async function A$(t,e){let n=Y(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Y_(n.remoteStore,r.targetId))}async function S$(t,e,n){let r=O$(t);try{let i=await function(s,c){let u=Y(s),l=je.now(),h=c.reduce((y,I)=>y.add(I.key),ie()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let I=Zn(),A=ie();return u.Os.getEntries(y,h).next(N=>{I=N,I.forEach((P,j)=>{j.isValidDocument()||(A=A.add(P))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,I)).next(N=>{p=N;let P=[];for(let j of c){let K=xU(j,p.get(j.key).overlayedDocument);K!=null&&P.push(new An(j.key,K,N0(K.value.mapValue),Tn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,P,c)}).next(N=>{g=N;let P=N.applyToLocalDocumentSet(p,A);return u.documentOverlayCache.saveOverlays(y,N.batchId,P)})}).then(()=>({batchId:g.batchId,changes:V0(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Ce(ee)),l=l.insert(c,u),s.Ru[s.currentUser.toKey()]=l}(r,i.batchId,n),await Ic(r,i.changes),await Ah(r.remoteStore)}catch(i){let o=eE(i,"Failed to persist write");n.reject(o)}}async function fN(t,e){let n=Y(t);try{let r=await i$(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?fe(s.lu,14607):i.removedDocuments.size>0&&(fe(s.lu,42227),s.lu=!1))}),await Ic(n,r,e)}catch(r){await ws(r)}}function WS(t,e,n){let r=Y(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let c=s.view.va(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=Y(s);u.onlineState=c;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.wa)g.va(c)&&(l=!0)}),l&&tE(u)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function N$(t,e,n){let r=Y(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Ce(V.comparator);s=s.insert(o,rn.newNoDocument(o,Z.min()));let c=ie().add(o),u=new Kd(Z.min(),new Map,new Ce(ee),s,c);await fN(r,u),r.du=r.du.remove(o),r.Eu.delete(e),rE(r)}else await n_(r.localStore,e,!1).then(()=>D_(r,e,n)).catch(ws)}async function R$(t,e){let n=Y(t),r=e.batch.batchId;try{let i=await r$(n.localStore,e);gN(n,r,null),pN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ic(n,i)}catch(i){await ws(i)}}async function M$(t,e,n){let r=Y(t);try{let i=await function(s,c){let u=Y(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(fe(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);gN(r,e,n),pN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ic(r,i)}catch(i){await ws(i)}}function pN(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function gN(t,e,n){let r=Y(t),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function D_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||mN(t,r)})}function mN(t,e){t.Iu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(Y_(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),rE(t))}function KS(t,e,n){for(let r of n)r instanceof lh?(t.Au.addReference(r.key,e),P$(t,r)):r instanceof dh?(F(nE,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||mN(t,r.key)):U(19791,{yu:r})}function P$(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(F(nE,"New document in limbo: "+n),t.Iu.add(r),rE(t))}function rE(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Iu.values().next().value;t.Iu.delete(e);let n=new V(_e.fromString(e)),r=t.mu.next();t.Eu.set(r,new I_(n)),t.du=t.du.insert(n,r),iN(t.remoteStore,new hc(Dn(z_(n.path)),r,"TargetPurposeLimboResolution",V_.ue))}}async function Ic(t,e,n){let r=Y(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((c,u)=>{s.push(r.gu(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Jv.Es(u.targetId,l);o.push(p)}}))}),await Promise.all(s),r.hu.J_(i),await async function(u,l){let h=Y(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>M.forEach(l,g=>M.forEach(g.Is,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>M.forEach(g.ds,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!Ds(p))throw p;F(Q_,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.Fs.get(g),I=y.snapshotVersion,A=y.withLastLimboFreeSnapshotVersion(I);h.Fs=h.Fs.insert(g,A)}}}(r.localStore,o))}async function x$(t,e){let n=Y(t);if(!n.currentUser.isEqual(e)){F(nE,"User change. New user:",e.toKey());let r=await nN(n.localStore,e);n.currentUser=e,function(o,s){o.Vu.forEach(c=>{c.forEach(u=>{u.reject(new k(R.CANCELLED,s))})}),o.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ic(n,r.Bs)}}function k$(t,e){let n=Y(t),r=n.Eu.get(e);if(r&&r.lu)return ie().add(r.key);{let i=ie(),o=n.Tu.get(e);if(!o)return i;for(let s of o){let c=n.Pu.get(s);i=i.unionWith(c.view.tu)}return i}}function yN(t){let e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=k$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N$.bind(null,e),e.hu.J_=I$.bind(null,e.eventManager),e.hu.pu=w$.bind(null,e.eventManager),e}function O$(t){let e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=M$.bind(null,e),e}var vN=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=bh(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)}Cu(n,r){return null}Fu(n,r){return null}vu(n){return n$(this.persistence,new e_,n.initialUser,this.serializer)}Du(n){return new eh(Zv.Vi,this.serializer)}bu(n){return new r_}async terminate(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return t.provider={build:()=>new t},t})(),T_=class extends vN{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){fe(this.persistence.referenceDelegate instanceof th,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Vv(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?Lt.withCacheSize(this.cacheSizeBytes):Lt.DEFAULT;return new eh(r=>th.Vi(r,n),this.serializer)}};var F$=(()=>{class t{async initialize(n,r){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>WS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=x$.bind(null,this.syncEngine),await E$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return function(){return new y_}()}createDatastore(n){let r=bh(n.databaseInfo.databaseId),i=function(s){return new c_(s)}(n.databaseInfo);return function(s,c,u,l){return new h_(s,c,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,c,u){return new p_(i,o,s,c,u)}(this.localStore,this.datastore,n.asyncQueue,r=>WS(this.syncEngine,r,0),function(){return rh.C()?new rh:new i_}())}createSyncEngine(n,r){return function(o,s,c,u,l,h,p){let g=new w_(o,s,c,u,l,h);return p&&(g.fu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}async terminate(){var n,r;await async function(o){let s=Y(o);F(Wi,"RemoteStore shutting down."),s.Ia.add(5),await Ec(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return t.provider={build:()=>new t},t})();var hh=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Gn("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Br="FirestoreClient",b_=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ge.UNAUTHENTICATED,this.clientId=oc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{F(Br,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(F(Br,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new In;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=eE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function Zy(t,e){t.asyncQueue.verifyOperationInProgress(),F(Br,"Initializing OfflineComponentProvider");let n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await nN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Fr("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{F("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Fr("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function QS(t,e){t.asyncQueue.verifyOperationInProgress();let n=await L$(t);F(Br,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>qS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>qS(e.remoteStore,i)),t._onlineComponents=e}async function L$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F(Br,"Using user provided OfflineComponentProvider");try{await Zy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===R.FAILED_PRECONDITION||i.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Fr("Error using user provided cache. Falling back to memory cache: "+n),await Zy(t,new vN)}}else F(Br,"Using default OfflineComponentProvider"),await Zy(t,new T_(void 0));return t._offlineComponents}async function _N(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(F(Br,"Using user provided OnlineComponentProvider"),await QS(t,t._uninitializedComponentsProvider._online)):(F(Br,"Using default OnlineComponentProvider"),await QS(t,new F$))),t._onlineComponents}function V$(t){return _N(t).then(e=>e.syncEngine)}async function C_(t){let e=await _N(t),n=e.eventManager;return n.onListen=D$.bind(null,e.syncEngine),n.onUnlisten=C$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=T$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=A$.bind(null,e.syncEngine),n}function j$(t,e,n={}){let r=new In;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,c,u,l){let h=new hh({next:g=>{h.Ou(),s.enqueueAndForget(()=>dN(o,p)),g.fromCache&&u.source==="server"?l.reject(new k(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new uh(c,h,{includeMetadataChanges:!0,ka:!0});return lN(o,p)}(await C_(t),t.asyncQueue,e,n,r)),r.promise}function EN(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var YS=new Map;var IN="firestore.googleapis.com",ZS=!0,fh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new k(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IN,this.ssl=ZS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:ZS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XU)throw new k(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new k(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new k(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new k(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},vs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new k(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new k(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Jy;switch(r.type){case"firstParty":return new nv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new k(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=YS.get(n);r&&(F("ComponentProvider","Removing Datastore"),YS.delete(n),r.terminate())}(this),Promise.resolve()}};function wN(t,e,n,r={}){var i;t=jt(t,vs);let o=Tr(e),s=t._getSettings(),c=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(rd(`https://${u}`),id("Firestore",!0)),s.host!==IN&&s.host!==u&&Fr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!mn(l,c)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Ge.MOCK_USER;else{h=BC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new k(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ge(g)}t._authCredentials=new Xy(new Vd(h,p))}}var Sn=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ke=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(_c(n,t._jsonSchema))return new t(e,r||null,new V(_e.fromString(n.referencePath)))}};Ke._jsonSchemaVersion="firestore/documentReference/1.0",Ke._jsonSchema={type:Ve("string",Ke._jsonSchemaVersion),referencePath:Ve("string")};var Pr=class t extends Sn{constructor(e,n,r){super(e,n,z_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ke(this.firestore,null,new V(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function DN(t,e,...n){if(t=Re(t),o0("collection","path",e),t instanceof vs){let r=_e.fromString(e,...n);return mS(r),new Pr(t,null,r)}{if(!(t instanceof Ke||t instanceof Pr))throw new k(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(_e.fromString(e,...n));return mS(r),new Pr(t.firestore,null,r)}}function iE(t,e,...n){if(t=Re(t),arguments.length===1&&(e=oc.newId()),o0("doc","path",e),t instanceof vs){let r=_e.fromString(e,...n);return gS(r),new Ke(t,null,new V(r))}{if(!(t instanceof Ke||t instanceof Pr))throw new k(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(_e.fromString(e,...n));return gS(r),new Ke(t.firestore,t instanceof Pr?t.converter:null,new V(r))}}var JS="AsyncQueue",ph=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new ih(this,"async_queue_retry"),this.oc=()=>{let r=Yy();r&&F(JS,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=Yy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=Yy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new In;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ds(e))throw e;F(JS,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Gn("INTERNAL UNHANDLED ERROR: ",XS(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=g_.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&U(47125,{hc:XS(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function XS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function e0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Nn=class extends vs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ph,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new ph(e),this._firestoreClient=void 0,await e}}};function TN(t,e){let n=typeof t=="object"?t:Ri(),r=typeof t=="string"?t:e||Hd,i=Ko(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=jC("firestore");o&&wN(i,...o)}return i}function oE(t){if(t._terminated)throw new k(R.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||B$(t),t._firestoreClient}function B$(t){var e,n,r;let i=t._freezeSettings(),o=function(c,u,l,h){return new av(c,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,EN(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new b_(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(t._componentsProvider))}var xr=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(nt.fromBase64String(e))}catch(n){throw new k(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_c(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};xr._jsonSchemaVersion="firestore/bytes/1.0",xr._jsonSchema={type:Ve("string",xr._jsonSchemaVersion),bytes:Ve("string")};var _s=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new k(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var gc=class{constructor(e){this._methodName=e}};var kr=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new k(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new k(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ee(this._lat,e._lat)||ee(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(_c(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};kr._jsonSchemaVersion="firestore/geoPoint/1.0",kr._jsonSchema={type:Ve("string",kr._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};var Or=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_c(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new k(R.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Or._jsonSchemaVersion="firestore/vectorValue/1.0",Or._jsonSchema={type:Ve("string",Or._jsonSchemaVersion),vectorValues:Ve("object")};var U$=/^__.*__$/,A_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new An(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gi(e,this.data,n,this.fieldTransforms)}},gh=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new An(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function bN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw U(40011,{Ec:t})}}var S_=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return yh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(bN(this.Ec)&&U$.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},N_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bh(e)}Dc(e,n,r,i=!1){return new S_({Ec:e,methodName:n,bc:r,path:Nt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function wc(t){let e=t._freezeSettings(),n=bh(t._databaseId);return new N_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function CN(t,e,n,r,i,o={}){let s=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);sE("Data must be an object, but it was:",s,r);let c=SN(r,s),u,l;if(o.merge)u=new Vt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=R_(e,p,n);if(!s.contains(g))throw new k(R.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);RN(h,g)||h.push(g)}u=new Vt(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new A_(new St(c),u,l)}var mh=class t extends gc{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function $$(t,e,n,r){let i=t.Dc(1,e,n);sE("Data must be an object, but it was:",i,r);let o=[],s=St.empty();Ur(r,(u,l)=>{let h=aE(e,u,n);l=Re(l);let p=i.gc(h);if(l instanceof mh)o.push(h);else{let g=Dc(l,p);g!=null&&(o.push(h),s.set(h,g))}});let c=new Vt(o);return new gh(s,c,i.fieldTransforms)}function H$(t,e,n,r,i,o){let s=t.Dc(1,e,n),c=[R_(e,r,n)],u=[i];if(o.length%2!=0)throw new k(R.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)c.push(R_(e,o[g])),u.push(o[g+1]);let l=[],h=St.empty();for(let g=c.length-1;g>=0;--g)if(!RN(l,c[g])){let y=c[g],I=u[g];I=Re(I);let A=s.gc(y);if(I instanceof mh)l.push(y);else{let N=Dc(I,A);N!=null&&(l.push(y),h.set(y,N))}}let p=new Vt(l);return new gh(h,p,s.fieldTransforms)}function AN(t,e,n,r=!1){return Dc(n,t.Dc(r?4:3,e))}function Dc(t,e){if(NN(t=Re(t)))return sE("Unsupported field value:",e,t),SN(t,e);if(t instanceof gc)return function(r,i){if(!bN(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let u=Dc(c,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Re(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=je.fromDate(r);return{timestampValue:Jd(i.serializer,o)}}if(r instanceof je){let o=new je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jd(i.serializer,o)}}if(r instanceof kr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xr)return{bytesValue:K0(i.serializer,r._byteString)};if(r instanceof Ke){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:K_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Or)return function(s,c){return{mapValue:{fields:{[B_]:{stringValue:U_},[ls]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw c.wc("VectorValues must only contain numeric values.");return W_(c.serializer,l)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${_h(r)}`)}(t,e)}function SN(t,e){let n={};return I0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ur(t,(r,i)=>{let o=Dc(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function NN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof je||t instanceof kr||t instanceof xr||t instanceof Ke||t instanceof gc||t instanceof Or)}function sE(t,e,n){if(!NN(n)||!s0(n)){let r=_h(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function R_(t,e,n){if((e=Re(e))instanceof _s)return e._internalPath;if(typeof e=="string")return aE(t,e);throw yh("Field path arguments must be of type string or ",t,!1,void 0,n)}var q$=new RegExp("[~\\*/\\[\\]]");function aE(t,e,n){if(e.search(q$)>=0)throw yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _s(...e.split("."))._internalPath}catch{throw yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function yh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new k(R.INVALID_ARGUMENT,c+t+u)}function RN(t,e){return t.some(n=>n.isEqual(e))}var mc=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new M_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Sh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},M_=class extends mc{data(){return super.data()}};function Sh(t,e){return typeof e=="string"?aE(t,e):e instanceof _s?e._internalPath:e._delegate._internalPath}function MN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new k(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var yc=class{},Es=class extends yc{};function PN(t,e,...n){let r=[];e instanceof yc&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof P_).length,c=o.filter(u=>u instanceof vh).length;if(s>1||s>0&&c>0)throw new k(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var vh=class t extends Es{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return ON(e._query,n),new Sn(e.firestore,e.converter,Ev(e._query,n))}_parse(e){let n=wc(e.firestore);return function(o,s,c,u,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new k(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){n0(p,h);let I=[];for(let A of p)I.push(t0(u,o,A));g={arrayValue:{values:I}}}else g=t0(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||n0(p,h),g=AN(c,s,p,h==="in"||h==="not-in");return Le.create(l,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function xN(t,e,n){let r=e,i=Sh("where",t);return vh._create(i,r,n)}var P_=class t extends yc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:on.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,c=o.getFlattenedFilters();for(let u of c)ON(s,u),s=Ev(s,u)}(e._query,n),new Sn(e.firestore,e.converter,Ev(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var x_=class t extends Es{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new k(R.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new k(R.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hi(o,s)}(e._query,this._field,this._direction);return new Sn(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new Qn(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function kN(t,e="asc"){let n=e,r=Sh("orderBy",t);return x_._create(r,n)}var k_=class t extends Es{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new Sn(e.firestore,e.converter,Wd(e._query,this._limit,this._limitType))}};function z$(t){return ZB("limit",t),k_._create("limit",t,"F")}var O_=class t extends Es{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=W$(e,this.type,this._docOrFields,this._inclusive);return new Sn(e.firestore,e.converter,function(i,o){return new Qn(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}};function G$(...t){return O_._create("startAt",t,!0)}function W$(t,e,n,r){if(n[0]=Re(n[0]),n[0]instanceof mc)return function(o,s,c,u,l){if(!u)throw new k(R.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);let h=[];for(let p of ss(o))if(p.field.isKeyField())h.push(zd(s,u.key));else{let g=u.data.field(p.field);if(Ih(g))throw new k(R.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){let y=p.field.canonicalString();throw new k(R.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}h.push(g)}return new Vr(h,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{let i=wc(t.firestore);return function(s,c,u,l,h,p){let g=s.explicitOrderBy;if(h.length>g.length)throw new k(R.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let y=[];for(let I=0;I<h.length;I++){let A=h[I];if(g[I].field.isKeyField()){if(typeof A!="string")throw new k(R.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof A}`);if(!G_(s)&&A.indexOf("/")!==-1)throw new k(R.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${A}' contains a slash.`);let N=s.path.child(_e.fromString(A));if(!V.isDocumentKey(N))throw new k(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${N}' is not because it contains an odd number of segments.`);let P=new V(N);y.push(zd(c,P))}else{let N=AN(u,l,A);y.push(N)}}return new Vr(y,p)}(t._query,t.firestore._databaseId,i,e,n,r)}}function t0(t,e,n){if(typeof(n=Re(n))=="string"){if(n==="")throw new k(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!G_(e)&&n.indexOf("/")!==-1)throw new k(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(_e.fromString(n));if(!V.isDocumentKey(r))throw new k(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zd(t,new V(r))}if(n instanceof Ke)return zd(t,n._key);throw new k(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_h(n)}.`)}function n0(t,e){if(!Array.isArray(t)||t.length===0)throw new k(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ON(t,e){let n=function(i,o){for(let s of i)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new k(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new k(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var F_=class{convertValue(e,n="none"){switch(Lr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return we(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Kn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw U(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ur(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[ls].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>we(s.doubleValue));return new Or(o)}convertGeoPoint(e){return new kr(we(e.latitude),we(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=wh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cc(e));default:return null}}convertTimestamp(e){let n=Wn(e);return new je(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=_e.fromString(e);fe(eN(r),9688,{name:e});let i=new qd(r.get(1),r.get(3)),o=new V(r.popFirst(5));return i.isEqual(n)||Gn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function FN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Vi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ji=class t extends mc{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new cs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Sh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new k(R.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};ji._jsonSchemaVersion="firestore/documentSnapshot/1.0",ji._jsonSchema={type:Ve("string",ji._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};var cs=class extends ji{data(e={}){return super.data(e)}},Bi=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new cs(this._firestore,this._userDataWriter,r.key,r,new Vi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new k(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new cs(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Vi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new cs(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Vi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),h=s.indexOf(c.doc.key)),{type:K$(c.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new k(R.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=oc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function K$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return U(61501,{type:t})}}Bi._jsonSchemaVersion="firestore/querySnapshot/1.0",Bi._jsonSchema={type:Ve("string",Bi._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};var vc=class extends F_{constructor(e){super(),this.firestore=e}convertBytes(e){return new xr(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ke(this.firestore,null,n)}};function LN(t){t=jt(t,Sn);let e=jt(t.firestore,Nn),n=oE(e),r=new vc(e);return MN(t._query),j$(n,t._query).then(i=>new Bi(e,r,t,i))}function VN(t,e,n){t=jt(t,Ke);let r=jt(t.firestore,Nn),i=FN(t.converter,e,n);return Nh(r,[CN(wc(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Tn.none())])}function jN(t,e,n,...r){t=jt(t,Ke);let i=jt(t.firestore,Nn),o=wc(i),s;return s=typeof(e=Re(e))=="string"||e instanceof _s?H$(o,"updateDoc",t._key,e,n,r):$$(o,"updateDoc",t._key,e),Nh(i,[s.toMutation(t._key,Tn.exists(!0))])}function BN(t){return Nh(jt(t.firestore,Nn),[new lc(t._key,Tn.none())])}function UN(t,e){let n=jt(t.firestore,Nn),r=iE(t),i=FN(t.converter,e);return Nh(n,[CN(wc(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Tn.exists(!1))]).then(()=>r)}function cE(t,...e){var n,r,i;t=Re(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||e0(e[s])||(o=e[s++]);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(e0(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Ke)l=jt(t.firestore,Nn),h=z_(t._key.path),u={next:p=>{e[s]&&e[s](Q$(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=jt(t,Sn);l=jt(p.firestore,Nn),h=p._query;let g=new vc(l);u={next:y=>{e[s]&&e[s](new Bi(l,g,p,y))},error:e[s+1],complete:e[s+2]},MN(t._query)}return function(g,y,I,A){let N=new hh(A),P=new uh(y,N,I);return g.asyncQueue.enqueueAndForget(async()=>lN(await C_(g),P)),()=>{N.Ou(),g.asyncQueue.enqueueAndForget(async()=>dN(await C_(g),P))}}(oE(l),h,c,u)}function Nh(t,e){return function(r,i){let o=new In;return r.asyncQueue.enqueueAndForget(async()=>S$(await V$(r),i,o)),o.promise}(oE(t),e)}function Q$(t,e,n){let r=n.docs.get(e._key),i=new vc(t);return new ji(t,i,e._key,r,new Vi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Is=i})(Cr),en(new pt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new Nn(new ev(r.getProvider("auth-internal")),new rv(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new k(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qd(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),be(dS,hS,e),be(dS,hS,"esm2017")})();var Rh=function(){return Rh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Rh.apply(this,arguments)};var J$={includeMetadataChanges:!1};function uE(t,e){return e===void 0&&(e=J$),new Q(function(n){var r=cE(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function $N(t){return uE(t,{includeMetadataChanges:!0})}function HN(t,e){return e===void 0&&(e={}),$N(t).pipe(gt(function(n){return lE(n,e)}))}function lE(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Rh(Rh({},r),(n={},n[e.idField]=t.id,n))}function qN(t){return uE(t,{includeMetadataChanges:!0}).pipe(gt(function(e){return e.docs}))}function zN(t,e){return e===void 0&&(e={}),qN(t).pipe(gt(function(n){return n.map(function(r){return lE(r,e)})}))}var Tc=class{constructor(e){return e}},GN="firestore",dE=class{constructor(){return Yo(GN)}};var hE=new q("angularfire2.firestore-instances");function X$(t,e){let n=Ua(GN,t,e);return n&&new Tc(n)}function eH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Tc(r)}}var tH={provide:dE,deps:[[new vt,hE]]},nH={provide:Tc,useFactory:X$,deps:[[new vt,hE],Bn]};function xne(t,...e){return be("angularfire",Ar.full,"fst"),qt([nH,tH,{provide:hE,useFactory:eH(t),multi:!0,deps:[ye,ke,Sr,Pi,[new vt,Xa],[new vt,Zo],...e]}])}var kne=Me(zN,!0);var One=Me(HN,!0);var Fne=Me(UN,!0,2);var Lne=Me(DN,!0,2);var Vne=Me(BN,!0,2);var jne=Me(iE,!0,2);var Bne=Me(LN,!0);var Une=Me(TN,!0);var $ne=Me(kN,!0,2),Hne=Me(PN,!0,2);var qne=Me(VN,!0,2);var zne=Me(jN,!0,2);var Gne=Me(xN,!0,2);var tR=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(ne(Di),ne(Jt))};static \u0275dir=qe({type:t})}return t})(),_E=(()=>{class t extends tR{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Lo(t)))(i||t)}})();static \u0275dir=qe({type:t,features:[Tt]})}return t})(),Nc=new q("");var rH={provide:Nc,useExisting:Pt(()=>nR),multi:!0};function iH(){let t=Ai()?Ai().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var oH=new q(""),nR=(()=>{class t extends tR{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!iH())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(ne(Di),ne(Jt),ne(oH,8))};static \u0275dir=qe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ci("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Vn([rH]),Tt]})}return t})();function EE(t){return t==null||IE(t)===0}function IE(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var $h=new q(""),wE=new q(""),sH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,WN=class{static min(e){return aH(e)}static max(e){return cH(e)}static required(e){return rR(e)}static requiredTrue(e){return uH(e)}static email(e){return lH(e)}static minLength(e){return dH(e)}static maxLength(e){return hH(e)}static pattern(e){return fH(e)}static nullValidator(e){return xh()}static compose(e){return uR(e)}static composeAsync(e){return dR(e)}};function aH(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function cH(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function rR(t){return EE(t.value)?{required:!0}:null}function uH(t){return t.value===!0?null:{required:!0}}function lH(t){return EE(t.value)||sH.test(t.value)?null:{email:!0}}function dH(t){return e=>{let n=e.value?.length??IE(e.value);return n===null||n===0?null:n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}function hH(t){return e=>{let n=e.value?.length??IE(e.value);return n!==null&&n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}function fH(t){if(!t)return xh;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(EE(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function xh(t){return null}function iR(t){return t!=null}function oR(t){return Ti(t)?$t(t):t}function sR(t){let e={};return t.forEach(n=>{e=n!=null?se(se({},e),n):e}),Object.keys(e).length===0?null:e}function aR(t,e){return e.map(n=>n(t))}function pH(t){return!t.validate}function cR(t){return t.map(e=>pH(e)?e:n=>e.validate(n))}function uR(t){if(!t)return null;let e=t.filter(iR);return e.length==0?null:function(n){return sR(aR(n,e))}}function lR(t){return t!=null?uR(cR(t)):null}function dR(t){if(!t)return null;let e=t.filter(iR);return e.length==0?null:function(n){let r=aR(n,e).map(oR);return Rf(r).pipe(gt(sR))}}function hR(t){return t!=null?dR(cR(t)):null}function KN(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function fR(t){return t._rawValidators}function pR(t){return t._rawAsyncValidators}function fE(t){return t?Array.isArray(t)?t:[t]:[]}function kh(t,e){return Array.isArray(t)?t.includes(e):t===e}function QN(t,e){let n=fE(e);return fE(t).forEach(i=>{kh(n,i)||n.push(i)}),n}function YN(t,e){return fE(e).filter(n=>!kh(t,n))}var Oh=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=lR(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=hR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},As=class extends Oh{name;get formDirective(){return null}get path(){return null}},Qi=class extends Oh{_parent=null;name=null;valueAccessor=null},Fh=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},gH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},lre=ce(se({},gH),{"[class.ng-submitted]":"isSubmitted"}),dre=(()=>{class t extends Fh{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(ne(Qi,2))};static \u0275dir=qe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ka("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Tt]})}return t})(),hre=(()=>{class t extends Fh{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(ne(As,10))};static \u0275dir=qe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&ka("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Tt]})}return t})();var bc="VALID",Mh="INVALID",bs="PENDING",Cc="DISABLED",$r=class{},Lh=class extends $r{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Ac=class extends $r{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Sc=class extends $r{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Cs=class extends $r{status;source;constructor(e,n){super(),this.status=e,this.source=n}},pE=class extends $r{source;constructor(e){super(),this.source=e}},gE=class extends $r{source;constructor(e){super(),this.source=e}};function DE(t){return(Hh(t)?t.validators:t)||null}function mH(t){return Array.isArray(t)?lR(t):t||null}function TE(t,e){return(Hh(e)?e.asyncValidators:t)||null}function yH(t){return Array.isArray(t)?hR(t):t||null}function Hh(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function gR(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new z(1e3,"");if(!r[n])throw new z(1001,"")}function mR(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new z(1002,"")})}var Ss=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return bt(this.statusReactive)}set status(e){bt(()=>this.statusReactive.set(e))}_status=wr(()=>this.statusReactive());statusReactive=Qt(void 0);get valid(){return this.status===bc}get invalid(){return this.status===Mh}get pending(){return this.status==bs}get disabled(){return this.status===Cc}get enabled(){return this.status!==Cc}errors;get pristine(){return bt(this.pristineReactive)}set pristine(e){bt(()=>this.pristineReactive.set(e))}_pristine=wr(()=>this.pristineReactive());pristineReactive=Qt(!0);get dirty(){return!this.pristine}get touched(){return bt(this.touchedReactive)}set touched(e){bt(()=>this.touchedReactive.set(e))}_touched=wr(()=>this.touchedReactive());touchedReactive=Qt(!1);get untouched(){return!this.touched}_events=new Rt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(QN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(QN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(YN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(YN(e,this._rawAsyncValidators))}hasValidator(e){return kh(this._rawValidators,e)}hasAsyncValidator(e){return kh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ce(se({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Sc(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Sc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ce(se({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ac(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ac(!0,r))}markAsPending(e={}){this.status=bs;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cs(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ce(se({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Cc,this.errors=null,this._forEachChild(i=>{i.disable(ce(se({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Lh(this.value,r)),this._events.next(new Cs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ce(se({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=bc,this._forEachChild(r=>{r.enable(ce(se({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ce(se({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bc||this.status===bs)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Lh(this.value,n)),this._events.next(new Cs(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ce(se({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cc:bc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=bs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=oR(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Cs(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new ht,this.statusChanges=new ht}_calculateStatus(){return this._allControlsDisabled()?Cc:this.errors?Mh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bs)?bs:this._anyControlsHaveStatus(Mh)?Mh:bc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Ac(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Sc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Hh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=mH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=yH(this._rawAsyncValidators)}},Vh=class extends Ss{constructor(e,n,r){super(DE(n),TE(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){mR(this,!0,e),Object.keys(e).forEach(r=>{gR(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var mE=class extends Vh{};var bE=new q("",{providedIn:"root",factory:()=>CE}),CE="always";function vH(t,e){return[...e.path,t]}function yE(t,e,n=CE){AE(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),EH(t,e),wH(t,e),IH(t,e),_H(t,e)}function jh(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Uh(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Bh(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function _H(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function AE(t,e){let n=fR(t);e.validator!==null?t.setValidators(KN(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=pR(t);e.asyncValidator!==null?t.setAsyncValidators(KN(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Bh(e._rawValidators,i),Bh(e._rawAsyncValidators,i)}function Uh(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=fR(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=pR(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Bh(e._rawValidators,r),Bh(e._rawAsyncValidators,r),n}function EH(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&yR(t,e)})}function IH(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&yR(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function yR(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function wH(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function DH(t,e){t==null,AE(t,e)}function TH(t,e){return Uh(t,e)}function vR(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function bH(t){return Object.getPrototypeOf(t.constructor)===_E}function CH(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function _R(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===nR?n=o:bH(o)?r=o:i=o}),i||r||n||null}function AH(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ZN(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function JN(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Ph=class extends Ss{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(DE(n),TE(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(JN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ZN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ZN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){JN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var SH=t=>t instanceof Ph;var pre=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=qe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var SE=new q(""),NH={provide:Qi,useExisting:Pt(()=>RH)},RH=(()=>{class t extends Qi{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(n){}model;update=new ht;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=_R(this,i)}ngOnChanges(n){if(this._isControlChanged(n)){let r=n.form.previousValue;r&&jh(r,this,!1),yE(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}vR(n,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&jh(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_isControlChanged(n){return n.hasOwnProperty("form")}static \u0275fac=function(r){return new(r||t)(ne($h,10),ne(wE,10),ne(Nc,10),ne(SE,8),ne(bE,8))};static \u0275dir=qe({type:t,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[Vn([NH]),Tt,wi]})}return t})(),MH={provide:As,useExisting:Pt(()=>PH)},PH=(()=>{class t extends As{callSetDisabledState;get submitted(){return bt(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=wr(()=>this._submittedReactive());_submittedReactive=Qt(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ht;constructor(n,r,i){super(),this.callSetDisabledState=i,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Uh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return yE(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){jh(n.control||null,n,!1),AH(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),CH(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new pE(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0,r={}){this.form.reset(n,r),this._submittedReactive.set(!1),r?.emitEvent!==!1&&this.form._events.next(new gE(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(jh(r||null,n),SH(i)&&(yE(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);DH(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&TH(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){AE(this.form,this),this._oldForm&&Uh(this._oldForm,this)}static \u0275fac=function(r){return new(r||t)(ne($h,10),ne(wE,10),ne(bE,8))};static \u0275dir=qe({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Ci("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Vn([MH]),Tt,wi]})}return t})();var xH={provide:Qi,useExisting:Pt(()=>kH)},kH=(()=>{class t extends Qi{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new ht;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=_R(this,o)}ngOnChanges(n){this._added||this._setUpControl(),vR(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return vH(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||t)(ne(As,13),ne($h,10),ne(wE,10),ne(Nc,10),ne(SE,8))};static \u0275dir=qe({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Vn([xH]),Tt,wi]})}return t})();var OH={provide:Nc,useExisting:Pt(()=>IR),multi:!0};function ER(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function FH(t){return t.split(":")[0]}var IR=(()=>{class t extends _E{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=O(bi).injector;appRefDestroyRef=this.appRefInjector.get(dt);destroyRef=O(dt);cdr=O(Yl);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefDestroyRef.destroyed||(this._queuedWrite=!0,lm({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),i=ER(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=FH(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Lo(t)))(i||t)}})();static \u0275dir=qe({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Ci("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Vn([OH]),Tt]})}return t})(),gre=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(ER(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||t)(ne(Jt),ne(Di),ne(IR,9))};static \u0275dir=qe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),LH={provide:Nc,useExisting:Pt(()=>wR),multi:!0};function XN(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function VH(t){return t.split(":")[0]}var wR=(()=>{class t extends _E{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let c=0;c<s.length;c++){let u=s[c],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let c=0;c<s.length;c++){let u=s[c];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=VH(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Lo(t)))(i||t)}})();static \u0275dir=qe({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Ci("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Vn([LH]),Tt]})}return t})(),mre=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(XN(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(XN(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(ne(Jt),ne(Di),ne(wR,9))};static \u0275dir=qe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var jH=(()=>{class t{_validator=xh;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):xh,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=qe({type:t,features:[wi]})}return t})();var BH={provide:$h,useExisting:Pt(()=>UH),multi:!0};var UH=(()=>{class t extends jH{required;inputName="required";normalizeInput=wC;createValidator=n=>rR;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Lo(t)))(i||t)}})();static \u0275dir=qe({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&zl("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Vn([BH]),Tt]})}return t})();var $H=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ho({type:t});static \u0275inj=oi({})}return t})(),vE=class extends Ss{constructor(e,n,r){super(DE(n),TE(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){mR(this,!1,e),e.forEach((r,i)=>{gR(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function eR(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var yre=(()=>{class t{useNonNullable=!1;get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return eR(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Vh(i,o)}record(n,r=null){let i=this._reduceControls(n);return new mE(i,r)}control(n,r,i){let o={};return this.useNonNullable?(eR(r)?o=r:(o.validators=r,o.asyncValidators=i),new Ph(n,ce(se({},o),{nonNullable:!0}))):new Ph(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new vE(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof Ph)return n;if(n instanceof Ss)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var vre=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:SE,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:bE,useValue:n.callSetDisabledState??CE}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ho({type:t});static \u0275inj=oi({imports:[$H]})}return t})();export{se as a,ce as b,Pe as c,LI as d,Q as e,Tf as f,bf as g,Rt as h,Qs as i,Zs as j,$t as k,EM as l,IM as m,wM as n,Jr as o,gt as p,RM as q,xn as r,Nf as s,gu as t,PM as u,Mf as v,Yr as w,iw as x,jM as y,BM as z,Js as A,mu as B,$M as C,HM as D,Pf as E,qM as F,sw as G,aw as H,cw as I,zM as J,uw as K,GM as L,z as M,ue as N,tP as O,q as P,Ye as Q,O as R,qt as S,pp as T,ct as U,dr as V,zw as W,Gw as X,ke as Y,To as Z,dt as _,an as $,Ft as aa,bP as ba,Qt as ca,vr as da,vt as ea,wi as fa,Lo as ga,kg as ha,Jt as ia,cx as ja,ux as ka,fT as la,Fg as ma,dx as na,xo as oa,wx as pa,$x as qa,wa as ra,ba as sa,Di as ta,ne as ua,$o as va,Db as wa,im as xa,DO as ya,qe as za,Ul as Aa,Tt as Ba,kO as Ca,Sb as Da,Nb as Ea,Pa as Fa,ht as Ga,ye as Ha,g1 as Ia,Ti as Ja,Hb as Ka,bi as La,I1 as Ma,w1 as Na,zl as Oa,T1 as Pa,hm as Qa,b1 as Ra,C1 as Sa,A1 as Ta,S1 as Ua,N1 as Va,Wb as Wa,fm as Xa,pm as Ya,Kb as Za,gm as _a,mm as $a,Qb as ab,P1 as bb,Ci as cb,Jb as db,O1 as eb,L1 as fb,V1 as gb,B1 as hb,U1 as ib,$1 as jb,H1 as kb,q1 as lb,ka as mb,tF as nb,fF as ob,oC as pb,ym as qb,sC as rb,IF as sb,wF as tb,DF as ub,bF as vb,AF as wb,NF as xb,PF as yb,bt as zb,wr as Ab,fC as Bb,gC as Cb,XY as Db,eZ as Eb,Yl as Fb,tZ as Gb,wC as Hb,Ai as Ib,cL as Jb,Am as Kb,Sm as Lb,Jl as Mb,SC as Nb,RC as Ob,PC as Pb,pL as Qb,mL as Rb,yL as Sb,vL as Tb,Mm as Ub,PJ as Vb,jC as Wb,Tr as Xb,rd as Yb,id as Zb,Ct as _b,Re as $b,pt as ac,en as bc,Ko as cc,At as dc,Ri as ec,be as fc,zJ as gc,Ar as hc,Ua as ic,Yo as jc,Sr as kc,Me as lc,Bn as mc,Pi as nc,OX as oc,FX as pc,Zo as qc,U2 as rc,Ja as sc,Xa as tc,ete as uc,tte as vc,nte as wc,rte as xc,je as yc,z$ as zc,G$ as Ac,Tc as Bc,xne as Cc,kne as Dc,One as Ec,Fne as Fc,Lne as Gc,Vne as Hc,jne as Ic,Bne as Jc,Une as Kc,$ne as Lc,Hne as Mc,qne as Nc,zne as Oc,Gne as Pc,nR as Qc,WN as Rc,dre as Sc,hre as Tc,Ph as Uc,pre as Vc,RH as Wc,PH as Xc,kH as Yc,IR as Zc,gre as _c,mre as $c,UH as ad,yre as bd,vre as cd};
