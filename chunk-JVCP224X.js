import{a as z}from"./chunk-IL6WA7QN.js";import{a as W}from"./chunk-XYSAVG3P.js";import{a as J,b as Q,c as X,d as ee}from"./chunk-OTIURIRC.js";import{A as D,B as a,F as L,J as Z,K as A,M as B,N as U,O as p,P as n,Q as s,R as m,V as R,W as v,Y as f,Z as G,_ as w,ea as u,ga as h,ma as O,o as b,oa as N,p as q,pa as c,q as S,r as _,s as j,ta as $,u as T,ua as Y,wa as K,y as d}from"./chunk-G3VICSN5.js";var te=["*","*"];function re(t,i){if(t&1){let e=R();n(0,"button",3),v("click",function(r){q(e);let l=f();return S(l.onCopyPrompt(r))}),_(),n(1,"svg",4),m(2,"path",5),s()(),j(),n(3,"button",6),v("click",function(r){q(e);let l=f();return S(l.onShare(r))}),_(),n(4,"svg",4),m(5,"path",7),s()()}}function ne(t,i){if(t&1&&(n(0,"h1",8),u(1),s(),n(2,"div",9),u(3," Informaci\xF3n detallada del elemento "),s()),t&2){let e=f();p("title",e.titulo()),d(),h(" ",e.titulo()," ")}}var P=class t{constructor(i){this.router=i;let e=this.router.parseUrl(this.router.lastSuccessfulNavigation?.initialUrl?.toString()||"/");this.lastParams=e.queryParams,this.lastUrl=e.toString().split("?")[0]||"/"}lastUrl;lastParams;titulo=c("Elemento");copyPrompt=N();share=N();onCopyPrompt(i){this.copyPrompt.emit(i)}onMainButtonClick(i){i.stopPropagation(),this.router.navigate([this.lastUrl],{queryParams:this.lastParams})}onShare(i){this.share.emit(i)}static \u0275fac=function(e){return new(e||t)(D(K))};static \u0275cmp=a({type:t,selectors:[["pd-detail-header"],["","pd-detail-header",""]],inputs:{titulo:[1,"titulo"]},outputs:{copyPrompt:"copyPrompt",share:"share"},features:[L([ee])],ngContentSelectors:te,decls:7,vars:1,consts:[[3,"mainButtonClicked","double"],["nav-button","","height","24px","viewBox","0 -960 960 960","width","24px","fill","currentColor"],["d","m313-440 224 224-57 56-320-320 320-320 57 56-224 224h487v80H313Z"],["pdHeaderButton","","title","Copiar el prompt","aria-label","Copiar el prompt",3,"click"],["height","24px","viewBox","0 -960 960 960","width","24px","fill","currentColor"],["d","M360-240q-33 0-56.5-23.5T280-320v-480q0-33 23.5-56.5T360-880h360q33 0 56.5 23.5T800-800v480q0 33-23.5 56.5T720-240H360Zm0-80h360v-480H360v480ZM200-80q-33 0-56.5-23.5T120-160v-560h80v560h440v80H200Zm160-240v-480 480Z"],["pdHeaderButton","","title","Compartir el prompt","aria-label","Compartir el prompt",3,"click"],["d","M680-80q-50 0-85-35t-35-85q0-6 3-28L282-392q-16 15-37 23.5t-45 8.5q-50 0-85-35t-35-85q0-50 35-85t85-35q24 0 45 8.5t37 23.5l281-164q-2-7-2.5-13.5T560-760q0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35q-24 0-45-8.5T598-672L317-508q2 7 2.5 13.5t.5 14.5q0 8-.5 14.5T317-452l281 164q16-15 37-23.5t45-8.5q50 0 85 35t35 85q0 50-35 85t-85 35Zm0-80q17 0 28.5-11.5T720-200q0-17-11.5-28.5T680-240q-17 0-28.5 11.5T640-200q0 17 11.5 28.5T680-160ZM200-440q17 0 28.5-11.5T240-480q0-17-11.5-28.5T200-520q-17 0-28.5 11.5T160-480q0 17 11.5 28.5T200-440Zm480-280q17 0 28.5-11.5T720-760q0-17-11.5-28.5T680-800q-17 0-28.5 11.5T640-760q0 17 11.5 28.5T680-720Zm0 520ZM200-480Zm480-280Z"],[1,"text-header-contrast","w-full","inline-block","truncate","lowercase","first-letter:uppercase","text-[1.75rem]/9",3,"title"],["title","Informaci\xF3n detallada del elemento",1,"text-header-low-contrast","truncate","lowercase","first-letter:uppercase","text-sm"]],template:function(e,o){e&1&&(G(te),n(0,"pd-header",0),v("mainButtonClicked",function(l){return o.onMainButtonClick(l)}),_(),n(1,"svg",1),m(2,"path",2),s(),w(3,0,["trailing-items",""],re,6,0),w(5,1,["second-row",""],ne,4,2),s()),e&2&&p("double",!0)},dependencies:[X,Q],encapsulation:2})};var x=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=a({type:t,selectors:[["pd-prompt-not-found"]],hostAttrs:[1,"text-center","inline-block","p-6","items-center","justify-center","text-balance","text-not-found"],decls:1,vars:0,template:function(e,o){e&1&&u(0,"Lo que buscas no existe o ha sido eliminado.")},encapsulation:2})};var ae=["pd-value-item",""],C=class t{value=c(void 0,{alias:"pd-value-item"});rtfes=new Intl.RelativeTimeFormat("es",{numeric:"auto"});valueText=O(()=>{let i=this.value();if(i==null)return"Sin informaci\xF3n";if(Array.isArray(i))return i.length>0?i.join(", "):"Sin informaci\xF3n";if(typeof this.value()=="boolean")return this.value()?"S\xED":"No";if(i instanceof Date){let e=new Date,o=i.getTime()-e.getTime(),r=le(o);return this.rtfes.format(se(o,r),r)}return String(this.value())});static \u0275fac=function(e){return new(e||t)};static \u0275cmp=a({type:t,selectors:[["","pd-value-item",""]],hostAttrs:[1,"text-md","text-inverse"],inputs:{value:[1,"pd-value-item","value"]},attrs:ae,decls:1,vars:1,template:function(e,o){e&1&&u(0),e&2&&h("",o.valueText()," ")},encapsulation:2})},I=60*1e3,E=60*I,H=24*E,F=7*H,V=4*F,ie=V*12;function le(t){return t=Math.abs(t),t<I?"second":t<E?"minute":t<H?"hour":t<F?"day":t<V?"week":t<ie?"month":"year"}function se(t,i){return Math.round(i==="minute"?t/I:i==="hour"?t/E:i==="day"?t/H:i==="week"?t/F:i==="month"?t/V:i==="year"?t/ie:t/1e3)}var pe=["pd-label-item",""],M=class t{text=c("",{alias:"pd-label-item"});static \u0275fac=function(e){return new(e||t)};static \u0275cmp=a({type:t,selectors:[["","pd-label-item",""]],hostAttrs:[1,"text-sm","text-inverse","opacity-80"],inputs:{text:[1,"pd-label-item","text"]},attrs:pe,decls:1,vars:1,template:function(e,o){e&1&&u(0),e&2&&h("",o.text()," ")},encapsulation:2})};var me=["pd-key-value-item",""],k=class t{label=c("");value=c(void 0);static \u0275fac=function(e){return new(e||t)};static \u0275cmp=a({type:t,selectors:[["","pd-key-value-item",""]],hostAttrs:[1,"flex","flex-col","pt-1","pb-3","items-start","justify-center"],inputs:{label:[1,"label"],value:[1,"value"]},attrs:me,decls:2,vars:2,consts:[[3,"pd-label-item"],[3,"pd-value-item"]],template:function(e,o){e&1&&m(0,"div",0)(1,"div",1),e&2&&(p("pd-label-item",o.label()),d(),p("pd-value-item",o.value()))},dependencies:[M,C],encapsulation:2})};var ue=(t,i)=>i.key;function ce(t,i){if(t&1&&m(0,"li",3),t&2){let e=i.$implicit,o=f();p("label",e.label)("value",o[e.key])}}function de(t,i){if(t&1&&(n(0,"ul",2),B(1,ce,1,2,"li",3,ue),s()),t&2){let e=f();d(),U(e.displayProperties)}}function fe(t,i){t&1&&m(0,"pd-prompt-not-found")}var oe=class t{constructor(i){this.title=i;this.activatedRoute.params.subscribe(e=>{let o=Number(e.id),r=Number.isInteger(o)&&Number.isFinite(o)?this.persistService.byId(o):null;r?(this.prompt.set(r),this.titulo.set(r.titulo),this.title.setTitle(`Prompt | ${r.titulo}`)):(this.titulo.set("No encontrado"),this.title.setTitle("Prompt no encontrado"))})}persistService=b(J);activatedRoute=b(Y);copyService=b(z);notifier=b(W);url=T(window.location.origin+window.location.pathname);prompt=T(null);displayProperties=[{label:"T\xEDtulo",key:"titulo"},{label:"Texto",key:"prompt"},{label:"Descripci\xF3n",key:"descripcion"},{label:"Autor",key:"autor"},{label:"Categor\xEDa",key:"categoria"},{label:"Creado",key:"fechaCreacion"},{label:"Etiquetas",key:"tags"},{label:"ID",key:"id"}];titulo=T("");onCopyPrompt(i){i.stopPropagation();let e=this.prompt()?.prompt;e&&this.copyService.copy(e)}async onShare(i){i.stopPropagation();let e=this.prompt(),o=this.url(),r={title:e.titulo,text:e.prompt,url:o};if(navigator.canShare(r))try{await navigator.share(r)}catch(l){console.warn("Error al compartir el prompt:",l)}}static \u0275fac=function(e){return new(e||t)(D($))};static \u0275cmp=a({type:t,selectors:[["pd-prompt-detail"]],hostAttrs:[1,"w-full"],decls:4,vars:2,consts:[["pd-detail-header","",3,"copyPrompt","share","titulo"],[1,"px-6","py-6","w-full"],[1,"divide-y-[0.5px]","space-y-2"],["pd-key-value-item","",3,"label","value"]],template:function(e,o){if(e&1&&(n(0,"header",0),v("copyPrompt",function(l){return o.onCopyPrompt(l)})("share",function(l){return o.onShare(l)}),s(),n(1,"div",1),Z(2,de,3,0,"ul",2)(3,fe,1,0,"pd-prompt-not-found"),s()),e&2){let r;p("titulo",o.titulo()),d(2),A((r=o.prompt())?2:3,r)}},dependencies:[P,x,k],encapsulation:2})};export{oe as PromptDetail};
