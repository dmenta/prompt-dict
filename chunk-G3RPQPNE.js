import{a as Q}from"./chunk-LAO2WKIL.js";import{a as K}from"./chunk-MP6VPZHX.js";import"./chunk-ZGBTNZIA.js";import{a as W,b as z,c as J}from"./chunk-4DWN2Z7T.js";import{A as L,B as n,F as Z,J as A,K as B,M as U,N as R,O as s,P as a,Q as p,R as m,V as O,W as v,Y as f,Z as G,_ as S,ea as c,ga as h,ma as _,n as M,o as k,oa as w,p as q,pa as u,q as g,r as V,u as j,ua as Y,wa as $,y as d}from"./chunk-VHJOMIBP.js";var X=["*","*"];function ie(e,i){if(e&1){let t=O();a(0,"button",3),v("click",function(r){k(t);let l=f();return q(l.onCopyPrompt(r))}),g(),a(1,"svg",4),m(2,"path",5),p()(),V(),a(3,"button",6),v("click",function(r){k(t);let l=f();return q(l.onShare(r))}),g(),a(4,"svg",4),m(5,"path",7),p()()}}function oe(e,i){if(e&1&&(a(0,"h1",8),c(1),p(),a(2,"div",9),c(3," Informaci\xF3n detallada del elemento "),p()),e&2){let t=f();s("title",t.titulo()),d(),h(" ",t.titulo()," ")}}var D=class e{constructor(i){this.router=i;let t=this.router.parseUrl(this.router.lastSuccessfulNavigation?.initialUrl?.toString()||"/");this.lastParams=t.queryParams,this.lastUrl=t.toString().split("?")[0]||"/"}lastUrl;lastParams;titulo=u("Elemento");copyPrompt=w();share=w();onCopyPrompt(i){this.copyPrompt.emit(i)}onMainButtonClick(i){i.stopPropagation(),this.router.navigate([this.lastUrl],{queryParams:this.lastParams})}onShare(i){this.share.emit(i)}static \u0275fac=function(t){return new(t||e)(L($))};static \u0275cmp=n({type:e,selectors:[["pd-detail-header"],["","pd-detail-header",""]],inputs:{titulo:[1,"titulo"]},outputs:{copyPrompt:"copyPrompt",share:"share"},features:[Z([J])],ngContentSelectors:X,decls:7,vars:1,consts:[[3,"mainButtonClicked","double"],["nav-button","","height","24px","viewBox","0 -960 960 960","width","24px","fill","currentColor"],["d","m313-440 224 224-57 56-320-320 320-320 57 56-224 224h487v80H313Z"],["pdHeaderButton","","title","Copiar el prompt","aria-label","Copiar el prompt",3,"click"],["height","24px","viewBox","0 -960 960 960","width","24px","fill","currentColor"],["d","M360-240q-33 0-56.5-23.5T280-320v-480q0-33 23.5-56.5T360-880h360q33 0 56.5 23.5T800-800v480q0 33-23.5 56.5T720-240H360Zm0-80h360v-480H360v480ZM200-80q-33 0-56.5-23.5T120-160v-560h80v560h440v80H200Zm160-240v-480 480Z"],["pdHeaderButton","","title","Compartir el prompt","aria-label","Compartir el prompt",3,"click"],["d","M680-80q-50 0-85-35t-35-85q0-6 3-28L282-392q-16 15-37 23.5t-45 8.5q-50 0-85-35t-35-85q0-50 35-85t85-35q24 0 45 8.5t37 23.5l281-164q-2-7-2.5-13.5T560-760q0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35q-24 0-45-8.5T598-672L317-508q2 7 2.5 13.5t.5 14.5q0 8-.5 14.5T317-452l281 164q16-15 37-23.5t45-8.5q50 0 85 35t35 85q0 50-35 85t-85 35Zm0-80q17 0 28.5-11.5T720-200q0-17-11.5-28.5T680-240q-17 0-28.5 11.5T640-200q0 17 11.5 28.5T680-160ZM200-440q17 0 28.5-11.5T240-480q0-17-11.5-28.5T200-520q-17 0-28.5 11.5T160-480q0 17 11.5 28.5T200-440Zm480-280q17 0 28.5-11.5T720-760q0-17-11.5-28.5T680-800q-17 0-28.5 11.5T640-760q0 17 11.5 28.5T680-720Zm0 520ZM200-480Zm480-280Z"],[1,"text-header-contrast","w-full","inline-block","truncate","lowercase","first-letter:uppercase","text-[1.75rem]/9",3,"title"],["title","Informaci\xF3n detallada del elemento",1,"text-header-low-contrast","truncate","lowercase","first-letter:uppercase","text-sm"]],template:function(t,o){t&1&&(G(X),a(0,"pd-header",0),v("mainButtonClicked",function(l){return o.onMainButtonClick(l)}),g(),a(1,"svg",1),m(2,"path",2),p(),S(3,0,["trailing-items",""],ie,6,0),S(5,1,["second-row",""],oe,4,2),p()),t&2&&s("double",!0)},dependencies:[z,W],encapsulation:2})};var P=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=n({type:e,selectors:[["pd-prompt-not-found"]],hostAttrs:[1,"text-center","inline-block","p-6","items-center","justify-center","text-balance","text-not-found"],decls:1,vars:0,template:function(t,o){t&1&&c(0,"Lo que buscas no existe o ha sido eliminado.")},encapsulation:2})};var re=["pd-value-item",""],x=class e{value=u(void 0,{alias:"pd-value-item"});rtfes=new Intl.RelativeTimeFormat("es",{numeric:"auto"});valueText=_(()=>{let i=this.value();if(i==null)return"Sin informaci\xF3n";if(Array.isArray(i))return i.length>0?i.join(", "):"Sin informaci\xF3n";if(typeof this.value()=="boolean")return this.value()?"S\xED":"No";if(i instanceof Date){let t=new Date,o=i.getTime()-t.getTime(),r=ae(o);return this.rtfes.format(ne(o,r),r)}return String(this.value())});static \u0275fac=function(t){return new(t||e)};static \u0275cmp=n({type:e,selectors:[["","pd-value-item",""]],hostAttrs:[1,"text-md","text-inverse"],inputs:{value:[1,"pd-value-item","value"]},attrs:re,decls:1,vars:1,template:function(t,o){t&1&&c(0),t&2&&h("",o.valueText()," ")},encapsulation:2})},N=60*1e3,I=60*N,E=24*I,H=7*E,F=4*H,ee=F*12;function ae(e){return e=Math.abs(e),e<N?"second":e<I?"minute":e<E?"hour":e<H?"day":e<F?"week":e<ee?"month":"year"}function ne(e,i){return Math.round(i==="minute"?e/N:i==="hour"?e/I:i==="day"?e/E:i==="week"?e/H:i==="month"?e/F:i==="year"?e/ee:e/1e3)}var le=["pd-label-item",""],C=class e{text=u("",{alias:"pd-label-item"});static \u0275fac=function(t){return new(t||e)};static \u0275cmp=n({type:e,selectors:[["","pd-label-item",""]],hostAttrs:[1,"text-sm","text-inverse","opacity-80"],inputs:{text:[1,"pd-label-item","text"]},attrs:le,decls:1,vars:1,template:function(t,o){t&1&&c(0),t&2&&h("",o.text()," ")},encapsulation:2})};var pe=["pd-key-value-item",""],T=class e{label=u("");value=u(void 0);static \u0275fac=function(t){return new(t||e)};static \u0275cmp=n({type:e,selectors:[["","pd-key-value-item",""]],hostAttrs:[1,"flex","flex-col","pt-1","pb-3","items-start","justify-center"],inputs:{label:[1,"label"],value:[1,"value"]},attrs:pe,decls:2,vars:2,consts:[[3,"pd-label-item"],[3,"pd-value-item"]],template:function(t,o){t&1&&m(0,"div",0)(1,"div",1),t&2&&(s("pd-label-item",o.label()),d(),s("pd-value-item",o.value()))},dependencies:[C,x],encapsulation:2})};var se=(e,i)=>i.key;function me(e,i){if(e&1&&m(0,"li",3),e&2){let t=i.$implicit,o=f();s("label",t.label)("value",o[t.key])}}function ce(e,i){if(e&1&&(a(0,"ul",2),U(1,me,1,2,"li",3,se),p()),e&2){let t=f();d(),R(t.displayProperties)}}function ue(e,i){e&1&&m(0,"pd-prompt-not-found")}var te=class e{url=j(window.location.origin+window.location.pathname);route=M(Y);data=Q(this.route.data);copyService=M(K);prompt=_(()=>this.data().prompt);displayProperties=[{label:"T\xEDtulo",key:"titulo"},{label:"Texto",key:"prompt"},{label:"Descripci\xF3n",key:"descripcion"},{label:"Autor",key:"autor"},{label:"Categor\xEDa",key:"categoria"},{label:"Creado",key:"fechaCreacion"},{label:"Etiquetas",key:"tags"},{label:"ID",key:"id"}];onCopyPrompt(i){i.stopPropagation(),this.copyService.copy(this.prompt().prompt)}async onShare(i){if(i.stopPropagation(),!navigator.canShare){this.copyService.copy(this.url());return}let t=this.prompt(),o=this.url(),r={title:"Prompter",text:t.titulo,url:o};if(navigator.canShare(r))try{await navigator.share(r)}catch(l){console.warn("Error al compartir el prompt:",l)}else this.copyService.copy(this.url())}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=n({type:e,selectors:[["pd-prompt-detail"]],hostAttrs:[1,"w-full"],decls:4,vars:2,consts:[["pd-detail-header","",3,"copyPrompt","share","titulo"],[1,"px-6","py-6","w-full"],[1,"divide-y-[0.5px]","space-y-2"],["pd-key-value-item","",3,"label","value"]],template:function(t,o){if(t&1&&(a(0,"header",0),v("copyPrompt",function(l){return o.onCopyPrompt(l)})("share",function(l){return o.onShare(l)}),p(),a(1,"div",1),A(2,ce,3,0,"ul",2)(3,ue,1,0,"pd-prompt-not-found"),p()),t&2){let r;s("titulo",o.prompt().titulo),d(2),B((r=o.prompt())?2:3,r)}},dependencies:[D,P,T],encapsulation:2})};export{te as PromptDetail};
