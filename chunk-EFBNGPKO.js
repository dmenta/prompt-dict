import{a as _}from"./chunk-7CKUCY3Q.js";import{a as Q}from"./chunk-7GLL5DRN.js";import{A as d,B as x,C as b,E as P,I as v,J as F,K as p,S as H,T as V,Y as j,a as M,b as C,da as D,e as g,f,fa as R,g as y,i as m,ia as $,j as n,l as c,oa as B,p as k,q as T,r,s,t as o,u as l,v as q,w as h,x as A,y as N,z as E}from"./chunk-BFB4AS56.js";var J=["pd-nav-item",""],K=(a,t)=>[a,t],w=class a{paramName=p(null);slug=p(null);text=p("");cantidad=p(0);static \u0275fac=function(e){return new(e||a)};static \u0275cmp=c({type:a,selectors:[["","pd-nav-item",""]],hostAttrs:[1,"w-full","block"],inputs:{paramName:[1,"paramName"],slug:[1,"slug"],text:[1,"text"],cantidad:[1,"cantidad"]},attrs:J,decls:6,vars:7,consts:[["rla","routerLinkActive"],["routerLinkActive","",1,"select-none",3,"routerLink"],[1,"inline-flex","items-center","whitespace-nowrap","rounded-md","font-regular","ring-offset-background","transition-colors","focus-visible:outline-none","focus-visible:ring-2","focus-visible:ring-ring","focus-visible:ring-offset-2","disabled:pointer-events-none","text-sm","disabled:opacity-50","hover:bg-item-hover","hover:text-item-hover-contrast","h-10","px-4","py-8","md:py-4","w-full","gap-2",3,"disabled"],[3,"quantity"]],template:function(e,i){if(e&1&&(s(0,"a",1,0)(2,"button",2),l(3,"pd-quantity-bagde",3),s(4,"span"),d(5),o()()()),e&2){let u=N(1);r("routerLink",P(4,K,i.paramName(),i.slug())),n(2),r("disabled",u.isActive),n(),r("quantity",i.cantidad()),n(2),b(" ",i.text())}},dependencies:[H,V,B],encapsulation:2})};var O=["pd-nav-list",""],U=(a,t)=>t.slug;function W(a,t){if(a&1&&l(0,"li",0),a&2){let e=t.$implicit,i=A();r("slug",e.slug)("text",e.name)("paramName",i.list())("cantidad",e.prompt_count)}}var S=class a{persistService=g(D);list=p("category");sort=p("qty");items=m([]);sortedItems=v(()=>this.items().sort((t,e)=>this.sort()==="qty"?e.prompt_count-t.prompt_count:t.name.localeCompare(e.name)));constructor(){F(()=>{this.list()==="category"?this.persistService.categories().then(t=>{this.items.set(t)}):this.persistService.tags().then(t=>{this.items.set(t)})})}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=c({type:a,selectors:[["nav","pd-nav-list",""],["ul","pd-nav-list",""],["ol","pd-nav-list",""]],hostAttrs:[1,"space-y-1","w-full","h-full"],inputs:{list:[1,"list"],sort:[1,"sort"]},attrs:O,decls:2,vars:0,consts:[["pd-nav-item","",3,"slug","text","paramName","cantidad"]],template:function(e,i){e&1&&k(0,W,1,4,"li",0,U),e&2&&T(i.sortedItems())},dependencies:[w],encapsulation:2})};var G=class a{store=g(j);listData=m(this.store.get("navListConfig")??{category:"alpha",tag:"qty"});persistService=g(D);prompts=m([]);list=m(this.store.get("navList")??"category");sort=v(()=>this.listData()[this.list()]??"qty");constructor(){this.persistService.prompts().then(t=>{this.prompts.set(t)})}onClick(t,e){t.stopPropagation(),this.list.set(e),this.store.save("navList",e)}onSortChange(){let e=this.sort()==="qty"?"alpha":"qty";this.listData.update(i=>C(M({},i),{[this.list()]:e})),this.store.save("navListConfig",this.listData())}inactivo=v(()=>this.list()==="category"?_.tag.title:_.category.title);activo=v(()=>_[this.list()].title);static \u0275fac=function(e){return new(e||a)};static \u0275cmp=c({type:a,selectors:[["pd-home"]],hostAttrs:[1,"w-full"],decls:14,vars:10,consts:[["drawer",""],["pd-main-header","",3,"open"],["pd-drawer","",1,"w-fit","select-none"],["drawer-title","",1,"flex","items-center","justify-between","w-full"],[1,"font-semibold","text-list-name","pr-1"],[1,"cursor-pointer","text-xs","opacity-85",3,"click"],[1,"opacity-85","font-light","hover:opacity-100",3,"click"],["pd-nav-list","",3,"list","sort"],[1,"flex","flex-row","md:ml-72"],["pd-prompts-list","",1,"px-6","py-6",3,"prompts"]],template:function(e,i){if(e&1){let u=q();s(0,"header",1),h("open",function(){f(u);let L=N(2);return y(L.show())}),o(),s(1,"div",2,0)(3,"div",3)(4,"div")(5,"span",4),d(6),o(),s(7,"button",5),h("click",function(){return f(u),y(i.onSortChange())}),d(8),o()(),s(9,"span",6),h("click",function(L){return f(u),y(i.onClick(L,i.list()==="category"?"tag":"category"))}),d(10),o()(),l(11,"nav",7),o(),s(12,"div",8),l(13,"ul",9),o()}e&2&&(n(3),E("flex-row",i.list()==="category")("flex-row-reverse",i.list()==="tag"),n(3),x(i.activo()),n(2),b(" [",i.sort()==="qty"?"Num":"A-Z","] "),n(2),x(i.inactivo()),n(),r("list",i.list())("sort",i.sort()),n(2),r("prompts",i.prompts()))},dependencies:[Q,$,R,S],encapsulation:2})};export{G as Home};
