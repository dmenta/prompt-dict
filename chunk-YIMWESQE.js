import{a as y}from"./chunk-TDSBGJ2S.js";import"./chunk-PERAIJ5P.js";import{i as S}from"./chunk-OZAKHKMD.js";import{Aa as v,Fa as P,K as s,L as a,M as p,N as u,S as c,ja as o,l as r,ra as f,s as m,sa as b,u as l,ua as h,v as d,za as g}from"./chunk-SS37W63O.js";var D=class n{notificationService=r(g);router=r(h);route=r(b);persist=r(P);data=v(this.route.data);prompts=o(()=>this.data().item.prompts);titulo=o(()=>this.data().item.name);subtitulo=o(()=>this.resolvedSubtitulo(this.prompts().length,this.data().type.lowercase));borrable=o(()=>this.prompts().length<=0);constructor(t){t.setTitle(`${this.data()?.item.name} | ${this.data()?.type.title} | Prompter`)}onErase(t){t.stopPropagation(),this.borrable()&&(this.data()?.type.lowercase==="etiqueta"?this.persist.deleteTag(this.data()?.item.name).then(()=>{this.notificationService.success("Etiqueta eliminada."),this.router.navigate(["/"])}):this.persist.deleteCategory(this.data()?.item.name).then(()=>{this.notificationService.success("Categor\xEDa eliminada."),this.router.navigate(["/"])}))}resolvedSubtitulo(t,e){return`${t===0?"Ning\xFAn prompt asociado":t===1?"1 prompt asociado":`${t.toFixed(0)} prompts asociados`} a esta ${e}`}static \u0275fac=function(e){return new(e||n)(l(f))};static \u0275cmp=d({type:n,selectors:[["pd-prompts"]],hostAttrs:[1,"w-full"],decls:3,vars:4,consts:[["pd-section-header","",3,"erase","titulo","subtitulo","enabled"],[1,"flex","flex-row","w-full"],["pd-prompts-list","",1,"p-4",3,"prompts"]],template:function(e,i){e&1&&(a(0,"header",0),c("erase",function(N){return i.onErase(N)}),p(),a(1,"div",1),u(2,"ul",2),p()),e&2&&(s("titulo",i.titulo())("subtitulo",i.subtitulo())("enabled",i.borrable()),m(2),s("prompts",i.prompts()))},dependencies:[y,S],encapsulation:2})};export{D as Prompts};
