import{a as W,b as z,c as J,d as Q,e as X}from"./chunk-S34WQHLS.js";import{c as $,d as Y,f as K}from"./chunk-AW5E5VE3.js";import{$a as d,Aa as a,Ea as j,Na as L,Oa as Z,Pa as A,Qa as B,Ra as s,S as h,Sa as r,Ta as l,Ua as p,X as F,Y as E,Ya as U,Z as g,Za as v,_ as V,ab as R,bb as q,fa as k,hb as m,jb as f,qb as G,sa as c,tb as O,ub as u,wa as T}from"./chunk-DP5DL4RR.js";var ee=["*","*"];function oe(e,i){if(e&1){let t=U();r(0,"button",3),v("click",function(n){F(t);let M=d();return E(M.onCopyPrompt(n))}),g(),r(1,"svg",4),p(2,"path",5),l()(),V(),r(3,"button",6),g(),r(4,"svg",4),p(5,"path",7),l()()}}function ne(e,i){if(e&1&&(r(0,"h1",8),m(1),l(),r(2,"div",9),m(3," Informaci\xF3n detallada del elemento "),l()),e&2){let t=d();s("title",t.titulo()),c(),f(" ",t.titulo()," ")}}var D=class e{constructor(i){this.router=i;let t=this.router.parseUrl(this.router.lastSuccessfulNavigation?.initialUrl?.toString()||"/");this.lastParams=t.queryParams,this.lastUrl=t.toString().split("?")[0]||"/"}lastUrl;lastParams;titulo=u("Elemento");copyPrompt=O();onCopyPrompt(i){this.copyPrompt.emit(i)}onMainButtonClick(i){i.stopPropagation(),this.router.navigate([this.lastUrl],{queryParams:this.lastParams})}static \u0275fac=function(t){return new(t||e)(T(K))};static \u0275cmp=a({type:e,selectors:[["pd-detail-header"],["","pd-detail-header",""]],inputs:{titulo:[1,"titulo"]},outputs:{copyPrompt:"copyPrompt"},features:[j([X])],ngContentSelectors:ee,decls:7,vars:1,consts:[[3,"mainButtonClicked","double"],["nav-button","","height","24px","viewBox","0 -960 960 960","width","24px","fill","currentColor"],["d","m313-440 224 224-57 56-320-320 320-320 57 56-224 224h487v80H313Z"],["pdHeaderButton","","title","Copiar el prompt","aria-label","Copiar el prompt",3,"click"],["height","24px","viewBox","0 -960 960 960","width","24px","fill","currentColor"],["d","M360-240q-33 0-56.5-23.5T280-320v-480q0-33 23.5-56.5T360-880h360q33 0 56.5 23.5T800-800v480q0 33-23.5 56.5T720-240H360Zm0-80h360v-480H360v480ZM200-80q-33 0-56.5-23.5T120-160v-560h80v560h440v80H200Zm160-240v-480 480Z"],["pdHeaderButton",""],["d","M680-80q-50 0-85-35t-35-85q0-6 3-28L282-392q-16 15-37 23.5t-45 8.5q-50 0-85-35t-35-85q0-50 35-85t85-35q24 0 45 8.5t37 23.5l281-164q-2-7-2.5-13.5T560-760q0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35q-24 0-45-8.5T598-672L317-508q2 7 2.5 13.5t.5 14.5q0 8-.5 14.5T317-452l281 164q16-15 37-23.5t45-8.5q50 0 85 35t35 85q0 50-35 85t-85 35Zm0-80q17 0 28.5-11.5T720-200q0-17-11.5-28.5T680-240q-17 0-28.5 11.5T640-200q0 17 11.5 28.5T680-160ZM200-440q17 0 28.5-11.5T240-480q0-17-11.5-28.5T200-520q-17 0-28.5 11.5T160-480q0 17 11.5 28.5T200-440Zm480-280q17 0 28.5-11.5T720-760q0-17-11.5-28.5T680-800q-17 0-28.5 11.5T640-760q0 17 11.5 28.5T680-720Zm0 520ZM200-480Zm480-280Z"],[1,"text-header-contrast","w-full","inline-block","truncate","lowercase","first-letter:uppercase","text-[1.75rem]/9",3,"title"],["title","Informaci\xF3n detallada del elemento",1,"text-header-low-contrast","truncate","lowercase","first-letter:uppercase","text-sm"]],template:function(t,o){t&1&&(R(ee),r(0,"pd-header",0),v("mainButtonClicked",function(M){return o.onMainButtonClick(M)}),g(),r(1,"svg",1),p(2,"path",2),l(),q(3,0,["trailing-items",""],oe,6,0),q(5,1,["second-row",""],ne,4,2),l()),t&2&&s("double",!0)},dependencies:[Q,J],encapsulation:2})};var P=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=a({type:e,selectors:[["pd-prompt-not-found"]],hostAttrs:[1,"text-center","inline-block","p-6","items-center","justify-center","text-balance","text-not-found"],decls:1,vars:0,template:function(t,o){t&1&&m(0,"Lo que buscas no existe o ha sido eliminado.")},encapsulation:2})};var re=["pd-value-item",""],_=class e{value=u(void 0,{alias:"pd-value-item"});rtfes=new Intl.RelativeTimeFormat("es",{numeric:"auto"});valueText=G(()=>{let i=this.value();if(i==null)return"Sin informaci\xF3n";if(Array.isArray(i))return i.length>0?i.join(", "):"Sin informaci\xF3n";if(typeof this.value()=="boolean")return this.value()?"S\xED":"No";if(i instanceof Date){let t=new Date,o=i.getTime()-t.getTime(),n=ae(o);return this.rtfes.format(le(o,n),n)}return String(this.value())});static \u0275fac=function(t){return new(t||e)};static \u0275cmp=a({type:e,selectors:[["","pd-value-item",""]],hostAttrs:[1,"text-md","text-inverse"],inputs:{value:[1,"pd-value-item","value"]},attrs:re,decls:1,vars:1,template:function(t,o){t&1&&m(0),t&2&&f("",o.valueText()," ")},encapsulation:2})},N=60*1e3,I=60*N,S=24*I,w=7*S,H=4*w,te=H*12;function ae(e){return e=Math.abs(e),e<N?"second":e<I?"minute":e<S?"hour":e<w?"day":e<H?"week":e<te?"month":"year"}function le(e,i){return Math.round(i==="minute"?e/N:i==="hour"?e/I:i==="day"?e/S:i==="week"?e/w:i==="month"?e/H:i==="year"?e/te:e/1e3)}var se=["pd-label-item",""],x=class e{text=u("",{alias:"pd-label-item"});static \u0275fac=function(t){return new(t||e)};static \u0275cmp=a({type:e,selectors:[["","pd-label-item",""]],hostAttrs:[1,"text-sm","text-inverse","opacity-80"],inputs:{text:[1,"pd-label-item","text"]},attrs:se,decls:1,vars:1,template:function(t,o){t&1&&m(0),t&2&&f("",o.text()," ")},encapsulation:2})};var pe=["pd-key-value-item",""],C=class e{label=u("");value=u(void 0);static \u0275fac=function(t){return new(t||e)};static \u0275cmp=a({type:e,selectors:[["","pd-key-value-item",""]],hostAttrs:[1,"flex","flex-col","pt-1","pb-3","items-start","justify-center"],inputs:{label:[1,"label"],value:[1,"value"]},attrs:pe,decls:2,vars:2,consts:[[3,"pd-label-item"],[3,"pd-value-item"]],template:function(t,o){t&1&&p(0,"div",0)(1,"div",1),t&2&&(s("pd-label-item",o.label()),c(),s("pd-value-item",o.value()))},dependencies:[x,_],encapsulation:2})};var me=(e,i)=>i.key;function ue(e,i){if(e&1&&p(0,"li",3),e&2){let t=i.$implicit,o=d();s("label",t.label)("value",o[t.key])}}function ce(e,i){if(e&1&&(r(0,"ul",2),A(1,ue,1,2,"li",3,me),l()),e&2){let t=d();c(),B(t.displayProperties)}}function de(e,i){e&1&&p(0,"pd-prompt-not-found")}var ie=class e{constructor(i){this.title=i;this.activatedRoute.params.subscribe(t=>{let o=Number(t.id),n=Number.isInteger(o)&&Number.isFinite(o)?this.persistService.byId(o):null;n?(this.prompt.set(n),this.titulo.set(n.titulo),this.title.setTitle(`Prompt | ${n.titulo}`)):(this.titulo.set("No encontrado"),this.title.setTitle("Prompt no encontrado"))})}persistService=h(z);activatedRoute=h(Y);copyService=h(W);prompt=k(null);displayProperties=[{label:"T\xEDtulo",key:"titulo"},{label:"Texto",key:"prompt"},{label:"Descripci\xF3n",key:"descripcion"},{label:"Autor",key:"autor"},{label:"Categor\xEDa",key:"categoria"},{label:"Creado",key:"fechaCreacion"},{label:"Etiquetas",key:"tags"},{label:"ID",key:"id"}];titulo=k("");onCopyPrompt(){let i=this.prompt()?.prompt;i&&this.copyService.copy(i)}static \u0275fac=function(t){return new(t||e)(T($))};static \u0275cmp=a({type:e,selectors:[["pd-prompt-detail"]],hostAttrs:[1,"w-full"],decls:4,vars:2,consts:[["pd-detail-header","",3,"copyPrompt","titulo"],[1,"px-6","py-6","w-full"],[1,"divide-y-[0.5px]","space-y-2"],["pd-key-value-item","",3,"label","value"]],template:function(t,o){if(t&1&&(r(0,"header",0),v("copyPrompt",function(){return o.onCopyPrompt()}),l(),r(1,"div",1),L(2,ce,3,0,"ul",2)(3,de,1,0,"pd-prompt-not-found"),l()),t&2){let n;s("titulo",o.titulo()),c(2),Z((n=o.prompt())?2:3,n)}},dependencies:[D,P,C],encapsulation:2})};export{ie as PromptDetail};
