import{a as N}from"./chunk-TYZ7FRWN.js";import{b as T,d as j,e as B}from"./chunk-S34WQHLS.js";import{c as M,d as _,f as k}from"./chunk-AW5E5VE3.js";import{$a as w,Aa as u,B as S,Ea as y,Ra as p,S as v,Sa as r,Ta as n,Ua as l,Z as x,Za as P,ab as D,bb as H,fa as c,hb as h,jb as b,p as g,sa as a,ub as C,w as f,wa as m}from"./chunk-DP5DL4RR.js";var I=["*"];function L(o,i){if(o&1&&(r(0,"h1",3),h(1),n(),r(2,"div",4),h(3),n()),o&2){let t=w();p("title",t.titulo()),a(),b(" ",t.titulo()," "),a(),p("title",t.subtitulo()),a(),b(" ",t.subtitulo()," ")}}var d=class o{constructor(i){this.router=i}titulo=C("");subtitulo=C("");onMainButtonClick(i){i.stopPropagation(),this.router.navigate(["/"])}static \u0275fac=function(t){return new(t||o)(m(k))};static \u0275cmp=u({type:o,selectors:[["pd-section-header"],["","pd-section-header",""]],inputs:{titulo:[1,"titulo"],subtitulo:[1,"subtitulo"]},features:[y([B])],ngContentSelectors:I,decls:5,vars:0,consts:[[3,"mainButtonClicked"],["nav-button","","height","24px","viewBox","0 -960 960 960","width","24px","fill","currentColor"],["d","m313-440 224 224-57 56-320-320 320-320 57 56-224 224h487v80H313Z"],[1,"text-header-contrast","w-full","inline-block","truncate","lowercase","first-letter:uppercase","text-xl",3,"title"],[1,"text-header-low-contrast","truncate","lowercase","first-letter:uppercase","text-sm",3,"title"]],template:function(t,e){t&1&&(D(),r(0,"pd-header",0),P("mainButtonClicked",function(R){return e.onMainButtonClick(R)}),x(),r(1,"svg",1),l(2,"path",2),n(),H(3,0,null,L,4,4),n())},dependencies:[j],encapsulation:2})};var E=class o{constructor(i){this.title=i;this.activatedRoute.queryParams.pipe(f(t=>t.tag||t.category),g(t=>({tag:t.tag?.trim().toLowerCase()||"",category:t.category?.trim().toLowerCase()||""})),f(({tag:t,category:e})=>t.length>0||e.length>0),S((t,e)=>t.tag===e.tag&&t.category===e.category),g(({tag:t,category:e})=>t.length>0?{itemPrompts:this.persistService.byTag(t),slug:t,type:"etiqueta"}:{itemPrompts:this.persistService.byCategory(e),slug:e,type:"categor\xEDa"})).subscribe(({itemPrompts:t,slug:e,type:s})=>{t?this.init(s,t):(this.titulo.set(e),this.subtitulo.set(`${this.titleCase(s)} desconocida o no encontrada`)),this.title.setTitle(`${this.titleCase(s)} | ${t?.name??e}`)})}persistService=v(T);activatedRoute=v(_);titulo=c("Sin informaci\xF3n");subtitulo=c("Indique una etiqueta o categor\xEDa para mostrar");prompts=c([]);init(i,t){let e=t.prompts;this.prompts.set(e),this.titulo.set(t.name);let s=e.length;this.subtitulo.set(this.resolvedSubtitulo(s,i))}titleCase(i){return i.charAt(0).toUpperCase()+i.slice(1).toLowerCase()}resolvedSubtitulo(i,t){return t=t.toLowerCase(),`${i===0?"Ning\xFAn prompt asociado":i===1?"1 prompt asociado":`${i.toFixed(0)} prompts asociados`} a esta ${t}`}static \u0275fac=function(t){return new(t||o)(m(M))};static \u0275cmp=u({type:o,selectors:[["pd-prompts"]],hostAttrs:[1,"w-full"],decls:3,vars:3,consts:[["pd-section-header","",3,"titulo","subtitulo"],[1,"flex","flex-row","w-full"],["pd-prompts-list","",1,"p-4",3,"prompts"]],template:function(t,e){t&1&&(l(0,"header",0),r(1,"div",1),l(2,"ul",2),n()),t&2&&(p("titulo",e.titulo())("subtitulo",e.subtitulo()),a(2),p("prompts",e.prompts()))},dependencies:[N,d],encapsulation:2})};export{E as Prompts};
